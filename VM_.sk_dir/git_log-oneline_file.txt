72f8028 fr doc rebuild.
594a4f9 fr doc XML files updates.
54d9f43 emphasize a few things about authz_host
e4d01cf xforms
ef734b9 Document hcmethod enhancement to allow HTTP/1.1 comms
eb2325b Allow for HTTP/1.1 or HTTP/1.0 protocol health checks
7b0b059 fr doc rebuild.
2692ca5 fr doc XML files updates.
48cf630 * Use apr_size_t instead of int to harden against overflows.
f2b7303 mod_md v2.4.19 from github sync
d0b4a30 Stole a new number.
4aca2ba core: Follow up to r1902728: ap_max_mem_free early setting.
4cc0da2 core: Follow up to r1902728 and r1902909: Move comment where relevant.
c726757 * http2_get_num_workers is not deprecated.   Hence move it out of the deprecation section
3e835f2   *) mod_ssl: when a proxy connection had handled a request using SSL, an      error was logged when "SSLProxyEngine" was only configured in the      location/proxy section and not the overall server. The connection      continued to work, the error log was in error. Fixed PR66190.
626fc2e core: Follow up to r1902728 and r1902906: simplify for APR-1.8+.
39f34f5 core: Follow up to r1902728: pools may have no allocator with APR_POOL_DEBUG.
dd434a2 util_cpre: Follow up to r1902731: Simplify thread pool allocation.
c89c1bf util: Follow up to r1902728 and r1902731: static/AP_THREAD_LOCAL order matters.
97afea4 util_pcre: Restore nmatch < ncaps behaviour with PCRE1 (only).
f589eca util_pcre: Add a thread local subpool cache for when stack does not suffice.
5382f96 core: Apply ap_max_mem_free to created threads' pool allocator.
e162513 Make pytest error whitelist a bit more explicit
5ecd716 mpm_winnt: Follow up to r1902636: another compilation error.
0f36af9 mpm_winnt: Fix compilation error.
7641312 Follow-up to r1902572: Remove now unused #include.
b93394e Rewrite ap_regexec() without a thread-local storage context for allocations.
c50caf2 Update to test with OpenSSL 3.0.5.
7b5082d fr doc rebuild.
2ad6e8a fr doc XML file update.
3f9a045   *) mod_http2: fixed trailer handling. Empty response bodies      prevented trailers from being sent to a client. See      <https://github.com/icing/mod_h2/issues/233> for how      this affected gRPC use.
76c7f4a   *) test/modules/http2: adding tests for response trailers with      or without a body. This reproduces a bug reported in      <https://github.com/icing/mod_h2/issues/233>      where trailers are not sent on an empty response      body. This is used in gRPC.
ea52642   *) test: improved nghttp client output parsing.
a63e1f4 Trigger ci (check APR revert r1902369).
a1fb07d Add .vs to svn:ignore.
0872eb6 * CMakeLists.txt: Use full path to gen_test_char.exe in CUSTOM_COMMAND.
317108e better error message
8646e07 check apr_sockaddr_info_get return value bz #66136
0b18307 check apr_sockaddr_info_get() return value bz #66135
f8ea7fa check BN_bn2dec return value
a296776 Fix new typo in docs...
a122180 *) mod_heartmonitor: Document interaction between    HeartbeatStorage and HeartbeatMaxServers.
df3ba89 Fix numeric check for HeartbeatMaxServers.
622fed5 *) mod_heartmonitor: Allow "HeartbeatMaxServers 0"    to use file based storage instead of slotmem.    Needed after setting HeartbeatMaxServers default    to the documented value 10 in 2.4.54.    [JÃ©rÃ´me Billira
d6de92c   *) mod_http2: remove the workers pool from APR_POOL_DEBUG      logging now that h2_workers is opaque.
f846838   *) mod_http2: init local var since write in loop may be buypassed.
13ed27e * Use s directly like in the other ap_log_error calls
715d23b * workers is not always initialized here
ff2ed5d   *) mod_http2: new implementation of h2 worker pool.      - O(1) cost at registration of connection processing producers      - no limit on registered producers      - join of ongoing work on unregister      - callbacks to unlink dependencies into other h2 code      - memory cleanup on workers deactivation (on idle timeouts)      - idle_limit as apr_time_t instead of seconds
83c32ad   *) mod_http2: fix an edge case in h2_fifo_remove,      improve c1 connection flushing, fix an UAF in      recycling transit pools.
c423471 core: log_tid support on FreeBSD.
2891153 mpm_prefork: Do not access the POD in ONE_PROCESS mode.
d3d3c59 Remove an empty line to synch with 2.4.x
81e8474   *) test/modules/tls: remove some duplicate parameters for      test_15_proxy_tls_h2_vars.
8b800c1 mod_ssl: Missing bit from r1901470 to handle OpenSSL-3+ FIPS.
9878035 fixed in 1.7 SVN but not released
90df233 -qinitauto=FE conflicts with -qcheck=unset
73a543e fr doc rebuild.
cab9c7e fr doc XML files updates.
ccefe16 force to 0 on 1.6 on Windows
cb9854c typo [skip ci]
a4590df kick ci
110f046 Trigger ci.
63b5e4d Sync CHANGES [skip ci]
d07267c   *) mod_md: update version after release on github [skip ci]
9c65ecf update of mod_md change description. [skip ci]
156ddf6 mod_proxy_ajp: T-E has precedence over C-L.
1a033d3 Reserve an APLOGNO [skip ci]
5dededf Sync docs again [skip ci]
02a931c add  LWP::Protocol::AnyEvent::http
54fd81e mention limit
65b8fb9 limit mod_sed memory use
2586986 mod_isapi: use consistent filename
11a3fcb use filters consistently
ea2c340 handle large writes in ap_rputs
92499e2 use a liberal default limit for LimitRequestBody of 1GB
0c2910f cast first
929c715 fix types
8b32639 Sync docs [skip ci]
7f0900c Note about Absolute URL w.r.t. query-string in mod_rewrite [skip ci]
fdf38dd mod_proxy: Follow up to r1901485: Don't shadow upper 'val' variable.
5c3c5f2 mod_proxy: Let fixup hooks know about the Host header (and eventually overwrite it).
5af4eef mod_ssl: SSLFIPS compatible with OpenSSL 3.0.  PR 66063.
9ba58c7 mod_proxy: ap_proxy_create_hdrbrgd() to clear hop-by-hop first and fixup last.
660f582 mod_proxy: Align ap_proxy_create_hdrbrgd() with 2.4.x's.
d161bb4 mod_proxy_http: Follow up to r1901420: consistent 100-continue checks.
9a8214d mod_proxy_http: Avoid 417 responses for non forwardable 100-continue. PR 65666.
f4230a5 Merge of PR 318:
4631db0   *) mod_md: resurrect r1898962 lost by a change merge.      Thanks to Christophe for catching this.
75594f2   *) mod_md: a logic bug in sending long OCSP HTTP request bodies was fixed.      This did not happen in normal use as request sizes for OSCP queries      never exceed that length.
b4ba58d fr doc rebuild.
2bf5e4f fr doc XML files updates.
a2f2188 * Port r546128 to mod_proxy_connect to ensure that core_pre_connection does not   succeed in resetting the timeout of our socket to base_server->timeout.
a4cb87a escaping doesn't actually happen by default
0e0c520 Credits [skip ci]
0f4842e Sync CHANGES entries [skip ci]
33a129a Follow up to r1899858: CHANGES entry.
56f80ef   *) mod_md: handle case in status print when no url is present
1e27ffd   * test: upgrade rustls-ffi version to 0.9.0 which     gets rid of the dependency on cbindgen.
e6e83f2   *) mod_md: the `MDCertificateAuthority` directive can take more than one URL/name of      an ACME CA. This gives a failover for renewals when several consecutive attempts      to get a certificate failed.      A new directive was added: `MDRetryDelay` sets the delay of retries.      A new directive was added: `MDRetryFailover` sets the number of errored      attempts before an alternate CA is selected for certificate renewals.
cda8740 xforms
2d6fe30 Fix some typos
442510e Fix a typo
e5ad1ea Fix a typo
ff57ac5 Fix some typo
7c4343e Fix a typo (s/virtal/virtual) and add a missing hyper-link.
517a0c3 Add missing 'break'
6596870 fr doc rebuild.
dd1c14f fr doc XML files updates.
2115b29   *) mod_md:  fixed a bug leading to failed transfers for OCSP      stapling information when more than 6 certificates needed      updates in the same run.
e7dfa99 r1900362 followup: clang -Wexpansion-to-defined
2cf2f54 Length computed by count_string() are accumulated in an apr_size_t, so be more consistent and use this data type also in this function.
44f33d5 dav_get_liveprop_info() returns a long not an int.
f3cd4ec httpd 2.4.x and above require at least APR 1.3, so this is always the case. Simplify the wording in the doc.
61b1a4a Update to testing against OpenSSL 3.0.3.
06a4fc9 httpd 2.4.x and above require at least APR 1.3, so this is always the case. Simplify the wording in the doc.
1fc9c93 fr doc rebuild.
87b316d fr doc XML file updates.
57e8cb5 ab: Add the -W option to use worker threads.
cc89440   *) mod_http2: remove unused and insecure code. Fixes PR66037.      Thanks to Ronald Crane (Zippenhop LLC) for reporting this.
2ed8245 The only caller of hm_processmsg() passes an apr_size_t for the last parameter, so be consistent and update the definition accordingly.
caf4efc Harden mod_session and avoid overflow in case of indecently large session
0c5f62a  * removing duplicatae changes entry [skip ci]
e247d79   *) mod_md: implement full auto status ("key: value" type status output).      Especially not only status summary counts for certificates and      OCSP stapling but also lists. Auto status format is similar to      what was used for mod_proxy_balancer.
6b5e7d4   *) mod_md: added support for managing certificates via a      local tailscale demon for users of that secure networking.      This gives trusted certificates for tailscale  assigned      domain names in the *.ts.net space.
33a168c * modules/ssl/ssl_engine_io.c:   Drop noop functions for BIO methods mod_ssl doesn't implement.   OpenSSL handles missing BIO methods internally in BIO_xxxx() wrappers.   Consistently log at TRACE4 unhandled _ctrl commands, but note   these are not a "BUG" as in the previous log message.
499a90a * Use apr_size_t instead of int to avoid an overflow
e2e1d77 * Avoid an overflow on large inputs
63840ed ab: Allow for TLSv1.3 when the SSL library supports it.
b6c0306 ab: apr_base64_encode already NUL-terminate the output.
533a895   *) mod_md: a possible NULL pointer deref was fixed in      the JSON code for persisting time periods (start+end).      Fixes #282 on mod_md's github.
c66e6eb   *) mod_http2: clear the h2 worker slot connection early to avoid      any race in slot updates after the connection has been handled.
1c1d482   *) mod_http2: fix edge case in removal of entries      in a h2_fifo.
567a502 core: Disable TCP_NOPUSH optimization on OSX. BZ 66019.
4d1ca7b fix select-groups example, bz 66010
2fa2794 Fix alignment in an 'if' block.
80795a9  * Implement full auto status ("key: value" type status output).    Especially not only status summary counts for certificates and    OCSP stapling but also lists. Auto status format is similar to    what was used for mod_proxy_balancer.    [Rainer Jung]
9bdf654   *) mod_http2: make APLOGNO check happy with line continuation.
b737bb8   *) mod_http2: using new session ids also in logging for connection      contexts and bucket beams.
887ffec   *) mod_http2: use new ap_sb_get_child_thread() to get child_num      and create unique h2 session identifiers in logging that stay      unique among re-activations of the master connection.
9d74016   *) core: add ap_sb_get_child_thread() to retrieve child_num      and thread_num from a scoreboard handle.
2d4d303   *) mod_proxy: Add backend port to log messages to      ease identification of involved service.
6a0896d   *) mod_heartmonitor: Set the documented default value      "10" for HeartbeatMaxServers instead of "0". With "0"      no shared memory slotmem was initialized. [Rainer Jung]
3814c12 Revert r1899809: Will reapply using new changes-entries method for CHANGES handling.
ec8c012   *) de-duplicate ALOGNO from code copy.
1258a92 alloc number [skip ci]
e56a835   *) core: improved checks in ap_escape_quotes() for      extra long strings (or resulting strings) that      exceed ptrdiff_t ranges.      [Yann Ylavic, Stefan Eissing]
716d664 * Add Changelog for r1899451, r1899454, r1899562, r1899564, r1899584
0e9d2a6   *) test: core stress test_core_002 enhanved to monitor dynamic child      changes on load and graceful reload of the server.
a1941f8 * Port r1899858, r1899865 to worker MPM
64dfe45 mpm_event: Follow up to r1899858: Avoid explicit sleep.
f3cbae1 test/core: Allow for 12 simultaneous connections in test_core_002_01.
33e7dee mpm_event: Handle children killed pathologically.
3a723a3 Reserve one APLOGNO [skip ci]
53bf99e   *) test/core: using rate periods for creating new connections      over time.
b13978e   *) test/core: start of a stress test case, skipped unless      environment variable STRESS_TEST is present.
ffbfbf1   *) mod_http: on seeing EOC buckets in ap_http_header_filter(), further      analysis of the brigade is stopped. This means a RESPONSE will not      be generated (if that had not already happened due to other buckets).      Also, improve the `header_only` handling to cope with brigades that      contain buckets like `RESPONSE DATA EOS` in one pass.
56ee493 mod_heartmonitor: Fix setting and comparison of IPs fields.
33a77a5   *) mod_http: use defined constant instead of just '101' when      testing response stati.
0ff5042 mpm_event: Follow up to r1899777: Fix max_daemon_used.
c6099d5 mod_heartmonitor: Set the documented default value "10" for HeartbeatMaxServers instead of "0". With "0" no shared memory slotmem was initialized.
5d3b2f1   *) mod_http2: use the new REQUEST buckets to forward request      on secondary connections. Use the now generic      ap_process_connection() in h2 workers to process those.
fbb84e0 Merge PR 311:
d150ca6 Follow up to r1899777: CHANGES entry [skip ci].
db0631e Remove libsystemd dependency from main httpd binary
4c8b180 mpm_event: Fix accounting of active/total processes on ungraceful restart.
dbe0033 stealing a log tag number. [skip ci]
f430250   *) mod_http2: some minor tweaks to connection mood updates.
8ce99f9   *) mod_http2: use the new RESPONSE buckets introduced in r1899648.      This replaces the internal H2_HEADERS bucket, removing its      source file and also obsoletes any interim response parsing      needs.
0296d7d   *) core/mod_http: use RESPONSE meta buckets and a new HTTP/1.x specific      filter to send responses through the output filter chain.      Specifically: the HTTP_HEADER output filter and ap_send_interim_response()      create a RESPONSE bucket and no longer are concerned with HTTP/1.x      serialization.      A new HTTP1_RESPONSE_OUT transcode filter writes the proper HTTP/1.x      bytes when dealing with a RESPONSE bucket. That filter installs itself      on the pre_read_request hook when the connection has protocol 'http/1.1'.
a4ea0e7   *) core: make ap_escape_quotes() work correctly on strings      with more than MAX_INT/2 characters, counting quotes double.      Credit to <generalbugs@zippenhop.com> for finding this.
4e6d9a6 * Report a broken backend in case reading the response line failed on the   first request on this connection otherwise we assume we have just run   into a keepalive race and the backend is still healthy.
82a1d00 * Keep track of the number of keepalives we processed on this connection.
4816f95 * We need to set r->status on each call after we noticed an EOC as   data bucket generators like ap_die might have changed the status   code. But we know better in this case and insist on the status   code that we have seen in the error bucket.
f9c81b3 * Fix typo
70953c4 stealong on log number [skip ci]
dc18031   *) mod_http: genereate HEADERS buckets for trailers      mod_proxy: forward trailers on chunked request encoding      test: add http/1.x test cases in pytest
cc232ba   *) core: add ap_h1_append_header() for single header values.   *) mod_proxy: use of new ap_h1_header(s) functions for      formatting HTTP/1.1 requests.
4442201   *) core/mod_http/mod_http2:      - adds new meta bucket types REQUEST, RESPONSE and HEADERS to the API.      - adds a new method for setting standard response headers Date and Server      - adds helper methods for formatting parts of HTTP/1.x, like headers and        end chunks for use in non-core parts of the server, e.g. mod_proxy      - splits the HTTP_IN filter into a "generic HTTP" and "specific HTTP/1.x"        filter. The latter one named HTTP1_BODY_IN.      - Uses HTTP1_BODY_IN only for requests with HTTP version <= 1.1      - Removes the chunked input simulation from mod_http2      - adds body_indeterminate flag to request_rec that indicates that a request        body may be present and needs to be read/discarded. This replaces logic        that thinks without Content-Length and Transfer-Encoding, no request        body can exist.
a6ed77c fr doc rebuild.
0831caf fr doc XML files updates.
05e559d Revert r1899390.
885a08d * In case we see an EOC bucket and there was an error bucket before, use its   status as status for the request. This should ensure proper status logging   in the access log.
5d443ed * Close the connection in case an EOC bucket was seen
2bcf007 Add WorkerBalancerGrowth. To allow creation of workers to dynamically added balancers.
db0b3af ignore file in git that come from `make check` [skip ci]
6815cf7   *) test: verify that HTTP/2 response carry `Date` and      `Server` headers.
4114134 xforms
7905599 add -n warnings/quirks
5a45068 Fix a typo. PR 65978.
736b3df fr doc rebuild.
12c8be1 fr doc XML doc file update.
2235b78 'interpolate' is a keyword, not a user-defined string. So it should not be in <var></var> in <syntax>  and  <code> should be used instead of <var> in explanations.
fd47fda   *) test: making pytest option --repeat global as otherwise      there are conflicts when individual modules add that.
ae479ae   *) test/modules/tls: make proxy tests repeatable.
8f642ea   *) mod_http2: in a recent change, code was removed that prevented connections      with many parallel streams to stall. Re-added that, slightly improved and      with a comment that explains the need for future humans.
a457310   *) mod_http2: fixed a possible concurrency issue with      registering h2_mplx at h2_workers.      Improved h2_fifo internals efficiency inspired      by ap_fdqueue.      Made 711 tests repeatable.
8da00af   *) mod_http2: removed extra h2_mplx_worker_c2_done() arg      to retrive another c2 for processing. Just added      complexity without measurable benefits.
4407147   *) mod_http2: when using a pipe for input signalling, always      write to it on sending buckets, not only when it was empty.
5b44e01   *) mod_http2: small improvements from the http1-separation      branch that apply in general.
2039323   *) mod_http2: remove internal bucket beamer registry and just      copy well-known meta buckets in a beam. Was too generic.
32efaf0   *) mod_http2: use pollset only for main connection and wakeups      for events on streams. Provide streams in INPUT pipe when      needed and supported on the platform.
6bd9d17   *) core: adding a new hook and method to the API:      create_secondary_connection and ap_create_secondary_connection()      to setup connections related to a "master" one, as used in      the HTTP/2 protocol implementation.
898f3dc Update to test against OpenSSL 3.0.2.
e76422d   *) mod_md: fix compiler warning about NULL arg to a %s log. Fixes PR 65955.
6608451   *) mod_http2: disabling use of apr_pollsets for secondary      connections. Measurements show that their use leads to      up to 30% performance drop on busy scenarios.      Detailed numbers in the comment where this is disabled.
a067983 fr doc rebuild.
c621307 fr doc XML files updates.
657313a * Improve detection of _Thread_local
e06b6b0 * Improve the logic flow
5f4978a * Avoid "may be uninitialized" warning
024982e Update Travis conditions to drop /candidate-2.4/ matching now release scripts are updated to use "2.4.N..candidate" naming.
0328059 Sync docs [skip ci]
b8197b5   *) docs: add a missing closing tag.
df4d79d Sync CHANGES entries [skip ci]
8926bb1 mod_sed: use size_t to allow for larger buffer sizes and unsigned arithmetics.
3e56191 mod_lua: Error out if lua_read_body() or lua_write_body() fail.
6418c66 core: Make sure and check that LimitXMLRequestBody fits in system memory.
0cb6384 core: Simpler connection close logic if discarding the request body fails.
508324a Adjust Travis branch-matching conditions to treat any branch starting "2.4" like 2.4.x (in addition to "candidate-2.4").
78b010b Add a missing space. [skip ci]
9dbdc1e stealing 2 logtag numbers [skip ci]
bfb7cdf   *) mod_http2: change the port synthesis on upgraded h1 requests      after review by rpluem.
fb612c8 stealing 2 log numbers for http1-separation work [skip ci]
815cf05 mod_rewrite: URI-to-filename rewrites to transparently handle proxy mappings.
ba85584   *) test/modules/http2: enable tests again where they should be.
e61f23e ap_lua_init_mutex() is not about thead only . It also calls apr_global_mutex_child_init(). So I see no good reason to skip this hook if !APR_HAS_THREADS.
3b7cc44   *) mod_watchdog: add assertions to cleanup code   *) core/mpm_preform: do not invoke the fancy new child_stopping/stopped      hooks when invoked from a signal handler. This is a stopgap to some      strange behaviour in need of some deeper insight.
ef648ab   *) test: check for the mpm module used and disable http2 tests      for prefork.
b501e09   *) test: assume that modules which do not appear in our list of DSO_MODULES      or MPM_MODULES from configure are statically linked and do not need a load.
6f01f20 free memory when needed bz #65905
18ddb66   *) core/prefork: run new hook `child_stopped` only on clean exit.
27e5fe3   *) mod_watchdog: do not call a watchdog instance for      AP_WATCHDOG_STATE_STOPPING outside its thread, as      watchdog instances are not prepared to be invoked      concurrently.
ae5794b   *) test/modules/http2. convert bytes to string before      writing output of a failed transfer to file.
8fbfffd   *) test: latest plot twist in getting a new-enough cbindgen      on focal and use it for the mod_tls tests.
338daf4   *) mod_watchdog: use the `child_stopping` and `child_stopped` hooks      to shutdown workers before pool destruction releases global      resources and libraries.
2e239ed   * core/mpm: add hook 'child_stopped` that gets called when the MPM has     stopped all processing in a child process. This is when all running     threads shall be stopped and joined.     [Stefan Eissing]
80a4538 return early if X509_STORE_CTX_init fails bz 65902
92da714 return early if ASN1_STRING_new fails bz 65902
ea2c84a release memory if needed
669bdbb Resolves BZ65861 - clarify post_config api doc
6c7a308   *) mod_watchdog: replace the new volatile with atomic access.
112acd9   *) mod_watchdog: use hook 'child_stopping' to signal watchdogs      that they should end processing.
7c72b58   *) mpm/winnt: add running the 'child_stopping' hook.
bf6c900 There is no point in calling ap_varbuf_grow() here, it is already called from within ap_varbuf_strmemcat().
0050cc5 Remove some APR 0.x stuff.
e4d2c5e fr doc rebuild.
49716ba fr doc XML file update.
574eedc Add a compatibility note for the 'ldap' function. [skip ci]
7aed0a1   *) mod_http2: optimize authority construction on upgraded      h1 requests.      [Ruediger Pluem]
6137cd7   *) mod_http2: preserve the port number given in a HTTP/1.1      request that was Upgraded to HTTP/2. Fixes PR65881.
d27a32d * Change the logic to choose the maximum of both timeouts (front end socket,   backend socket) instead of the minimum as backend timeouts can be   configured more selectively (per worker if needed) as front end timeouts   and typically the backend timeouts reflect the application requirements   better.
c0c21ea   *) test: capture and parse output from nghttp more reliably.      add repeat param to certain proxy tests.
762d761 fr doc rebuild.
6e91f9e fr doc XML file update.
bb18896 fr doc XML files updates.
42c7250 Follow up to r1897940: APLOGNO()s.
64b9df5 APLOGNOs for r1897940 [skip ci].
b902201   *) mod_http2: :scheme pseudo-header values, not matching the      connection scheme, are forwarded via absolute uris to the      http protocol processing to preserve semantics of the request.      Checks on combinations of pseudo-headers values/absence      have been added as described in RFC 7540.      Fixes <https://github.com/icing/mod_h2/issues/230>.
9a317b4 Two more APLOGNOs for PR #294 [skip ci]
600072c ab: Fix the detection for when the server performed a legitimate connection close as per RFC7230 6.3.1. We must check whedther the connection was previously kept alive, and not whether the current closed request is keepalive.
46a9db4 Reserve two APLOGNOs for PR #294 [skip ci]
49a9d7b * Fix a typo
d2ffee1 Follow up to r1897872: New APLOGNO
044533e Follow up to r1897872: Reserve APLOGNO [skip ci]
4a6bf7f   *) mod_http2: when a h2 request carries a ':scheme' pseudoheader,     it gives a 400 response if the scheme does not match the     connection. Fixes <https://github.com/icing/mod_h2/issues/230>.
ce90ee9 mod_http2: Fix possible beam bucket double free from session destroy.
5540d05 ab: Add an optional ramp delay when starting concurrent connections so as to not trigger denial of service protection in the network. Report levels of concurrency achieved in cases where the test completes before full concurrency is achieved.
f4040ec   * test) sync of mod_md test cases from github.
cbde30f   * mod_md) do not interfere with requests to /.well-known/acme-challenge/     resources if challenge type 'http-01' is not configured for a domain.     Fixes <https://github.com/icing/mod_md/issues/279>.
448a496 Fix CHANGES typo. [skip ci]
17f35eb Reinstate r1897458 accidentally reverted in r1897760.
fd79f53 Follow up to r1896253: CHANGES entry. [skip ci]
7953689 Sync CHANGES entries. [skip ci]
711bf3e   *) mod_md: the status description in MDomain's JSON, exposed in the      md-status handler (if configure) did sometimes not carry the correct      message when certificates needed renew.      [Stefan Eissing]
b11e669   *) core/mod_ssl/mpm_event: reverting changes to nonblocing SSL handshakes      to stabilize CI tests again. Previous revision of trunk has been copied      to branches/trunk-ssl-handshake-unblocking to make those into a PR where      changes can be discussed and tested separately.
08cf9b8 doc update [skip ci]
b31db03   *) mod_http2: remove mentioning of Cache Digest draft      that has been redacted for some time.
50ad9a0 core: Follow up to r1897240 & r1897691: Syntax.
ba426a5 core: Follow up to r1897240: Provide/export ap_thread_current_create()
7833dc9 core: Follow up to r1897240: Opt-out for AP_HAS_THREAD_LOCAL and/or pcre's usage.
a31b463 main: Follow up to r1897240: Fix bad log copypasta.
3462fcf check BIO_new(3) return values
8a521a5 check BIO_new(3) return values
29412ec ap_regex: Follow up to r1897240: Fetch the ovector _after_ the match.
bca2e9c   *) test cases      - disabling test_h2_105_02 due to handshake timeouts no longer working      - adjusting some log levels      - ignoring new handshake error AHLOGNOs
4dc9324   *) test: adding some more patterns to gitignore
c6960b3 * Stupid mine. Evgeny is a committer here
df7e92e * Fix typo
e5d6b2a * CHANGES entry for r1897182
52e8545 fr doc rebuild.
f668965 fr doc XML file update.
b36b129 mod_cgi[d]: Close the connection after handling nph- scripts.
4afce44 mpm_event: Use APR_POLLEXCL when available to prevent thundering hurd.
3e0035d core: Follow up to r1897460: Provide ap_thread_main_create().
aa95fe5 core: Follow up to r1897460: Implement and use ap_thread_current_after_fork().
15cf511 Follow up to r1897460: !APR_HAS_THREAD implies no ap_thread_* either.
b59fe5d Follow up to r1897460: APLOGNOs.
6044859 core: Efficient ap_thread_current() when apr_thread_local() is missing.
a6f105f ap_regex: Follow up to r1897240: #if APR_HAS_THREAD_LOCAL, not #ifdef.
88ffb0e ab: Respond appropriately to SSL_ERROR_WANT_READ and SSL_ERROR_WANT_WRITE. Previously the correct event was polled for, but the response to the poll would call write instead of read, and read instead of write. PR 55952
a5a3e65 Fixes ambiguos example, as per https://bz.apache.org/bugzilla/show_bug.cgi?id=63714
e4368dc Begone, foul tabs.
3c6a707 event: Add AP_MPM_CAN_AGAIN and AGAIN to signal to the MPM that non blocking behaviour is requested.
4145dfb mod_reqtimeout: Set socket timeout for AP_MODE_INIT.
589cf97 mod_ssl: Use AP_FILTER_ERROR to indicate when the SSL filter has handled its own errors.
6fe2acd Revert stray modification in r1897336.
8365884 Add missing log message tag.
4666e42 mod_ssl: We no longer throw away handshake errors. Handle APR_EGENERAL which means that mod_ssl has passed an http error down the stack.
225d471 ap_regex: Follow up to r1897240: cleanup PCRE2 match data on exit.
12c2460 event: Allow the MPM to explicitly handle CONN_SENSE_WANT_WRITE instead of support being implicit. Pass the desired sense depending on the state, no longer default to write.
204b709 mod_ssl: An edge case exists where SSL_read might return SSL_ERROR_WANT_READ even in blocking BIO cases. Set guards so that an async MPM is not accessed at this point. There is no need to set non blocking, mod_ssl's BIO already knows how to do this.
82cba5c mod_ssl: Add the missing SSL_ERROR_WANT_WRITE case in the SSL_read. Make sure the sense is correctly specified in response to SSL_ERROR_WANT_READ and SSL_ERROR_WANT_WRITE so we don't poll for the wrong case.
413c52c Use OK status to match process_connection behaviour.
09a6d85 Shutdown immediately on read timeout.
674d670 fr doc rebuild.
7a2c59f fr doc XML files updates.
384b51f When failing, we need to explicitly set the connection state.
5c55d4c APR 1.3 is a requirement for building httpd 2.4 and above.
388bb3a APR (and APR-util) 1.3 is a requirement for building httpd 2.4 and above.
51471bb APR (and APR-util) 1.3 is a requirement for building httpd 2.4 and above.
6158184 Link to where to open a bug, as requested in https://bz.apache.org/bugzilla/show_bug.cgi?id=61218
6c2219d Removes link to long-gone website. Fixes https://bz.apache.org/bugzilla/show_bug.cgi?id=65651
00a3adb Patch from Vedran Miletić. Notes version when this is supported.
54a2002 event: Add support for non blocking behaviour in the CONN_STATE_READ_REQUEST_LINE phase, in addition to the existing CONN_STATE_WRITE_COMPLETION phase. Update mod_ssl to perform non blocking TLS handshakes.
62db0c6 Revert 1897156.
d600757 SEDERR_TMAMES and SEDERR_TMRMES are used only in sed1.c with 'eval->lnum' as an argument.
84aceb7 The format specifier is APR_SIZE_T_FMT, so there is no point in trying to log -1 if apr_file_read() fails, because size_t is unsigned.
af55830 mod_unixd: Make CoreDumpDirectory work for FreeBSD 11+. PR 65819.
ae3f330 ap_regex: Follow up to r1897240: cleanups.
d31bcd5 ap_regex: Follow up to r1897240: no ap_thread_current() yet.
9cda853 ap_regex: Follow up to r1897240: runtime fallback to alloc/free.
0f9cf6f  *) test:     - modules/http2: ignore some SSL library error logs when using openssl 3.x     - modules/tls: right now, we seem unable to force curl to use TLSv1.3, adjust       test case expectations accordingly. Use --tls-max to force v1.2 where needed.
f01e29d ap_regex: Follow up to r1897240: Fix issues spotted by Rüdiger (thanks!).
38dddb1 ap_regex: Follow up to r1897244: Fix pmatch overflow and returned value at limits.
2a59c92 ap_regex: PCRE needs buffers sized against the number of captures only.
702712a Follow up to r1897240: CHANGES entry.
d3941e5 Follow up to r1897240: APR_HAS_THREAD_LOCAL wants #ifdef instead of #if.
747df57 ap_regex: Use Thread Local Storage (if efficient) to avoid allocations.
e088945 Trigger ci.
0b60958 mod_dav: Follow up to r1897156: Fix warning.
e530aaa * Allocate the dav_liveprop_elem structure only once in the lifetime of the   resource->pool and reuse it to avoid unnecessary huge memory allocations   during collection walks.
c51dccd core: Allow an optional expression to be specified for an effective path in the DirectoryMatch and LocationMatch directives. This allows modules like mod_dav to map URLs to URL spaces or to directories on the filesystem.
3a28678 bump autuconf min to 2.60
cbf06f4 util: Follow up to r1897101 and r1897105: Yet better ap_cstr_casecmp[n]().
5d65f52 util: Follow up to r1897101: Yet better ap_cstr_casecmp[n]().
26a4991 util: Improve ap_cstr_casecmp() and ap_cstr_casecmpn() performances.
ade772a fr doc rebuild.
3edee32 fr doc XML files updates.
dfc75cf Adds a mention of the handy mod_log_debug module.
cd3d38f Revert r1896715 and r1896740 to restore OCPS test.
36936e1 OCSP test should pass now, revert r1896785.
78d9aee Follow-up to r1896361.
a8fbcf0 ocsp failure debugging, still.
c150d10 Ignore debug logs when checking segfaults. [skip ci]
ed611d3 Revert r1896758 and r1896746 (travis debug temporaries). [skip ci]
ccbbdf3 Let's see if mod_dumpio gives more ocsp hints..
6356095 Try to get more perl-framework traces for the ocsp failure on travis.
ed21f49 Try disabling OCSP test before running it (duh).
30c11eb Temporarily disable the OCSP test.
09d5430 Transforms. [skip ci]
2387897 Recommend against using SSLOpenSSLConfCmd in preference to mod_ssl directives, and add warning on stability/compatibility.
371f566 mpm_event: Fix a possible listener deadlock.  PR 65769.
ebf9990 Move some seealso to a more logical place as already done in 2.4.x
3f8a552 Fix a typo. Prefer <code> to <var> when giving the value of a parameter Add a missing space Add a missing link
2c07829 Fix a typo and add a missing link to a directive
3d4eb09 Fix some typo.
83fcd5d Fix some typo
4a8e586 Fix some typos
6bce450 Rebuild
a47bd6f Add some hyperlinks to some directives [skip ci]
720bc51 Add some <default> values in the description of some directives.
5e1eee7 Add a few <module>. In <syntax>, add some <em> around parameters that should be replaced by actual values.
83adf06 Add an 's' in 2 directives name to match code and be consistent with the non-proxy directives
8895a59 Add "id" to <section> so that hyperlinks are generated in the TOC.
1e8085b Add a few missing hyper links and use <em> for parameters that need to be replaced with actual values
442b4b1 Close a file handle in case of error in ct_static_scts()
f7067a9 Add a change entry for r1896278
8c03054 Try to workaround a linkage issue with rustls.
85051bd mod_proxy: Bump max worker name to 384 chars.
38759f2 Reserve an APLOGNO for an eventual 2.4.x (only) backport.  [skip ci]
b374728 fr doc rebuild.
4992281 fr doc XML file update.
bb98717 fr doc rebuild.
adfde76 fr doc XML file update.
167dd6f Add some installation information, if it can help s.o.
ed2112d Add a compatibility note for MDExternalAccountBinding
3006922 Sync docs [skip ci].
e9fa9ce Sync docs [skip ci].
ac62a99 Improve ProxyPass mapping= docs. [skip ci]
60e25e8 Sync docs [skip ci].
fe9393d docs/mod_proxy.xml: syntax. [skip ci]
c05638b test: fully qualified URIs should work through reverse proxy too.
f42a58f   *) test: modules/proxy, make uds faker a daemon thread, so it does not      prevent test shutdown.
5a3f29e   *) test: when building librustls, force an update to cbindgen as focal seems      to have an really old version.
446e161   *) test: enabling proxy tests.
a5f39f4 mod_ssl: Fix -Werror=unused-value in ssl_var_lookup_ssl_cert_data().
928f80e   *) test: added first mod_proxy tests in test/modules/proxy that      check some variations on forward, reverse and mixed vhosts      and also using a unix: domain socket backend.
f3eb277 Add maintainer-mode for the OpenSSL 3.x -Werror build so we get actual warning coverage.
cb7f57e mod_proxy: Axe useless setting of *balancer to NULL in ap_proxy_pre_request()
590eb59 Add Travis job against OpenSSL 3 with -Werror but with deprecation warnings disabled. Be careful to remove the previous OpenSSL install prefix is rebuilding.
15a5cde mod_proxy: follow up to r1895921: Don't prevent forwarding URIs w/ no hostname.
e05522d Test against OpenSSL 3.0.1.
e1a199e * Improve error handling
c85af20 Trim leading empty lines [skip ci]
14ffd8c Sync changes-entries [skip ci].
3ec0ffb http: Enforce that fully qualified uri-paths not to be forward-proxied       have an http(s) scheme, and that the ones to be forward proxied have a       hostname, per HTTP specifications.
5c49a85 mod_proxy: Detect unix: scheme syntax errors at load time.
10fbb5c Add a note about aliging mapping= with the backend's. [skip ci]
daa6946 Add Travis job for 2.4.x against OpenSSL 3, using APR 1.7/apr-util 1.6. Disable TEST_MALLOC (enabled by accident) for OpenSSL 3 / trunk job. Restrict OpenSSL 3 / apr trunk build to non-2.4.x.
00818b7 Improve docs for ProxyPass mapping= parameter. [skip ci]
e2d995a Add Travis build job building/testing mod_ssl against OpenSSL 3.
df5ca40 * modules/ssl/ssl_engine_io.c (bio_filter_in_ctrl): Remove debugging   assert for unexpected control commands, matching bio_filter_out_ctrl   which also ignores such invocations.  Fixes core dumps in debug   builds with OpenSSL 3.0.0 which triggers this via the   BIO_get_ktls_recv() call on the SSL bio, aka     BIO_ctrl(b, BIO_CTRL_GET_KTLS_RECV, ...);
78f2e7c docs: rebuild of documentation [skip ci]
02800f0   *) mod_tls: adding module documentation to our manuals. [skip ci]
f8e3792  * When reaching server limits, such as MaxRequestsPerChild, the HTTP/2 connection    send a GOAWAY frame much too early on new connections, leading to invalid    protocol state and a client failing the request. See PR65731 at    <https://bz.apache.org/bugzilla/show_bug.cgi?id=65731>.    The module now initializes the HTTP/2 protocol correctly and allows the    client to submit one request before the shutdown via a GOAWAY frame    is being announced.
b8a58e6 * Correctly sent a 100 Continue status code when sending an interim   response as result of an Expect: 100-Continue in the request and not the   current status code of the request.
c035005 * Whitespace fixes
43d7517 * Do not change the status code after we already sent it to the client.   Changing the status code after we sent it to the client causes a status   code being logged that is different from the one sent to the client which   can be confusing.
5be0a5f As in r1877467 for mod_ssl, for OpenSSL 1.1.1+ require that OpenSSL is configured with a suitable entropy source and don't try to seed it from getpid etc.
211c1f7 mpm_event: Follow up to r1895553.
1598f7a   *) mod_http2: fixed a bug in v2.0.0 that could lead to an infinite      loop when clients close connections prematurely.      Enhanced the scoreboard status updates on h2 connections for      mod_status. 'server-status' now gives a better idea what the      connection is working on.
c9f1a0a fr doc rebuild.
e0c5e9a fr doc XML file update.
3c42a44 Revert r1895551: seems to break python tests..
d318188 * support/ab.c (main): Check apr_getopt() returned APR_EOF, fixing clang  warning:
34da2e7 Sync CHANGES entries. [skip ci].
1aff198 mpm_event: Follow up to r1894285: new MaxSpareThreads heuristics.
6aef687 * modules/filters/mod_deflate.c (deflate_in_filter): Handle FLUSH in   the input brigade even if done inflating (ctx->done is true), but   don't try to flush the inflate stream in that case.  (Caught by   Coverity)
9229f24 mpm_event: Close the listeners first for ungraceful stop too.
fcae3fd mpm_event: Retain active_daemons instead of resetting it on restart.
cffd667  * mod_tls: remove modules.mk, should not be under version control
4d8f1f9   * test: removing the loadtest.py from test/modules/tls that requires additional python packages.
d002199   * travis: installing librustls in $PREFIX and using     it from there.
ff004f2  * test suite: add an image to test mod_tls on travis    Let's see what the hamsters think of the setup I use    on a local docker focal.
0d3b3ab   * test: check the h2load version for test suite making use    of its --connect-to feature (available since 1.41.0).
1c5f651   * test suite: adding modules/tls, the test suite for the     new mod_tls module to be run via pytest.     Integration into travis TBD.
85ae4b4   *) mod_tls: added mod_tls from abetterinternet, donated      by ISRG/Prossimo <https://github.com/abetterinternet/mod_tls>.      - adds font-/backend TLS (v1.2/v1.3) via the Rust rustls crate        and its rustls-ffi C binding <https://github.com/rustls/rustls-ffi>.      - documentation at <https://github.com/abetterinternet/mod_tls>        (adding to Apache's manual TBD)      - build support for Apache httpd configure on *nix platforms,        rustls is linked statically into mod_tls.
bf5ebf9 allicating numbers for mod_tls. [skip ci]
5144278   * test: allow more flexibility in the ssl modules used     for a vhost. Adjust http2 and md test cases for working     with modules other than mod_ssl.
7fd23f8   * mod_md: install the early config hook with _FIRST, so that    they run before any ssl modules runs get_certificates hooks.
542d98b   * mod_http2: handle gracefully when SSL_PROTOCOL variable is not available.
9974b5a   * mod_http2: the new pollset implementation is disabled when     compiling with an APR version less than 1.6.
1d45d55 Revert spurious commit r1895340.
5da71e7 Trigger ci.
772952a mod_http2: fix logic for non-proxy Server and Date response headers.
5338e45 mod_proxy: SetEnv proxy-nohalfclose to disable half-close tunneling. PR 65662.
b1182bb   * mod_md: resurrection of r1893969 after accidental overwrite in r1894610
0694535   * test: updating modules/md eab test for file feature
331504f   *) mod_md: values for External Account Binding (EAB) can      now also be configured to be read from a separate JSON      file. This allows to keep server configuration permissions      world readable without exposing secrets.
6dd7d97  * HTTP2 test image: make sure all mpms are build, so we can test event and worker
1b0ae1a Sync r1895107 from libapreq.
21aa333 Sync r1895075 from libapreq.
ce2509b Sync r1895054 from libapreq.
6b1247e Sync r1895020 and r1895021 from libapreq.
6c44dd1 apreq: Sync r1894983 from libapreq.
beec41a apreq: Sync r1894982 from libapreq.
a6e5a92 apreq: Sync r1894977 from libapreq.
a452f3b   *) mod_http2: always return an EOS bucket for requests      that have no body on c2 connection input filter.
968525c apreq: Sync r1894940 from libapreq.
42057ec apreq: Sync latest changes from lib apreq.
7840e7d  * testsuite: possible now to issue client certificates and the chain file for them  * testsuite: handling of cert+key in same file improved  * testsuite: using 'stop' configuration to terminate server in case test cases    leave borked test configs lying around.
9c9fb22  * test HTTP/2: also run core tests and worker mpm  * test/README.pytest on how to use pytest suite and    add test cases.
0ecb915  * test: just general cleanup and separation    - base modules loaded minimized    - h2's htdocs/cgi setup now in test/modules/http2    - less args to constructors, more methods
b070951 fr doc rebuild.
cca46d4 fr doc XML file update.
81595a3   * mod_http2: a regression in v1.15.24 of the modules was fixed that     could lead to httpd child processes not being terminated on a     graceful reload or when reaching MaxConnectionsPerChild.     When unprocessed h2 requests were queued at the time, these could stall.     See <https://github.com/icing/mod_h2/issues/212>.     [@hansborr, @famzah, Stefan Eissing]
e9d2e1c   * mod_md: EC private key generation for openssl 3.0 in separate    way since the previous code does not work with it. Keeping    old code for known interop with other *SSL libs.
6384a27   * mod_ssl: fix in CHECK_PRIVKEY_ERROR for openssl 3.0
5478730  * test mod_md: check for older pytest request fixture that does    not always set the originalname property.
2359288  * test mod_md, try new gopath first, subshell go install cd
197a5b6  * testsuite mod_md: trying explicit GOROOT instead of travis golang-1.11(really?) provided one
cc94d4d  * test: mod_md, trying to build pebble by explicitly installing golang-1.14
eed172d  * adjust acceptable log errors fro http2 test suite on travis  * disable building of pebble for ACME tests as golang shows trouble
668e639   * mod_md test suite with travis setup similar to mod_http2.
51a2148   *) mod_md: adding v2.4.8 with the following changes     - Added support for ACME External Account Binding (EAB).       Use the new directive `MDExternalAccountBinding` to provide the       server with the value for key identifier and hmac as provided by       your CA.       While working on some servers, EAB handling is not uniform       across CAs. First tests with a Sectigo Certificate Manager in       demo mode are successful. But ZeroSSL, for example, seems to       regard EAB values as a one-time-use-only thing, which makes them       fail if you create a seconde account or retry the creation of the       first account with the same EAB.     - The directive 'MDCertificateAuthority' now checks if its parameter       is a http/https url or one of a set of known names. Those are       'LetsEncrypt', 'LetsEncrypt-Test', 'Buypass' and 'Buypass-Test'       for now and they are not case-sensitive.       The default of LetsEncrypt is unchanged.     - `MDContactEmail` can now be specified inside a `<MDomain dnsname>`       section.     - Treating 401 HTTP status codes for orders like 403, since some ACME       servers seem to prefer that for accessing oders from other accounts.     - When retrieving certificate chains, try to read the repsonse even       if the HTTP Content-Type is unrecognized.     - Fixed a bug that reset the error counter of a certificate renewal       and prevented the increasing delays in further attempts.     - Fixed the renewal process giving up every time on an already existing       order with some invalid domains. Now, if such are seen in a previous       order, a new order is created for a clean start over again.       See <https://github.com/icing/mod_md/issues/268>     - Fixed a mixup in md-status handler when static certificate files       and renewal was configured at the same time.
7b83bd0  * test: update of python test framework after integration with mod_md    test suite that should come here soonish.
045f98d fr doc rebuild.
8f5d35b fr doc XML file update.
1eaa69e fr doc XML file update.
222b4fe fr doc XML file update.
d46d8ef fr doc XML files updates.
773b498 fix english
9859520 followup to r1894456: use a DirectorySlash argument instead
b125edd add DirectorySlashNotFound to silence scanners
9c14928 add IndexForbiddenReturn404 to help silence scanners
a870a54 mpm_event,worker}: Really perform_idle_server_maintenance() per bucket.
dcbf44f mod_proxy_connect: Honor the smallest of the backend or client timeout.
04dac4f Follow up to r1894285: add idle_threads and max_workers to trace5.
4f9e7cf mpm_event: Restart stopping of idle children after a load peak. PR 65626.
1a303fd   * mod_http2: hopeful (as always) fix for the stalling in 400_20.
a982f8f   *) mod_http2: disabling 400_20 again, seeing if 401_31 stays fixed.
a32ff18   *) mod_http2: another travis test of the 400_20 and 401_31 tests that produce a timeout      only on travis and never locally. sorry about the cycles.
eb4bfff   *) mod_http2: disabling the 2 test cases failing on travis is interim      to not stand in other peoples way.
7891b6f   *) mod_http2: when pollset signals output, resume a streams data      in nghttp2 every time without checks that response body bytes      are available. This resolves the situation that a stream may stall      when 2 consecutive H2HEADER buckets are sent (e.g. 103+200).
f23144a   *) mod_http2: H2HEADER buckets have the correct lenght of zero and no      longer smuggle the contained field lengths in this field. Instead      the bytes reportded to mod_logio are counted specifically.
4fc7e97   *) mod_http2: no longer splitting buckets on adding them to a beam,      accepting the whole bucket since no memory is saved by a split.      Also, allowing meta buckets to be added to a "full" beam.      Re-enabled test cases for travis verification.
959dabf   * test/modules/http2: marking 3 test cases for skip as they     fail on travis and need further analysis.
9b432e0 mod_info: Output AP_MPMQ_MAX_DAEMONS instead of AP_MPMQ_MAX_DAEMON_USED.
01650d5   * mod_http2: I regret my decision to have removed nghttp2 feature checks...
0935f7e   * mod_http2: resurrecting check for nghttp function     nghttp2_session_callbacks_set_on_invalid_header_callback     adding test for proxy server header behaviour     making test fixture package scoped for better performance
672e736   * mod_http2: checking for nghttp2 function 'set_no_closed_streams' on configure.     adapting test result expectations for new nghttp2 1.45 change in checking     pseudo header fields for invalid characters.
d4ec4a3   * mod_http2: avoid the term "pushing" in documentation for H2StreamTimeout     as this has nothing to do with the HTTP/2 PUSH feature.
93d3eca   *) mod_http2: resurrecting the check for older nghttp2 versions.
1c5c030 * Add first documentation for H2StreamTimeout [skip ci]
53f4654 * Add two new files generated by transformation [skip ci]
174b3ab * Fix compiler warning about unused variable
6221624 * Update transformation [skip ci]
bf7b392   * mod_http2: fixing some compiler warnings.     length of output written now correctly calculated after buckets     have been read.     test cases updated.
59b7c10 *) core: Be safe with ap_lingering_close() called with a socket NULL-ed.
17471df updated log tag to resolve duplicate.
01288f3 more numbers
6a355db   *) mod_http2:      - Fixed an issue since 1.15.24 that "Server" headers in proxied requests        were overwritten instead of preserved. [PR by @daum3ns]      - Added directove 'H2StreamTimeout' to configure a separate value for HTTP/2        streams, overriding server's 'Timeout' configuration. [rpluem]      - HTTP/2 connections now use pollsets to monitor the status of the        ongoing streams and their main connection when host OS allows this.      - Removed work-arounds for older versions of libnghttp2 and checking        during configure that at least version 1.15.0 is present.      - The HTTP/2 connection state handler, based on an experiment and draft        at the IETF http working group (abandoned for some time), has been removed.      - H2SerializeHeaders no longer has an effect. A warning is logged when it is        set to "on". The switch enabled the internal writing of requests to be parsed        by the internal HTTP/1.1 protocol handler and was introduced to avoid        potential incompatibilities during the introduction of HTTP/2.      - Removed the abort/redo of tasks when mood swings lower the active limit.
b1a8055 taking numbers for modules/http2 changes
c1a2dfc * modules/filters/mod_deflate.c (deflate_out_filter): Catch   apr_bucket_read() errors.
ded853c  * test infrastruture:    - moved common pytest code into test/pyhttpd    - does basic setup for a list of host names and some htdocs    - added modules/core and moved encoding tests from http2 there    - all test methods have module name in in prefix now, so to test only core, run      > pytest -k test_core
fa7f375 mod_proxy_uwsgi: Remove duplicate slashes at the beginning of PATH_INFO.
2baea6b * Good catch by Yann: This is dead code
d8b3d1f * Make aliases more robust against potential traversal attacks, by using   apr_filepath_merge to merge the real path and the remainder of the fake   path like we do in the same situation for resources mapped by   DocumentRoot.
861c15e * Optimize performance by moving calculation of loop invariant out of the loop
476b416 Sync CHANGES [skip ci].
499f5d1 Fix ap_mmn.h after r1893971.
607bc86 Missing credits [skip ci].
5c385f2 test/modules/http2: more encoding tests.
48b5dfd core: Add ap_unescape_url_ex() for better decoding control, and deprecate       unused AP_NORMALIZE_DROP_PARAMETERS flag.
7ecfc5b * Fix memory leak in case of failures to load the private key.
e77dffe * modules/ssl/ssl_engine_init.c (ssl_init_ctx_callbacks,   ssl_init_server_certs): Flip logic for enabling/disabling DH auto   parameter selection for OpenSSL 1.1+ to be simpler and consistent   with auto ECDH curve selection.
34f7c6e  * changed status expectations
47c7dc7  * another encoding test for a file with % in its name
5b2174d  * additional encoding test
76f900f  * extending h2 tests with url encodings, 3 of which currently fail.
dd5f2cc * modules/ssl/ssl_engine_init.c (ssl_init_server_certs): For OpenSSL   1.1+, disable auto DH parameter selection if parameters have been   manually configured.  This fixes a regression in r1890067 after   which manually configured parameters are ignored.
b3822d3 fr doc rebuild.
b3ca03d fr doc XML file update.
4a06138 Adding old changelog entry
7a7f29b Add compatibility note for CheckBasenameMatch
e150697 core: AP_NORMALIZE_DECODE_UNRESERVED should normalize the second encoded dot.
cd70257 Clarify where the element can be obtained.
cdd1328 Add dav_get_liveprop_element() to hide the implementation by which the element is passed.
3d2842e mod_proxy: Add tunnel_forward hook.
b44b9b6 mod_proxy: Handle ap_proxy_buckets_lifetime_transform() errors.
074d551 mod_proxy: Restore ap_proxy_transfer_between_connections().
63da5b9 mod_proxy: typedef struct proxy_tunnel_conn proxy_tunnel_conn_t.
df3a613 * Update CHANGES [skip ci]
7f08c2b * Correctly handle errors returned by dav providers on REPORT requests.
1032155 Tentative update to reduce noise in travis log (i.e. tons of AH02637).
61a5af6 mod_http2: fixed speling error.
ebf7cf2   * mod_http2: fix version suffix after sync with github     Make shutdown worker wait loop robust against timed wait     interruptions and report the correct seconds waited.
505c4fc * t/modules/http2.t is gone since 1893547. So do not use it any longer in   HTTP/2 tests and remove the dependency on Protocol::HTTP2::Client.   Update test/travis_run_linux.sh to handle NO_TEST_FRAMEWORK.
0557043 mod_rewrite: Follow up to r1893519: Handle potential "unix://[authority]/".
8720881 * Correctly decrement active_daemons also in the case that the child   process decides on its own to die because of MaxRequestsPerChild.
6d476a6 mod_proxy: Handle UDS URIs with empty hostname as if they had no hostname.
6d76cbb mod_rewrite: Fix UDS ("unix:") scheme for [P] rules.  PR 57691 + 65590.
994787e * Add change entry for r1893497 [skip ci]
dda1303 mod_optional_hook_import: debug message at APLOG_DEBUG level.
a117a32 * Follow up to r1893497: Make use of ap_pre_connection in mpm_motorz and mpm_simple_io
6d9a8cd In case one of the pre_connection hooks causes the hook run to stop by an error the pre_connection hook of the core module maybe did not run (it is APR_HOOK_REALLY_LAST) and hence we missed to
8e54d27 No nullglob with ls..
c649960 mod_example_hooks, mod_optional_fn_export: debug messages at APLOG_DEBUG level
59a5a8d More of test -n wants a single argument.
e711176 test -n wants a single argument.
266ae08 MPMs: cap idle_spawn_rate to MAX_SPAWN_RATE.
363472a ci: show >debug logs only.
fac88ad Trigger ci.
aba49a1 ci: show non-traceX logs only.
58910e2 ci: print error_log on perl-framework failure.
00e2ca5   *) mod_md: when MDMessageCmd for a 'challenge-setup:<type>:<dnsname>'      fails (!= 0 exit), the renewal process is aborted and an error is      reported for the MDomain. This provides scripts that distribute      information in a cluster to abort early with bothering an ACME      server to validate a dns name that will not work. The common      retry logic will make another attempt in the future, as with      other failures.      Fixed a bug when adding private key specs to an already working      MDomain, see <https://github.com/icing/mod_md/issues/260>.
44abd71   *) mod_md: fixed a bug in handling multiple parallel OCSP requests. These could      run into an assertion which terminated (and restarted) the child process where      the task was running. Eventually, all OCSP responses were collected, but not      in the way that things are supposed to work.      See also <https://bz.apache.org/bugzilla/show_bug.cgi?id=65567>.      The bug was possibly triggered when more than one OCSP status needed updating      at the same time. For example for several renewed certificates after a server      reload.
6011422 * Log the correct timeout
2de0740 fix time-of-use vs time-of-check fix time-of-use time-of-check bugs
f79e163  * adding tests to verfiy header field name length checks
fbb9dca fr doc rebuild
aee32a9 fr doc XML file update.
3e8988f make the test work with LibreSSL
fe3a48a   * Switch to using OpenSSL EVP_* API to avoid deprecation warnings with    OpenSSL 3.0. [@notroj]
2fd8dd4 formatting change entry [skip ci]
5057dc6   * mod_http2: when a server is restarted gracefully, any idle h2 worker     threads are shut down immediately. [Stefan Eissing]
2b7f51a core: Add ap_create_connection() to create a server or client/proxy connection.
866cf4d  * optimizing hook check as suggested by Yann.
66dc3ad   *core: clarify comments and use hook API better to check for presence of callbacks.
2456955 mpm_event: Follow up to r1893014: log when children are not spawned.
40df9da Sync CHANGES [skip ci].
6945bb2 core: Follow up to r1893030: Use special address for invalid r->method.
74c097f core: Initialize the request fields on read failure to avoid NULLs.
e8dce10 Revert r1893026, will re-commit with minimal changes to ease backport.
d4f1958 core: Initialize the request fields on read failure to avoid NULLs.
22895e7 mod_proxy: Don't canonicalize with both nocanon and ProxyPassInterpolateEnv On.
03442ed mpm_event: Fix children processes possibly not stopped on graceful restart.
9e02e20 test/time-sem.c: unlock the accept mutex before exiting (error conditions).
fa99bd5 mod_unique_id: Follow up to r1892915 and r1893002: Atomic counter.
13d3c19 mod_unique_id: Follow up to r1892915: Shorter counter race condition yet.
9fdd6a9 core: Set r->request_time before any logging, mod_unique_id needs it.
47e6ece mod_proxy: Follow up to r1892986: APLOGNO()
fe32f67 mod_proxy: Follow up to r1892814.
9c8178f Fix a compilation error in the configuration where this is compiled.
0a81ce3 Fix some typo and doxygen issues.
0df673f Reduce the time window where duplicates may be generated by mod_uniqueid
8fc481e Revert r1887244 and r1887245 which causes issues on Windows
fca3ce7 Add an alternate syntax for <!-- comment ... --> PR 65546
2a8cdce Sync CHANGES [skip ci].
f682600 mod_proxy: Follow up to r1892814.
f9235b1 mod_proxy: Follow up to r1892740.
7667d22 Second attempt at updating the Travis conditions to work properly for candidate-2.4.x branches, and add a mini test script for the conditions.
6b4a341 Adjust Travis conditions for candidate-2.4.x tags.
520dcd8 mod_proxy: Faster unix socket path parsing in the "proxy:" URL.
b364cad mod_proxy_uwsgi: Fix PATH_INFO setting for generic worker.
62e6e70 mod_md:  * Certificate/keys pairs are verified as matching before a renewal is accepted    as successful or a staged renewal is replacing the existing certificates.    This avoid potential mess ups in the md store file system to render the active    certificates non-working. [@mkauf]
e8228ba mod_proxy: Fix potential tunneling infinite loop and spurious timeout.            PRs 65521 and 65519.
c1619c6 Sync CHANGES entries [skip ci].
0fd0275  * mod_deflate: refrain from reading buckets of known length, just    to get their length. This may transform buckets unwanted (e.g. file    to mmap) and prevent optimization down the filter chain.
60a609e Add HTTP/2 test job to Travis configuration.
e1a714d test/modules/http2:   * removing unneeded python imports for smaller footprint   * fixing bug in waiting for stopped server to no longer     accept new connections.
3259f23 mod_http2: fixes a use-after-read of an integer value when    passing a stream identifier for further IO checking. A    non-issue since an int value matching no active stream    will lead to no action.
376e04c  * test/modules/http2: using stop/start instead of reload when changing apache configs    to give reliable results. The new reload behaviour keeps old children around until    very late and may answer on old configurations.
f390a45 mpm_{event,worker,prefork}: follow up to r1892587: restore ungraceful on MPM change.
243c5fa mpm_{event,worker,prefork}: late stop of children processes on restart.
9acfea8 mod_proxy_http: Avoid a double call to apr_table_get().
6c93ac4 Use apxs from the configured @bindir@ rather than whatever path APR happens to be pulled from.  [skip ci]
c6bd7d3  * modules.conf is now build from a list of desired modules    found in the file system. This accomodates builds that bind    certain modules statically.
2fa76e7 fr doc rebuild.
ea42d0a fr doc XML file update.
9438c64  * test/module/http2: test suite from github mod_h2 repository    slightly adapted to run in a source build. usage:    > make install  # to have httpd, apxs etc. in place    > cd test    > pytest
324ae13 core: follow up to r1891148: WC bucket defaulting to FLUSH bucket.
8f8793b core: core ouput filter iovec vs brigade consistency assertion.
2fc2a9c core: core output filter to cleanup empty/meta buckets following data, ASAP.
90f1db5 core: don't break out iovec coalescing for metadata in ap_core_output_filter().
006145e * Fix typo [skip ci]
8f09caf * Remove unneeded checks to improve performance
e0fec7d * Follow the same logic that is used for calculating the length
f6e5fbf * server/mpm_unix.c (ap_reclaim_child_processes, ap_relieve_child_processes):   Fix use after free warning with gcc -fanalyzer.
7fb2910 tolerate apr-1.5
9226cbc Follow up to 1892038, 1892063.
30db755 ap_timeout_parameter_parse: axe unsigned < 0 check
7ea44d0 fix int overflow in ap_timeout_parameter_parse
d8bce6f fix ap_escape_quotes with pre-escaped quotes
700d9b5 clarification/fixes around the replace() function
f11b97a Corrected MODULE_MAGIC_NUMBER_MINOR.
19360d5   * core/mpm: add hook 'child_stopping` that gets called when the MPM is     stopping a child process. The additional `graceful` parameter allows     registered hooks to free resources early during a graceful shutdown.
7c939cd Synch with trunk.
2806f2a Remove trailing space to synch with 2.4.x
b805e79 For some reason -g is not ending up in CFLAGS for some builds in Travis, which is likely a configure script bug of some kind.
67c1788 Follow up to r1891716: CHANGES entry.  [skip ci]
2a7de1e mpm_event: avoid possible timer off by 250 ms.
2515db4 mpm_event: clear APR_INCOMPLETE_READ on lingering close.
cb17448 mpm_fdqueue: return EOF for ap_queue_interrupt_*() when terminated.
70d7c7b core: don't close the socket when failing in ap_start_lingering_close().
d6220af mpm_event: better comments and variables' names.
4ca50b4 mpm_event: use apr_atomic_read32() to read queues' ->total instead of volatile access.
2b4d2da mpm_event: handle lingering close fully in process_lingering_close().
b22f02e mpm_event: Fix queues' maintenance and linger timeouts on graceful restart/stop
3fe911d   *) mod_md:      - Domain names in `<MDomain ...>` can now appear in quoted form.      - Fixed a failure in ACME challenge selection that aborted further searches        when the tls-alpn-01 method did not seem to be suitable.      - Changed the tls-alpn-01 setup to only become unsuitable when none of the        dns names showed support for a configured 'Protocols ... acme-tls/1'. This        allows use of tls-alpn-01 for dns names that are not mapped to a VirtualHost.
eb3b8d4 Follow-up to r1891477.
f389b86 What is wrong with me?
2aa1c14  * mod_http2:    - Added a timeout to h2 worker cleanup to exit latest after 5 seconds of      waiting on idle workers to terminate. This happens after all connections      have been processed. a WARNING is logged in case workers lagged behind.
9395386 * Allow to load /home/travis/build/apache/httpd/.gdbinit
3c4211e * Get a full backtrace
f593569 Fix CHANGES typo s/mpm/mod/ [skip ci].
ff0f512 mod_proxy: Fix icomplete initialization of BalancerMember(s) from the manager.
c076081   *) mod_md: fixed a potential null pointer dereference if ACME/OCSP      server returned 2xx responses without content type. Reported by chuangwen.
f087735 s/freenode/libera/
bc06af4 s/Freenode/Libera.chat/g
095b8f2 Trigger ci.
2d34278   *) mod_http2:    - Aborting requests via RST_STREAM no longer affect the available      resources of a connection when the first chunk of the response      body has been sent.    - H2Min/MaxWorkers behave as intended again. The module will initially      create H2MinWorkers threads and add up to H2MaxWorkers when needed. These      additional workers time out when idle after H2MaxWorkerIdleSeconds and      disappear again.    - When the shutdown of a child is detected (e.g. graceful shutdown), the      module will terminate all idle workers above H2MinWorkers right away.      This detection currently only happens when a HTTP/2 connection is active.
b0c20e4 Trigger ci.
20dd120 mod_proxy: Avoid confusion of prefix/regex matching workers at loading.  PR 65429.
71736a1 Sync CHANGES entries.
d6ec631 mod_proxy: Follow up to r1891206: fix UDS scheme.
542efc0 mpm_proxy: Fix possible reuse/merging of Proxy(Pass)Match workers.  PR 65419.
90743b0 remove extra whitespace in HTTP_NOT_IMPLEMENTED
1a0e700 * Add basic security policy for GitHub mirror
891c323 core: Write Completion (WC) bucket type.
90215f5 fix xlate of literal text ErrorDocument on EBCDIC
1fa8375 * modules/ssl/ssl_engine_init.c (ssl_init_server_certs): Fix use of   encrypted private keys with OpenSSL 3.0.
3602bd5 Label duplicates introduced in r1891019.
b72da39 Add log tags.
95592b5 dbm: Split the loading of a dbm driver from the opening of a dbm file. When an attempt to load a dbm driver fails, log clearly which driver triggered the error (not "default"), and what the error was.
f2e9880 fr doc rebuild.
fb2059c fr doc XML file update.
121e0a7  * log-tags always win.
06a3e22   *) mod_ssl: tighten the handling of ALPN for outgoing (proxy)      connections. If ALPN protocols are provided and sent to the      remote server, the received protocol selected is inspected      and checked for a match. Without match, the peer handshake      fails.      An exception is the proposal of "http/1.1" where it is      accepted if the remote server did not answer ALPN with      a selected protocol. This accomodates for hosts that do      not observe/support ALPN and speak http/1.x be default.
a4f45f2   *) core/mod_proxy/mod_ssl:      Adding `outgoing` flag to conn_rec, indicating a connection is      initiated by the server to somewhere, in contrast to incoming      connections from clients.      Adding 'ap_ssl_bind_outgoing()` function that marks a connection      as outgoing and is used by mod_proxy instead of the previous      optional function `ssl_engine_set`. This enables other SSL      module to secure proxy connections.      The optional functions `ssl_engine_set`, `ssl_engine_disable` and      `ssl_proxy_enable` are now provided by the core to have backward      compatibility with non-httpd modules that might use them. mod_ssl      itself no longer registers these functions, but keeps them in its      header for backward compatibility.      The core provided optional function wrap any registered function      like it was done for `ssl_is_ssl`.
a360cd3 Corrected mod_md typos + build all which results in tons of copy right notice updates
47c3dc0 mod_h2: Make h2_headers_create() constant and simplfy code using it.
acd6d01 mod_h2: Don't strip headers from 304 responses.
f475ae9 fr doc rebuild.
3030107 fr doc XML files updates.
8077b7a Add mapping = servlet / encoded
6b05a45 mpm_prefork: mask signals during ap_run_child_init().
0192aa6 * We could get here again if a second thread deals with the   signal as well. Should noit happen on prefork, but better   safe than sorry.
7df1cef xform
c6e751c PR65073: updates to MergeSlashes related doc
a63c5ae  * mod_http2: using the ap_parse_request_line() unconditionally, now that it is available in 2.4.x
dc519bb fr doc rebuild.
3f5a814 fr doc XML files updates.
175d9e4 <contextlist> and <compatibility> bad ordering.
861fd41 fix build with LibreSSL [Yann Ylavic] Github issue #188
9ce47de mod_ssl: Switch to using OpenSSL's automatic internal DH parameter generation from OpenSSL 1.1.0 and later.  The SSL_set_tmp_dh_callback() API is deprecated from OpenSSL 3.0 onwards. Should not be a user-visible change (except mod_ssl gets smaller).
0dbc5ca   * mod_log_config/mod_ssl: moved the log_handlers registered by mod_ssl     into mod_log_config itself. These now use the global `ap_ssl_var_lookup()`     functions and work for all running SSL modules.     The dependency from mod_ssl to mod_log_config and its header is removed.     mod_ssl now provides the content of "{errstr}c" as variable "SSL_CLIENT_VERIFY_ERRSTR".     This change should be fully compatible to all deployed configurations.
75f963e mod_md: removing the previous libressl workaround and adding the real         fix that disables ec key types not supported by libressl.
f0852eb mod_md: workaround for missing libressl definitions. [Giovanni Bechis]
c3685c7 Sync CHANGES entries. [skip ci]
c9ffde1 mod_md: update documentation regading private keys and message events.
2d84124 * server/mpm/event/event.c,   server/mpm/simple/simple_run.c,   support/htcacheclean.c: Adjust use of APR_RING macros to   ensure the APR_RING_HEAD is always embedded in a containing   structure, to avoid warnings with GCC 11.  (apr_ring.h also   suggests this is best practice)
66744d0 Follow up to r1889938: APLOGNO().
0cb2434 mod_ssl: coalesce using a bucket brigade and the setaside/reinstate mechanism.
ab2b9db mod_proxy_hcheck: Honor worker timeout settings.
7f30757 * Correctly record changes for the latest release in case there have been no   changes at all for this release so far.
fcf3ee2 Follow up to r1889792: CHANGES entry.
4b53948 mod_proxy_wstunnel: Add ProxyWebsocketFallbackToProxyHttp.
958c12b  * Spelling fixes after review by @bigio.
cfd93e6 Allow the tunnelled connections to report the read and trasnfered to the back-end worker.
1153a2d Add some missing space in HTML
886cb0d * Do not strip any headers from 304 responses.
9a7434e Fix a comment (missing '_' in 'keep_body')
f990e5e mod_htt2: fix incomplete sync with latest changes in github, adjust version number.
abc8db9 mod_md: make sure its post-config hook runs before mod_watchdog. if   not, mod_watchdog thinks it has nothing to do, if no one else installs   any watchdog instance.
5c1380b Pass NULL instead of a "null ACL"
6141d5a legacy default slash-matching behavior w/ 'MergeSlashes OFF'
8951949 core/ap_ssl_*: changes after review by rpluem  - removed no longer needed (char*) casts when looking    up ssl variables.  - move 'goto cleanup;' on separate source line  - fixed check for wrong optional function in ap_run_ssl_var_lookup  - remove ap_bytes_t again from httpd.h and passes now ocsp    identifier as separate const char* and apr_size_t. This    follows more how such data is passed in the rest of the    server.
4754347 Fix some typos
27b7e81 Fix some typos
e29032b Fix a typo
ad12128 Fix a typo
caa7641 Add a change entry
08c879b fix StrictHostCheck crash w/ HTTP/1.0
6715670 server/protocol.c: remove old hooks links that had been moved to server/ssl.c
eb5a6fe mod_md: fixed a conversion warning, bumped version number.
882ff74 update the damn log tags.
db5aa78   *) core/mod_ssl/mod_md: adding OCSP response provisioning as core feature. This      allows modules to access and provide OCSP response data without being tied      of each other. The data is exchanged in standard, portable formats (PEM encoded      certificates and DER encoded responses), so that the actual SSL/crypto      implementations used by the modules are independant of each other.      Registration and retrieval happen in the context of a server (server_rec)      which modules may use to decide if they are configured for this or not.      The area of changes:      1. core: defines 2 functions in include/http_ssl.h, so that modules may         register a certificate, together with its issuer certificate for OCSP         response provisioning and ask for current response data (DER bytes) later.         Also, 2 hooks are defined that allow modules to implement this OCSP         provisioning.      2. mod_ssl uses the new functions, in addition to what it did already, to         register its certificates this way. If no one is interested in providing         OCSP, it falls back to its own (if configured) stapling implementation.      3. mod_md registers itself at the core hooks for OCSP provisioning. Depending         on configuration, it will accept registrations of its own certificates only,         all certficates or none.
9e2ed5b max_attempts_set needs to be set too.
6d636ca fr doc rebuild.
32e20ab fr doc XML files updates.
ac502d5 Apply CHANGES. [skip ci]
6c15ac6 Follow up to r1888266, r1888268: fix PR in CHANGES entry.
73fd99e Follow up to r1888266: CHANGES entry.
42b28ae mod_socache_shmcb: be safe from socache_shmcb_destroy() late call.
a44bcc9   *) mod_http2: Fixed a race condition that could lead to streams being      aborted (RST to the client), although a response had been produced.
2d2e2ae Fixing mod_lua to use new http_ssl.h header file as well.
587d170   *) core: provide ap_ssl_* functions in new http_ssl.h header file.
0bc4647 mod_md: make certain that the post config after ssl part runs really late.         bumped version number.
4f9956d drive home the purpose of forward-dns
45902a9 pull in forward-dns example from authz_host
38af3ed Make sure that conn->keepalive is NOT reset after being set in ap_read_request().
b1ae175 Resolving gcc's "error: too many arguments for format [-Werror=format-extra-args]".
21f1615 Fixing trace logging printf to have the correct args now that we number certs.
cd1ff44 mod_md:      - MDCertificateFile and MDCertificateKeyFile can now be specified several      times to add multiple, static certificates to a MDomain.
ae178db fr doc rebuild.
ecffb3f fr doc XML file updates.
1c76cd3 mod_ssl: Add base64-encoded DER certificate variables as alternative to PEM, to avoid newline mangling issues when using PEM in header values.
f7e848d * modules/generators/mod_cgid.c (cgid_server): Register cleanup for   socket earlier to avoid possible leaks on error paths.  (highlighted   by Coverity scan)
becf8ef * modules/proxy/proxy_util.c (ap_proxy_define_balancer):   Fix leak in error path in the do_malloc case, caught by covscan.
ec367b7 Axe modules.apache.org.
e47241a * build/config_vars.sh.in: Improve comment language, no functional change. [skip ci]
d1a7c6c Fix the fixed timeout, thanks Rüdiger. And set the current_thread of the connection.
f5fbe0f Add CPING to health check logic.
7c5e4c9 Using the new ap_ssl_conn_is_ssl() and ap_ssl_var_lookup() in all internal modules.
4068b29 lets try ASN1_STRING_data() for openssl 1.0.2
6cbbf4f Use an optional function as adviced by Rüdiger.
9cffa48 refrain from handling ip address alt names in pre 1.1 openssl
ff5583b Use ASN1_STRING_data() if openssl verison < 1.1.
02a1f36 log tags, my nemesis
e3928f2   *) mod_md: v2.4.0 with improvements and bugfixes      - MDPrivateKeys allows the specification of several types. Beside "RSA" plus      optional key lengths elliptic curves can be configured. This means you can      have multiple certificates for a Managed Domain with different key types.      With ```MDPrivateKeys secp384r1 rsa2048``` you get one ECDSA  and one RSA      certificate and all modern client will use the shorter ECDSA, while older      client will get the RSA certificate.      Many thanks to @tlhackque who pushed and helped on this.      - Support added for MDomains consisting of a wildcard. Configuring      ```MDomain *.host.net``` will match all virtual hosts matching that pattern      and obtain one certificate for it (assuming you have 'dns-01' challenge      support configured). Addresses #239.      - Removed support for ACMEv1 servers. The only known installation used to      be Let's Encrypt which has disabled that version more than a year ago for      new accounts.      - Andreas Ulm (<https://github.com/root360-AndreasUlm>) implemented the      ```renewing``` call to ```MDMessageCmd``` that can deny a certificate      renewal attempt. This is useful in clustered installations, as      discussed in #233).      - New event ```challenge-setup:<type>:<domain>```, triggered when the      challenge data for a domain has been created. This is invoked before the      ACME server is told to check for it. The type is one of the ACME challenge      types. This is invoked for every DNS name in a MDomain.      - The max delay for retries has been raised to daily (this is like all      retries jittered somewhat to avoid repeats at fixed time of day).      - Certain error codes reported by the ACME server that indicate a problem      with the configured data now immediately switch to daily retries. For      example: if the ACME server rejects a contact email or a domain name,      frequent retries will most likely not solve the problem. But daily retries      still make sense as there might be an error at the server and un-supervised      certificate renewal is the goal. Refs #222.      - Test case and work around for domain names > 64 octets. Fixes #227.      When the first DNS name of an MD is longer than 63 octets, the certificate      request will not contain a CN field, but leave it up to the CA to choose one.      Currently, Lets Encrypt looks for a shorter name in the SAN list given and      fails the request if none is found. But it is really up to the CA (and what      browsers/libs accept here) and may change over the years. That is why      the decision is best made at the CA.      - Retry delays now have a random +/-[0-50]% modification applied to let      retries from several servers spread out more, should they have been      restarted at the same time of day.      - Fixed several places where the 'badNonce' return code from an ACME server      was not handled correctly. The test server 'pebble' simulates this behaviour      by default and helps nicely in verifying this behaviour. Thanks, pebble!      - Set the default `MDActivationDelay` to 0. This was confusing to users that      new certificates were deemed not usably before a day of delay. When clocks are      correct, using a new certificate right away should not pose a problem.      - When handling ACME authorization resources, the module no longer requires      the server to return a "Location" header, as was necessary in ACMEv1.      Fixes #216.      - Fixed a theoretical uninitialized read when testing for JSON error responses      from the ACME CA. Reported at <https://bz.apache.org/bugzilla/show_bug.cgi?id=64297>.      - ACME problem reports from CAs that include parameters in the Content-Type      header are handled correctly. (Previously, the problem text would not be      reported and retries could exist CA limits.)      - Account Update transactions to V2 CAs now use the correct POST-AS-GET method.      Previously, an empty JSON object was sent - which apparently LE accepted,      but others reject.
f86ff65 typo in old CHANGES entry
9a5a510 fr doc rebuild.
b4fb39e fr doc XML file update.
10fbe98 Follow-up to r1887244.
af5538e Fix a potential duplicated ID generation issue under heavy load. This is due to a non thread safe use of a counter.
2d78b26 * modules/proxy/mod_proxy_balancer.c (balancer_display_page):   Include nonce in XML output.
08490d8 Add balancer_manage() to allow external module to fill workers for balancers.
899096a And the necessary log tags added just shortly afterwards.
6951408 Changed ap_ssl_answer_challenge() and its hook to provide PEM data for certificate and key instead of file names.
33af74c Synch from mod_md github:
dec9480 Update to travis-ci.com URLs from .org.  [skip ci]
00940b1 Simplify balancer-manager XSS protection, no functional change:
8008cb3 rollback r1887138. Sorry ;-(
89d5433 Allow empty <balancer://mycluster/> and add a provider to allow other modules to create workers.
083b4b1 Fixed regression in r1887085 where a SSL function was used that is not available in OpenSSL 1.0.2.
cd1fa48 Adding log tags where log tags are needed.
5dc0186 Adding more ap_ssl_* functions and hooks to the core server.
ba708f0 Sync CHANGES entries. [skip ci].
7e09dd7 mod_session: account for the '&' in identity_concat().
67bd9bf mod_session: save one apr_strtok() in session_identity_decode().
ac715cb Add an exemple. Synch with 2.4.x (syntax highlight) + secret introduced in 2.4.42. Small doc rearrangement so that the "Beyond this list of basic attributes" is actually after the description of all items.
91afbe4 Add missing pt translation
d74cae0 fr doc rebuild.
ba36c12 XML file update.
ce01739 Enable mod_cgid stderr handling via Unix socket fd transfer by default, rather than as an opt-in configure flag.  (This has been tested in Fedora for >12 months without seeing any new problems)
89859aa   *) core: Adding SSL related inquiry functions to the server API.      These function are always available, even when no module providing      SSL is loaded. They provide their own "shadowing" implementation for      the optional functions of similar name that mod_ssl and impersonators      of mod_ssl provide.      This enables loading of several SSL providing modules when all but      one of them registers itself into the new hooks. Two old-style SSL      modules will not work, as they replace the others optional functions      with their own.      Modules using the old-style optional functions will continue to work      as core supplies its own versions of those.      The following has been added so far:      - ap_ssl_conn_is_ssl() to query if a connection is using SSL.      - ap_ssl_var_lookup() to query SSL related variables for a        server/connection/request.      - Hooks for 'ssl_conn_is_ssl' and 'ssl_var_lookup' where modules        providing SSL can install their own value supplying functions.
309e083 mod_htt2, synch with changes from github module version:   - logio: improvements to reporting of sent bytes for http2 responses   - directive H2OutputBuffering, controls if any output should be sent immediately.
42f33b4 mod_http2: Fix workers synchronization on pchild cleanup.
7b87264 mod_proxy_http: follow up to r1886141, axe overlong scheme check.
8b4d4ab * We need to check for (!scheme && (u = strchr(url, ':')) && (u - url) > 14)   later as (!scheme || u[0] != '/' || u[1] != '/' || u[2] == '\0') is true   for requests with the CONNECT method which we need to decline. But in many   cases requests with the CONNECT method have (u - url) > 14 as in this   case (u - url) is the length of the FQDN the forward proxy should connect   to.
b09a823 * Do variable setting in a more portable way such that it works on MacOS as well
a2cf280  - fixed a clang error when dividing sizeof(T1i[]) / sizeof(T2).    these modern compilers have no respect for code from 2009.
bdd21c8 Update Travis LDAP testing to use a CentOS based container, pulled from quay.io, to avoid the new Docker hub pull rate-limiting which is causing intermittent failures.
e36c52e * Add lognumber
e408c5f * Document r1885939 and r1885940
ec1d14c Before doing any bind check that the provided username is not NULL and that the password is neither NULL nor empty.
3e4c918 Do not allow to set empty bind passwords to be set via AuthLDAPBindPassword
87fd234 fr doc rebuild.
200cda8 fr doc XML file update.
62d71f2 s/2020/2021/
f38d016 Add some missing hyper links to directives. Remove some <var> in <syntax> to be more consistant with the rest of the doc. Remove a duplicated traling ".".
8da28a6 mod_proxy_hcheck: don't pile up health checks.  PR 63010.
2a2e5f3 Update CHANGES entry after r1885659 [skip ci].
567a10d mod_auth_digest: Fast validation of the nonce's base64 to fail early if                  the format can't match anyway.
0db52c6 Update CHANGES entries [skip ci].
ef2f79e other half of command
8b83f96 go back globbing butadd nullglob
82630d9 Get Lua dev package from liblua5.3-dev.
91aa5ac Trigger ci.
0876d1d add  AnyEvent::WebSocket::Client
3400864 fr doc rebuils.
f8eb58d fr doc XML file update.
1ac5077 PR55078: remove old Protocol info
0605d14 PR65078: synch "protocol" description between Listen and Protocol directives
8d26e78 fr doc rebuild.
710332c fr doc XML files updates.
e47bb7d * acinclude.m4 (APACHE_CHECK_OPENSSL): Use standard "yes/no" output   for the OpenSSL version check, rather than OK/FAILED.
31c04cd mod_proxy_wstunnel: follow up to r1885239: use ap_find_linked_module().
5c3a2e5 mod_proxy_http: follow up to r1885239: fix *is_ssl for wss scheme.
35a2656 mod_proxy_wstunnel: leave Upgrade requests handling to mod_proxy_http.
0ab46cc Add some <module> to add some links between modules.
f756e12 Fix "-->" alignment to synch with 2.4.x
894b657 Use Require instead of Allow and Deny.
be4473d fr doc rebuild.
b573382 fr doc XML files updates.
4beeacd xforms
6553a5e PR64996: avoid "best" unqualified
2b64cdb xform
4e53c87 PR64997: clarify hostnames inside <virtualhost> tag
ed3ad39 Regenerate. [skip ci]
4c13b96 Treat non-leaf certificates present in SSLProxyMachineCertificateFile the same was as non-leaf certs are in SSLCertificateFile - use them to build the trusted cert chain for the end-entity (client) cert.
2d1ec08 * modules/ssl/ssl_private.h (modssl_pk_proxy_t): Update comment,   no functional change. [skip ci]
d4c345b Add job using APR thread debugging, switching to the pthreads error-checking mutex as the default type.  This results in errors rather than undefined behaviour when double-locking a mutex.
dec2c64 Add ab run for TEST_SSL jobs.  This now seems to be stable after the pool fixes in APR/httpd (huge thanks ylavic).
5f45856 Add .opus extension for audio/ogg mimetype, per RFC 7845
7a2ee1a * modules/mappers/mod_rewrite.c: Remove unused MAX_COOKIE_LEN.
5bebf97 * support/htpasswd.c: Fix typo. [skip ci]
caeb908 The Microsoft OOXML format uses xml packaged into a zip file, and has mimetypes like:
c86576d * Add missing line break [skip ci]
0bd7a9f Merge CHANGES entries [skip ci].
708064d Revert r1884456.
0ec04fc Follow up to r1884068: CHANGES entry needs to go to 2.5.x too.
a0498c4 * modules/ssl/ssl_engine_init.c (ssl_init_ctx_cert_chain): Log the   OpenSSL errors if CA certs cannot be loaded.
18fb718 core: axe struct core_net_rec.
d3f5ef3 core_input_filter: BRIGADE_NORMALIZE() can be called with an empty brigade.
3fc3d7b fr doc rebuild.
65bef22 fr doc XML files updates.
209cff1 ci: trigger.
da49d78 Fix bash syntax in travis_run_linux.sh.
aa3b99e ci: generate as many core files as there are crashes.
2bc917d Follow up to r1836032: better flush limits checks and description.
4e4cf19 Follow up to r1836032: docs for ReadBufferSize, FlushMaxThreshold and FlushMaxPipelined.
e6d6a58 Follow up to r1836032: ReadBufferSize not configurable from htaccess.
5bf6e14 ci: add a run for MPM worker w/ pool-debug.
9342a82 Revert r1480058, -1'ed on dev@ and STATUS.
4194644 CHANGES entries for PR 63855.
b68eaf0 Follow up to r1769760: MMN minor bump for ap_get_status_line_ex().
bd08dcf Rearrange and clear global core config state allocated out of pconf from a single cleanup:
542f665 Fix misleading crypt vs hash terminology in ht* and dbmmanage tools.
7bb1b3d ci: have an ASan run w/o pool-debug too.
332ce2d mod_proxy_http2: stop/wait the workers threads before their pool is killed.
c681e08 mod_http2: Rename server_pool as pchild in h2_workers_create()
c8e1f71 mod_http2: revert r1883675.
a31f86d ²main: -V to print the SHM mechanisms in use.
238a3db Cosmetics (and one more ci pass, just in case).
b96e43f Add ASan (AddressSanitizer) build and tests to ci.
ff09d59 fr doc rebuild.
467dcbf fr doc XML file update.
085e267 Whitespace change to force ci (third time's a charm?).
88674bc Whitespace change to force ci (again).
c483ca4 Whitespace change to force ci.
af27fb4 Document mod_ssl client certificate handling w/SSLProxyMachineCertificate*. [skip ci]
11758dc mod_proxy_fcgi: follow up to r1884068 and r1884069.
23edca6 mod_proxy_fcgi: follow up to r1884068.
fa29f28 mod_proxy_fcgi: Honor "SetEnv proxy-sendcl".
b288fac mod_proxy: provide prefetching and spooling mechanisms to all proxy modules.
85e14bc * modules/metadata/mod_unique_id.c: Use base64url encoding for   uuencoder table.
6fc9b29 ap_pbase64decode(): save double NUL byte allocation and assignment.
f66567e Stop testing if a core dump was generated during the main test suite run.
d2ce993 Run the LDAP testing without pool-debug for the time being.
07e4fa6 mod_auth_digest: fix crash with ONE_PROCESS (debug) mode shutdown.
a5f7f57 Revert r1883807 and r1883745, not the right fix.
3b744ca mod_auth_digest: axe useless assignment from r1883745.
0cf7b6c Adjust name for pool-debug build.  [skip ci]
861e918 For pool-debug builds, use APR/APR-util 1.7.x branches to pick up e.g. the r1883751 locking fixes.
b38ae52 mod_auth_digest: fix crash on ONE_PROCESS (debug) mode shutdown.
79739ab mod_proxy: pconf vs pchild consistency, and correctness in ONE_PROCESS mode.
7594af8 Add a note on APR/APR-util caching. [skip ci]
6944927 mod_case_filter_in: fix memory leak.
40fa956 core: fix c->client_ip for unix socket connections.
856e126 mod_example_hooks: fix global "trace" string lifetime.
b11bbee core: reset ap_runtime_dir to NULL after AP_SQ_MS_DESTROY_CONFIG.
6697a01 mod_proxy_http2: follow up to r1883704.
431b3e3 Whitespace change to trigger travis (somehow interrupted).
c49dadf mod_proxy_http2: thread safety with MPM prefork, still..
e8ad19e fr doc rebuild.
eb23a65 fr doc XML files updates.
b497331 mod_proxy_http2: stop/wait the workers threads before their pool is killed.
ac64069 mod_proxy_http2: explicitely apr_thread_exit() at the end of slot_run().
adb6b3c mod_ssl_ct: join the threads before their parent pools are destroyed.
984ac8d Follow up to r1883639: debug log for rfc7231#section-5.1.1
2865f25 Remove indentation preserved in r1883639 to ease review.
7c220fc Make HTTP_IN filter send 100 continue in blocking mode only.
7fb5cc1 Fix an harmless warning spoted by gcc 10 and -Werror=discarded-qualifiers
b2b57c3 Save a few cycles.
fa34dff Explain limitation of UnDefine syntax as already noted in Define. Increase visibility of a warning, to be consistent with Define
7372986 Improve a message about SessionExpiryUpdateInterval values
8379b57 Remove a useless and erroneous precision about the upper limit of LimitRequestFields.
212050d Fix 2 typo [skip ci]
24466f9 * modules/proxy/mod_proxy_wstunnel.c (proxyws_set_aysnch_delay):   Fix typo in function name, no functional change.
143a9d5 Fix a misleading typo
0081a34 -Werror=maybe-uninitialized issue
877bd54 Need to tickle travis after r1883209 in Apache::Test so might as well enable -v if it fails.
e2c4d8f fr doc rebuild.
acfebe1 fr doc translation update.
07e2875 PR64785: mod_allowmethods: Allow methods to be added/removed with +/- prefix
fb945ce Optimize 'ap_list_provider_names'.
1dbac40 fr doc rebuild.
da1c11d fr doc XML files updates.
6d70c81 mpm_event: don't reset connections after lingering close timeout
370757e mpm_event: don't kill keepalive connections on connections_above_limit().
27f27d1 * Do UBSan testing on Focal now
504f363 Rebuild
7354523 Add some mod_proxy_uwsgi related tweaks
709e1db Rebuild
c4c2033 Fix a typo.
26e12cc fr doc rebuild.
c68dc76 fr doc - XML file update.
e2c798e * Condition is not needed on Focal as the system APR (1.6) is recent enough for trunk [skip ci]
617985b Document that KeepAliveTimeout still applies regardless of how RequestReadTimeout is used (had some user confusion by this since the behaviour changed within 2.4.x, e.g. PR 56729).
38f4902 * Two first tests using Ubuntu Focal
737cb30 * apr_base64_encode_len already includes space for the terminating zero   and apr_base64_encode returns a zero terminated string in encoded.
22274ab Disable mod_http2 and mod_ssl_ct for prefork builds, since the former shouldn't be used under prefork and the latter isn't tested at all. Possibly related to infrequent prefork child segfaults under pool-debug.
2a8260a   *) mod_md: lowered the required minimal libcurl version from 7.50 to 7.29      as proposed by <alexander.gerasimov@codeit.pro>.
2e38e57 added new feature line to index
2362d06 Adding encrypt.html.es.utf8
fd68eda Style lang es update to match eng revision
7232077 'md_ocsp_get_stapling_status()' should return int, not apr_status_t.
39c55b4 Adjust signal handler before unblocking
b6d3f42 rebuild all for russian langage integration.
4ae5ba0 doc rebuild for russian integration.
1d0596a russian doc rebuild.
552221c russian doc - obsolete file.
55ecd93 russian doc - obsolete file.
2354c40 russian doc - from KOI8-R to UTF-8, missing change.
7c6f435 russian doc - adding first files.
e873965 russian doc - from KOI8-R to UTF-8
2e4c19c Fix a compilation error in maintainer mode and be consistent with 'make_autoindex_entry()'
4d82ec0 Save a few bytes of memory in mod_autoindex
8973496 Save a few bytes of memory when registering Mutex
764777b fr doc rebuild.
3f90373 fr doc XML file update.
0fa2bb2 Add a missing </tr>
c900f76 xforms [skip ci]
4c1276b Document that HTTPS and SSL_TLS_SNI environment variables are always defined, regardless of 'SSLOptions StdEnvVars' .
fe16946 fr doc rebuild.
687a7b1 fr doc XML file update.
03b458e Add missing comma in some 'apr_apr_psprintf()' call if APR_HAS_THREADS is not defined
242d341 Add missing "const" or "static const" qualifiers in some command_rec definitions.
c77e6ab mod_proxy: Add support for an optional third argument to ProxyRemote* to configure the Basic auth credentials to send to the remote proxy.
250bd58 * modules/dav/fs/repos.c (dav_fs_open_stream): Add specific logs for different modes in dav_fs_open_stream(), indicate failure because of different file open modes. Also add the filepath in the log messages.
84efa96 * Update change entries via make update-changes [skip ci]
8971af4 * Changelog for r1881620 [skip ci]
fba5d1d fix headers name, spotted by Ivan Zhakov
a4fba22 Process early errors via a dummy HTTP/1.1 request as well
f077e9a mention 304 headers handling
efa55dc handle headers when replying a 304 following rfc7234 as discussed in bz 61820
eabfcda Further re-unification of code duplicated across mod_cgi/mod_cgid into cgi_common.h.  Functional changes:
4c2a29a Found a PR lurking for the method type vs UBSan issue. [skip ci]
39668d1 Document PR 64709 fix confirmed for r1881459.  [skip ci]
75faac2 Support PCRE2 compile and linkage on Windows
4b34368 Restore broken win32 build, include apr/std headers before httpd headers
066f641 * modules/generators/cgi_common.h (cgi_handle_response): Avoid trying   to read the output brigade twice in the case of a timeout.
73333eb Be consistent when handling OOM situation
40b8cb4 Catch assert() failures.
2d90ee9 Fix a few warnings on 64 bits windows compilation
8e2385e Avoid a core dump at startup if "AllowOverride nonfatal" is used without any '=' after "nonfatal".
bf96860 Fix a few warnings on 64 bits windows compilation
d2b64c9 Fix a few warnings on 64 bits windows compilation
2c94e2b Fix a few warnings on 64 bits windows compilation
74d32d7 Fix a few warnings on 64 bits windows compilation
e602f55 fr doc rebuild.
457bc37 fr doc XML files updates.
0009bb5 samesite: fix check for 0, add "false" alternative.
0a172a8 xform
ffe2153 Add a link for the WiP "New features with Apache 2.5/2.6" page [skip ci]
919923c Add new transforms. [skip ci]
7f6aec2 Follow up to r1880368 and r1880980:
ac88889 Follow up to r1880368 by adjusting en.xml to match lang-targets.xml. Ran "./build.sh bootstrap" which regenerates style/xsl/util/designations.xml which in turn will then be used to regenerate the typemap files. [skip ci]
b05918b Xforms. [skip ci]
586fa4a Document limitations for private key format in SSLProxyMachineCertificateFile and SSLProxyMachineCertificatePath. PR 63935. [skip ci]
28602f2 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access_modern): Move   fill_reneg_buffer() call down after r->connection->master   check.
45a01f2 * Correctly define lua_resume for Lua <= 5.1
47ec8bc fr doc rebuild.
5d92e7a fr doc XML files updates.
e1673c0 Remove problematic version check for OpenSSL < 1.0.2
774a631 improve Lua 5.4 handling
66f47c5 fix quotes, simplify path, add a high port
28f428a cover overlapp scenario which is straightfoward in trunk
53b5c23 Support building against Lua 5.4 by adjusting to the 3-arg form of lua_resume().
c26c11b Fail for more abort() errors in error_log. Fail if a core dump is produced, and dump the backtrace if so. (e.g. during parent or child process shutdown, core dumps will not show up as test case failures so would not otherwise be caught)
261d53a Update docs for SSLRandomSeed deprecation in r1877467. [skip ci]
ef961c3 This not a hot path in RL use case, but looks to be one during testing with the test framework. Sso save a few cycles in this (unusual) use case.
5e55dea Merge 2 loops in order to save a few cycles.
bafd719 Simplify and speed-up ssl_io_data_dump().
7fafffc don't try to load modules from a NULL path
262a5f4 For non-trunk run a simpler APLOGNO() test using grep which only catches missing arguments, but this is better than nothing.
7e20e00 Update some conditions. [skip ci]
5c1d173 Fix the condition_not_24x condition since it's now clear how 2.4 tagged builds look like:
ee99618 not my day, it seems
f1e4032   *) mod_http2: remote support for abandoned http-wg draft      <https://datatracker.ietf.org/doc/draft-kazuho-h2-cache-digest/>.
10c2938 use .utf8 output
c82fb45 Follow up to r1880205, APLOGNO().
fb08e47 mod_proxy_uwsgi: Error out on HTTP header larger than 16K
ba08e06 mod_proxy_http: follow up to r1879419.
90d3807 mod_proxy: follow up to r1879401: call filters on tunnel POLLERR.
6e1f613 Add some features & API changes. [skip ci]
5c3790d The cgid-fdpassing failures are fixed by r1879883 in test/framework, no longer mark as allowed_failure.  [skip ci]
c52f3e8 mod_dav: Some DAV extensions, like CalDAV, specify both document elements and property elements that need to be taken into account when generating a property. The document element and property element are made available in the dav_liveprop_elem structure under the DAV_PROP_ELEMENT key in the resource pool.
f18252c mod_dav: Add utility functions dav_validate_root_ns(), dav_find_child_ns(), dav_find_next_ns(), dav_find_attr_ns() and dav_find_attr() so that other modules get to play too.
57df7f9 Avoid NULL pointer dereferences for empty environment variable values
d843396 * docs/log-message-tags/update-log-msg-tags: Exit with non-zero   so inconsistent state is caught as a failure.
edb6443 * modules/generators/mod_cgid.c (get_cgi_pid): Fix test for pid=0.   (cgid_handler): Remove duplicated test for pid=0 here added in   r1879119.
a4ee6e9 Consider case insensitive filessystems
971fc8f   *) mod_http2:      Fixes <https://github.com/icing/mod_h2/issues/200>:      "LimitRequestFields 0" now disables the limit, as documented.      Fixes <https://github.com/icing/mod_h2/issues/201>:      Do not count repeated headers with same name against the field      count limit. The are merged internally, as if sent in a single HTTP/1 line.
e2dd4d4 Can we have mercy with people working on case-preserving file systems?
ef45baa Test VPATH build in Travis, update docs.
189927b Add a new way to document changes
b17376f Actually clear the cache for the worker MPM (missed in r1879757).
2bf346d Try removing the cached ~/perl5 to reset the broken worker MPM test job.
d8da86a For TEST_SSL=1 runs, test SSLSessionCache with shmcb, memcached and redis socache providers.  Force TLSv1.2 for these runs since TLSv1.3 doesn't use the cache.
33d99cf Check for and use gettid() directly if available; glibc 2.30 and later provides a wrapper for the system call:
023a72b Bump the logno.
92470c0 * Update logno
d57cb74 * Make get_line more robust in the case that it is called multiple times:
7cb887b * Do not try to parse already aborted requests
d047c6b Use a brigade instead of direct reads, allow APR to handle MMAP.
ec6f9bc Extend method_precondition hook to be called during the PROPFIND and LABEL walkers, once for each walked resource.
b1e3cfc fr doc rebuild.
dcc498c fr doc xml files updates.
df05a8f Bump log numbers.
3fc321d Add MMAP support to ETag generation.
ec11716 Bump MMN correctly.
6bf5bd6 core: Remove support for the Content-MD5 header, removed in RFC7231. Functions ap_md5digest() and ap_md5contextTo64() removed, and ContentDigest directive.
fb87577 Add skeleton for new features docs for 2.6.
d4c582b Add log numbers to util_etag.c.
deb95b0 Seek to the start of the file when calculating the ETag.
06af945 mod_dav: Allow other DAV modules to use dav_get_resource().
f737fb6 Be defensive when calculating the digest. Make sure the offset is initialised to zero before reading the current offset.
c9472d3 Follow up to r1879449: yet better MPM poll callback API.
ec2c547 mpm_common: add pool argument to mpm_register_poll_callback[_timeout] hooks.
ed690c4 Adjust for r1879447 to specify shmcb is tested when TEST_SSL_SESSCACHE is defined. [skip ci]
a8d222c * modules/ssl/ssl_scache.c (ssl_scache_init): Use <16 character   cname argument for socache ->init() per the API constraint.
e4e138c Add additional test suite runs for the prefork & event pool-debug builds: - run with SSLSessionCache defined (after r1879430) - run with "SSLProtocol TLSv1.2"
6fd26c1 mod_proxy_wstunnel: follow up to r1879418: handle first async lifetime too.
9272b50 mod_proxy_http: follow up to r1879419: clarify poll callback pds/subpool.
6f6cc1d mpm_common: remove ap_mpm_unregister_poll_callback().
9e1b133 Follow up to r1879419: CHANGES entry.
b5faaa4 mod_proxy_http: handle async tunneling of Upgrade(d) protocols.
29bcc0e mod_proxy_wstunnel: avoid leaks on tunnel->pfds->pool.
a2bffd4 mpm_event: poll callbacks fixes and improvements.
ea4d778 mod_ssl: release coalesced data when called from ap_filter_output_pending().
4068630 mod_proxy: reindent ap_proxy_transfer_between_connections() after r1879401.
3d5ace0 mod_proxy: improved and reentrant tunneling loop.
8d4133f * Improve formating and aligning [skip ci]
72f1255 * Use isValidAddress when dumping buckets [skip ci]
ce5c1da * Create helper function isValidAddress to determine if an address is valid [skip ci]
ae6c081 * Let dump_brigade print the length of the brigade
c797230 Follow up to r1877955: don't reuse the connection for mixed C-L / T-E requests
6bd78e3 Travis changes: a) add job to check for empty APLOGNO() macros b) don't install CPAN stuff if SKIP_TESTING is set c) don't tail the error_log on test suite failure since it's almost    always irrelevant shutdown stuff and obscures the actual failures d) use coloured grep output when showing segfaults to make them obvious in the    travis error_log output.    e.g. https://travis-ci.org/github/apache/httpd/jobs/703517978#L2537
588164d Follow up to r1877955: always validate the Content-Length
eb31fd3 Add Travis jobs to test shared-MPMs under APR pool-debug with both event and prefork.
8ca8501 Revert r1879361: 2.4.x material only.
3b20b2b mod_proxy: unfail mixed ProxyPass/<Proxy> and ProxyPassMatch/<ProxyMatch>.
a979326 Follow up to r1879235: fill APLOGNO().
c17967b server/util_script.c: reserve one APLOGNO number after r1879253
e8417d7 Use a dedicated constant for the base64 sha1 length.
69701ff Remove tabs.
5620d7c Begone foul tabs.
b1b9013 mod_dav: Add method_precondition hook. WebDAV extensions define conditions that must exist before a WebDAV method can be executed. This hook allows a WebDAV extension to verify these preconditions.
a1ffe6b Make sure the get and restore the file offset when conputing the ETag. Be defensive when opening the file.
134606e Be defensive when the request is missing.
9af2218 Add implementation of deliver_report and gather_reports to mod_dav.c.
8556bcf Add hooks deliver_report and gather_reports to mod_dav.h. Allows other modules apart from versioning implementations to handle the REPORT method.
4a0c08e Add dav_get_provider(), dav_open_lockdb() and dav_close_lockdb() mod_dav.h.
8de97e5 "[mod_dav_fs etag handling] should really honor the FileETag setting". - It now does. - Add "Digest" to FileETag directive, allowing a strong ETag to be   generated using a file digest. - Add ap_make_etag_ex() and ap_set_etag_fd() to allow full control over   ETag generation. - Add concept of "binary notes" to request_rec, allowing packed bit flags   to be added to a request. - First binary note - AP_REQUEST_STRONG_ETAG - allows modules to force   the ETag to a strong ETag to comply with RFC requirements, such as those   mandated by various WebDAV extensions.
1f6d74d server/util_script.c: tune logging Last-Modified header
eb4ba42 Follow up to r1879080 and r1879137: servlet-normalize r->uri if matched.
e238232 Add a plain mod_cgid build, explicitly without mod_cgi.
114421d Follow up to r1879179: CHANGES entry.
fa8c618 EVP_PKEY_up_ref(): fix bad reference count locking.
eef77dd mod_http2: making filter names all uppercase again.
574db2f Follow up to r1879074: don't let dav_process_if_header() go above root.
eb24229 Follow up to r1879079: fail early if URI path resolves above root.
b11eb1d Follow up to r1879080: replace ProxyUseOriginalURI by mapping=encoded.
85ab7bc Follow up to r1879075: ap_getparents() to return the empty string above root.
6defe54 Follow up to r1879079, r1879080: change to DONE semantics for pre_trans hooks.
1d85117 * modules/generators/mod_cgid.c (get_req): Add basic sanity   checking for the structure received in the CGI daemon.
279af56 * modules/generators/mod_cgid.c (cgid_handler): Bail immediately with   a 503 response on errors when talking to the daemon.  Check the pid   returned is not zero.
aaf7e3e Follow up to r1879079: merge slashes (if configured to) before pre_trans
256108b Follow up to r1879079: merge/walk locations for pre_trans hooks.
1c4eba9 Mark fdpassing test as failing.
8d073ce ap_location_walk/ap_directory_walk: copy the cached uri/filename.
dc0ef58 Disable mod_cgi to ensure mod_cgid is really being tested.
27bbecc Follow up to r1879111: gcc suggests parentheses around ^ operator, oh well.
70effdd Follow up to r1879110: avoid signed comparison for use_original_uri.
8dc2bb6 Follow up to r1879094: make use_original_uri signed for unsigned char archs.
c5d5483 Fix YAML syntax.
936723e Test mod_cgid w/fdpassing.
2f9cba2 Add "v6only" Listen option to enable IPV6_V6ONLY in v4mapped builds where it is otherwise always disabled.
1b44685 Add workaround for IPv6 configuration on non-x86 hosts which appears to fix the connection failures.  Almost certainly a bug here, not at all sure where.
2112660 Follow up to r1879076: axe stray copy/paste in pre_translate_name description.
6917e54 Follow up to r1879080: rename ProxyMappingDecoded to ProxyUseOriginalURI.
d884808 Allow for proxy servlet mapping at pre_translate_name stage.
6b3b91a Allow for URI-path pre_translate_name before (and/or instead of) decoding.
dc55d74 Validate request-target per RFC 7230 section 5.3.
3c47401 Declare pre_translate hook in lua/info/log_debug/example modules, and docs.
d2c7a48 Add pre_translate_name hook running before URI-path decoding.
4004ce2 Implement ap_getparent() using ap_normalize_path().
4c79fd2 Add ap_normalize_path() to replace ap_getparents() (with options).
b3f1c80 Backported to 2.4.x
d0be8f1 Axe an empty line in a dox comment  in order to synch with 2.4.x
b68bcc9 Add a space to be consistent with surrounding code and to synch with 2.4.x
136f89d Oups, axe spurious copypasta.
2511414 CHANGES entry for ap_proxy_define_match_worker().
b092ff9 ap_proxy_define_match_worker: disable connection reuse by default.
db6c2c2 ap_proxy_define_match_worker: don't copy the url unnecessarily.
5faf565 For diagnosing weird non-x86 failures, dump /etc/hosts in future runs. [skip ci]
d17005b mod_proxy_http: always stream the request body by default.
943a278 * Revert r1878939, r1878938, r1878936, the changes to   modules/http2/h2_request.c and CHANGES of r1878926 and r1878708 as a result of   https://lists.apache.org/thread.html/red499ac4750b88e5943c25abb86434c59dfff4d4f386ffc53742755d%40%3Cdev.httpd.apache.org%3E   and   https://lists.apache.org/thread.html/ra79eee019e2357703b0ea81153458a29817b58ce92e3605949eee1fe%40%3Cdev.httpd.apache.org%3E
dda688a * Reset the request_rec fields protocol, proto_num and the_request also   in the error case and restructure code a little bit to avoid code   duplication.
6dc0165 * Reset the_request as well to reflect HTTP/2.0 [skip ci]
1240d2d * Add comments to document why we do this.   No functional change. [skip ci].
2cec2d1   *) mod_http2: workaround to facilitate use of common internal protocol/method/uri      checks. The module now handles master/secondary connections and has marked      methods according to use.
130eac3 mod_ldap: Use the LDAP API directly to implement the rebind callback for modern versions of OpenLDAP, avoiding the overhead of the apr-util implementation.
d76121b Update Travis LDAP testing to use new container setup script provided by test framework.
6f18d5f xforms
146519c Fix typo in r1878824
a0a67a3 Add some html syntax highlight to a piece of code. + some missing links
73df7f7 fr doc rebuild.
42a2abc fr dox XML files updates.
e04a533 Update "en" generated doc files to UTF-8
e0613b9 Try to fix once and for all, our "en" html file generation issues with different Java version.
bf13925 Fix a typo
59071d2 update transformation
97bc128 * Have the HTTP 0.9 / 1.1 processing code reject requests for   HTTP >= 2.0 with a HTTP Version Not Support status code.
7535054 * support/htpasswd.c (usage): Fix typo. [skip ci]
3951863 Add Travis job which runs slapd in a container to allow testing mod_authnz_ldap, per new test case added in r1878655.
d0afb63 Disable all Travis notifications for forks (hopefully). [skip ci]
99457bc * Makefile.in: Add TEST_CONFIG variable to specify flags for   all ./t/TEST invocations.
83e7e82 Tail more error_log for failed test suite runs in Travis. [skip ci]
91ef4b0 Rebuild trunk docs
8000b32 Fix an invalid link PR 64466
8e58eb3 remove the term blacklist
5a64355 PR#64443: watch whether mod_proxy_html i18n might risk messing up FORM submission, and insert accept-charset attribute if necessary.
7c3d991 Remove the term blacklist from our documentation
4e34c68 rebuild docs
d6984a8 Remove 'blacklist' from our docs, as per https://lethargy.org/~jesus/writes/a-guide-to-nomenclature-selection/ and other excellent resources.
c3f2b93 Build with LDAP support for APR 1.x. Dump end of error_log for test run failures.
8d3db8b make sure the $n of the regular expressions is not included the name of the worker. for example,  the example: ProxyPassMatch "^(/.*\.gif)$" "http://backend.example.com:8000$1" was giving: AH00526: Syntax error on line nnn of bla/conf/httpd.conf: ProxyPass Unable to parse URL: http://backend.example.com:8000$1
b7ba286 Add error checks in md_json_readb
b5ef623   *) mod_proxy_http2: the "ping" proxy parameter      (see <https://httpd.apache.org/docs/2.4/mod/mod_proxy.html>) is now used      when checking the liveliness of a new or reused h2 connection to the backend.      With short durations, this makes load-balancing more responsive. The module      will hold back requests until ping conditions are met, using features of the      HTTP/2 protocol alone. [Ruediger Pluem, Stefan Eissing]
10342f6 mod_proxy_http: put request/response splitting checks under the same comment.
686b949 util_filter: both directions for setaside/reinstate/adapt logging.
488741f .gitignore: ignore duplicated extensions globally.
53e2b68 mod_proxy_http: don't strip EOS when spooling request body to file.
c0879a7 revert r1878268
b0669e5 update after backport
687aa79 .gdbinit: fix dump_table indentation [skip ci]
49b19c2 Use the ping timeout if set and waiting for a ping
168688d .gdbinit: tabs to spaces [skip ci]
c3db73c .gdbinit: better dump_pool_and_children indentation [skip ci]
b41fe7c .gdbinit: no child_cleanup_fn for pre_cleanups [skip ci]
2c239a7 .gdbinit: fix copy/paste dup [skip ci]
626cafd .gdbinit: dump pool (pre_)cleanups [skip ci]
512ceac   *) mod_proxy_http2: respect ProxyTimeout settings on backend connections      while waiting on incoming data. [Ruediger Pluem, Stefan Eissing]
6792af8 .gdbinit: align columns [skip ci]
9b7c98c Fix a NULL pointer dereference
f2fd642 Axe an empty line to synch with 2.4.x
8a1a06e Fix some typo in trunk that have already been fixed in 2.4.x when r1816156 has been backported in 1821093
fcce6c5 Axe 'flushall' from 'mod_proxy_http2.c'. It is only set and never used.
c9ff845 Move stray /i switch into proper location
6e978a6 Axe an empty line to synch with 2.4.x. This was a left over from r1855705 when it has been merged.
0d25d5a "" is appropriate default DEFAULT_REL_STATEDIR
2efe92b core, protocol: reject invalid Content-Length ASAP.
11d03dc core,modules: provide/use ap_parse_strict_length() helper.
c03f75c lognos
5d51c6d PR 64365: proxy_fcgi doesn't check expression before unsetting var
5e8b57a fr doc rebuild.
3c033cb fr doc XML file update.
f8efcb6 mod_ssl: follow up to r1877397: fix SSL_OP_NO_RENEGOT*I*ATION typo.
c9c3ed3 Follow up to r1877785: ap_filter_should_yield() is not NULL safe :p
c7e4735 ap_filter_output_pending(): test where each filter should yield after running.
0097725   *) mod_http2: Fixed regression that caused connections to close when mod_reqtimeout      was configured with a handshake timeout. Fixes gitub issue #196.
29b1061 Include Angle-bracket form to  Quoted form
d052cff mod_proxy: binary search for ProxyErrorOverride status codes.
010d3aa mention relative path behavior, offline question
b5b8daa mod_proxy_http: follow up to r1877696: reindent.
8fbe83f mod_proxy_http: axe ap_proxy_should_override() duplicate checks.
461ba17 mod_proxy_http: follow up to r1877646: send Upgrade header with 101 response.
aa71ac8 Windows : do not include ap_config_auto.h
482089e Windows bits for mod_log_json.dsp
1dc3c88 mod_proxy_http: handle Upgrade requests and upgraded protocol forwarding.
7ea7074 ap_log_pid(): Windown does not implement apr_file_perms_set(), not a failure.
094687d mod_md: update duplicated APLOGNOs.
b0b6448 listen.c: follow up to r1876865: update APLOGNO.
4c0f32e Add  Win build mod_log_json.dsp
9751e30 add include to test_char.h now required
e3f2391 mod_proxy_http: follow up to r1877557.
6665354 mod_proxy_http: single point of failure in ap_proxy_http_process_response().
a11e544 mpm_event: reset listener_is_wakeable on reload.
ce3b16e util_md5: avoid temporary stack result in ap_md5_binary().
34745a1 util_expr: allow to specify only one of ap_expr_eval_ctx_t's r/c/s.
ff2de29 mod_ssl: destroy temporary pool on stapling_renew_response() failure.
3c6b925 util_filter: export ap_filter_adopt_brigade() since mod_ssl uses it.
d3e1e9a fr doc rebuild.
10342af fr doc XML files updates.
3ef70e1 Update mod_proxy_html docs to reflect https://lists.apache.org/thread.html/rc26df3094f42cfa742690282b4430483d56f85f3e033337b1a08ec53%40%3Cusers.httpd.apache.org%3E
b77cd8d mod_ssl: Update the ssl_var_lookup() API: a) constify return value and variable name passed-in b) require that pool argument is non-NULL c) add gcc warning attributes for NULL arguments or ignored result.
8f55fe9 * os/win32/win32_config_layout: Define DEFAULT_REL_STATEDIR for Win32.
c2321e5 mod_ssl: Drop SSLRandomSeed implementation with OpenSSL 1.1.1. Require that OpenSSL is configured with a suitable entropy source, or fail startup otherwise.
e9945c1 ap_core_input_filter(): axe unnecessary AP_MODE_SPECULATIVE test.
cac14a0 mod_ssl: Minor cleanup to avoid defining init handling functions for pre-1.1 builds where they are noops or unused.  No functional change (intended).
b8155f3 mod_ssl: Switch to using SSL_OP_NO_RENEGOTATION (where available) to block client-initiated renegotiation with TLSv1.2 and earlier.
60723ea clarify, context is still CGI only.
58c4c85 Constify pointers in ap_expr lookup tables, as well as the already const pointed-to strings.  ~1/2Kb moves to r/o text section, size(1) diff:
ccc38ea mod_ssl: Calculate the MD5 digest used as the session context once per vhost at startup, rather than building it for each new connection.
37de205 * modules/ssl/ssl_util.c (ssl_asn1_table_set): Remove unused function.
8795952 Prior to r1877345 mc->pPool was the process pool (s->process->pool). Drop the field from SSLModConfigRec and use pconf instead (where appropriate) to match the new SSLModConfigRec lifetime.
3e21236 * modules/ssl/ssl_engine_config.c (ssl_config_global_create):   apr_pcalloc SSLModConfigRec, remove ifdef-maze setting fields to zero.
31dfb9b mod_ssl: Use retained data API for storing private keys across reloads. Allocate SSLModConfigRec from pconf rather than the process pool.
dd3b1ab fr doc rebuild.
80ab374 fr doc XML file update.
ab45062 mod_ssl: Factor out code to read a BIO into a palloc'ed string:
d298072 * modules/ssl/ssl_engine_init.c (ssl_add_version_components,   ssl_init_Module): Use temporary pool for variable lookup results   which don't need to live in pconf.
b8fc704 * modules/ssl/ssl_engine_init.c (ssl_init_Module): Pass base_server in   OpenSSL init log message rather than NULL (and likely dropping the   log entry).
5ca180d Move FIPS mode config option to SSLModConfigRec since it is a global SSL library setting.  Additionally, always log the FIPS mode since it can be set outside of the httpd config.
23bd58f * support/passwd_common.c (mkhash): Fix salt buffer size for SHA2   (caught by gcc 10).
ce8e1b1 Add gcc-10 job, drop gcc-9 config from allow_failures (seems stable again). Use -O2 for all gcc -Werror jobs otherwise warnings triggered under e.g. aggressive inlining are not found.
3d88b43 Travis docs updates. [skip ci]
a124725 Enable Travis notifications for trunk per dev@ consensus.
c81da97 * We have five providers [skip ci]
9f31d7b util_filter: axe misleading AP_BUCKET_IS_MORPHING() macro and fix comments.
40994ab fr doc rebuild.
2c800a6 fr doc XML files updates.
78a6b7d mod_ssl: follow up to r1876934: use OPENSSL_cleanse().
8227850 mod_ssl: follow up to r1876934: wrap DH_bits()
00c85f8 mod_ssl: follow up to r1876934: OSSL_PARAM_construct_*() make no copy.
4d12245 mod_ssl: follow up to r1876934: fix !modssl_X509_STORE_load_locations() logic.
316aea7 mod_ssl: add compatibility with OpenSSL 3.0.0
bf3eb5a Revert r1876869 because on trunk server/listen.c also has a dependency on libsystemd. Thanks to jorton for pointing it out.
ee78d61 systemd dependencies are only needed by mod_systemd. They should currently not be needed by httpd directly or any other binary. So no need to add them to HTTPD_LIBS.
a42f369 Add optional options= argument to Listen to add listener-specific socket options.
48aa76e config: allow for environment variable substitution fallback to default value.
7cd29dc * modules/filters/mod_proxy_html.c:  Fix proxy_html_conf.bufsz   to have correct type, as it is used with ap_set_int_slot.
ec13a66 sort safe_env_lst bz 65371
e8c16c8 be less specific and don't echo passphrase
c3156dd * modules/ssl/ssl_engine_io.c (ssl_io_filter_coalesce): Update comment only. [skip ci]
ac762c1 core: follow up to r1876664: allow ErrorDocument to read body when applicable
3fce584 r1876779 follow-up.
adab20c Fix the way we are looking for "TLS/1.0" tokens. ap_find_token() is more robust than expecting the token to be the first one in the 'Upgrade' header field.
8acbc07 * support/suexec.c (main): Report error string after failure from   setgid/initgroups or setuid.
156dbb6 * support/suexec.c (safe_strtol): New function.   (main): Use ^ to be avoid using atoi(); try to catch more string to   integer and integer to uid/gid conversion errors/surprises.
837428c mod_ssl: axe useless X509_free (NULL arg).
f8d4250 fr doc rebuild.
75dfa05 fr doc XML files updates.
3366c05 gdbinit: print bucket fd when available.
bd7b09c gdbinit: more address colomn space for 64bit.
8f5905c mod_watchdog: use a single "wd_running" pool in wd_worker() thread.
22b3d7c core, h2: common ap_parse_request_line() and ap_check_request_header() code.
b157ae3 core, h2: send EOR for early HTTP request failure.
504c211 * server/mpm/prefork/prefork.c (prefork_pre_config): Use pconf as   passed to the hook with ap_fatal_signal_child_setup, since   prefork.c's pconf "global" is not set until the (later) open_logs   hook, and if built as a DSO it may be reset inbetween.
cff2af9 Allow failures for the gcc9 build since the repo seems to have broken deps.
9e6be73 * modules/core/mod_watchdog.c (wd_worker): Fix crashes snuck into   r1876599 where a destroyed pool was reused.  Rename the "ctx"   variable to reflect its purpose.  Also tweak the pool tags.
7337614   *) mod_http2: Fixed regression that no longer set H2_STREAM_ID and H2_STREAM_TAG.      PR64330
b824e8e * modules/aaa/mod_authnz_ldap.c (build_request_config): Fix typo.
f461bcf Add missing pool tags to help debugging.
118b51d Axe remainder from r1875947.
8e54d08 Credits where it's due.
daac22b Add forgotten entries.
8a4acde mod_{ssl,md}: init_stapling_status hooks should return an int.
f6b252e mod_ssl: Fix memory leak in stapling code. PR63687.
c643bc9 PR64295 cannot override default Virtualhost's mod_reqtimeout of course only body=n can work the headers have to parsed to get the virtualhost.
452ae9a * modules/core/mod_watchdog.c: Switch to simpler logic to avoid the   thread cleanup running before the thread has started, avoiding   mutex operations which both have undefined behaviour:
5cad597 * Whitespace style fixes. No functional change.
6c86636 PR64313  htcacheclean: Empty directories in CacheRoot are still present even after using "-t"
04a3805 Don't fail the Travis build for ppc64le jobs, which are also unreliable.
e1384a8 PR64342 feedback
ba8bd5b t/apache/mmn.t caught me
a545608 PR63628: individual status codes for ProxyErrorOverride.
bb65d8c Issue a warning for non-existent directories when running configtest
8fc3a06 fr doc rebuild.
1026518 fr doc XML file update.
add4e28 * modules/ssl/ssl_engine_io.c (ssl_io_filter_coalesce): Further tweaks   to logic, comments and debugging:   - allow buffering up to exactly COALESCE_BYTES rather than COALESCE_BYTES-1.   - put bucket type name in logging output   - do not coalesce a single-bucket prefix of length equal to the     buffer size (which would be a pointless memory copy).
343cdd9 core: add r->flushed flag and set it when the response is sent.
fd5afc0 * modules/ssl/ssl_engine_io.c (ssl_io_filter_coalesce): Handle the case   where apr_bucket_read fails with an error and hence our current bucket   remains the morphing bucket and is not replaced with a 'data' bucket.   If the error is not EAGAINi, error out with an AP_FILTER_ERROR,   otherwise just do not consider the morphing bucket that has no data for   coalesce.
36c3f0f ap_core_output_filter: follow up to r1875947: don't swallow bucket read EOF.
8e80817 MMN major bump for r1875947.
8d11595 * modules/ssl/ssl_engine_io.c (ssl_io_filter_coalesce): Treat zero-length   buckets consistently (ignore them) after a morphing bucket morphs.
b3110d3 core: handle morphing buckets setaside/reinstate and kill request core filter.
0121b9e Adds additional clarification, as requested in bz64167
30ecef2 For future debugging ease, output the Travis tag & branch. [skip ci]
37b7d95 * modules/ssl/ssl_engine_io.c: Update comment, no function change, [skip ci]
9cb5515 * modules/ssl/ssl_engine_io.c: (ssl_io_filter_coalesce): Handle the   case of a bucket which morphs to a bucket short enough to fit within   the buffer without needing to split.
005c3ee Add lognos. [skip ci].
21530e6 mod_ssl: Extend the coalescing filter to avoid sending HTTP response headers in a separate TLS record to the response body in some cases.
784b8e4 Fix a copy/paste at the wrong place
ca227fb xforms
dd53cf6 duplicated
2f59065 typo
47aef00 Add some compatibility notes for new directives in 2.4.42. Add some missing <module> and <directive> to improve navigation and style. Fix the format of some <default>
e8e1167 Fix a typo
5fc69e3 fr doc rebuild.
c4eed83 fr doc XML file update.
58adde7 add userdir same-origin warnings to mod_userdir
f230603 Parentheses around AP_BUCKET_IS_EOR argument.
11d565c * modules/ssl/ssl_private.h: Define X509_up_ref and EVP_PKEY_up_ref   for OpenSSL < 1.1.
697443a Drop -v from arm64 test runs and add to allowed failures, it is still not as reliable as x86 builds. [skip ci]
6b26b54 * modules/ssl/ssl_engine_vars.c (ssl_get_tls_cb): Fix leak of X509   struct when accessing SERVER_TLS_SERVER_END_POINT.
7a5c965 Trivial change to trigger a Travis build.
8e7b3d4 revert for now, surprising the scheme is present.
1acda06 PR63437: don't clobber the scheme in r->uri with MergeSlashes
bdca42c wss also needs is_ssl.
40d37b8 Fix compilation breakage with OpenSSL 1.1.0 up to 1.1.0f. SSL_CTX_get_min_proto_version() and SSL_CTX_get_max_proto_version() were only introduced in 1.1.0g.
0e23342 Better define conditions for skipping tests on 2.4.x or non-2.4.x. Use YAML anchors and references to avoid copy&pasting, hopefully the syntax remains reasonably readable.
6b02123 silence an "uninitialized value" warning bz 63307
90559ae fr doc rebuild.
6269da5 fr doc xml file update.
a5d6ddf Fix the travis syntax (should have done it in a PR...).
29963fd Fix Travis trunk/master confusion, and make the i386 build trunk-only, it has not been adjusted to find PCRE "v1" i386 packages.
4ee44f0 Test exclsion doesn't work since "tag !~" matches when tag is undefined. Exclude tests from 2.4.x by explicitly matching against master.  Will have to revisit this for 2.5.x.
d19cf54 Match Travis jobs for 2.4.x by tag as well as branch. Ignore failures for s390x which is flaky in apt-get again.
7e0e79d Add simple test for apxs to catch regression in r1872042.
6611a73 add absent /modules/http2/*.o to .gitignore
defd67b add git-svn generated .gitignore
2e40c1b fix apxs for non-destdir builds
6289dff * modules/ssl/ssl_util_stapling.c (stapling_check_response) Don't send   out an OCSP response that can't be parsed.
5699abf * modules/ssl/ssl_util_stapling.c (stapling_check_response) Don't stop   Certificate Revoked messages.
f876ad9 * CHANGES for r1875353. [skip ci]
2163a01 * modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response): Clear any   possible returned buckets in the brigade in the error case. As we want to   close the connection anyway there is no sensible content we could still   sent and hence doing the needed life time transformation of the buckets   would be a waste.
8451104 * server/log.c (ap_log_pid): Use more traditional C style in httpd for   exception-handling.  No functional change.
dd10a93 * server/log.c (ap_log_pid): Use a temporary file, then rename once   successfully written; also add error checking.  Avoids startup   failures if a previous httpd invocation crashed while writing the   pidfile.
6db29cc * acinclude.m4 (APACHE_CHECK_SYSTEMD): Remove redundant test.
f52b7d4 should be 2.5.x in trunk
942f678 fix version, spotted by freenode user a-ja [skip ci]
04bceba remove unused headers
2382c5a fr doc rebuild.
fed99f0 fr doc XML file update.
b87c40d fr doc XML files updates.
06d5894 typo.
7ffd754 misplaced <compatibility> tag.
d7929d6 Add compatibility notes and fix some small style issues.
3a7ad2d revert r1874135
c9d6d9e Update docs. The expr_string.t failure has not been seen since the workaround was added AFAICT.  The async filter bug is still breaking the tests regularly. [skip ci].
7a3404c * Use a loop instead of recursion to iterate over pool siblings
9b07327 Fix travis config validation warnings.
20d26e0 Switch to using httpd-tests git repo.
2f1ab3e restore/explain new session creation
9020a5f   *) mod_http2: Fixes issue where mod_unique_id would generate non-unique request      identifier under load, see <https://github.com/icing/mod_h2/issues/195>.      [Michael Kaufmann, Stefan Eissing]
6b7a8cc PR56040: add SessionCookieMaxAge On/Off
bef4205 bubble up an error if none of the passhrases work
2c8a4fe PR56052: resolve problems with expired sessions
038bbda formatting [skip ci]
e5f2073 fr doc rebuild.
b23a7d2 fr doc XML file update.
6d43562 PR64140: Allow %{Content-Type} in health check expressions
a7c3236 Slighly simplify code.
2ae30ae Remove duplicated "CookieTracking" directive in 'command_rec'.
200f344 mod_ssl: simpler "goto" logic for stapling_renew_response().
1f77633 mod_ssl: Fix memory leak of OCSP stapling response.
d84fa3a Revert r1874574: wrong patch.
a4c4586 mod_ssl: Fix memory leak of OCSP stapling response.
eac9bcb "?:" is a GNU extension, use standard syntax spotted by Christophe Jaillet
46e908f Avoid printing NULL strings in logs
52ecd09 Add an i386 build using a multilib packages and "gcc -m32". (All other Travis builds are 64-bit arches currently)
557f677 fr doc rebuild.
ea13c9a fr doc XML files updates.
2f76ae8 * modules/generators/cgi_common.h (cgi_handle_request): Catch   (unlikely) apr_bucket_read() failure when reading request.
c2df433 Add note on using scoped literal IPv6 addresses in Listen. [skip ci]
82b8785 * modules/generators/cgi_common.h (cgi_handle_request): Factor out   near-identical common code from mod_cgid, mod_cgi.
f26e1a5 * Another whitespace fix
4df2d95 * Whitespace fix
b25a601 malloc -> ap_malloc bz #63967
a5903e2 PR64172: drop severity of AH01666
9fd6207 PR64077: samesite/httponly/secure flags for usertrack
2766f07 Avoid printing NULL strings in logs
f7448ff handle LOCAL ver_cmd proxy headers bz 63893
827c274 more correct explanation about certificates handling
d8fb24a mod_ssl: follow up to r1861950: allow for OPENSSL_init_ssl() without autoconf.
7533485 mod_md: re-applying the parts of r1873985 that got overwritten by the latest github sync.
635f8ba mpm_event: avoid possible KeepAlveTimeout off by -100 ms.
ae4a0fa fr doc XML file update.
10ddf63 Add gcc 9 job, enable enhanced malloc debugging for pool-debug job.
c7bb4eb PKCS#11 URIs usable from 2.4.42 and later now. [skip ci]
08aaaea Add Travis job which runs under UBSan ("Undefined Behaviour Sanitizer"). mod_http2 disabled for now until https://github.com/icing/mod_h2/pull/194 is merged.
1537393 mod_md: fixed version string by removing -git, thanks for spotting @steffenal.
bd5e571 Warn against using "nobody" for User/Group since it's bad practice. Add note on supplementary groups. [skip ci]
2984917 * support/suexec.c (clean_env): Revert use of ap_calloc in r1874156 which broke the build. https://travis-ci.org/apache/httpd/builds/651858409
f71e6fc convert malloc(3) into ap_malloc bz 64049
6881183 Fix spelling errors in docs found by codespell.  [skip ci]
7873b26 * module/dav/main/util.c (dav_check_bufsize): Don't call   memcpy(,NULL,0) if the buffer is uninitialized, to avoid tripping   UBSan.  (Unclear if this is valid for this API.)
e788a8e Cleanup of backported entries in CHANGES.
1638731 mod_md: adding documentation for new MDContactEmail directive.
350dafd   *) mod_md:      - Prefer MDContactEmail directive to ServerAdmin for registration. New directive        thanks to Timothe Litt (@tlhackque).      - protocol check for pre-configured "tls-alpn-01" challenge has been improved. It will now        check all matching virtual hosts for protocol support. Thanks to @mkauf.      - Corrected a check when OCSP stapling was configured for hosts        where the responsible MDomain is not clear, by Michal Karm Babacek (@Karm).      - Softening the restrictions where mod_md configuration directives may appear. This should        allow for use in <If> and <Macro> sections. If all possible variations lead to the configuration        you wanted in the first place, is another matter.      [Michael Kaufmann <mail michael-kaufmann.ch>, Timothe Litt (@tlhackque),       Michal Karm Babacek (@Karm), Stefan Eissing (@icing)]
2fe910c Back off a little when svn export is timing out.
2517583 Define ap_method_mask_t (typedef for apr_uint64_t) and use for method bitmasks rather than apr_int64_t.  Fixes UBSan errors shifting to the top bit of a signed integer.
b853e49 * modules/http/http_filters.c (parse_chunk_size): Reduce by four the   limit to the number of bits that can be handled in a chunk size, to   avoid undefined behaviour bitshifting a signed integer left.  Max   chunk size on 32-bit arch is now 32MiB.  Avoids UBSan error in:
cf458d8 fix build with LibreSSL 2.0.7+ bz 64047
c8f486d Follow up to r1873941: define AP_REG_NO_DEFAULT for raw ap_regcomp() usage.
e957c6d Follow up to r1874055: fix typo.
52ca512 RHEL and CentOS now use dnf. Call out yum as the outlier, rather than the other way around.
b1a82c2 Avoid UBSan exception  calling memcpy(,NULL,0) at startup.
e553264 * server/mpm/event/event.c (event_open_logs): Avoid UBSan exception   calling memcpy(,NULL,0) at startup.  Thanks to rpluem.
5906e82 * modules/ssl/ssl_util_ocsp.c (serialize_request): Set the Connection header   to close to indicate that we do not want to keep the HTTP connection to the   OCSP responder alive. We don't reuse the connections currently and if the   OCSP responder keeps the connection alive this could cause us to wait for   keepalive timeout of the OCSP responder to timeout until we finish our   reading of the OCSP response.
4d3e6a7 * modules/ssl/ssl_engine_init.c (ssl_init_Module): Avoid some bogus   gcc -Wmaybe-uninitialized warnings in (slightly odd) SSLFIPS   handling.
8576085 Fix spelling errors found by codespell.  [skip ci]
b6dd2f5 don't use DOTALL from mod_substitute which leaves \n at the end of the line.
34ef2af Add a missing APLOGNO()
f6bfa0c Reserve a number
a78d240 Clarify compatibility and interpretation of CGIDScriptTimeout. [skip ci]
59cb08a Update xforms. [skip ci]
2f5995f Add some blurb on correctly stopping the service w/mod_systemd. [skip ci]
e820d1e   *) mod_ssl: Disable client verification on ACME ALPN challenges. Fixes github      issue mod_md#172 (https://github.com/icing/mod_md/issues/172).      [Michael Kaufmann <mail michael-kaufmann.ch>, Stefan Eissing]
7e666bf mod_systemd.xml: add basic unit example [skip ci]
d3eeee0 fr doc rebuild.
be50b48 fr doc XML files updates.
f009edc Add some missing spaces
1390ed6 flags.xml: remove extra </dl> to allow clean builds
b8c2e40 Fix a typo (doubled "(") and a small grammar issue
a98d6a4 add SameSite to RewriteRule ... ... [CO]
c1ac12f factor out TE=chunked checking
81313af factor out default regex flags
bb7a5ce bump
6128d71 trap bad FTP responses
6edf41d Add compatibility note for "DeflateAlterETag" (already present in 2.4.x) Re-order to match 2.4.x order. Fix a color syntax highlight to synch with 2.4.x
49816d5 Add new module in "new features" in 2.4.x section
a378385 Add compatibility note for mod_systemd.
f88078d more alignment in wording
1bce776 make the condition guidance stand out
584b83f rework the mysteries of onsuccess and always
8363e53 fr doc rebuild.
d970c44 fr doc XML files updates.
fbecdc0 PR62989: DOCTYPE tags in server-generated HTML.
d365a29 PR63678: Clarify fcgistarter -c parm
3ddb50d PR63669: handle APR_BADARG return from ap_rgetline
cc04706 Update generated docs.
03501ae Fix some grammar errors in the docs
f535453 Update generated docs
3833f37 Fixed some grammar errors in the docs.
77a309a Update generated docs.
e5810ed fr doc rebuild.
d5228fa fr doc XML file update.
0a367d5 fr doc rebuild.
4212f24 fr doc XML files updates.
4b26066 mod_setenvif: add "early mode"
7b406d6 config: Speed up graceful restarts by using pre-hashed command table. PR 64066.         [Giovanni Bechis <giovanni paclan.it>, Jim Jagielski]
6daa704 * modules/loggers/config.m4: Don't override shared/static   selection for mod_journald, mod_syslog and mod_log_json.
b08f773 Add Travis job with --enable-mods-static=reallyall.
c0a2ea7 * modules/loggers/config.m4, modules/md/config2.m4, acinclude.m4:   Correctly link mod_md and mod_log_json (and no other objects)   against -ljansson.  Removes unnecessary deps on libjansson   from other linked objects, and fixes mod_md static build.  (see   https://travis-ci.org/apache/httpd/jobs/636789380)
dc5cb52 Transforms. [skip ci]
bc145ec Fix link to ExtendedStatus.  [skip ci]
5560d0d Transforms. [skip ci]
e7aa523 Remove IdleShutdown docs.
24ce5b5 * modules/arch/unix/config5.m4: Don't override enable_systemd, fixing   --enable-systemd=static per covener's suggestion in   <CALK=YjPrN644NtLROwYPyBeCpev-GHSAD2J-Z2hupLymZ0op-g@mail.gmail.com>   Also fix the APACHE_MODULE() usage; disable the module by default   for the "all" modules selection.
003125c * modules/arch/unix/mod_systemd.c: Remove IdleShutdown feature which   was buggy per sf's feedback in 2.4.x backport proposal, and would   probably be more appropriate outside this module anyway.
fd88f1c Non-x86 testing seems reasonably reliable; note some known failures currently.
0947797 proxy: add local address to body-forwarding errors
3a616a1 Enable verbose test output to debug failures on arm.
debdedc Add Travis job running the litmus WebDAV test suite.
f679a8a travis: remove verbose arg for Ubuntu Worker
272634c Add arm64 support for Travis testing. This support is experimental.
d26f6ef Use https instead of http when searching with Google.
8e9ac92 add r/o iterable tables
4a781ca fr doc rebuild.
e7da535 fr doc XML updates.
556fdf0 In winnt_accept() (server/mpm/winnt/child.c), there's a call to PostQueuedCompletionStatus() with a buffer (BytesRead) for the number of bytes read.
93c675e travis: disable email notifications
894b6a1 travis: add verbose config to perl test suite for Ubuntu Worker All Modules
0bd4a3d Add Travis job which runs tests in random order.
ff26c75 Cache SVN checkout of test/framework across Travis builds.  Should improve reliability (the checkout fails frequently) and performance, plus reduces load on ASF infra.
c09b6d3 test/travis_before_linux.sh: increase backoff time before executing svn export
770a117 Variables may also be set using the Define directive
bf4ef4c rebuild metafiles
8421ccf Reorder sections.
a634b62 missing word
b3f061b rebuilt with change to comment text
66298c2 Change 'removed again' to 'removed' as suggested at https://bz.apache.org/bugzilla/show_bug.cgi?id=60026
4b88ce2 Adds tip of how to obtain the original requested URL, as per https://bz.apache.org/bugzilla/show_bug.cgi?id=64042
8a51355 Xforms
d337986 Happy New Year 2020
ded7280 travis: restore email notifications for dev@
a604fac Work around a build failure when a cached APR branch install is used but APR-util needs to be rebuilt; currently this fails because the APR build directory is not available.
fe14764 configure: Add manualdir and proxycachedir to the APR_ENABLE_LAYOUT macro call
f29390a Correct the case on OpenWrt, the project prefers this capitalisation.
4804414 Align the OpenWRT config layout with the new kayout as defined by the project.
6786fbf test/travis_before_linux.sh: move retry logic to function
4e7dd4f travis: temporary disable notifications to dev@
388adb0 Allow instdso.sh to be found while cross compiling.
2688e47 test/travis_before_linux.sh: make for loop more resilient
c7d7b6d Add support for cross compiling to apxs. If apxs is being executed from somewhere other than its target location, add that prefix to includes and library directories. Without this, apxs would fail to find config_vars.mk and exit.
b96babf More nice to do for 2.6.x.
7381d71 Add an idea about YAML.
ec0d1f9 Remove section on RFC compliance. All listed PRs are resolved, thanks to the donation of access to the Co-Advisor test suite.
ded8dd2 Add a config layout for OpenWRT.
9fa96d9 ab.c: Replace zeustech.net with web archive link
250e722 test/travis_before_linux.sh: remove bash -e flag
e4aa805 test/travis_before_linux.sh: add a simple bash retry to svn export
f190b4e fr doc rebuild.
f298cbe fr doc XML files updates.
63c157a travis: sync trunk's notification config with 2.4.x
4caf1a2 travis: send notification to httpd-dev@ only on failure
1f4ec79   *) mod_http2: Fixed rare cases where a h2 worker could deadlock the main connection.
17fcbba does this work??
d67fc18 adding myself for debugging (happy 113th birthday to the inventor of that term\!)
a6bee0b travis: enable email notifications on success as test
940ba67 Documentation rebuild
aa7a09b Axe an empty line in order to synch with 2.4.x
f4a5437 Remove check for committer status
08898cc git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1870738 13f79535-47bb-0310-9956-ffa450edef68
843e606 Fix some typo
659cf30 PR63971 expose apr_table_unset for headers/envvars
bf3336b Enable ppc64le builds, caching now seems to work in Travis for non-x86.
d2e1044 Skip "PCRE 1" job for 2.4.x since there's no PCRE 2 support. [skip ci]
d9ba210 Skip ap_expr regeneration for 2.4.x.
a9abc42 Reverting r1870454 for this source.
dd8ba20   *) mod_http2: Fixed interaction with mod_reqtimeout. A loaded mod_http2 was disabling the      ssl handshake timeouts. Also, fixed a mistake of the last version that made `H2Direct`      always `on`, irregardless of configuration. Found and reported by      <Armin.Abfalterer@united-security-providers.ch> and      <Marcial.Rion@united-security-providers.ch>. [Stefan Eissing]
f8d464d Add a note about string comparison operators PR 63919
69eb02f Fix the version in a compatibility note
9625406 Fix a small translation issue.
99b9188 fr doc rebuild.
5145bae fr doc XML file update.
828f8ec Note that APU_VERSION=trunk doesn't work per rpluem's mail. [skip ci]
55239ec Add logno.
3b6181a Buffer HTTP request bodies for TLSv1.3 PHA in the same way as for TLSv<1.3 renegotiation.
ff510e1 Doc updates for Travis.  [skip ci]
0220567 Build on s390x (interesting test target since it's big-endian). IRC notifications work, e-mail doesn't; branches are done. ppc64le builds also work but are extremely slow, so not enabled.
e18b2f5 Support travis builds against APR/APR-util non-trunk branches. Add job for APR 1.7.x + APR-util 1.7.x.
1e92527 Specify make flags globally and work around PR 63942 for regeneration of server/util_expr parser.
17d283e   *) mod_md: v2.2.4 from github, Fixes a compile time issue with OpenSSL 1.0.2 in      the new OCSP code. Skips port checks for domain server_rec selection when "tls-alpn-01"      is configured explicitly (related to #133). [@mkauf, Stefan Eissing]
c3abd83 * Fix another typo
83741b2 Fix some typo in CHANGES file.
37195d8 Fix a <code> block that should be wider.
adeea12 fr doc rebuild.
c7364eb fr doc XML files updates.
f3805e9 Try mailing dev@ for Travis build results.
abe9502 mod_ssl: Log private key material to file set by $SSLKEYLOGFILE in the environment, using the standard format which can be parsed by (e.g.) wireshark for decoding SSL/TLS traffic; supported from OpenSSL 1.1.1.
d6fb0ed Fix some spelling errors (see PR 63923)
1ef31ab Fix 2 spelling errors (see PR 63923)
cee86f3 Add build job for trunk on Xenial with custom APR/APR-util builds.
87ff011 Also avoid adding the Set-Cookie header in both r->headers_out and r->err_headers_out in ap_cookie_remove and ap_cookie_remove2 functions to avoid duplication in HTTP response.  (Follow-up to r1843244)
e411ebc * Rebuild docs
38a47b4 * Fix typo
9a81a38 * Rebuild docs
a66fab5 Test IRC and e-mail notifications.
bcfd056 * server/util_expr_parse.[ch]: Regenerate after r1869724.
11ec7b0 Non terminal cannot have string aliases (only tokens appear in error messages).  %token is used to define tokens, and %nterm non terminals. The hidden %type (which was only recently documented) is meant for both tokens and non terminals.  Yet
d8306de Minor Travis doc updates and a todo list. [skip ci]
7dffe41 Install PCRE v2 (10.x) by default, add a job testing with PCRE "v1" (8.x).
2dd0046 Add buildconf option to force (rather than suppress) regeneration of the ap_expr parser.  Add a Travis job which uses this, so a patch which changes the parser sources is tested appropriately (e.g PR#72).
7994f49 Update APR version requirement to 1.6 or later per rough consensus on dev@ (see list thread from msgid <20191108094020.GA12979@redhat.com>).
df8ba9b fr doc rebuild.
bf3011e fr doc XML updates.
674116c misplaced </usage> tag.
41fd48a Fix yaml typo.
53ec69f Add shared-mpms build, add build against APR trunk (httpd trunk only). Fix handling and ensure safe caching of APR trunk build.
a740f19 Start sketching out some travis docs and check we can -> [skip ci]
57d5ef1 Add APR 1.4/APR-util 1.4 build, but only for 2.4.x.
7a55a80 Revert r1869541 and always run httpd's buildconf against the Debian APR, which does include the *.m4 files.
cc470ff Run buildconf using the specific APR/APR-util versions if configured.
57981e4 Build APR-util 1.7.x --with-crypto otherwise the "mod_crypto" build fails, though this is a bug: https://travis-ci.org/apache/httpd/jobs/609166867
87c2201 Build all modules when testing APR variations.
5602cda Add Travis support for multiple APR/APR-util versions. Add an APR build with --enable-pool-debug.
c096af4 Support 2.4.x builds, which lacks --with-test-suite support. Build with --enable-load-all-modules only when the test suite is run.
dd41900 mod_authz_core: follow up to r1864759.
e63927f Never checkin generated files applied to build/apr_common.m4.
1c2523d Use latest/compatible apr_common.m4.
e98c2be fr doc rebuild.
666a3f6 Small changes.
d5e989b Move before/run scripts out of .travis.yml.
8f7ab72 Update travis config
fe9045c fr doc rebuild.
8f7f17a Small changes.
42ad856 Pull in more -dev packages to get more modules building (including mod_md). Test gcc 7 on bionic, xenial is the Travis default anyway. Only add the toolchain PPA where really needed.
c5fcb84 Add comment, no functional change.
124a26f mod_proxy: Improve tunneling loop.
3d3e03a mod_proxy: Add proxy check_trans hook.
271918c update after backport of mod_md
489d471   *) mod_md v2.2.3:      - Configuring MDCAChallenges replaces any previous existing challenge configuration. It        had been additive before which was not the intended behaviour. [@mkauf]      - Fixing order of ACME challenges used when nothing else configured. Code now behaves as        documented for `MDCAChallenges`. Fixes #156. Thanks again to @mkauf for finding this.      - Fixing a potential, low memory null pointer dereference [thanks to @uhliarik].      - Fixing an incompatibility with a change in libcurl v7.66.0 that added unwanted        "transfer-encoding" to POST requests. This failed in directy communication with        Let's Encrypt boulder server. Thanks to @mkauf for finding and fixing.
ea50310 Add a basic Travis config.
641102d mod_proxy: factorize mod_proxy_{connect,wstunnel} tunneling code in proxy_util.
d8888c3 mod_proxy_http: follow up to r1869216.
cdc97c4 Revert r1869222, wrong files committed.
e2d7af8 mod_proxy_http: follow up to r1869216.
7299090 mod_proxy_http: fix load-balancer fallback for requests with a body.
794f293 mod_ssl: follow up to r1868645.
af014de Use <module> instead of <directive> for module names.
8228d47 Fix alignment in a <highlight> block. Add directive name in <default> so that 'quickreference.html' is generated with the corresponding default value. Avoid some duplicated words (i.e. 'to to'). Fix some incorrect directive name in some description. Fix the description of 'AuthFormBody' which was a copy&paste of 'AuthFormMethod'. Remove some useless <var></var> around 'On|Off'.
1fd6096 fr doc rebuild.
60d92d1 fr doc XML updates.
fc540f1 whitespace commit for fisheye, ignore
9abf04a Fix an incorrect NULL checked.
402ea11 Help doc writer to spot places where:
cc910fb Fix directive name in <syntax>
76957c4 mod_ssl: follow up to r1868645 and r1868929.
02e469a update after backport of current mod_md
ce68ba8 mod_ssl: follow up to r1868645.
29761d0 mod_md: fixes compiler warning about initialization, version bumb.
55ae8b1 Fix a broken link and use more standard casing for On|Off
086fce5 Change the position of the 'response_code_exprs' field in the 'core_dir_config' structure.
3251631 Swap 2 modules in order to synch with 2.4.x.
b3fb2d3 mod_ssl: follow up to r1868645.
570b6e7 Axe some outdated references to httpd 1.2.x and 2.0.x.
d339f1d fr doc rebuild.
a4c56d3 fr doc adding a new translated file.
0296350 Use native EOL for intended-duplicates.
0359de0 Put intended duplicates AHs in their own file (outside the script).
dd62d1d AH01241 is intentionally duplicated.
7f4327d update-log-msg-tags: allow to reference intended duplicate tags.
74b179c mod_md: resolve duplicate tag.
029deac mod_proxy_http: follow up to r1868576.
cd9685d mod_proxy_http: revert r1868625.
076e283 mod_ssl: negotiate the TLS protocol version per name based vhost configuration.
82b7e77 Synch 2.4.x and trunk.
14037b6 mod_proxy_http: follow up to r1868576.
3aa9813 fr doc new built file.
23dddbe fr doc adding a new file.
b936bee mod_proxy_http: Fix 100-continue deadlock for spooled request bodies. PR 63855.
77c9684   *) mod_md: Adding the several new features.      The module offers an implementation of OCSP Stapling that can replace fully or      for a limited set of domains the existing one from mod_ssl. OCSP handling      is part of mod_md's monitoring and message notifications. If can be used      for sites that do not have ACME certificates.      The url for a CTLog Monitor can be configured. It is used in the server-status      to link to the external status page of a certicate.      The MDMessageCmd is called with argument "installed" when a new certificate      has been activated on server restart/reload. This allows for processing of      the new certificate, for example to applications that require it in different      locations or formats.
c04b493 update mod_md tags
9b05de8 * Correctly initialize nomime member
03d334e Honor "Accept-Encoding: foo;q=0" as per RFC 7231; which means 'foo' is "not acceptable".  PR 58158
fadc83a Fix pool concurrency problems
1473184 * Add back logging goodness
1a9f0f3 * Revert r1865944 and r1865938
12558f2 Fix a typo in a message.
f0abf76 Fix build broken w/o --enable-cgid-fdpassing by r1867968:
4a835a77 * modules/generators/cgi_common.h (discard_script_output): Simplify   slightly and ensure constant rather than unlimited memory   consumption when discarding CGI script output (for e.g. a redirect   response).
54c71d4 Move common (and near-identical) code for CGI response output handling to cgi_common.h; the diff between the modules for this code was as follows:
58b69a4 * modules/generators/cgi_common.h (cgi_bucket_create):   Disable APR timeout handling here for all callers.
2715cad * modules/generators/mod_cgid.c (sock_readhdr): Only set up control   message block when required; add some additional error handling.
4fa8d6d Merge r1866760 from ^/httpd/apreq/trunk:
a0f5d7e fr doc rebuild.
cea360b fr doc XML file update.
99638ff Refresh prettify.js to update some missing syntax highlight (mostly related to mod_md)
baaf6b9 * modules/ssl/ssl_engine_log.c (ssl_log_cert_error): Use string   length returned by apr_vsnprintf.  No functional change.
a261877 Fix a typo
f352999 Fix a typo
9c838dc Fix a typo
ebf8f86 Fix a typo
2490d48 Fix a typo
cfa53db Reverse the order of the test... if clang, then use clang, because some clangs also represent as GNUC.
bd3988c fr doc rebuild.
a8ae5ea fr doc XML files updates.
411e5e1 Missing </p> tag.
c09cdc3 ap_http_header_filter: avoid double encoding of output headers in traces.
d14b38d * modules/mappers/mod_rewrite.c: Enhance trace-level logging to log   line numbers accurately for C99 compilers, and remove odd/awkward   double-parentheses using the rewritelog() macro.  For non-C99   compilers do_rewritelog() will now be defined - but as a noop - if   REWRITELOG_DISABLED is defined at compile time.
d5a6bff  * mod_md: manual updates and challenge description
e1f29d8 Fix an issue on Windows where <IfFile> looks for a file on a non-existent drive (on a USB key that is not plugged for example)
8b82c9b PR63715: s/can/came and add a caution about REDIRECT_-prefixed envvars
6ee55a4 Fix PR 63713 reported by  WJCarpenter:   Add a small word about '\' which is used in the examples below.
6c4de2e fr doc rebuild.
4ea2a1e fr doc XML update.
fece935 restore use of global mutex under !APR_HAS_THREADS
97470b1 Complete mod_md CMake config by adding a _requires iterator, using the official curl FIND_PACKAGE logic and completing the jansson detection logic.
238d19c Improvement to mod_md cmake support. thanks to bill.
cb8c40c * Make it obsolete to supply a starting pool
9d83542 * Lock the worker, not the balancer. We even do not know if we have a balancer
883359e More about RegexDefaultOptions.
e5a2910 bump
568ce9b lognos
1dfc694 PR63503: fix pool concurrency problems in mod_proxy
853f883 remove APR_HAS_THREADS check
b8df334 no-op PROXY_THREAD_LOCK if !APR_HAS_THREADS
0f5d0ad leave a hint about session expiration at TRACE2
248e013 fr doc rebuild.
a33209f fr doc XML updates.
0951669 PR63688 balancer csrf problems
b2c35e9 mod_ssl: OCSP does not apply to proxy mode, fix verify context.
33feaed xforms
00a16c4 Increase the maximum length of strings that can be cached by the module from 100 to 256.  PR 62149 [<thorsten.meinl knime.com>]
56d493e s/cacheing/caching/ Improve layout.
7d4360e Fix a broken link.
85bfc8b fr doc rebuild.
e6cf72d XML update.
4bdb223 fr doc rebuild.
460eb08 fr doc - new translated file.
e0f6e74 Include for mod_status.h
80e87e0 Fix the directive name used in <usage> of 'RemoteIPProxyProtocolExceptions'.
7095eee Revert r1864878. This breaks compilation because of a use defore definition.
1cdd858 Fix a signed/unsigned comparison in 'ap_filter_should_yield()' and 'ap_request_core_filter()'.
48d5813 Fix a signed/unsigned comparison that can never match.
052e015 Fix a signed/unsigned comparison that can never match. (+ add a missing space to improve formating)
7998502 Fix to allow the logging of SSL_CIPHER variable (instead of SSL_COPHER)
f83ddd0 -l and -L are not exclusive. Document the 'G' suffix.
ee08f1a -l and -L are not exclusive. Document the 'G' suffix. Fix some minor style issues.
8f10fa0 Fix a corner case where automatic APLOGNO number generation generates invalid code. (see r1864733 fixed in r1864736, thx Eric)
56ad5f6 Axe some dead code + slighly improve a comment
b86d274 Tweak coccinelle search pattern.
7b7ec05 followup to r1864733
614ca69 Add missing APLOGNO
77f2dbd fr doc rebuild.
8303a12 fr doc - new file.
8a339ed * modules/proxy/mod_proxy_balancer.c (balancer_display_page):   Add more HTML-escaping.
cc5a5c6 bump
a1fb400 lognos
2387a78 Bump next-number after r1864695.
ed70569 * modules/proxy/mod_proxy_balancer.c (balancer_handler): Check Referer   to improve on protection against balancer-manager XSRF attacks   provided by the nonce.
9fb0386 * modules/proxy/proxy_util.c (ap_proxy_share_balancer): Create the   nonce as a pseudo-UUID using the PRNG.
47449ce Update links to APR/APU svn to recent stable branches.
38dfa17 Bump next-number after r1864526.
ef47701 * modules/metadata/mod_remoteip.c (remoteip_process_v2_header,   remoteip_input_filter): Add sanity checks.
963c1c8 * modules/filters/mod_proxy_html.c, modules/filters/mod_xml2enc.c:   Fix gcc 9 warnings in code attempting to reduce gcc warnings.   (should have used expat...)
a7eadc3 Unfortunately -Wcomment can only be influenced using a diagnostics pragma starting with GCC 4.6.
5174cd7 Follow up to r1864438 and r1864435: Use the right pragma syntax also in the second file.
dd21b36 Use the right pragma syntax. Follow-up to r1864435.
40581b9 The GCC flag "-Wno-error=comment" introduced by r1855446 and r1850745 are only known since GCC 4.2. Since it gets set unconditionally, this breaks compilation with old GCC even when not using maintainer mode.
61fdda6   *) mod_ssl: reverting a 2.4.40 change where a superfluous SSLCertificateChainFile configuration      for a domain managed by mod_md caused a startup error. This happened when mod_md installed      its fallback certificate, before it got the first real certificate from Lets Encrypt.
09b2410  * mod_md: fix compiler warnings
905b4af set PCRE_DOTALL by default
c0ce3a7 remove request details from error documents (CVE-2019-10092).
33ab616 don't mess with AP_ENABLE_EXCEPTION_HOOK on trunk
3b4458f update transformation
ad8c7c9 svn:eol-style=native
692664c Wrap get_ct_scts_nid() in preproc in order to avoid error: unused function 'get_ct_scts_nid' [-Werror,-Wunused-function] in maint mode
e75ea3a fr doc rebuild.
8234db7 fr doc - adding a new xml file.
0bc3212 Synch trunk and 2.4.x
cc1c300 Synch 2.4 and trunk.
8368bf6   *) mod_http2: core setting "LimitRequestFieldSize" is not additionally checked on      merged header fields, just as HTTP/1.1 does. [Stefan Eissing, Michael Kaufmann]
91189ca  mod_http2: update log tags, log field len errors at INFO level (via mkaufmann)  mod_proxy_http2: udpate log tags
f24bd79 update aplogno in recent hook changes
eda8ddf mod_cgid: Continuation of r1862968, experimental fd passing support.
da33fd5 Fix crashes when running with debug APR (APR_POOL_DEBUG), because all pools have NULL allocators then.
57b262a fr doc rebuild.
4e6e08e fr doc XML file update.
fa36c0e Add experimental support for fd passing in mod_cgid.  Attaches CGI script stderr to the error log specific to the vhost, by passing the appropriate fd over the AF_UNIX socket from the request handling thread to the cgid server process.
3be04bf   *) mod_http2: fixed a bug that prevented proper stream cleanup when connection      throttling was in place. Stream resets by clients on streams initiated by them      are counted as possible trigger for throttling.
3d90a98  * moving the openssl related new hooks into mod_ssl_openssl.h  * chaning type parameter to openssl types  * adding explanation of return value in get_stapling_status()  * adding array element description for add_cert_files and add_fallback_cert_files hooks
2bc9889  * using mod_ssl_openssl.h to see hooks in new place
e729e4d * include/ssl/mod_ssl.h: Include apr_tables.h and use apr_array_header_t   directly.
e4061cd update after mod_md backport
7b26ffb mod_md: adding log tag numbers
6a0832b * support/htpasswd.c (usage): More usage fixes for SHA-2; describe   as "secure", leave bcrypt only algorithm described as "very secure".
e5a736e Update transform.
594b57e * support/htpasswd.c (usage): Document SHA-256/512 support.
29a3e3e Transforms.
276a9a1 Document SHA-2 support.
0c6c848  * applying v4 of the patch for PR 63534.
018caed   *) mod_http2/mpm_event: Fixes the behaviour when a HTTP/2 connection has nothing      more to write with streams ongoing (flow control block). The timeout waiting      for the client to send WINODW_UPDATE was incorrectly KeepAliveTimeout and not      Timeout as it should be. Fixes PR 63534. [Yann Ylavic, Stefan Eissing]
e6835b3 * All backported
243a338 * Backported in r1862410
360986b   *) mod_ssl/mod_md:      Adding 2 new hooks for init/get of OCSP stapling status information when      other modules want to provide those. Falls back to own implementation with      same behaviour as before.
f9fb4c4 * Replace apr_psprintf with apr_pstrcat where the format strings only   contain %s to improve efficiency. Leave out error messages as they   are not on a crtical code path and error message become less readable   when taking out the format specifiers.
420025b * modules/metadata/mod_mime_magic.c: Constify some constant   data, remove unused "suf_recursion" field.  No functional   change.
c5e3ad4 * docs/conf/magic: Allow mod_mime_magic to return "audio/x-wav" for   WAV files, and omit returning "audio/unknown" for other RIFF   format files.  Having a MIME type defined on a continuation line   *and* the preceding top-level match breaks mod_mime_magic, which   treats the second result "printed" as the MIME encoding. Neither   audio/x-wav nor audio/unknown are IANA registered, though Firefox   and Chrome both appear to recognize the former.  Since the RIFF   format can contain non-audio media, returning audio/unknown as   a fallback for all RIFF files appears to be bogus anyway.
ed4d430  mod_md: silencing unsed warnings when no mod_ssl hooks are not available
00eb58b   *) mod_ssl/mod_md: reversing dependency by letting mod_ssl offer hooks for      adding certificates and keys to a virtual host. An additional hook allows      answering special TLS connections as used in ACME challenges.
a121bb6 * server/main.c (main): Don't create a separate subpool for pcommands   (it had an identical lifetime to the global pool).
dc30e34  mod_md: updated documenation with new directives and chapters about wildcards and monitoring.
e3f9629 * modules/proxy/mod_proxy.c (create_proxy_config): Tag the pool.
83308ea * modules/dav/main/mod_dav.c (dav_send_multistatus): Tag the pool.
5d2583a   mod_md: copy recent fixes, adding new sources to mod_md.dsp   Adding module to CMakeLists, needs testing.
eb47347 * modules/dav/main/props.c (dav_do_prop_subreq): Allocate escaped URI   out of propdb pool, fixing small per-resource leak during a PROPFIND   walk.
dae06d2 Simplify handling of short-lived pool for dav_propdb in mod_dav.  No functional change.
13eda4a Set connectiontimeout for mod_proxy_hcheck. Fix for https://issues.jboss.org/browse/JBCS-448
2498e69   *) mod_md: bringing over v2.0.6 from github.      - supports the ACMEv2 protocol      - supports the new challenge method 'tls-alpn-01'      - supports command configuration to setup/teardown 'dns-01' challenges      - supports wildcard certificates when dns challenges are configured      - ACMEv2 is the new default and will be used on the next certificate renewal,        unless another MDCertificateAuthority is configured      - challenge type 'tls-sni-01' has been removed as CAs do not offer this any longer      - a domain exposes its status at https://<domain>/.httpd/certificate-status      - Managed Domains are now in Apache's 'server-status' page      - A new handler 'md-status' exposes verbose status information in JSON format      - new directives "MDCertificateFile" and "MDCertificateKeyFile" to configure a        Managed Domain that uses static files. Auto-renewal is turned off for those.      - new MDMessageCmd that is invoked on several events: 'renewed', 'expiring' and        'errored'. New 'MDWarnWindow' directive to configure when expiration warnings        shall be issued.      - ACMEv2 endpoints use the GET via empty POST way of accessing resources, see        announcement by Let's Encrypt:        https://community.letsencrypt.org/t/acme-v2-scheduled-deprecation-of-unauthenticated-resource-gets/74380
5e3277b mod_ssl: use OPENSSL_init_ssl() to initialise OpenSSL on versions 1.1+.
cd58f18 After reinstatement of DSO support in APR/APR-util, revert r1837437, r1837435, r1834553, r1833598, r1833452, r1833383, r1833368.
bf5a453 French doc rebuild.
73ab37d french doc rebuild.
b8e3408 Version num update.
8dcc15c Version num mismatch.
2b7c148 Misplaced contextlist tag.
905003c xml fr doc update.
57748d6 Add support for SHA-2 crypt() algorithm in htpasswd.
07e3fbd * configure.in, acinclude.m4: Inline APACHE_GEN_MAKEFILES in AC_CONFIG_COMMANDS   and run during the "normal" phase of ./config.status rather than as init-cmds.
908ac62 * configure.in: Move modules.c creation to config.status.
f724666 * configure.in: Fix enabling httpdunit w/o --enable-reduced-exports.
a9f939b * build/config_vars.sh.in: Remove test-suite (builddir-specific) vars   from installed config_vars.mk.
a87aa08 * server/scoreboard.c (open_scoreboard): Create the scoreboard in the   parent of pconf rather than creating another global pool.
b6f137d * server/util.c: Make "nul" symbol private.
50bbfb3 Add an --enable-reduced-exports configure option to link libmain.a using ld's --whole-archive mode and avoid building exports.c entirely. This reduces the size of a minimal httpd binary by 18% on Linux/x86_64 (687K to 560K) with no difference to the set of symbols available to modules.
314fb18 Clarify pool lifetime constraints when modifying ap_server_config_defines.
6c1c4ff followup to r1861542: return early from error path
bc290e0 add RedirectRelative directive to allow relative Redirect targets
59296fa style: cmd_rec at the bottom
784c852 Add missing space in default string of MimeOptions
827759d Fix:    - some missing syntax highlight    - a default value not refelcted in quickreference    - a missing link between
02ae374 Fix an example in doc
679b302 Fix an example in doc
1f367f5 'flags' are optional in SSLCARevocationCheck. Update the syntax accordingly.
19671c2 Fix missing description of 2 directives
8029bb6 use the provided types via the macro
a7a4dda  * mod_http2: adding support for the new trailer tests.
89195f5   *) mod_proxy_http2: adding support for handling trailers in both directions. PR 63502.
6689b08 Avoid duplicated APLOGNO.
313e488 Reserve 2 new numbers
7f1e163 Follow up to r1847232. There is no point to use "old" numbers in recent commit.
23f24be Reserve new numbers
6966b71 Be a little more verbose when an error in trigerred in 'ap_set_file_slot()'
6212612 * modules/ssl/ssl_engine_config.c (ssl_cmd_check_file):   If dumping the config, don't validate the paths.  Allows   e.g. "httpd -L" to work w/ certs configured but not present,   doesn't affect "httpd -t".
b24bc3f rebuild site map
b1261ed updated ES
3276a26 Updating to match commit EN revision 185570
762181a Updating to match commit EN revision 185570
3ae8b38 added the ISGR https://www.abetterinternet.org/ url
60e9790  * modules/http2: more copying of data to disentangle worker processing from main connection
5b32f27  * modules/http2: reverting r1859724, as no good.
aa88548  Addendum to r1856493: check NULLness of new arg parameter.
d5767ac   *) mod_http2: internal code cleanups and simplifications. Common output code for      h2 and h2c protocols, using nested mutex locks for simplified calls. [Stefan Eissing]
a84a80c * Fix the logic to follow the comment. So far we only forwarded the header if   we have NOT used it AND the env variable was set. But if we have not   used it we should forward it in any case independent of the env variable   setting.   This aligns also with the behaviour in ap_proxy_create_hdrbrgd.
a91c9c1 fr doc rebuild.
05fe2ce XML fr doc update.
975f5e1 Follow up to r1859371: extend to other ap_proxy_connection_create[_ex]() users.
db74637 mod_proxy/ssl: Proxy SSL client certificate configuration and other proxy SSL configurations broken inside <Proxy> context. PR 63430 Triggered by r1855646+r1855748. Patch from rpluem (proxy) and ylavic (ssl).
fa4eb1f Arrange balancer_handler() to be able to call balancer_process_balancer_worker() to create/enable/disable workers from another modules via a provider. No functional changes in this first commit.
ae106ef * Only do one retry to be more in line with the other modules.
8051a00 Axe some outdated compatibility notes
ee78b17 Fix a typo spotted by Ioannis Cherouvim (PR 63414)
794dd4d The bump in r1855311 looks slighly optimistic.
cc33262 * modules/cache/mod_socache_shmcb.c (socache_shmcb_init): Describe   error better for anon shm failure case, fixing gcc 9 warning on   passing NULL for '%s'.
f94b33f fr doc rebuild.
5255b76 XML fr doc update.
37b3fc7 revert r1857857.
7e9339a Fix a compilation error when GPROF is defined.
e4d0ae8 Axe a useless comment.
835b74a Fix use of StateDir directive after r1852982:
b7fedf3 Transforms.
9227bee Add security note on CoreDumpDirectory for Linux.
204a003 Fix wrong use of ap_rputs with formats. Use ap_rprintf instead. It seems noone has PIPE_BUF defined.
d9505d8 Follow up to r1857129: CHANGES entry.
91f1ba4 mod_reqtimeout: fix default_[stage]_rate_factor initializations.
7dfbe46 Removing no longer existing h2 source file from cmake.
c051a01 Well, our build with latest APR trunk seems to insist on updating apr_common.m4
f67237e Fix for: [Bug 62372] Load balancer byrequests required when bytraffic chosen
286891c PR63305: fix graceful restart crashes in LDAP
2e6c5a3 fr doc rebuild.
9f7d27c XML files fr doc updates.
e0b2f5d Revert r1856560: was not the latest apr_common.m4 version anyway...
b480020 Update apr_common.m4 to latest (trunk).
2806463 mod_cache: follow up to r1856493: cache_strqtok() to reject quoted tokens.
f2a066e mod_cache: follow up to r1856493: always terminate cache_strqtok() returns.
00bd49e mod_cache: Fix parsing of quoted Cache-Control token arguments. PR 63288.
c5c0032 Follow up to r1856490: missing one mod_log_forensic test_char_table case.
5528a9b Provide TEST_CHAR marco in test_char.h
c714186 add loadmodule line to sochache_redis to httpd.conf in Windows
2179d63   *) mod_md: Store permissions are enforced on file creation, enforcing restrictions in      spite of umask. Fixes <https://github.com/icing/mod_md/issues/117>. [Stefan Eissing]
0848891 mod_proxy: follow up to r1836588: configurable Proxy100Continue.
67ef6b9 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access_modern): Correctly   restore SSL verify state after PHA failure in TLSv1.3.
2a412fc   *) mod_md: Explicitly setting file permissions to break out of umasks. We want our      non-privilegded apache user to be able to read them. See github issue      <https://github.com/icing/mod_md/issues/117>. [Stefan Eissing]
a139247 rephrase MimeOptions description
cf4dcc9 remove null check
4d1d0c9 * Solve a chicken and egg problem here:   We need to have sslconn->dc set correctly when we want to   init sslconn, but we need to allocate memory for it first.
2e00fa7 * r->parsed_uri.path can be NULL in case of the CONNECT method.
c9f3b52 * Play safe in case we get no name
680bfc6 * Revert r1855741 which committed other stuff as well.
97752cb * Play safe in case we get no name
807a365 Merge consecutive slashes in the URL by default
e6f2427 Update compatibility notes for mod_socache_redis
df8df5b allow mod_mime to be de disabled per-dir too
38facbd fr doc rebuild.
dd0abb6 xml fr doc updates.
41482e5 XML tags reordering.
c75c9a8 mod_proxy/ssl: cleanup per-request SSL configuration for recycled proxy conns.
c66bef9 Fix some HTML syntax issues.
219e834 Uplift of relevante changes of r1855479 in branches/2.4.x, re disappearance of h2_ngn_shed.* sources.
b07b35d spotted by Ruediger
7bd9d61 wrong hat
6a84f21 mod_mime: Add `MimeOptions`
b444a8e Make the work-around for C++ style comments causing fatal errors in maintainer-mode for later versions of clang module compile specific (we will still SEE the errors though when buidlin)
315c6a8 update after backport, mod_http2/proxy_http2 now equivalent
9fb745d Update mod_reqtimeout 'handshake' compatibility version (r1855413 did it for 2.4.x already).
344d08b Reverting the unwanted revert of r1852989.
5eec8d6 fixing bugreport 63258 on the typo mapfile.map.pag
03c5267 mod_ssl: AH10129 from ERR to DEBUG level.
8073a52 Follow up to r1855306: Axe bucket number from struct process_score.
0900b36 MPMs unix: bind the bucket number of each child to its slot number
93f20aa   *) mod_http2: when SSL renegotiation is inhibited and a 403 ErrorDocument is      in play, the proper HTTP/2 stream reset did not trigger with H2_ERR_HTTP_1_1_REQUIRED.      Fixed. [Michael Kaufmann]
400e75a fr doc rebuild.
17a4175 fr doc update.
0b59426 Adding new H2Padding directive.
9b3dd74   *) mod_http2: new configuration directive: ```H2Padding numbits``` to control      padding of HTTP/2 payload frames. 'numbits' is a number from 0-8,      controlling the range of padding bytes added to a frame. The actual number      added is chosen randomly per frame. This applies to HEADERS, DATA and PUSH_PROMISE      frames equally. The default continues to be 0, e.g. no padding. [Stefan Eissing]
10d3024 Fix a parsing error when using Ant 1.9.13 without the external Xerces  (2.9.0) and Xalan (2.7.1).
349c78c Simplify charset handling
0915887 update transformation
4ac456c   *) mod_http2/mod_proxy_http2: proxy_http2 checks correct master connection aborted status      to trigger immediate shutdown of backend connections. This is now always signalled      by mod_http2 when the the session is being released.      proxy_http2 now only sends a PING frame to the backend when there is not already one      in flight. [Stefan Eissing]
4a40869 fr doc rebuild.
b164277 XML fr doc files updates.
2af29e9 http: Fix possible empty response with mod_ratelimit for HEAD requests.
bb1baf7 Reviewed and corrected some spelling and typos
b523a94 changed typo on "This module relies on OpenSSL to provide the cryptography engine." to change cryptographic
2ff4af5 mod_proxy_hcheck: mute "run from watchdog" message.
2ec2abe Update a comment about the 'PATCH' HTTP command
21c6bbc mod_http2: fix for latest mod_reqtimeout change re handshake timeouts
395e180 mod_proxy_http: revert spurious comment from r1853953.
db66778 mod_proxy_http: common function for stream_reqbody_{cl,chunked}()
fc65fa0 Follow up to r1853874: CHANGES entry.
33bba0c mod_reqtimeout: follow up to r1853901: init stage name outside INIT_STAGE().
5160a03 mod_reqtimeout: follow up to r1853901: fix macro args.
94d9347 mod_reqtimeout: follow up to r1853906: adjust hooks priorities comments.
1416730 mod_reqtimeout: Allow to configure (TLS-)handshake timeouts.
445e1f9 mod_reqtimeout: factorize structs and code.
3b156a1 mod_cache_socache: avoid pool to heap reallocation.
f24b37e This is harmless, but this really should be an 'echo_do *'
8da4f09 - Be consistent with the case used for uniqueMember. - Be consistent with the case used for AuthLDAPURL. Use uppercase URL, as in the code in order to fix syntax highlight issues. - Fix the case of AuthLDAPSubGroupAttribute in <default>, so that quickreference.xsl works as expected
90fc7bb Fix compatibility note, 'SSLPolicy' is not in 2.4.x yet.
5313194 Add directive name, so that quickreference.xsl can extract default value correctly.
04b4d0f * modules/md/mod_md_config.c (md_mod_conf_get): Use state-dir-relative   default base_dir.
007adac Add directive name, so that quickreference.xsl can extract default value correctly.
ecd88da Fix the directive name used in <default> syntax for DefaultRuntimeDir.
5c38ad9 Fix typo added in r1838958
1df39fe Fix case in directive name, so that quickreference.xsl can extract default value correctly.
1b4b074 Fix typo
aebde8b Add some additional tests to report badly formatted synopsis. Comment-out these tests because of the noise it generates, but leave it there, if useful for s.o.
551dd2d mod_proxy_http: follow up to r1853561.
c3fe94a Revert r1853564.
4b53f9e mod_proxy_http: follow up to r1853409: no need to double flush on EOS.
a8633aa mod_proxy_http: follow up to r1853409: don't play with meta-buckets.
3641893 Create the configure for mod_proxy_hcheck when used in BalancerMember.
a6d7dea mod_proxy_http: follow up to r1853409.
bcf87c0 Fix numbering
01d8e19 mod_proxy_http: rework the flushing strategy when forwarding the request body.
33b2ad9 Follow up to r1847430.
20cb4ba fr doc rebuild.
7cdf97c XML file fr doc update.
6dc5963 mod_rewrite doc rebuild
0191ebe mod_rewrite.xml: add an example about override behavior
89e8328 Fix a race condition. Authentication with valid credentials could be refused in case of concurrent accesses from different users.
a35a813 http2: mark tasks' pools.
0362c2e Follow up to r1853133: CHANGES entry.
96b6041 mod_ssl: unset FIPS mode only if we set it.
21b79dc * server/core.c (core_pre_config): Reset state dir during pre_config.
146a681 documentation rebuild
96489c9 fr doc rebuild.
8fa9a25 XML fr doc files updates.
9853349 delete a blanck space
911f2b2 Fixing typos in documentation files. Bug issue https://bz.apache.org/bugzilla/show_bug.cgi?id=63122
3ee1b62 Make proxy modules compile if APR_HAS_THREADS is not defined.
38c9a8d  * inc http2 version number to distinguish to github released version  * further disentangle streama and request memory pools
a721d5c   *) mod_http2: Configuration directoves H2Push and H2Upgrade can now be specified per      Location/Directory, e.g. disabling PUSH for a specific set of resources. [Stefan Eissing]
c77b460 fr doc rebuild.
265535b fr doc XML update.
2960339 fr doc rebuild.
01f7b4d fr doc XML updates.
99a954b Quireference extract the default value of a directive  from the <default> of the corresponding <directivesynopsis> block.
57bac12 Fix typo (s/ProxyExpressDBMFile/ProxyExpressDBMType/) PR 63119.
bf4c713 Remove a useless compatibility note. It is already stated at the very begining of the page.
d0b2560 mod_ssl: give mod_md the chance to override certificate after ALPN protocol negotiation.
17f636c mod_http2: fixed slave connection keepalives counter.
7b490ed mod_http2: enable re-use of slave connections again.
4af9b5c reverting last change
55fa049 mod_http2: enable re-use of slave connections again.
083a83f revert of r808895 somehow missed mod_proxy_ftp
5464a1a Xforms
8250e1b Copy the "Note about /" note from the Location explanation to the LocationMatch explanation. Probably more people use LocationMatch than Location with "~".
a078885 Fix a typo reported by [stephane.blondon gmail.com] PR 63092
758c7c7 fr doc rebuild.
9124939 XML fr doc update.
e123e17 Add compatibility note missing in r1740967
02313bb Clarify potentially unsuccessful success results.
7c51994 mod_lua was moved to stable; https://s.apache.org/Xnh1 also linting.
8af1153 fix a misleading comment about s->defn_name
d41d452 Reverse the order of 2 tests to potentially save a few cycles.
8b1fb99 fr doc rebuild.
139174c XML fr doc update.
15b38bc fr doc rebuild.
613a716 XML fr doc update.
334c391 Typo.
4a18262 Give a littlet breath before the permalink
a69c1cd Follow up to r1828588.
628aad9 Remove the default CacheKeyBaseURL value, it doesn't have any.
393aa13 When a :port is included in the CacheKeyBaseURL the ":" is lost from the actual cache key value.  This doesn't harm apache by itself, the real problem arise if some external program which "knows" about the cache keys structure is used to modify the cache.
0447ee1 Fix a typo
351107b Fix websocket proxy over UDS.
34738c5 LanguagePriority should be case-insensitive in order to match AddLanguage behavior. PR 39730
39fbba1 Always decode session attributes early.
d2bc1ff * modules/ssl/ssl_engine_io.c (bio_filter_out_write,   bio_filter_in_read): Clear retry flags before aborting   on client-initiated reneg.
7f13dcc Resync several generated docs
b6fb133 * modules/aaa/mod_authn_dbm.c (fetch_dbm_value): No functional change:   return APR_SUCCESS rather than rv, which is guaranteed to be   APR_SUCCESS in current code.
273a1da * modules/md/md_acme_drive.c (acme_driver_init):   Remove written-but-not-read variable (gcc 8.x warning).
0a2914a Make mod_dialup.c compile when APR has no thread support. +1 from covener and jim on dev@
0628996 This just got me. I upgraded macOS to Mojave (w/ latest Xcode) and I always build w/ maintainer-mode. The problem is that libxml2 will include various unicode/*.h files that have C++ type comments, which causes building to fail (due to Werror). Work around this.
b41a875 Add new modules to the list of the 2.4 new features list
b2c033d Add compatibility note
dfa8a9c Add compatibility note as already noted in new_features_2_4.xml
17a38a1 Docs rebuild after copyright year update.
7a1524f Happy New Year 2019
11bd32e Use apr_uint64_t instead of uint64_t; Pointed out by ylavic
fef7dc6 Avoid hard-coded "%ld" format strings in mod_deflate's logging statements. On some platforms (e.g. OpenBSD) zlib's input/output counters are off_t instead of ulong, which resuls in format-string warnings from some compilers (e.g. clang). Work around this by upcasting to uint64_t. Discussed on dev@ with ylavic and wrowe
60bd654 And we are at 2.5.1...
baece39 For posterity
a28d3fd mod_http2: mergine trunk+2.4.x code divergences back into a single source with proper MMN checks.
f5d4dc4 Update after backport of r1849174 r1849174
0fd7ff7   *) mod_md: incorrect behaviour when synchronizing ongoing ACME challenges      have been fixed. [Michael Kaufmann, Stefan Eissing]
fc7fcd0 core: Fix incorrect substitution of env vars in directives containing multiple env vars.
81544f2 Bump seems to have been missed
b1e3454 core: Split out the ability to parse wildcard files and directories from the Include/IncludeOptional directives into a generic set of functions ap_dir_nofnmatch() and ap_dir_fnmatch().
3552227 Arrange the xml display and make it uses xml.
9d74d0c fix incorrect rv. Sorry.
e4b68ca Add error messages and return bad request.
fa1f1c8 * modules/dav/main/mod_dav.c (dav_method_propfind): Tag the scratchpool.
250c3f4 CHANGES related to r1842010.
39c9d11 fr doc rebuild.
f75c18d fr doc XML update.
ac4243b * support/htpasswd.c (usage): Fix bcrypt round maximum.
8122b2a * support/suexec.c (clean_env): Avoid use of sprintf; no functional change.
833c495  mod_http2: version bump, slave connections cleanup strategy changed
fe55941   *) mod_ssl: Fix mod_authz provider for "require ssl" directive to check correctly      on HTTP/2 connections. Fixes PR 62654. [Stefan Eissing]
505cf74   *) mod_ssl: clear *SSL errors before loading certificates and checking      afterwards. Otherwise errors are reported when other SSL using modules      are in play. Fixes PR 62880. [Michael Kaufmann]
6a3249c * Makefile.in (check-yes): Re-run make before running t/TEST in case   Apache::Test is stale and needs updating.
a6f1af5 Revert r1844928 and follow up r1844942.
446ff4a fr doc rebuild.
1236ad6 XML update.
3cd2a17 mod_ssl: follow up to r1844928: revert an unintentional change.
860f83d mod_ssl: axe dead code.
583d381 * Add a command to dump some data from the scoreboard
8b3678b mod_ssl: follow up to r1844779: fix rollback in char_buffer_consume().
cd5255c request: forward as much buckets as possible in ap_request_core_filter().
a84b692 mod_ssl: bind buffered data to filter's pending data.
ea3db73 Retsore 2.4.x default behavior modified in r1557580. Update doc accordingly.
daa8b61 documentation rebuild
7d89ac2 mod_proxy.xml: explicitly state that proxypass cannot be used with If
05cdb1a Fx a likely typo in r1842929: runtimedir plus statedir instead of runtimedir twice.
25262c0 fr doc rebuild.
3485650 XML update.
60e6c6c STATUS: added item to the wishlist for 2.next
595434d documentation rebuild
6e8ce29 mod_headers.xml: clarify the difference between                  onsuccess vs always
0a68fa9 * modules/ssl/ssl_engine_init.c: Fix typo in log message.
d11a3b2 Fix a shadow (and useless) variable.
ffd572a * modules/md/md_acme_authz.c (md_acme_authz_update): Fix typo in log   message.
8280486 rollback 1844001.
a51f570 * Correctly merge configurations that have client certificates set   by SSLProxyMachineCertificate{File|Path}.   The certificates and keys loaded during configuration time got lost during   runtime if e.g. SSLProxyMachineCertificate{File|Path} was set on virtual host   level and there was an SSL directive at directory level, e.g. SSLRequire.   This fixes a regression likely introduced in r1740928.
bbdbf79 And a way to custom modules to guess and extract ssl variable. See https://github.com/jfclere/JBCSP-17 for example...
5bfbbcf SSL_read() doesn't distinguish between return value 0 and <0, at least not for OpenSSL 1.1.1. This is documented in the man page for SSL_read and let to h2 failures when using OpenSSL 1.1.1.
e931d1d * Ensure that aborted connections are logged as such.   Set c->aborted before apr_brigade_cleanup to have the correct status   when logging the request as apr_brigade_cleanup triggers the logging   of the request if it contains an EOR bucket.
72a5aa1 md_acme_drive.c: remove unused variable
2a7c231 fr doc rebuild.
d1cdabe XML update.
aa43d94 fr doc rebuild.
a379355 XML updates.
ba0bb98 On the trunk:
ed6c8a0 mpm_event: avoid AH00484 with idle threads
5ea4fa8 Eliminating some advanced conversion and shadow declaration compiler warnings.
11654c1 mod_http2: adding defensive code for stream EOS handling, in case the request handler      missed to signal it the normal way (eos buckets). Addresses github issues      https://github.com/icing/mod_h2/issues/164, https://github.com/icing/mod_h2/issues/167      and https://github.com/icing/mod_h2/issues/170.
67ff312 mod_http2: bringing some signed/unsigned casting goodness, aligning with github mod-h2 again
2a7b6a7 Add CHANGES entry
cb38043 mod_session_cookie: avoid adding the Set-Cookie header                     in both r->headers_out and r->err_headers_out                     to avoid duplication.
d658977 mod_brotli, mod_deflate: Restore the separate handling of 304 Not Modified responses allowing these modules to properly set or fix-up the response headers such as Vary or ETag.
165ee80 ran `build bootstrap` and rebuild transformation. sorry for the noise.
f2b5ac9 move es and fr targets to *.utf8 extension. Update transformation
a112130 Fix xml validation error
cfb26a5 Add changes, docs for DefaultStateDir and DavLockDB default change.
aa9c1ea * modules/dav/fs/mod_dav_fs.c (dav_fs_create_server_config): Use   statedir-relative default lock database path.
0507bb7 Define "state directory" for storing persistent child-writable state, with default from config.layout, configurable via DefaultStateDir.
b01a818 * modules/cache/mod_cache_disk.c (write_headers): Handle   mkdir_structure error case.  Fixes Coverity warning.
68b0e99 * server/protocol.c (ap_rvputs): Call va_end before returning in the   error case, as required by C89/POSIX stdarg.h - Coverity warns for   this.
a185e53 * modules/ldap/util_ldap_cache_mgr.c (util_ald_create_caches): Destroy   rather than leak caches if all three cannot be allocated (Coverity   warning).  Remove unnecessary pointer.
38e12a1 * modules/filters/mod_deflate.c   (deflate_out_filter): Fix typo setting output note. (Coverity warning)   (deflate_in_filter): Fix redundant assignment. (clang warning)
53e64f0 * modules/mappers/mod_negotiation.c (set_language_quality): Remove   redundant branch (warning from Coverity).
17d8d54 * modules/ssl/ssl_engine_pphrase.c (ssl_load_encrypted_pkey): Remove   redundant assignment (clang warning).
c557a7a * modules/slotmem/mod_slotmem_shm.c (restore_slotmem): Remove   redundant assignment (clang warning), the apr_file_eof(fp)=>APR_EOF   case assigns rv to APR_EOF and then to APR_SUCCESS after already.
6ac821d * modules/proxy/ajp_header.c (sc_for_req_header): Zero-initialize   buffer to avoid potential (harmless) memcmp comparison against   garbage stack data later.  (clang warning).
48223d7 XForms.
eb3df8f Remove garbage.
2048e66 build bootstrap
b79055e Spanish html doc files : UTF-8 encoding in order to get rid of HTML entities.
210be33 Spanish html doc files : UTF-8 encoding in order to get rid of HTML entities.
4ae9d65 Spanish html doc files : UTF-8 encoding in order to get rid of HTML entities.
3e754d6 * Pickup the proxy related configuration for verify mode and verify depth and   not the configuration settings for frontend connections in case of   connections by the proxy to the backend.
08ba5b4 Rebuild after XML typo correction.
0376753 XML typo.
b102c09 Rebuild after fr doc update.
e79c4bc XML update.
a92100e French html doc files : UTF-8 encoding in order to get rid of HTML entities.
3221cc0 The XSLT Saxon engine warns about some "Ambiguous rule matches". Use priority to remove the ambiguity.
695c187 Revert r1842160
4260a8a The XSLT Saxon engine warns about some "Ambiguous rule matches". Use priority to remove the ambiguity.
2702dc8 The XSLT Saxon engine warns that  match="@*" will return only attribute nodes, which can't have any attributes or child.
3867aa3 Revert borked transforms.
ef1dedf updated bind.xml.es and uploading meta file for build
cf26c49 * dav_stream_response processes data that has been allocated from the propdb   pool. Hence close the propdb *after* dav_stream_response which clears thei   probdb pool.
3a0f075 * include/httpd.h: Define HTTP_TOO_EARLY (425) per RFC 8470.
7473595 Apply transformations.
95d673e ab: Add client certificate support.
702350e XML file update.
220630b mod_ssl doc rebuild
d60a0be mod_ssl.xml: fix TLS 1.3 RFC link
5a73b50 On the trunk:
9359e20 On the trunk:
4a37496 * Doing a PROPFIND on a large collection e.g. 50.000 elements can easily   consume 1 GB of memory as the subrequests and propdb pools are not   destroyed and cleared after each element was handled.   Do this now. There is one case in dav_get_props where elem->priv   lives longer then the propdb pool. In this case allocate from r->pool.   Furthermore also recycle propdb's which allows to clear the propdb's   pools instead of destroying them and creating them again.
20e049a * modules/ssl/ssl_engine_kernel.c (ssl_check_post_client_verify):   Retrieve and set sslconn->client_cert here for both "modern" and   classic access control.   (ssl_hook_Access_classic, ssl_hook_Access_modern, ssl_hook_Access):   Restore SSLRequire and FakeBasicAuth checks to ssl_hook_Access so tests   are still applied for TLSv1.3.
75709ec Fix properties, add missing html file
c0e273a update transformation
7ec342a Rebuild fr doc.
f66f50b XML update.
98e081d Add some compatibility information
1e3badb follow-up to r1656549.
4a720bb * modules/ssl/ssl_engine_init.c (ssl_init_ctx_protocol):   Disable AUTO_RETRY mode for OpenSSL 1.1.1, which fixes   post-handshake authentication.   (ssl_init_proxy_certs): Fix proxy client cert support with   TLSv1.3, which is now crippled by default.
8167fff move the assignment to the end of the loop.
1b59b52 Follow up to r1840265: really privatize ap_filter_{recycle,adopt_brigade}().
50f39b0 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access_modern): Fail with   403 if SSL_verify_client_post_handshake() fails, e.g. when the   TLS/1.3 client didn't send the Post-Handshake Authentication   extension.
5133c75 mod_proxy_hcheck: Fix issues with TCP health checks. PR 61499
1cf9692 cleanup after backport
9b9ecda * modules/arch/unix/mod_systemd.c (systemd_pre_mpm, systemd_monitor):   Ignore sd_notify{,f} failure cases as currently recommended by the   systemd API docs.
6455286 * modules/arch/unix/mod_systemd.c (systemd_post_config): Fix systemd   service getting stuck reloading if "ExtendedStatus off" is   configured; regression in r1802251.
5ab81a7 Follow up to r1840149: core input filter pending data.
4d3ea26 fix StrictHostCheck in single/non-NVH vhosts
6c36cfb Follow up to r1840149: MMN text rephrased.
e70b8bf util_filter: protect ap_filter_t private fields from external (ab)use.
0093e3a core: follow up to r1839997: some runtime optimizations.
9ac73b8 On the trunk:
5262e7e core: follow up to r1839997: recycle request filters to a delayed ring first.
c486973 Axe spurious comment (added and addressed in r1839997).
0a61dd9 core: always allocate filters (ap_filter_t) on f->c->pool.
ef4b139 On the trunk:
ee0e1be util_filter: split pending filters ring in two: input and output ones.
fa321dd On the trunk:
9efafb1 Use APR apr_time_as_msec() macro for conversion from apr_time_t to milliseconds instead of hard-coded division by 1000.
ed09045 Follow up to r1835845 and r1839571: CHANGES entry.
972ad6c MPMs: early initialize scoreboard's child generation number.
260f53e mod_proxy: follow up to r1645529: 502 in case of SSL handshake failure.
b659ff3 Rebuild fr doc.
2679cd9 XML updates.
f8b13b7 These need to be signed longs... cast as needed.
65f9bc3 Add some more modules that use mod_watchdog
b31270f Axe an old and apparently out-dated comment.
ed6afb7 Revert r1839247
090c518 Axe an old and apparently out-dated comment.
7bf088e Add missing space
2115db0 MMN bump
ae1582f Add a note in ThreadsPerChild about the relationship with ThreadsLimit.
822fab2 Use the default location to display a default value (+ some minor style issues)
43b8f25 better struct layout ...
5625106 optimize struct layout
52412c8 update field comment
a348cc4 Fix an example (/foo vs /foo/bar)
465d468 Update updated field at the start of the check rather than at the end. Re: [Bug 62318] healthcheck
d8ba152 When a rewrite to proxy is configured in the server config, a check is made to make sure mod_proxy is active.  But the same is not done if a rewrite to proxy is configured in an .htaccess file.
ae98f59 s/require/Require/ to help another syntax color highlight work correctly.
aa13d94 s/require/Require/ to help syntax color highlight work correctly.
7781de4 Rebuild.
741826e XML update.
c66bd26 Save some cycle.
735db52 - Add some links. - Remove the space in "character set" in the syntax of ProxyFtpDirCharset to avoid confusion (it is 1 parameter only) - Use the correct syntax for the "default" values, so that they are parsed and correctly displayed in 'quickreference' - Remove extra [] when directive's parameter are required
1cb2f82 Fix a cppcheck warning.
e9d215e Fix a cppcheck warning.
7f558e5 Fix a cppcheck warning.
4bfdeca uploading file to keep the ongoing changes
7e7ee80 add ids
91c75b9 minor bump from r1838055
19e9326 Add StrictHostCheck
a54f7fb don't use workaround on trunk
a920a90 Axe some redundant conditions. PR 62549.
4176ecb Follow up to r1837822: typo.
e1b6c18 ap_request_core_filter() can check whether the next filter should yield.
3c7f5e2 core: ap_filter_output_pending() to flush outer most filters first.
987966c Remove backported items from trunk/CHANGES
ca78ac0 Patch PR 62567. Fix by Michal Karm Babacek <michal.babacek gmail.com>
ed52157 mod_status: Cumulate CPU time of exited child processes in the "cu" and "cs" values. Add CPU time of the parent process to the "c" and "s" values.
2a7d17c mod_status: Add cumulated response duration time in milliseconds.
b2f8c11 mod_status: Complete the data shown for async MPMs in "auto" mode.  Added number of processes, number of stopping processes and number of busy and idle workers.
8cae474 mod_proxy: Improve the balancer member data shown in mod_status when "ProxyStatus" is "On": add "busy" count and show byte counts in auto mode always in units of kilobytes.
e49671c Follow up to r1833368 and r1837435: update APLOGNO.
9b88f39 mod_ssl: OpenSSL now initializes fully through APR, use that.
d844a8e Fix comment in mod_lua and docs.
7073116 Save a few cycles. There is no need to check the first bytes, they are known to be "bytes ".
4a11e09 Bump mmn for worker_share struct update
53e4898 update after backport
53e517a On the trunk:
7a471fe event, worker: follow up to r1835845, r1837354: pruntime is global now.
8cea507 event, worker: initialize the objects used by signal_threads() first.
43fe716 If ProxyPassReverse is used for reverse mapping of relative redirects, subsequent ProxyPassReverse statements, whether they are relative or absolute, may fail.
c7c6875 Fix PR54848 in a 2.4.x backportable format. Ideally deprecating the use of ->client in whatever version of 2.4 this is added into would be more logical.
8658f30 spelling
b529e04 Updated to match English revision 1834263 added the hints secction to spanish
6994eec Rebuild.
61bb76f XML updates.
687e1d8 core: set ap_request_core_filter() last.
352e0fa mod_ratelimit: Don't interfere with "chunked" encoding.
53ab92a missing english rev-1779744 from line 274 to end everything else updated, will be added in next commit
1b7aebb missing english rev-1779744 from line 274 to end every thin else updated, will be added in next commit
4c1c907 rebuild html file
a104a78 updated translation to match EN-rev 1826856.
e29481f Backported in 2.4.34.
f673148 http: Enforce consistently no response body with both 204 and 304 statuses.
3501979 mod_proxy_http: follow up to r1836588: nonblocking read for 100-continue body.
710e015 updated line that has been added on English revision file
082f89a xform
ba7da08 replace mystery smart-quotes copy/pasted from httpd.conf + vi.
f6fcec7 mod_proxy_http: follow up to r1836588: fix drop of spurious 100 responses.
12c264b mod_proxy_http: follow up to r1836588/r1836648: handle unread 100-continue.
e9ba7c1 clean up sandbox, touch mod_proxy.xml, rebuild.
029ea11 xforms
816f134 expand on ProxyPassReverse args
9559832 mod_proxy_http: follow up to r1836588: avoid 100-continue responses from core.
e12641c xform
6f1db42 add 2 conditional logging examples
93ca236 * Forward port r1832855 missing in trunk.
942e18a * ap_proxy_balancer_get_best_worker cannot be exported and used as an optional   function at the same time. So rename ap_proxy_balancer_get_best_worker to   proxy_balancer_get_best_worker and make it static which is then used as an   optional function and recreate ap_proxy_balancer_get_best_worker as an   exported thin wrapper of proxy_balancer_get_best_worker.
3558bdf mod_proxy_http: forward 100-continue.
af45dd7 * modules/ssl/ssl_engine_pphrase.c: Fix linking against OpenSSL without   ENGINE support.
638040d * config.layout: Allow configure --localstatedir to over-ride /var/www   location in Fedora layout.
53f8626  * mark mod_proxy_http2 and mod_md as 'experimental' on their documentation
55e5ee2 * Add missing log numbers
b8fc2a1 * Credits to Bill for the analysis and the pointer to the solution.
2acd655 * Always retrieve conditional function. static variable might contain garbage if module was reloaded in a static build.
6ab482e * Remove invalid copy and paste comments
81e420c * mod_proxy: Remove load order and link dependency between mod_lbmethod_*   modules and mod_proxy by providing mod_proxy's ap_proxy_balancer_get_best_worker   as an optional function.
3fdba06 core: axe data_in_in/output_filter from conn_rec.
f46ac6d core: follow up to r1836237: core filter's tmp_flush_bb not used anymore.
2095e94 xform
8abf39d Correct see also comment
98ca039 mod_proxy_hcheck: take balancer's SSLProxy* directives into account.
239a84d core: follow up to r1836237: whitelist in-memory buckets.
9d5281c util_filter: axe loglevel explicit checks already done by ap_log_cerror().
69fd1f0 core: avoid double loop in ap_filter_output_pending().
8d0a14e core: integrate data_in_{in,out}put_filter to ap_filter_{in,out}put_pending().
8a6e1c3 core: core output filter optimizations.
9c10bd6 * Makefile.in (install-suexec*): Fix make -jN install.
005089f  * using the, hopefully correct, ever elusive libressl version numbering check for the new openssl API calls, fixes PR 62548.
297d19d English version reference update.
46be442 english as first/only language
3f9aa0a paraphrase rfcs/code better
ed8996d core: Add ReadBufferSize, FlushMaxThreshold and FlushMaxPipelined directives.
12745a9 Rebuild.
9ac4d10 XML update.
823a630 util_filter: Axe conn_rec->empty brigade.
eb5e821 core: Add ap_reuse_brigade_from_pool().
fdea2be util_filter: follow up to r1835640: pending_filter_cleanup() precedence.
44ebaf0 event: follow up to r1835845.
10c930d event, worker: runtime pool.
ed20a1c Explain the limitation of <IfFile> with a filename with surrounding quotes in 2.4.34.
f191c3c Adding html files after doc rebuild ; why did I have to do that ?
0b88a84 Versionning manual/platform/windows.html.fr.
71b2549 git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1835746 13f79535-47bb-0310-9956-ffa450edef68
7c683ee git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1835744 13f79535-47bb-0310-9956-ffa450edef68
31ba211 Rebuild.
e799966 WML update.
ff5b8ec Rebuild.
c9b20b5 New french translation.
9dcd1c3 Rebuild.
7bee059 Rebuild (with 8 bits characters replaced by their HTML entities because -Xbootclasspath/p option disabled in build.sh script because it is no more supported in openjdk 10)
3e19059 XML update.
abab1d4 util_filter: keep filters with aside buckets in order.
efd2868 * modules/ssl/ssl_engine_pphrase.c (modssl_load_engine_keypair): Load   the engine associated with the private key (&cert) explicitly   rather than requiring the engine to be set as the default method   for all operations (with "SSLCryptoDevice <engine>").
4e17a98 Update docs and bump logno for PKCS#11 support change in r1835615.
9adaa7c * acinclude.m4 (APACHE_GEN_MAKEFILES): Respect configure --quiet by   sending fastgen output to the appropriate fd.
f9b4e1c XML update.
f22c197 Review by popcorner with further edits by both CodeingBoy and popcorner, their discussion at https://github.com/popcorner/chect/pull/1
80bc17f * modules/ssl/ssl_engine_pphrase.c: Add logno tags.
45e3cf9 Hook up PKCS#11 PIN entry through configured passphrase entry method.
1779ce8 XML update.
3ec305d XML updates.
96b8302 On the trunk:
6b28a01 On the trunk:
d7e00ab global ap_server_conf must be reset when process->pconf is cleared
40dec80 Rebuild.
7bba43a XML updates.
a5c4b0a backported
3b13244 Synch with 2.4.x
e605118 Be more consistent on how we display the paramters of a directive
b9214a4 mod_md: more robust handling of http-01 challenges and hands-off when module      should not be involved, e.g. challenge setup by another ACME client.
e712467 Regenerate.
25f93c6 Follow up to r1833368: apr_crypto_prng_after_fork() changed its args.
126d478 documentation rebuild
d14adf5 mod_proxy.xml: add vhost/server contextes for ProxySet
20fb036 Allow openssl.pc to be in lib64 (like other components).
e0ce342 Render <code> in bold in man pages, matching commonly used style in both help2man and the standard DocBook XSL stylesheets for man output.
64fe380 documentation rebuild
ceacf1f output-filters.xml: add a use case study
0483837 Re-allow '_' (underscore) in hostnames.
e652296 Synch with 2.4.x.
fe00cab This is not part of 2.4.x yet.
8bed471 xforms
143ad47 Fix typo
27ca016 xforms
fab7705 Synch with 2.4.x. mod_http2 is nor more experimental.
9d8eaaa xforms
b3a9f5a More s/code/module/ Prefer <module> to hard coded <a href=...> Add some direct links to directives Split long lines
d4b8957 Fix a typo and use <module> instead of <code> in order to have links and a better syntax highlight
d2c92c2 Add a CHANGES entry
2ed2702 Synch with 2.4.x.
6142b57 documentation rebuild
9bd3008 mod_proxy.xml: follow up r1834203
e10f5c3 Function used as 'apr_reslist_destructor' when calling 'apr_reslist_create()' should have the following prototype:
c9ed35a Fix some style issue to improve readability:    - break long lines    - remove un-needed 'return' statement    - fix the position of the first { in function
f9dea2b Follow-up to r1754161
7239b50 Remove a compatibility note that is not relevant any more.
3e43957 Rebuild.
3dbc85b XML update.
6219ad1 XML update.
a558a01 XML update.
68325a5 XML update.
bd45884 If several parameters are used in a AuthzProviderAlias directive, if these parameters are not enclosed in quotation mark, only the first one is handled. The other ones are silently ignored.
98b7386 documentation rebuild
4433199 mod_proxy.xml: clarify the usage of variable interpolation
b2fea08 Axe some CHANGES entries backported to 2.4.x.
9aa8d41 Compat 2.4.24 for SSLOCSPEnable leaf (r1834089) and ResponseFieldSize (r1834093).
d9c8dc1 Improve syntax highlight and add the default value of ProxyHTMLBufSize in the description of the directive.
ac94831 re-add uwsgi
3186f4a xforms
18fdadd Nore userland/PR change
9121d9c Add default schema ports for websockets PR:62480 Lubos Uhliarik <luhliari@redhat.com>
c781dd0 documentation rebuild
e87ee79 Remove some trailing spaces to synch trunk with 2.4
7bb2bf1 mod_cache: Per RFC 7234 section 5.3 an invalid Expires header value must be interpreted as a time in the past. So apply the logic concerning "CacheStoreExpired" and "max-age" and "s-maxage" handling, which we are already using for a valid Expires header containing a time in the past, also to the case of an invalid Expires header.
17c16cc mod_ratelimit: fix behavior with proxied content
fd5f81e add server_rec to log.c fatal startup errors
275b140 mod_ssl: build with LibreSSL.
6d730fb mod_ssl: use SSL_HAVE_PROTOCOL_TLSV1_3 to check for compiled in TLS 1.3.
35ca22d mod_ssl: disable check for client initiated renegotiations with TLS 1.3.
e6c090e Follow up to r1833368: share openssl between modules.
ebe2160 Remove extra and un-needed ""
a984816 apr_pcalloc can be turned into apr_palloc (the allocated memory is fully initialized by the subsequent memcpy/strcpy) and '(int)strlen(p)' can be replaced by 'plen - 1' to save some cycles.
a3a4a2c Follow up to r1833368: fix "mixed declarations and code" warning (buildbot).
2cbd1d0 Follow up to r1833368: apr_crypto_prng_after_fork() now used a PID.
5c07245 Make use of the new apr_crypto_rng API if available.
5e21bd5 Rebuild.
6edad1b XML update.
c2f9d44 * configure.in, Makefile.in: Handle no-test-suite case through   check-no rule.  Only regenerate the test suite on repeated   "make check" run if a header file has changed.
7711d39 Avoid cyclic dependency by moving ap_set_etag() from module http to core.
07ab2af * modules/http/http_request.c (ap_process_request_after_handler,   ap_process_request): Cache and retrieve the brigade structure used   to send EOR and FLUSH between requests in c->pool userdata, to avoid   allocating a brigade structure per-request out of c->pool.
af3353b * Makefile.in: Pass TESTS=... to run only specific tests with make check.
a1159c8 mod_ssl: after code review, changed:  * eliminated SSLPolicyRec as name no longer used  * eliminated some left over parameters in internal functions due to policy def removal  * reverted a NULL test, necessary before
dd57f48 * modules/proxy/mod_proxy_hcheck.c (sctx_t, hc_create_config):   Remove unused bucket allocator created off pconf.   Tag the subpool.
d91c0c0 * modules/proxy/proxy_util.c (ap_proxy_share_worker): Skip creating subpool   for debugging unless debug-level logging is enabled.  No functional change.
0ab2b14  * mod_proxy_http2: ressurrecting some of the good parts of r1831231 and using memcpy instead of strncpy to make intentions more clear
94f4356  * integrating latest changes from microgrit  * MDNotifyCmd can now specify arguments to the command
5d7b3a9 Fixing h2 proxy link header mapping to substitute correctly again after r1831231 breakage.
396d68b image size 0x34000 exceeds specified maximum 0x30000
408a852 build mod_proxy before mod_proxy_http2
d0c885c9 These are in 2.4.x
009b155 Follow up to r1832580: correct CHANGES entry.
989ebe3 mod_remoteip: Fix RemoteIP{Trusted,Internal}ProxyList loading broken by 2.4.30.
68d4e9a mod_proxy_balancer: follow up to r1828890: indentation and 80 col.
1d77d11 Axe backported entries.
ad20084 mod_slotmem_shm: follow up to r1831869: fix dead else if condition.
5777ff9 Rpm: fix the location of the PID file so as to avoid timeout delays on systemd.
07ffca3 All error handling paths of this function call 'apr_brigade_destroy()' , except this one. So add it here too.
2aa27e3 All error handling paths of this function call 'apr_socket_close()' , except this one. So add it here too.
f4799c2 Have code and doc consistent. The SSLRandomSeed  builtin, uses 128 bytes of stack, not 1kb of scoreboard data.
18a2343 Rebuild.
13bf898 XML updates.
4be1913 Fix a potential un-intialized variable usage warning. This can not be a runtime ixsue, because, in such a case, we would assert and abort before.
2345de9 If several directories are given in a UserDir directive, only files in the first existing one are checked. If the file is not found there, the other possible directories are not checked. The doc clearly states that they will be checked one by one, until a match is found or an external redirect is performed.
5dca628 mod_proxy: add a link to the status flag table
5daf75b In 'ap_proxy_cookie_reverse_map', iterate over each token of the 'Set-Cookie' header field in order to avoid updating the wrong one.
3cc71fb Fix typo
674cbb4 Axe some dead code.
8deacce Axe some dead code.
cda22a0 Success of 'SHGetMalloc()' should be tested with the SUCCEEDED macro.
99f34e5 http_protocol.c: avoid duplicate headers when using                  ap_send_error_response
24e953d * modules/ssl/ssl_engine_config.c: Fix typos, but isn't this first TODO   actually done?
92cdeca * Makefile.in (check-binaries): Split out binaries to separate targets   so repeated "make check" still works.
12c6a93 Fix "make check" to be able to find ab, creating a "bin" inside the dummy install root at $builddir/check.
33bd599 mod_proxy_balancer: clear slotmem slots' inuse flags from persisted files.
8f98339 mod_slotmem_shm: follow up to r1831869: fix persisted file size's checksum.
13d4c25 Rebuild.
0a02585 XML update.
d941938 Follow up to r1831869: update CHANGES entry.
e86620f mod_slotmem_shm: follow up to r1831869 (check persistent files).
6473ad7 mod_slotmem_shm: follow up to r1831869.
9fa1425 mod_slotmem_shm: use a generation number for SHM filename on all platforms.
c83994e Restore mod_slotmem_shm from 2.4.29.
6ae08b2 Error page translations submitted for zh-cn and zh-tw, contributed by CodeingBoy <codeingboy gmail.com>.
826975e PR62311: only create the rewritelock when needed
2a52d4e PR62368: Print the unparsed URI in AH03454
4ab3d31 I don't know if 'c' can be NULL here, but we should not dereference it before checking.
76418da Revert r1831218, the API garantees slotmem_attach() is called in child_init().
eb353ff mod_slotmem_shm: follow up to r1830800, preserve callee API.
1ab85bf  * mod_http2: fix by notroj to silence gcc strncpy warnings and simplify
fee6239 http2 version step
21cdbc9 mod_proxy_balancer: follow up to r1830800.
4838640 Transforms.
dc842f8 Add next-number bump missed in r1831173.
acd5236 * modules/ssl/ssl_engine_init.c (ssl_init_server_certs): Add error   logno. Free EVP_PKEY in engine case.  Never try reading ECDH/DH   parameters from engine ids.
5aaea4e fix bld break in r1831165
b717273 style fix for r1831165
bba7b98 mod_ssl: Add support for loading TLS certificates through the PKCS#11 engine.
6e0a97c mod_ldap: log and abort locking errors.
873c8ed Rebuild.
359e244 XML update.
47b9d77 Rebuild.
ce1c684 XML update.
2de1c49 Save a few cycles.
20e671b Save a few cycles and simlify code.
9e4ad2f Simplify the ssl_asn1_table API, remove abstraction (it is used only to cache serialized EVP_PKEYs not any char * blobs), and document.
06479a8 * modules/ssl/ssl_util_ssl.c (modssl_read_privatekey): Remove unused   second argument.
abff705 * modules/ssl/ssl_util_ssl.c, modules/ssl/ssl_util_ssl.h:   Remove modssl_read_encrypted_pkey() and helpers, added in r1804087   but never used.
78cfb93 Transforms.
c267110 Use <var> for variables in directive syntax everywhere for consistency.
ab82a8d Transforms.
382e540 * modules/ssl/ssl_engine_pphrase.c (ssl_load_encrypted_pkey):   Simplify code, no functional change.
0429430 mod_ssl: Add support for loading private keys from ENGINEs.  Support for PKCS#11 URIs only, and PIN entry is not threaded through SSLPassPhraseDialog config yet.
7603230 * modules/ssl: Add some missing logno tags.
c93e111 mod_slomem_shm: Handle a generation number when the slotmem size changes.
72eb879 * build/config_vars.sh.in: Clean more variables from installed   config_vars.mk.
04c0948 * modules/md/config2.m4: Only export "md_module" symbol   for a DSO build.
e275cc3 mod_proxy_html: Fix variable interpolation and memory allocation failure in ProxyHTMLURLMap.
f5c6ef4 Follow up to r1822537: replace static variable with pool userdata.
77fd5a3 On the trunk:
e864925 On the trunk:
5529336 mod_xml2enc: follow up to r1829038 and r1829039.
c81b2af Follow up to r1828222: fix "defined but not used 'prot'" warning with libressl.
9df2e49 Add mod_socache_redis docs
c17a947 documentation rebuild
6647764 mod_proxy_http2 docs: added section about HTTP/2 PUSH implementation and alternatives.
be0c3bd trivial tweak
347fed0 mod_http2 documentation: going a bit more into PUSH details and explaining H2EarlyHints feature.
7befd36 On the trunk:
bd5718d mod_log_json: fixing compilation errors in maintainer mode.
43e8216 Add mod_log_json
fbaec28 Move APACHE_CHECK_JANSSON m4 macro to general includes so additional modules can use it.
74d88f7 Save a few cycles.
fab86dc Axe ap_rgetline_core(), not used anymore.
3cd0ddc3 Follow up to r1829659, ap_[f]getline() EBCDIC awareness.
2089af8 Rebuild.
7ec611f XML updates.
cf7c24a XML update.
025ed9b rebuild with extraclean to pick up permalinks in
c1f2f93 xforms
6ca32f9 xforms for mod_filter
b160984 try to make the mod_filter docs a little more approachable
368fa54 Improve highlight and make these doc much more readable.
917ee6e Delay some memory allocation.
5738365 http: add ap_fgetline() and AP_GETLINE_NONBLOCK flag.
15facfd mod_proxy_http: follow up to r1829573: remain EBCDIC friendly.
f8eec46 core: forward flags to recursive/folding call to ap_rgetline_core().
8dfa495 Restore comment about LimitRequestBody vs proxied responses.
a3eef41 http: LimitRequestBody applies to proxied requests.
9cf83a2 Fix some formating. (extra '.', missing <code>)
a9801cc mod_proxy_http: make use of AP_GETLINE_NOSPC_EOL in ap_proxygetline().
3360700 core: Add and handle AP_GETLINE_NOSPC_EOL flag in ap_rgetline_core().
81af07c * modules/ssl/ssl_engine_init.c (ssl_init_Module): Don't enable SSL   for a vhost if SSLEnable is not used and no certs are configured,   even if the Listen protocol is "https".  Restores behaviour to that   prior to r1809303 for configs which would now otherwise fail at   startup.
c4c9483 These tokens should not be emphasised.
adf6ef9 Explain when the surrounding double quotes arround the expr argument MUST be avoided.
29c346e Guess at fixing win32 build regression on trunk introduced by r1734656
c16933d * modules/ssl/ssl_util.c (modssl_request_is_tls): Adjust   to take SSLConnRec * out parameter rather than SSL *.
fb92787 Factor out logic to determine if request is using SSL/TLS and use it consistently.
d72c4bb Rebuild.
51cb88a XML updates.
a597c1f Dump server_rec ->addrs list in dump_server_rec.
520827d mod_xml2enc: follow up to r1829038.
c12ad33 mod_xml2enc: Fix forwarding of error metadata/responses. PR 62180.
528f71d * server/vhost.c: Remove redundant vhost_check_config hook which never   fails, r1053230 removed all the places where config_error was set.
a200c75 add log id for r1828926
bd1ccf5 PR62199: add worker parameter ResponseFieldSize to mod_proxy
5d75568 PR62186: preserve %<m for ErrorDocument internal redirects
5968cd3 COMPAT BREAK: This may change the hash keys used to cache privkeys across a reload so don't backport this to 2.4.  Otherwise it's only user-visible in logging output.
90bfc43 * modules/ssl/ssl_util.c (ssl_util_vhostid): Simplify code,   no functional change.
ff4f6c1 * modules/generators/mod_info.c: Constify fixed tables and mark   module-private global variables static. No functional change.
55b4505 mod_proxy_balancer: Add hot spare member type and corresponding flag (R). Hot spare members are used as drop-in replacements for unusable workers in the same load balancer set. This differs from hot standbys which are only used when all workers in a set are unusable. PR 61140.
c2be167 On the trunk:
53f13f9 Update prettify.js
2f4de8e Align the regex with the one used in 2.4.x which gives nicer results.
0dc4c7d We need to get the SSL_CTX for further processing down below.
e2b5f7b * Fix copy and paste typo.
8860bd0 * The sslconn parameter is not used.
d222913 * Whitespace fixes. No functional change
7a7127a mod_logio: Add LogIOTrackTTFU and %^FU logformat to log the time difference between request start and last request body byte read (finished upload).
83a4cb9 On the trunk:
56e6ddb On the trunk:
674a7c8 Rebuild.
7323e81 XML updates.
03e3ef2 On the trunk:
4f11950 modules/md/mod_md.h is now a new public API also used by other modules (currently mod_ssl), so it must be in the include path. It was missing for cmake builds.
96f81bf Rebuild.
994ab95 Update Spanish documentation to match EN rev 1824141
dc188ff Compatibility and Override elements inversion.
00e726d XML updates.
6e66beb Updated to EN revision 1828588 changed permalink bug report known issues and bugfix  translated to spanish
3c74876 Initial doc for the sosache_redis module.
d0d1b2d Use apr_pcalloc in the 'create' function. All the fields are initialized in the 'init' function, but it is It is cleaner and more future proof.
30254a5 New xsl file which generates ready to copy/paste strings for prettify(.min).js
fa84d34 Add a permalink functionality to section and diective-section in the generated doc. This is convenient and consistent with httpd.a.o
2e5c64d Remove an extra '>'
4d62a81 * Add missing CHANGES entry for revisions 1822849,1822858,1822878,1822879,1822883,1828485
044c905 needs mod_http2.h
933a8f6 Add some compatibility note + some small syntax highlight sugar.
e9ce7c5 mod_ssl: Fix merging of proxy SSL context outside <Proxy> sections.
3c02abb For all practical purposes, MS IE 2.0 thorough 5.0 cannot connect to any httpd 2.next deployments; therefore the user-agent string will not be readable, and this cruft is now a no-op. MS IE 20.0 in the far far future may try to connect, removing this cruft future-proofs us.
50cb926 On the trunk:
eb903b6 On the trunk:
c9e9ecf On the trunk:
afba88e On the trunk:
815b6a6 On the trunk:
eabb0e6 CHANGES for r1828172
d7e880f PR62229: add CGIScriptTimeout to mod_cgi
ec55fff doc rebuild
cc00cf7 Add a note about prepared DBD queries to rewritemap docs. PR#60440 identifies this as a gotcha!
f8f80fe docs rebuild
d28916c mod_proxy.xml: docs improvements
e7202dc xforms
587941f bring balance to the force
352d92c On the trunk:
8b305c8 On the trunk:
2ab41d3 On the trunk: mod_ssl: add support for TLSv1.3 (tested with OpenSSL v1.1.1-pre3, other libs may      need more sugar).
e94ac93 Use 'ap_log_rerror()' instead of 'ap_log_error()' consistently
144e2d8 Fix a potential compiler warning about uninitialized variable. PR 59821
b59b7bd rebuild
a22567d Add a summary and explain at which loglevel the module operates. (related to PR 59088)
7d98edc Small tweaks
1c9a4b1 On the trunk:
fa6a866 Rebuilt
8b6081c synch with 2.4.x doc which is clearer (for the [ms] syntax at least)
2295e56 Document built-in DOCUMENT_PATH_INFO and USER_NAME that have been available and undocumented for years (already present in the very first commit of mod_include.c in svn history in 1999!)
5213472 CHANGES for r1827654
3e56c5b Fix some typos reported in PR 59998 Most add already been fixed when PR 59990 had been applied on trunk.
132d2c4 Rebuild.
7c7ecd1 XML updates.
f7d1532 copy apr_sockaddr_is_wildcard to maintain 1.4.x support.
1739caa Add compatibility note for 'RegisterHttpMethod' (backported in 2.4.x in 1772678)
f697364 Fix revision of a compatibility note (one should always save open documents before pushing anything...)
beaeec6 Fix an xml error not spotted by build.sh
3935a0b Follow up to r1827599: don't mention EXTENDED.
3d74244 Add compatibility note for the 3rd argument of 'RewriteMap' (backported in 2.4.x in 1811748)
8ba8370 Placeholder for RegexDefaultOptions.
f8df6dc On the trunk:
88a6778 Fix some easy doxygen comment.
44c8498 Fix some easy doxygen comment. Much more to do.
005ffe1 Fix some doxygen comment
4ab1676 update transformation
e203d68 Use 'ap_request_has_body()' instead of duplicating its implemenation.
6a0165d Ignore jansson.h's -Wunused-function for GCC too.
c42ef53 #pragma GCC diagnostic push/pop exist in gcc >= 4.6 only.
cb43a0b mod_ldap: fix format warnings.
d0347a9 core: ap_getline_core() reads nothing for n == 0.
3825534 backported
6d971f7 PR62200: EBCDIC: ap_rgetline APR_ENOSPC
3d0e237 rebuild
8cf2403 Improve highlight and fix a few typo. Mostly some missing <var></var> and <module></module>
a1b7278 mod_remoteip: make proxy-protocol work on slave connections, e.g. in HTTP/2      requests. See also https://github.com/roadrunner2/mod-proxy-protocol/issues/6
653ccad mod_md: fixes error in renew window calculation that may lead to mod_md running      watchdog in a tight loop until actual renewal becomes necessary.
4b2af27 mod_md: /.well-known/acme-challenge requests that cannot be answered for hostnames      outside the configured MDs are free to be answered by other handlers. This allows      co-existance between mod_md and other ACME clients on the same server (implements PR62189).      [Stefan Eissing, Arkadiusz Miskiewicz <arekm@maven.pl>]
3e02088 mod_http2: use proper ARP defined for formatting apr_off_t
8956ee5 Rebuild.
44370bf XML updates.
079cf5a Fixed OCSPEnable to keep accepting "off", not "none".
1184290 Extend SSLOCSPEnable with mode 'leaf' that only checks the leaf of a certificate chain. PR62112 [Ricardo Martin Camarero <rickyepoderi@yahoo.es>]
ea0ad8f mod_md: Fix compilation with OpenSSL before version 1.0.2.
a78ffd2 mod_slotmem_shm: better comment on MPM WinNT specifics.
9deb016 ab: Disable printing temp key for OpenSSL before version 1.0.2. SSL_get_server_tmp_key is not available there.
5aa236d Axe more backported entries.
bd5e2d6 Backported.
74dae9d Backported to 2.4.x in r1826887.
731b9cb ab: follow up to r1738415: handle any tmp key id.
cd65f78 Slightly improve syntax highlight
f05fa2c Follow up to r1826556: CHANGES entry.
0056a24 mod_slotmem_shm: SHMs need to be attached in MPM winnt children processes.
517573e No, we don't do this at this project, say 22 years of Unix contributors.
e62e749 Flush garbage stderr output
8bac64d Instrument 'bbout'
36bd8c3 Instrument 'md_log_perror' and fix corresponding errors reported by gcc.
b959689 Fix timeout logging in ap_process_request().
9e993df documentation update
399703c mod_md.xml: update the Let’s Encrypt Subscriber Agreement link
e4a6220 Rebuild.
e3e6ff9 XML updates.
6b6898e Add a missing word in the French translation
2077d6b Follow up to r1609680: further simplify/optimize ap_proxy_strcmp_ematch().
17e80c8 Follow up to r1609680: simpler/faster ap_proxy_strcmp_ematch().
2bd898b Bump after r1826207.
765451e * modules/aaa/mod_authz_host.c (host_check_authorization): Simplify   comment stripping in "Require host"; log a warning if a comment is   used in 'Require host', or an error if the expression is empty with   the comment stripped. (Currently in 2.4, #comment part is parsed)
2128842 * modules/lua/config.m4 (CHECK_LUA): Support Debian-style   pkg-config naming for lua.
92bf4ee svn:eol-style = native
cc6475b update transformation
92f829c Documentation rebuild
9f4f680 mod_proxy_html: s/<b>/<strong> to please validate-xml
d72803a Improve mod_proxy_html docs: add topic sections for customisation and i18n problems that generate user and bugzilla questions.
1bce50f reverse the description to reflect the default behavior
e232784 reverse the order so the default is listed first.
1ba2e2e emphasize the meaning of this doc for UseCanonicalPhysicalPort
41753b3 Fix missing util_debug.c omitted from CMakeLists.txt
ef4b9f0 Fix the version number in the docs to match the real release.
9f834a4 complete the mod_proxy_uwsgi build
2d80cde add apreq in Win32
feedb2c rpm: Add the ctlogconfig.8 man page to the build.
3db50dc rpm: Add mod_mpm_motorz to the build.
10bea6c rpm: Add mod_syslog to the build.
3d171c7 rpm: Add mod_socache_redis to the build.
af467df rpm: Add build for mod_ssl_ct.
5a3b0ec Add the ctlogconfig man page to the docs build.
2501bd2 rpm: Add mod_proxy_uwsgi to the RPM package.
80f1c58 rpm: Remove rpm build for mod_socache_dc, the dependency distcache has long since stopped being available in RPM distros.
f996513 Rebuild.
1a2aaa4 XML update.
172f8e6 Propose backportable fix to accept libxml2 path in the base form or the absolute path to include tree form.
7c00119 * modules/lua/config.m4: Use liblua paths from pkg-config if   available.
1219487 Follow-up to r1825120:
3480831 * modules/ssl/ssl_engine_init.c (ssl_init_PushCAList): Remove function.   (ssl_init_ca_cert_path): Use SSL_add_file_cert_subjects_to_stack()   instead.
d771a84 Correctly identify origin of util_pcre.c/ap_regex.h as pcreposix[.ch] and correct LICENSE/NOTICE to match.
7c6effa mpm_event: follow up to r1823047 and r1824862.
9a139df mpm_event: follow up to r1823047 and r1824464.
54a39ca 10 years after r567503 , fix this properly.
4276b8b Transforms.
869a448 Fix description of SSLProxyMachineCertificatePath to match the implementation.
7ac49b7 add mod_proxy_uwsgi.so to windows build
03e83c1 Missing word.
c53e01a Save a few cycles.
2b92ff7 core: Create a conn_config_t structure to hold an extendable core config rather than consuming the whole pointer with the connection socket.
f669982 Wire through the log message number.
44b3c4f Make sure ACL API support in mod_dav is not dependent on the presence or absence of apr-util v1.6. Log a message to note that ACL support is disabled with apr-util <= 1.5.
24317fd Rebuild.
4cfe13b XML update.
570a2f4 Axe backported entries.
6094217 mpm_event: follow up to r1823047: CHANGES entry.
86c5536 Set the notice when hostname is too long for legacy proxy modules to info level.
dd87ac0 Add MMN bump for AP_REG_DOLLAR_ENDONLY, ap_regcomp_get_default_cflags ap_regcomp_set_default_cflags and ap_regcomp_default_cflag_by_name
73bcdfa mpm_event: follow up to r1823047: complete state validation after processing.
d5aacf5 mpm_event: follow up to r1823047: simplify "clogging" logic (reentrance).
de63518 Tone down the message that worker hostname is too long noting it only affects legacy modules not yet using hostname_ex.
fd74115 MMN bump for hostname_ex in proxy_worker_shared.
f5b3111 mpm_event: follow up to r1823047.
ec8855d Follow up to r1824339: s/strcasecmp/ap_cstr_casecmp/ as suggested by Ruediger.
bf85d90 mod_session: Strip Session header when SessionEnv is on.
e918374 Follow up to r1821624: CHANGES entry.
c5c2bbc mod_cache_socache: Fix caching of empty headers up to carriage return.
2c21956 regex: Allow to configure global/default options for regexes.
4603595 mod_authnz_ldap: Fix language long names detection as short name.
d69ddeb mod_proxy: follow up to r1667707: MMN minor bump.
22d5a5a core: Ensure that ap_*getline*() return NUL terminated lines on any error.
8469fc3 Give credit
051a987 Add CHANGES entry
ed6d3d7 Documentation rebuild
ae25d99 fixing missing rename of SSLPolicy section
fac7f99 mod_proxy: Provide an RFC1035 compliant version of the hostname in the proxy_worker_shared structure. PR62085
965dae9 rebuild
dab71e3 Fixes quoting as per https://bz.apache.org/bugzilla/show_bug.cgi?id=62063 Credit: Hendrik Harms <hendrik.harms@gmail.com>
a8132f5 rebuild
05e89aa Oops. Mised pre-systemd syntax with systemd syntax. Trying to be consistent. I expect someone will complain.
319e2a4 Adding newly generated .fr docs.
d56025a Rebuild from recent changes.
8a4ea2e Installation instructions, and links, for the majority of people who will not be building from source.
f8a9bf3 Fixes weird formatting issue in the output.
81dbadd mod_proxy_fcgi: prioritize the check for mayflush when using flushpackets
dd61ef4 More corrections to mod_ssl Spanish translation
2d0ca88 documentation rebuild
6a5f7ce mod_proxy_fcgi.xml: add more context to the conn reuse note
2dbbf5c Axe some code duplication. Use 'ap_array_str_contains()' instead of 'ctutil_in_array()'
c64d9d1 Rebuild.
4b9bc69 XML updates.
9e02c1b documentation rebuild
00de609 mod_proxy_fcgi.xml: add a note about connection reuse
95f80e9 Follow up to r1822509: amend CHANGES entry.
25c1833 mod_slotmem_shm: follow up tp r1822509.
fad6cd0 mod_proxy_balancer: follow up tp r1822509.
a7c10a9 too-long worker schemes and/or hostnames are no longer fatal errors
2497cbf Rebuild
4f4329e Correct LDAP quoting. Patch from hendrik.harms@gmail.com
9f8a7d5 mod_slotmem_shm: follow up tp r1822509.
dfc538c mod_slotmem_shm: follow up tp r1822509.
23c8333 mod_slotmem_shm: follow up tp r1822509.
4f5a6bf * config.layout: Add "modern" Fedora (/RHEL) layout; different to   older layout used in "RedHat".
3f25462 mpm_event: move lingering close "sucker" from the listener to worker(s).
9220300 * modules/loggers/mod_logio.c (logio_pre_config): Remove pointless   static in optional fn pointer variable declaration.
fb23173 mod_proxy: follow up to r1822849 and r1822879.
1a3e292 mod_proxy: follow up to r1822849 and r1822878.
30dfcf3 mod_proxy: follow up to r1822849.
8115db9 On the trunk:
ccbb688 * Add some some comment why we do not limit hmax any longer
98ce4c3 * Makefile.in (build/config_vars.out): Rebuild if build/config_vars.sh   has changed.
0ea3db0 * When mod_http2 is loaded more then ThreadsPerChild backend connections can   be useful as mod_http2 has an additional thread pool on top of   ThreadsPerChild.   But leave the default with ThreadsPerChild.
3757839 Revert r1822800 and r1822804.
7c2fce4 mod_proxy_balancer: follow up tp r1822509 and r1822800.
bf336e8 mod_proxy_balancer: follow up tp r1822509.
08765e5 core: follow up to r1822596.
14cb017 On the trunk:
c73d594 core: don't send EOR bucket through request filters.
106d076 core: fix ap_request_core_filter()'s brigade lifetime.
7fa2267 mpm_unix(es): cleanup properly on exit in one_process mode.
b4b720b Revert r1814112, it does not work for threaded MPMs.
2baf370 mod_proxy: fix proxy connection cleanup from an n+2 pool.
c75bda9 mod_slotmem_shm: follow up tp r1822509.
ea253a6 mod_slotmem_shm: Rework SHM reuse/deletion.
5ff2537 Revert r1822341, slotmems are not reused on (graceful) restart.
4f9b578 mod_http2/mod_proxy_http2: add new module flags
41515d4 On the trunk:
d7328a0 On the trunk:
92ac53a mpm_fdqueue: follow up to r1821624.
30b587e mpm_fdqueue: follow up to r1821624.
c666c50 PR 62044: Force addition of generation number to shm filename on all platforms. Keep persisted filename as-was.
ecce8ad * modules/lua/config.m4: Link mod_lua against -lcrypt if available,   since mk_password_hash() can use crypt().
b11d1f2 First set of fixes for mod_ssl Spanish Translation plus rendering with new Directive listing
3f217d0 mod_crypto requires non-default apr-util option. Do not build by default but require user interaction until apu changes HAVE_CRYPTO default.
33f7a6d LibreSSL doesn't have or require applink.c
2f31ce9 copy applink.c in OpenSSL 1.1.0 to from /ms to /include to match location in 1.0.2
b4b75b3 ssl_engine_init.c(33) includes mod_md.h
5b61723 mpm_fdqueue: follow up to r1821624.
8d5f6ca mpm_fdqueue: follow up to r1821624.
41ca9b3 mpm_fdqueue: follow up to r1821624.
0ca4811 mpm_worker: follow up to r1821624.
a121a58 mpm_fdqueue: follow up to r1821624.
c61a6e2 mpm_fdqueue: follow up to r1821624.
3f16856 mpm_fdqueue: follow up to r1821624.
e6c430a mpm_fdqueue: follow up to r1821624.
bb88a66 mpm_worker: follow up to r1821624.
22d8be1 mpm_fdqueue: follow up to r1821624.
95fbbd8 mpm_fdqueue: follow up to r1821624.
2ef3051 mpm_fdqueue: follow up to r1821624.
39b3f18 mpm_fdqueue: follow up to r1821624.
2f79ba8 mpm_fdqueue: follow up to r1821624.
0222a38 mpm_fdqueue: follow up to r1821624.
62b44b5 Shared fdqueue code between MPMs event and worker into mpm_fdqueue.
ff2d0af Revert r1821526, r1821527, r1821534, r1821538, r1821539, r1821541, r1821605, r1821607, r1821608.
8f45a56 mpm_worker: Follow up to r1821526.
56cfe4c mpm_unix: Follow up to r1821526.
2ce4d05 follow up to r1821582
5cf277e mpm_unix: Follow up to r1821526.
3ff6f80 mpm_event: Follow up to r1821558.
0da57e8 get mod_brotli in build
130ccb0 some small tweaks to get things building again replace mod_socache_redis.dsp as original was corrupted
3326cef Follow up to r1819855: CHANGES entry.
21e96b7 Follow up to r1821558: CHANGES typo.
cf5af99 mod_event: Let the listener thread do its maintenance job on resources shortage.
8555523 Backported.
85695a6 Follow up to r1821526: rename ap_queue_info_get_idlers to ap_queue_info_num_idlers.
d35f2f7 Follow up to r1821526: style, no functional change.
b31ba4c Follow up to r1821526: opacify fdqueue types.
ed1e342 Follow up to r1821526: mpm_unix.h needs this includes only for now.
a4d1806 Follow up to r1821526: mpm_unix.h
1c5106c6 Share fdqueue code between MPMs event and worker.
a1689af Follow up to r1821504: same comment in event than in worker.
85ed30b mpm_{event,worker}: Mask signals for threads created by modules in child init.
149c60c Revert r1821499, will re-commit the right change.
f239cf1 mpm_event,worker: Mask signals for threads created by modules in child init.
48bb2db On the trunk:
eb0fb1c On the trunk:
4f3fc84 fix copy & paste error, util_cookies.h is in include not server. add util_config.c now needed per steffenal. http://mail-archives.apache.org/mod_mbox/httpd-dev/201801.mbox/%3C4C412873-869D-4A0C-89E6-397706EFA1F7@apachelounge.com%3E
2c3e055 Fixed word 'Directive' placement in the directives list. In Spanish we must sort them the same as in French. Correct format is: 'Directiva xxxx', not the opposite
7167e7c docs: update the prettify.js files with new directives
def5552 Rebuild.
ce5a6e9 New XML file.
2827edd mod_md manual: updated version and added note about current port requirements
8966378 Initial version of Spanish Translation for mod_status.xml
97dd94b We track merges at the root only.
7a402c4 Rebuild.
de070ca XML update.
a0625ce Apache-apr2.dsw freetds connector now unsupported in apr-util conectors are in apr-util s/mod_mmd/mod_md
4355a88 Initial version of Spanish Translation for mod_ssl aka -It's been hell- and related files
66a6f64 Follow up to r1740910: CHANGES entry.
3326d8f Follow up to r1802618: CHANGES entry.
62e7bd1 avoid ap_set_content_type when processing a _Request_Header set|edit|unset Content-Type.
346a85a mod_socache_redis seems to be missing
938a1ff PR 61980: AH01215 CGI stderr forwarding msg improvement
6c9d4f4 PR 61983: "Header unset Content-Type" doesn't work
db74222 mod_md: maxsize was less than the resulting image size
d251770 Documentation rebuild
6805c39 event.xml: follow up r1820466 with Yann's suggestions
4aad89f mod_md's docs rebuild
697c14c mod_md.xml: update MDCertificateAgreement's links
48f405c Rebuild.
fea162d XML update.
91155a2 documentation rebuild
57e6011 mod_md: adding new directive to manual.
e2cdb63 On the trunk:
1b8800d Adding new french translated XML file.
35cb06a Rebuild.
2d84b5f XML updates.
26bcd25 incorporate review comments from Rüdiger
3d26cb0 Happy New Year 2018
0b456ba mmn bump for r1820098.
98e9503 Add "AcceptErrorsNonFatal" directive
3a216c2 Happy new year's documentation rebuild
0ceec12 Add missing APLOGNO.
9dc368a Add missing APLOGNO
594930e common.xsl: update year to 2018 in the footer
9c1e668 mod_proxy_html: output filter rework.
2e8b662 mod_proxy_html: don't depend on NUL terminated bucket data.
538144c mod_proxy_html: follow up to r1599012.
aa768c7 On the trunk:
8fbe089 Fix upgrading examples
49b0ef1 mpm_event: wakeup the listener to re-enable listening sockets.
00edcb7 On the trunk:
f786ddb mpm_event: remove atomics for timeout_queue's total counter.
d379290 mpm_event: worker factor vs pollset.
f358acd mpm_event: make sure wakeup_listener() does its minimal job.
73593ab mpm_event: avoid unexpected compiler optimizations.
59e7719 mod_md: fix leaks in md_cert_get_issuers_uri() and md_cert_get_alt_names().
d2c66ee stray char
82b020d up to date xform
0338089 xform
531f038 mod_substitute: allow opt-in to expressions in substitution value
36197b5 update transformation
4717dda svn:eol-style = native
1677980 documentation rebuild
ff981f3 event documentation rebuild
9da227e event.xml: add a note about lingering close
c49841f mpm_event: follow up to r1818804 and r1818960.
74e6626 mpm_event: follow up to r1818804 and r1818951.
2ec371c tiny formatting/readability tweak in example
e72025e mpm_event: follow up to r1818804.
a333161 mpm_event: follow up to r1818804 and r1818951.
5195da4 rebuild
d234d48 Make this example actually work.
0fda557 mpm_event: follow up to r1818804.
6bf1ff2 ap_add_common_vars(): use apr_pstrmemdup().
7e26c33 On the trunk:
e456f54 rebuild
7a93f94 Fix markup to pass valid XML check.
27e9355 Define "delimiter", as per a complaint in the comments.
62b423b mod_dumpio: follow up to r1818802.
81465df mpm_event: close connections not reported as handled by any module.
8fd774b mod_dumpio: do nothing below log level TRACE7.
0397f6a On the trunk:
56111a6 mod_proxy: allow SSLProxyCheckPeer* usage for all proxy modules.
1c96706 md: fix warning about unused variable 'cert'.
6ee085e clarify/reword RegisterHTTPMethod and add some seealso's
05181a2 Fix some style
045685f Updated .fr translation to latest .en version
eaab9b5 Updated .fr translation to latest .en version
2acab54 Updated .fr translation to latest .en version
fd4031e Updated .fr translation to latest .en version
015aa69 Updated .fr translation to latest english version
db0868b Updated mod_log_config's fr translation to #1818346
b4004e2 Updated content to latest english revision
5a0ec75 Introducing 6 .fr translations
7f77151 Introducing new .fr translation
52b6e92 Introducing 6 new .fr translations
3370f73 Introducing 3 new .fr translations
1e0caeb Introducing 3 new .fr translations
491047e New .fr translation
7b38f9a New .fr translations
c97a0d2 Fixed encoding in two previous commits
7b285cb Introducing .fr translation for perf-scaling howto
97fd1fd Introducing .fr translation for reverse proxy howto
e1c9499 mod_proxy_html: fix metafix handling of <meta http-equiv> elements PR#58121
3176c79 Fix typo
ad414f8 per comments, add a better hint about what %D/%T measure / do not measure
01bfc07 add some descriptions to the placeholders
a84a2f2 "{c}L" exists and logs the "Log-Id of the Connection".
eee53cd "{c}h" exists and logs the value returned by 'ap_get_useragent_host()'.
8dca7c2 "It is better to light a candle than curse the darkness."
1aa89da correct copyright/license headers
f41206c note
23421a3 APR-ize uint types
3db98e0 APR-ize uint types
edc7c04 APR-ize uint types
67ed6d2 rebuild
6c4e687 add trailing slash to end of URL
0a70ee4 The directive isn't wrong as stated - ie, it does work - but I feel it's potentially confusing to leave off the closing "|" in the example.
362dde9 On the trunk:
c9a1bf8 rebuild
d70b760 Fix a link as spotted by Benoit Wery in the comment system.
fb96861 PR61891: looping over mostly full LDAP cache
c88a874 On the trunk:
15168e9 update transformation
23394f4 Use APR type
d2d7403 rebuild
8167d09 Remove broken link to mod_sed tutorial.
350debd Arrange the examples: use a balancer member.
a731856 On the trunk:
757f3f7 documentation rebuild
ea405a0 Updated mod_md config name changes
2f671d9 On the trunk:
90fc6a8 In verify_ocsp_status in ssl_engine_ocsp.c, the log message, "OCSP response not successful: %d" should print the value of r instead of rc. The value of rc will always be 0.
4a4e4ce On the trunk:
181d1ca Russian translations of errordocs. Contributed by Alexander Gaganashvili.
8fcc6f1 Be less tolerant when parsing the credencial for Basic authorization. Only spaces  should be accepted after the authorization scheme. \t are also tolerated.
2beaed5 Use ap_cstr_casecmp instead of strcasecmp.
1fdb082 Documentation rebuild
d74e294 mod_md.xml: (hopefully) clarify some directives usage
3d526b9 Remove entry backported in 2.4.x r1811749
a5e7973 This has been merged in 2.4.x in r1748212
3132c5b rebuild
0e28448 Remove duplication in Rewrite ruleset for pre-compressed content.
c98d42a Simplifies the rewrite block for serving pre-compressed content.
2b53db0 On the trunk:
833a2c1 Add APLOGNO to error messages
2bb71c4 Take numbers
a6a14bb Some small optimization:    - use 'ap_cstr_casecmpn' instead of 'strncasecmp'    - use 'apr_table_setn' when parameters are constant    - avoid some memory allocation if the module can not handle a request
18eaeae On the trunk:
e1456aa Add PR reference.
42b3eab Support IPv6 link-local scope IDs in Listen and VirtualHost, if built with APR 1.7 or later:
b75ebb4 On the trunk:
a6e2781 On the trunk:
df2cdee * support/Makefile.in, acinclude.m4: Add OpenSSL libraries at the end of the   ab link line, not the start.
49e3722 * build/config_vars.sh.in: Trim more variables from installed config_vars.mk.
31ef774 The other half of r1442409: fix mod_proxy_html doctype-handling typos PR 56457
cebf4cd Rebuild.
76cbe0d XML update.
4b5fdc8 rebuild
c7fe96a s/simmilar/similar/ reported in PR 61799
aa69bb4 mod_substitute: add runtime traces. PR 61132.
245e972 On the trunk:
4b2a684 On the trunk:
779b18f Regenerate.
98ab680 Document special cases where changing Listen across a restart will fail.
783e43f spelling fixes from Josh Soref via github
8a0e48c Rebuild.
e146dba XML updates.
8440a7d Add note on special character handling with FakeBasicAuth.
cfdae4f Bumped.
0b9b299 * modules/ssl/ssl_engine_kernel.c (ssl_hook_UserCheck): Check username   does not contain a colon before constructing Authorization header   for FakeBasicAuth mode. (Also constify 'user' variable.)
94d90f4 On the trunk:
14d6b3b xform
4a847bc address comment about substitution syntax
f833da3 Follow up to r1815264 Get items in dsw files, BuildBin.dsp that didn't make 1815264 Make sure abs builds before a2md so applink.c in OpenSSL 1.1.0 gets copied into same location as it exists in 1.0.2.
0e295e2 Win32 legacy bits for mod_md
590d5c6 On the trunk:
02cda84 Documentation rebuild
5dabbd2 Fix false positive compiler warning "'percent' may be used uninitialized in this function".
304fb8e mod_watchdog: Correct some log messages and fix compiler warning "'rv' may be used uninitialized in this function".
e36e2ce core: silently ignore a not existent file path when IncludeOptional      is used.
681948a Revert r1814940: serf-1 has a different API, so in order to support it more changes are necessary.
89d7cd6 Look for serf-1 instead of serf-0 during configure. Using a fixed major version might not be the best choice but using a fixed outdated one is even worse.
56e0bd0 Fix static compilation when including mod_md.
784ba42 mod_noloris: Remove unused variable. Follup up to r821307.
48f9df9 Complete build setup of mod_noloris.
da3ea63 Fix compilation of mod_md helper binary a2md.
25d2e25 Follow up to r1809273: CHANGES entry.
c4965ac Fix pcre feature detection in configure when using pcre2. Follow up to r1773454.
e8a57f3 Follow up to r1814659.
2fe8b2c We can't possibly loop in ap_process_http_async_connection().
db07c9c Post 2.5.0-alpha tag updates
4c08861 On the trunk:
c440035 * configure.in: Fix help text for --with-suexec-syslog.
486963f On the trunk:
2068808 Rebuild.
d687e86 XML update.
9184cfe Rebuild.
4fafc34 XML update.
abad537 Remove an already backported entry
70bfc1c ab: follow up to r1811664.
6566335 mpm_unix(es): cleanup properly on exit in one_process mode.
f8d30e1 Fix some syntax highlight
d8b5380 Remove backported entry (see part of r1651081)
41286d5 Remove backported entry (see r1796850 with a slighly different wording)
7f9265f Remove backported entry (see part of r1772678  which backports r1426827)
422ed23 Remove backported entry (see r1684515)
3159bb0 Improve mod_proxy_html doc    - add some links and color highligh    - remove some <var> (i.e. italic) around parameters that should be written unmodified (On|Off...)
71cc1a7 Save a few bytes in the conf pool when handling 'ProxyHTMLDoctype' directive with a user defined  FPI
4c444c2 Remove backported entry
c04709e Remove backported entries
8446105   *) mod_http2: avoid unnecessary data retrieval for a trace log. Allow certain      information retrievals on null bucket beams where it makes sense. [Stefan Eissing]
aa06756 mod_macro: fix usability of globally defined macros in .htaccess files. PR 57525.
0711be6 mod_md: fix [-Werror=unused-but-set-variable].
84cabd2 Revert r1813167 (per review).
abea15b mod_proxy_balancer: fix runtime lbfactor value changed in 2.4.28.
eb0229b Fix compilation failure :
3d0e7ed On the trunk:
6f413f0 Rebuild.
d8baba1 XML update.
a409976 * support/htpasswd.c (main): Only check for readability if running in   verify (-v) mode.
483c751 Documentation rebuild
698b0cc mod_md.xml: fix typo
36a88c9 mod_md: some strong advice about the consequences of permanent MDRequireHttps in the manual
28d4b31 mod_journald: work around possible use of "inline" keyword in systemd #include.
f64affc Fix format pattern (%lu => %APR_SIZE_T_FMT).
9246096 * server/util_expr_eval.c (ap_expr_eval_re_backref): Fix gcc 7.x warning.
89f3b1b Follow up to r1812263.
0da0241 Fix maintainer mode with GCC/Clang.
6958a60 GCC/Clang strict-prototypes handling in configure: revert r1810998 and r1810448 before applying a more general solution.
14716ce Follow up to r1812193: really change MMN major.
1ee7b93 Follow up to r1740928: including NOT_IN_PROXY in NOT_IN_DIR_LOC_FILE is both incomplete and not backportable, fix it by introducing NOT_IN_DIR_CONTEXT and restoring NOT_IN_DIR_LOC_FILE to its previous value.
a4c7b5f Follow up to r1809881: CHANGES entry.
d8ca3f9 Entry for 2.4.28 regression (r1808855 missing r1805195).
d8afd98 Add optional _RAW suffix to SSL_*_DN_xx attribute names, allowing users to convert an attribute value without conversion to UTF-8.  (A public CA has issued certs with attributes tagged as the wrong ASN.1 string types.)
4d4d063 * server/util_script.c (ap_add_common_vars): Allow mod_env to override   all system path environment variables, not just PATH.  (The   behaviour for PATH alone was changed in r965679 for PR 43906.)
38e3e64 Documentation rebuild
fab9366 On the trunk:
aeaabea core, mod_rewrite: introduce the 'redirect-keeps-vary' note                    to allow proper Vary header insertion when                    dealing with a RewriteRule in a directory                    context.
7e7cd5e Rebuild.
48272c9 XML updates.
0583afb ab: Make the TLS layer aware that the underlying socket is nonblocking, and use/handle POLLOUT where needed to avoid busy IOs and recover write errors when appropriate.
73faf34 ab: Keep reading nonblocking to exhaust TCP or SSL buffers when previous read was incomplete (the SSL case can cause the next poll() to timeout since data are buffered already).  PR 61301
c968b5d * Make it compatible with Python 3
b269fae * The calculation of the sizes was flawed:   The index tells us the size of the node in 4096 byte pages minus 1.   Hence we need to multiply back with 4096 aka << 12 (plus adding the   missing page).
22b4d25 * Convert to int before using
f72e5b6 * It needs to be the dereferenced node
45e9483 mod_ssl: fix add_policy() w.r.t. OPENSSL_NO_COMP.  PR 61592.
94bfc36 * Take the pointer from Yann: s/childs/children/
6bbd435 * Add dump_all_pools and dump_pool_and_childs.
a82d086 fix properties
52632d3 make docs.
04d42e8 Follow up to r1810358: add html files.
f0de48a Follow up to r1810605.
4cd3940 Follow up to rr1810605 and r1811104.
e172ca3 ap_expr: follow up to r1810605.
a8d2143 On the trunk:
c0954b0 ap_expr: follow up to r1810605.
a328d8f Axe backported entries.
4fc8d9c Also affects official clang 5 (maybe older ones too...)
a01e89c httpdunit: include .h to avoid code duplication.
21857e4 Follow up to r1804123 r1809633.
4f6af33 apr_expr: follow up to r1810605.
08ddf7a ap_expr: open string expressions to the <word>.
5e90ede xforms
00f7c2a Get maintainer-mode working again w/ clang-900
e284883 More C90 stuff...
78ae561 Final comment-format changes
7a6038c And standard format - no functional change
33dc920 C changes / C90/C89
f9680f3 Userland change
da54e90 Fold in ALv2 licensed UWSGI proxy (sub)module as acknowledged via https://github.com/unbit/uwsgi/issues/1636
8d67a47 Add a warning for host starting with a letter. Fix for PR 61540.
db729c7 Fix ascii art :)
b388ecf Rebuild.
80a8b02 XML updates.
6950b4a RFC8081, new font/ registry as pointed out by Steffen
ce72c83 mod_http2: non-dev 1.10.12 for backport
709cfd2 reverting r1807238 bc not addressing the issue https://github.com/icing/mod_h2/issues/120
8a9843a Forward port 2.4.x change r1810016
9c573d3 On the trunk: mod_http2: v0.10.12, removed optimization for mutex handling in bucket beams that could lead to assertion failure in edge cases.
1ebc684 MPMs unix: follow up to r1809881 and r1809973.
a16360a core, MPMs unix: follow up to r1809881.
13ceec0 fixup properties
ecdb60d update transformation
ec5ba5d core: deregister all hooks before leaving pconf, otherwise some late cleanup or function call (e.g. ap_log) may use one while DSOs are unloaded.
c7ea137 CHANGES: remove backported items
c2f7c7a On the trunk:
9a8adef On the trunk:
aaa695b On the trunk:
397a87d Rebuild.
9087fd1 XML update.
93d1359 config: follow up to r1809302. Associate ap_get_module_flags() to MMN bump.
9156671 config: follow up to r1809302.
22b024a config: follow up to r1809302. We need to check that the module itself is at the right version.
a40e705 mod_ssl: follow up to r1809302.
e18300e config: allow to specify flags when registering modules.
b5bdda4 * modules/ssl/ssl_private.h: Remove unused macros.
7bb1250 event, simple, motorz: better naming, error code checking and arrangement around pending output data handing; no functional change.
f250fb1 event: better apr_pollset_add() failure handling to avoid an (very unlikely) worker vs listener race condition.
1fb78df Fix a segmentation fault if AuthzDBDQuery is not set. PR 61546 [Lubos Uhliarik <luhliari redhat.com>]
759fb30 On the trunk:
f2311cc On the trunk:
714394e mod_rewrite,core: avoid Vary:Host (part 2)
edd86dd Minor corrections.
4637914 mod_speling/PR 38923: don't embed Referer in link in error page.
bc0f112 mod_rewrite/core: avoid the 'Vary: Host' header
f77ced8 format typo
cbfd141 * Correctly dump pools that have no tag
912b2b6 Rebuild.
8d1a3a8 XML update.
c78025d prettify.js: add highlight for MDRequireHttps
18a97c6 Documentation rebuild
800974e On the trunk:
c6535be On the trunk:
d89685e Documentation rebuild
352e79e mod_md.xml: fix some typos
d39a9e8 update log tag db
cdf4efe updated mod_ssl log tags
1766e53 updated mod_md log tags
84989f7 added new mod_md directives
0c2ae2a On the trunk:
49f1bea * server/protocol.c (ap_content_length_filter): Rewrite the content   length filter to avoid arbitrary memory consumption for streaming   responses (e.g. large CGI script output).  Ensures C-L is still   generated in common cases (static content, small CGI script output),   but this DOES change behaviour and some responses will end up   chunked rather than C-L computed.
b3945e5 docs: allow Directive/<Directive> naming in prettify.js/css
5bce17e docs: add ManagedDomain and SSLPolicy containers to prettify.js
169929b docs: update the prettify.js files with new directives
22c15b4 Documentation rebuild
adadcb5 mod_proxy_fcgi.xml: add examples for flushpackets=on
162fa86 On the trunk:
d48124c Documentation rebuild
6578a6c mod_md.xml: minor style/visual changes
299a4b2 Documentation rebuild
e0a68ae mod_md.xml: add missing descriptions and directivesynopsis
9a1a37c Update CHANGES after r1808008
9c60ed2 mod_proxy_fcgi: follow up to r1807876. Fix mixed declarations and code [-Wdeclaration-after-statement].
417cc6a htdigest: prevent buffer overflow when strings in lines are too long.
8a8c24a a2md: all objects should be compiled before linking, or "make -j" may break.
e533d70 * We need i if we have HAVE_SSL_CONF_CMD defined
0a985df * Silence compiler warning and remove unused variable
14e7a42 Added Spanish Translation for event.xml.es
47a05bb Rebuild.
f9c948f XML updates.
449105a mod_proxy_fcgi: limit the flush buckets inserted when flushpackets=on|auto
567e64e Documentation rebuild part 2
1505792 Documentation rebuild
43439d1 mod_ssl.xml: simplification of SSLEngine section
9d9ccac event.xml: fix reference to upcoming httpd release
7e7a820 On the trunk:
05c77ca On the trunk:
55956ee On the trunk:
4cc2782 core: Disallow Methods' registration at run time (.htaccess), they may be used only if registered at init time (httpd.conf).
2483191 On the trunk:
a6d3e1e update feather to conform with style guide
f2e5c22 On the trunk:
e001bc8 On the trunk:
c6ecf74 Make sure that ajp behaves like http.
92f22d6 Fix for JBCS-390. Note it is related to PR  59007
f012e56 documentation rebuild
48891d3 event.xml doc: update to latest improvements
b409838 On the trunk:
67579cc On the trunk:
1b3a51d On the trunk:
a491460 Rebuild.
3e39911 XML update.
024ee22 Generated doc changes
178449b PROXY protocol proposal corrections
76bbcf1 doc rebuild
c9f6081 On the trunk:
a306717 Adding generated files for encrypt.xml
5f85f11 Generated doc changes
339096a French translation rebuild after r1806443
d41a5d1 synopsis.xsl: fix broken translation builds
ae5b3f5 Rebuild.
1dbc517 XML update.
60dc373 Rebuild.
475f2bf XML update.
ed0e65f Rebuild.
9bd8ae8 XML update.
450f7fa Fix remaning compilation warning when MIME_MAGIC_DEBUG is defined. Style is not perfect, but at least, the warning is fixed.
15c47ee Fix some compilation warning when MIME_MAGIC_DEBUG is defined.
5a2cce3 Fix a compilation warning introduced by r1802040. mod_proxy_fcgi.c:893:19: warning: ‘flushpoll’ may be used uninitialized in this function [-Wmaybe-uninitialized]
2dca9b1 documentation rebuild
8e606c4 sections.xml: fix another typo (missed in the prev commit)
2e9a9c1 documentation rebuild
e4e90c0 sections.xml: fix mod_md's link
71f0979 documentation rebuild
ff8380c common.dtd: add idtype attribute to directive
05ed8fd Documentation rebuild
50c86e4 doc xsl/dtd: introduce idtype attribute for directivesynopsis
e3c1a0d clearer docs
5398c7b userland change = we now are OK w/ ms
5c6e6f2 documentation rebuild
19663f4 mod_ssl.xml: fix typo
2db0975 On the trunk:
2506cf3 * Makefile is a generated file that is not version controlled
8dc841e Fix remaining lint from ms capability for hchecks.
ef6f8cb On the trunk: mod_ssl.xml: adding description of predefined policies, some work tweakings.
e0c52da documentation rebuild
590f9ee On the trunk:
9307b83 adding generated unit test files to ignores
eb3e60a mod_md doc rebuild
b15a332 Documentation rebuild
221ddb4 Update offsets
6b25c84 mod_md.xml: correctly name ManagedDomain
7d06028 common|synopsis.xsl: rename directive type=sections id generation
1a138bb fix clean slate build that so far missed libmd.la on first run
737e70c Umm. This is C :)
9745af6 synopsis.xsl: do not render two times the same               directive HTML if more than one               directive share the same name.
d248d8b loadfactor now decimal
597bc9e On the trunk:
bcea74e On the trunk:
96170de added SSLPolicy to sections
e4431e6 On the trunk:
c5de77d fixing empty section
912e151 mod_md.xml transforms, added ManagedDomain to sections
b14a732 Fix typo in log message.
25c4764 Fix ProxyAddHeaders merging.
cfbb1c5 mod_md.xml: add some links and fix some details
7802e4d On the trunk:
ed0e50d Defined constants for md config directives.
7e40e85 fix for <ManagedDomain sections with inner <If or other sections
677c360 start of a howto to set up encryption using mod_md
8261b58 mod_md: more documentation
f26217a mod_md documentation
a68a39d log tags for mod_ssl changes and new mod_md
0180197 On the trunk:
13ee3b3 mod_md: v0.6.1 from github
4ee5a66 mod_md: v0.6.0 from github
266f140 mod_ssl uses now mod_md header file for optional function declaration
ceeed43 adding a2md build to modules/md, installed in bin
8349ec1 building separate lib and static linking it into mod_md
3076398 first configure+compile version
a2f0c63 bumping version, removing some unused code, fixes in base64url from mod_md
81337c3 mod_http2: non-dev version for backport
e7a858c branch for integrating mod_md into trunk
869fbe0 Rebuild.
0fee2b3 XML updates.
6b65199 mod_http2: signalling produce IO before waiting on beam buffer to drain.
e8a0123 mod_http2: version bump, partial fix for stream response getting stuck, see https://github.com/icing/mod_h2/issues/143
1e4868a Follow up to r1803396: CHANGES entry.
31a4103 mod_ssl, ab: compatibility with LibreSSL.  PR 61184.
36d0133 mod_ssl: we can't use SSL_COMP_free_compression_methods() if OPENSSL_NO_COMP is defined.  PR 61206.
b1c493d xforms
cd4b77d cross link some balancer directives across proxy mods
9b9acb8 Doc rebuild (reverts r1802703)
985b913 mod_proxy doc rebuild
23ee4aa mod_proxy.xml: mention DNS caching when reusing backend connection
579e179 Clarify some mod_proxy concepts in the docs
cd44f23 event: Avoid possible blocking in the listener thread when shutting down connections. PR 60956.
e85309d Make sure updatelbstatus() is NULL
e3803dd Rebuild.
3a42b12 XML updates.
21160f8 core, mpm_event: Add ap_update_sb_handle() to avoid a small memory leak of sizeof(ap_sb_handle_t) when re-entering event's process_socket().
7ea6d8b mpm_event: ap_queue_info_try_get_idler() may atomically decrement and then re-increment the number idlers if it went under or to zero.  We can avoid this by switching to a compare-and-swap scheme.
7157b8a reserve 10036
46466f3 update xforms
2a3f6ec UDS does support reuse
72658bb ap_server_config_defines and ap_server_{pre,post}_read_config are arrays of *const* strings (must not change after being inserted), make it explicit.
7f548a8 Be explicit and safe (const) with the strings stored in ap_server_config_defines.
52ecea1 Fix overriding ExtendedStatus to "off" with mod_systemd loaded, and give more feedback to systemd during a reload.
f21bbb5 mod-proxy documentation rebuild
073f1b8 Updated files referencing Spanish translation for manual/misc/index.xml.es r1802071
6805fe3 Added Spanish Translation for manual/misc/index.xml.es
7850077 Updated files referencing Spanish translation for manual/misc/perf-scaling.xml.es r1802068
92ee2a4 Added Spanish Translation for manual/misc/perf-scaling.xml.es
6840158 Added Updates to Extra files referencing Spanish translation for manual/misc/password_encryptions.xml.es r1802066
c4e31db Added Spanish translation for manual/misc/password_encryptions.xml.es
95e7a85 Updated Spanish translation for manual/howto/reverse_proxy.xml.es
ced1faf Added Extra Files referencing Spanish translation for manual/howto/ssi.xml.es r1802060
580bc01 Added Spanish translation for manual/howto/ssi.xml.es
469830d Added Extra Files referencing Spanish translation for manual/mod/mod_auth_basic.xml.es r1802042
bda5f5e Added Spanish translation for manual/mod/mod_auth_basic.xml.es
aae1c23 mod_proxy_fcgi: Add the support for mod_proxy's                 flushpackets and flushwait params
2302082 httpdunit: merge CVE-2017-9788 regression tests from feature branch
0dc9280 CVE-2017-9788: add unit tests for get_digest_rec()
961e317 Follow up to r1801994: CHANGES' PR reference.
8177cc0 Follow up to r1754164: CHANGES entry.
327aa26 Added other modified files referencing Spanish translation for mod_asis.xml.es r1801894
91ef4e8 Added new Spanish translation for mod_asis.xml.es
233a657 mpm_winnt: Do not redefine the standard CONTAINING_RECORD() macro in child.c.
60a36ae mpm_winnt: Remove an obsolete comment in child.c explaining why the declarations of the structures and functions to access the completion contexts reside in a header file.
0186082 mpm_winnt: Tweak the names of the variables in child.c which are used to represent a queue of the completion contexts.
0c496a0 mpm_winnt: Tweak the listener shutdown code to use a separate event instead of the global variable (shutdown_in_progress).
081a04c mpm_winnt: Following up on r1801655, add a comment that explains the reason to choose the LIFO processing order for completion contexts.
a49aa77 Makefile.in: merge typo fix from test-integration branch
3ade492 Makefile.in: fix MPM_MODULES typo (in check-conf)
8c289f8 Makefile.in: fix MPM_MODULES typo
d840509 mpm_winnt: Advertise support for preshutdown notifications in the service, and perform shutdown in respond to SERVICE_CONTROL_PRESHUTDOWN.
5c5a731 mpm_winnt: Remove unused values of the io_state_e enum.
62328bd mpm_winnt: Remove a duplicated comment in the child_main() function.
c13159d mpm_winnt: Use a LIFO stack instead of a FIFO queue to hold unused completion contexts, as that may significantly reduce the memory usage.
f4f5dbc mpm_winnt: Drop the APLOG_DEBUG diagnostic saying how many thread are blocked on the I/O completion port during the shutdown.
73b0441 mpm_winnt: Remove an unnecessary Sleep() in the winnt_accept() function.
92dc445 mpm_winnt: Simplify the shutdown code that was waiting for multiple worker thread handles in batches.
5c1f5c7 mpm_winnt: Avoid using TerminateThread() in case the shutdown routine hits a timeout while waiting for the worker threads to exit.
180026b mpm_winnt: Make the shutdown faster by avoiding unnecessary Sleep()'s when shutting down the worker threads.
de15a34 Add logic to read the Upgrade header and use it in the response. Use we you are proxying to a server that has multiple upgrade on the same IP/Port. PR 61142
751964a mpm_winnt: Following up on r1801144, use the new accept_filter_e enum values in a couple of missed places in winnt_accept().
4b499ac mpm_winnt: Fix typo in the logged message in winnt_get_connection().
c3c585f mpm_winnt: Refactor the mpm_get_completion_context() function so that it would return a proper apr_status_t instead of yielding the result via the *timeout out variable.
948681b mpm_winnt: Remove an unnecessary retry after receiving a non-timeout failure from the mpm_get_completion_context() function.
4af3fde mpm_winnt: Factor out a helper function to parse the type of an accept filter and use an appropriate enum for it.
6da8236 mpm_winnt: Don't forget to close the I/O completion port as part of the cleanup in the child process.
1693e86 On the trunk:
b680a69 Correct string scope to prevent duplicated values for subsequent tokens.
e445cf5 Fix negotiation type parsing to be strict about "*", "*/*" and "type/*" comparisons.
767050d Backported.
7ed2bd2 Fix another mod_lua compile error. Compilation now tested against Lus 5.1, 5.2 and 5.3. The libs were compiled with COMPAT flags set, but mod_lua no longer sets them so it should compile and run with non-COMPAT libs as well.
fe1923b Fix new compilation breakage in mod_lua.
4b3557a Mostly revert the configure compat check for lua from r1785753. This should now no longer be needed.
3490bd6 Fix last compat issue with Lua 5.2 and 5.3. Patch taken from PR58188 which picked it from openSUSE.
d98ec3b More mod_lua compat for Lua 5.1, 5.2, 5.3.
d1105fd mod_lua: Improve compatibility with Lua 5.1, 5.2 and 5.3. PR58188, PR60831, PR61245.
b8e6337 Add mod_proxy_hcheck to generated httpd.spec file.  PR 60506.
7a8fab3 On the trunk:
7c4ac60 backported
f5c249b * Do not apply the strict permissions of the temporary file to a possibly   existing passwd file.   This long standing bug was triggered by fixing a bug in APR in r1791029.
49d653a Rebuild.
6b5f021 XML update.
9ed76be Partial reversal of r1800306... note virtual scripts in notes
856b65e proxy_fcgi: remove FPM-specific logic
f2c6b5b Updates to files referencing new Spanish translation of mod_allowmethods r1800183
9f4e882 Added Spanish translation for manual/mod/mod_allowmethods.xml.es
8622fe6 Restore single-char field names inadvertantly disallowed in 2.4.25. PR: 61220 Submitted by: ylavic
025ed73 Revert 1800111 for a cleaner logic flow proposed by Yann
81c622d * Silence compiler warning
31e7ac0 Appears to resolve the issue to permit single-char fieldnames; PR61220
27de3e0 Added updates to files referencing new Spanish translation of mod_allowhandlers r1799971
a0b8214 Added Spanish translation for manual/mod/mod_allowhandlers.xml.es
7634f61 Synch with 2.4.x
f3fe438 Revert misguided commit r1799731.
b272174 Rebuild.
a818b5a XML updates.
f53737b Add  CHANGE entry
f9df8f0 Remove a backported entry.
99ab47d Since r1753257, "HEAD" method is registered into the registry hash with the M_GET ID. (r1757672 in 2.4.x)
6d62324 style: where did the tabs come from? no code changes
de0ff1a Send a 404 response like other OSs do instead of 403 on Windows when a path segment or file requested uses a reserved word so Windows cannot be fingerprinted. PR55887
a83516d xforms updates
4f19656 core documentation rebuild
08d5a35 core.xml: Wrap a Define directive sentence in a <note>
4486c91 update transformation
c65c02e Fixed wrong revision number references in translations with original mod_alias.xml
0737be1 Added updates to files referencing new Spanish translation of mod_alias r1799605
a97fc5a Added Spanish translation for manual/mod/mod_alias.xml
7a94155 OK... we display ms, since we want to be able to provide values for <1sec, so entries should assume ms input when using bal-mgr
d1c3e06 allow balancer-manager to also accept subsecond intervals
5a9e731 Fixed a small typo (double if) in r1799475
24c937e Fixed a small statement about the result of Redirect when scheme and hostname is not defined in the directive
964cb61 util.c: revert r1799375 during veto discussion
5e1aea5 missed one.
611ceff xforms... again.
5f7bb10 some more nits
0c10f35 xforms
bd60481 start documenting those that use the time-interval format
610d235 stupid typos
b552957 cforms
bb7cfd7 Add time-interval as Syntax argument type
428acad Proxy timeout statements now sub-second granularity
5cc32e6 unused now
3092366 Allow finer control over hcheck intervals... minimum is whatever the watchdog slice is.
09dc3b7 Allow WatchdogInterval to be sub 1 second
f3a8efb Not an error... last one is honored
90fbc43 update trunk docs xforms
eb03bf1 Make case insensitive
e0852fd util.c: add a strict Base64 decoding function
78a4c3c ap_get_basic_auth_components: add unit tests
dae00dd httpdunit: merge to trunk from feature branch
63047d3 ap_find_token: add unit tests
f50be63 Revert new base64 function and tests
2a99e09 util.c: ensure all TEST_CHAR loops stop at the null terminator
734d633 CVE-2017-3167: add documentation to ap_get_basic_auth_pw()
012229e * The libnghttp2.pc might be found in lib64 on 64 bit systems
e46d227 fix for RewriteOptions processing in r1798938
4fa0f6c add RewriteOptions LongURLOptimization
9640631 Quiet spurious gcc warning in ap_parse_form_data ("'escaped_char[0]' may be used uninitialized in this function").
b24801e added the line <page href="mod/overrides.html">Sobreescritura de la clase índice .htaccess</page>
4993304 checked what have changed, nothing to update.
62e4ea6 Revert r1798456
f926fe4 * Only report success, if had real one.
a9aa6a8 * Do not cache OCSP_RESPONSE_STATUS_TRYLATER.
3bd26f8 * Mark OCSP_RESPONSE_STATUS_TRYLATER as error response
f5071e4 allow quoted paths in <IfFile>
a30d71c remove taint checking from proxy_handler
7a36c0f On the trunk:
0582935 Update CHANGES after backports
0541926 On the trunk:
451066f Fix typo.
6d14ff6 whitespace and match 2.4.x
b8cda32 a few more backported fixes
dfdc7e0 remove some backported items
c18ad64 mod_mime: fix quoted pair scanning
fc1981a whitespace only
0859b2c New Spanish translations for mod_actions.xml.es and related files referencing or related to it
8042db2 Added missing html Spanish translation for mod_access_compat.html.es
c795a71 ab: move option processing for setting a custom HTTP method outside of the HTTPS only handling.
f5a19de Added missing changes for Spanish references to security_tips.html.es in files, missing from commit r1795361
14d3c5e Added new Spanish translation for mod_acccess_compat, as well as the update for files referencing it
e43ae8c these are backported
a563dd1 ctr'ed in 1796447.
a185f03 PR61124: ap_parse_form_data() EBCDIC fix
b697ac5 Rebuild.
3556dcc XML updates.
c057b82 Move a potential NULL pointer dereference. Check if 'slave' is NULL before using 'slave->keepalives'.
c46a62d remove r1792169 taint checks from proxy and status modules
41b1232 short-circuit on NULL
92ab67c core: deprecate and replace ap_get_basic_auth_pw
11250eb mod_ssl: fix ctx passed to ssl_io_filter_error()
75f6998 fix confusing indentation of examples
6a1008e util.c: add a strict Base64 decoding function
9d1dad1 httpdunit: clean up after ourselves properly
ac87d1f httpdunit: add CMake support for Windows
589866e httpdunit: fix check.h on Windows
ac43c82 httpdunit: simplify test case generation
a4308d4 httpdunit_gen_cases: separate declarations from calls
d3289c7 httpdunit: a Check-based unit test suite
1b22322 configure: don't overwrite other_targets when mod_suexec is enabled
d8d6987 rules.mk: output directly to target for LT_COMPILE
3a84fd2 Feature branch for a C-based unit test suite.
d00deff Core documentation update
a66bced Remove warning about nested If/ElseIf/Else evaluation
3ce596b Merge in APR[-util] macros from branches/trunk-buildconf-noapr
d7e1ad9 buildconf: check in APR[-util] m4 macros
2ba1676 Remove empty line.
4b2a770 ab: don't call malloc_init for OpenSSL 1.1.0
be128ce Fix some style issues.
3ed6ed8 Add an explicit NULL to initialise a field in an authn_provider structure, as done in all other places.  PR 60636
182db5c When processing a 'SetEnv' directive, warn if the environment variable name includes a '='. It is likely a configuration error.   PR 60249
971329d Added security_tips.xml.es and related files, included built html.es
7316342 Remove 3DES by default for users of older crypto librarys; the cipher has been reclassified in current OpenSSL releases as WEAK due to 112 or fewer bits of remaining cipher strength, while the Sweet32 disclosure extended the criticism of RC4 on to 3DES. (IDEA, which potentially has the same issue, is never enabled by default in OpenSSL, due to patent concerns.)
f305c0e backported
eb1d654 remove recently backported items
6a4f453 Rebuild.
75c95ac XML updates.
08a050a update transformation
3ef9b07 property fixes
3eba6c4 Rebuild.
fcb4caf XML updates.
f7bb597 mod_remoteip doc rebuild
1bf556e Remove unclear sentence in mod_remoteip doc
fd3f4b8 On the trunk:
4a681f3 On the trunk:
7d0a721 Documentation rebuild
d24f113 Add a note about time resolution to the timeout parameters - PR61067
ec6d580 docs: update
f429387 override index: update missing <override>s in directives
1312f9a override index: remove invalid <override>s from directives
59033c2 merge in the override index
1bfcf4a docs: update
e4238a4 override index: clarify this doc's purpose
3ec7888 Add an Override Class Index
95ca7ec Feature branch for a new override index manual page.
0df25d7 On the trunk:
914d717 On the trunk:
800af53 Remove a space to synch with 2.4.x.
f2b05de Synch with 2.4.x.
22c79c8 Synch with trunk.
100788b Synch trunk and 2.4 branch (r1735954 in 2.4)
c114725 Synch trunk and 2.4 branch
3f4469f Fix NULL pointer dereference in error logging message
b2a3df3 Rebuild.
734e68d XML updates.
b310798 Fix typo
81362c9 Follow up to r1789220. Document the implicit behaviour of ListenCoresBucketsRatio when multiple Listen-ers are configured on the same IP:port.
f59dd70 git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1792661 13f79535-47bb-0310-9956-ffa450edef68
a5cc2c5 added mod rewrite section to the page
fafe95b Evaluate nested If/ElseIf/Else config sections
b773554 despite trace, assign a APLOGNO, as done elsewhere in this mod
8af890b PR61012: log a trace message on tunnel shutdown
1e30d3f Fix some compatibility notes
6fd7882 Synch trunk doc with 2.4.x (add some " in order to improve syntax highlight)
1ef5fdb Rebuild.
818f33f XML updates.
70c618f Fix pattern (.xml source filenames aren't charset tagged)
e23d950 Still can find only one problem case alluded to by André.
ae08316 On the trunk:
013958a On the trunk:
38e2693 Introduce request taint-checking concept.
b517584 Add missing documentation for secret.
61ca365 Add upgrade parameter to mod_proxy_wstunnel. That allows to upgrade to jboss-remoting for example or to run an HTTP/1.1 backend that needs to upgrade to WebSocket. See also:  https://issues.jboss.org/browse/JBCS-254  https://issues.jboss.org/browse/JBCS-291
58b127d PR61009: be as helpful as possible during -V operation
f90daed Merge fix branch for PR60947.
b05388b ssl_util.c: add APLOGNOs
bac77f2 ssl_util.c: log which threadid callback is in use
6f10517 mod_ssl_ct: fix return values for custom extension callback
2091bb8 KISS: RemoveType is a simpler fix for .tr; explain .da files; order our LanguagePriority by a first-order comparison and drop negligable translations from our ordered priority preference list entirely.
4867197 On the trunk:
f5e7fb1 On the trunk:
e8c348a PR60947: try to warn affected users...
7b2bdce PR60947: avoid CRYPTO_THREADID_set_callback() if possible
d06424f ssl_util.c: add a couple explanatory comments
7f59369 ssl_util.c: pull up duplicated code in ssl_util_thr_id()
f255ac6 On the trunk:
7fb7043 mod_substitute: use local/native LF for splitting
c8598a9 On the trunk:
c66d4fc On the trunk:
4eeb7b5 configure: bump thread count for the &errno test
586ce2b xforms
528eecb location of brotli lib
a0f1e0d Merge the AP_OPENSSL_USE_ERRNO_THREADID check to trunk for wider testing
d3ed155 configure: check if &errno is thread-local for OpenSSL
2c968e2 Feature branch for PR60947.
ff0f1b9 If the lingering close does not leave the socket in a disconnected state, do not recycle the socket.
354e89a On the trunk:
e2afe4d mod_brotli: Fix leftovers from mod_deflate or incorrect directives in the "Serving pre-compressed content" section of the docs.
f27de6a mod_brotli: Tweak the descriptions of the directives provided by mod_brotli in the documentation (BrotliCompressionQuality, BrotliCompressionWindow, BrotliCompressionMaxInputBlock, BrotliAlterETag).
f60be74 mod_brotli: Nuke the section about input decompression using mod_brotli in the documentation.
8c861c4 mod_brotli: Properly describe the "no-brotli" environment variable in the documentation.
fb639a3 mod_brotli: Remove incorrect references to mod_deflate in the documentation.
6299bcd mod_brotli: Comment on the default choice (0) for BROTLI_PARAM_LGBLOCK.
96c374a On the trunk:
19b6640 mod_brotli: Fix a minor typo in the description of BrotliAlterETag that has been referring to httpd 2.2.x.
48b56e9 mod_brotli: Update makefile to allow using Brotli library >= 0.6.0.
5bded4c On the trunk:
bcae4f0 On the trunk:
e643f77 On the trunk:
8895bd2 On the trunk:
0e3a0a9 On the turnk:
cd82942 Rebuild.
17b4b8a XML update.
147168c Rebuild.
e3eaf09 XML update plus typo in mod_remoteip.xml.
99844e1 h2_worker.c is no more, so remove reference to this file.
8f446f8 Fix directive name in (s/RemoteIPProxyProtocolDisableNetworks/RemoteIPProxyProtocolExceptions/)
e4611af On the trunk:
edc3965 Rename RemoteIPProxyProtocolDisableHosts to RemoteIPProxyProtocolExceptions
68b05db On the trunk:
3076d44 On the trunk:
0ebd5ab Rebuild.
44d584e XML update.
2511ad1 Rebuild.
6d112f2 XML updates.
485f90e Update PROXY handling by removing Optional processing
0451428 On the trunk:
c1f02a1 On the trunk:
5440a75 On the trunk:
f560365 On the trunk:
0dc4a16 On the trunk:
3751183 suggestion from ylavic
faa6628 On the trunk:
ac6721e On the trunk:
8df29ce Revert r1789221: real fix looks more subtle.
cd47269 http2: silent compiler warning.
e685755 core: Disallow multiple Listen on the same IP:port when listener buckets are configured (ListenCoresBucketsRatio > 0), consistently with the single bucket case (default), thus fixing the leak of the corresponding socket descriptors on graceful restart.
98ce943 Revert r1789061: it didn't any leak since duplicated listeners were already created on pconf, hence cleaned up on restart. More investigations needed...
a1941d1 core: Fix leak of duplicated listeners (socket descriptors) on restart when ListenCoresBucketsRatio is configured (positive).
8d08892 Synch style in comment with 2.4.x. Style was different when r1496711  has been backported in r1772331
97c9589 Group bit field values in order to save some memory.
2cd566b Improve indentation
8533abf Save a few cycles. 'apr_pstrcatv' can compute the length of the new string for us.
ea16c6e On the trunk:
ef8b363 xforms
1d77c9a Fix typo spotted by angeloxx
64d36ee Rebuild.
5b62657 XML updates.
9ec2f28 Finally include feedback from Ruediger Pluem. Add slave "backoff" verified by Sander Hoentjen
f56c4d6 On the trunk:
b193e0b CHANGES: backported features to 2.4.x
25be6a5 compat note for REMOTE_PORT
af52784 not backported yet
444364d zap recent backports
5811344 no strncasecmp because flag has no value
cee2df6 mod_ssl: follow up to r1781575 Fix SSLOCSPNoVerify merging, and while at it capitalize Verify as suggested by wrowe.
3555d2d drop the longhand version
4c3dc1b Use 'ap_cstr_casecmp' to simplify code.
efcbe82 Save a few bytes in the conf pool.
31f0704 xforms
c68548b Put this here too
ad79dc4 On the trunk:
dadde98 On the trunk:
d645af6 On the trunk:
4325161 Rebuild.
069694e XML updates.
3eb2a25 update comments post-r1787525
8ddad1a backported recently
e87d66b Add IndexOptions UseOldDateFormat
e5ba6db Documentation rebuild
0078996 Add a warning in the docs about nested <If> blocks
dcaae91 print r->uri during failure
804c19c On the trunk:
ac907fd donating lua server-status script, enjoy!
4df8e31 On the trunk:
448a1f5 Documentation rebuild
7bea4fe update after backport
3be775f Documentation rebuild
bac9939 Add a note in the docs about evaluation of Location sections
48464b6 Cross-reference from howtos to rewrite
5008e67 rebuild
7e7a527 This page was taken from a magazine article, years and years ago. The promise of a coming future article is not relevant in this new context.
02e2484 Rebuild.
c847893 XML updates.
1bbc597 update log tags
1e21b7d On the trunk:
192fb40 On the trunk:
cbb95aa Fix some spelling errors in comments
2afa2b4 * We can have expressions that become true if a regex pattern in the expression   does NOT match. In this case val is NULL and we should just set the value for   the environment variable like in the pattern case.
f843f6f * server/config.c, include/http_config.h (ap_build_cont_config,   ap_soak_end_container): Constify directive arguments - existing   callers pass string literals.
d20f527 * server/core.c (start_cond_section): Comment & variable name fixes,   no functional change.
022f5e2 xforms.
187fb42 Wording/formatting/typo fixes.
041c8dd Regenerate docs.
ec40c3c Add <IfDirective> and <IfSection>:
cf85d9f final tune and preventative coding
6030127 Remove duplicate implementations of conditional section function.  No functional change.
6e7dcf1 xforms
4aa5612 compat inline for no-proxy
053c352 Defensive
c57a036 mod_xml2enc: cut out inappropriate fallback (and misleading log message) when we've failed to detect a charset but successfully fallen back to config default. Analysis by Tim Skopnik, patch by niq.
00949c6 configure: check for luaL_register in liblua
4a720ae configure: remove mod_lua code duplication
c623d0a On the trunk:
eebe5fa On the trunk:
d49edbb Rebuild.
3c95460 XML update.
5211232 Look for specific versioned installs of Lua 5.3
2120966 documentation rebuild
7c37cef Fix upgrading documentation for PR 60794
fc10a7c changed to es style xls
04c06c8 rebuild spanish documentation.
f189706 added task
791ee68 rebuilt
1d691b8 reviewed reverse proxy xml file, fixed english phrase missconfig, and updated and generated the corresponding files, also added  the updated meta file.
5b6d27b On the trunk:
aef49d0 rebuilt file
95d6366 meta file for site map  updated
8aa5e2d added the HTTPv2 line
829d89f Rebuild.
b369477 XML updates.
e570ce5 On the trunk:
119470d adding the meta file and the html file
7e52aa6 removed $ from comment
f122a2b tranlsated, fixed indes ssl minor issues, and built html
ba5f020 On the trunk:
d2e028d rebuild
dd0238c Link to the directives quickreference, which has the context listed inline, as per user-submitted comment.
ad263e5 xforms
215b84c  Support use of optional "tag" in syslog entries. Streamline the patch.  PR 60525.
09e5e64 adding meta file ssl/index translated  ssl index and built the html ones
99a20d6 translated  ssl index and built the html ones
3d82213 More granular logging
d02badb Instead of thread-pools for each server/context, use a server-wide top-level threadpool, which is more efficient.
13f6901 Since ProxyHC* values are per-server, we need to loop thru all per-server contexts. No need for each server/vhost to have it's own watchdog instance, however.
72d18f8 Use single top-level context and have the callback loop thru all servers/vhosts. Adjust server_rec as required
2501a90 Work on all servers, not just top-level... Each Vhost has its own context and watchdog instance. We may need to revisit this and have just one instance
2deba1f adding missing xml file and rebuild
d376a88 adding missing xml file and rebuild
6ae9864 Rebuilt
33ddea1 adding missing xml file and rebuild
71b3aeb On the trunk:
3f28a59 On the trunk:
c56a024 On the trunk:
8418020 mpm_event: no mutex needed at ptrans' allocator level. (reverts r1783761 and r1783755 partially, style changes preserved)
afea2aa mpm_worker: no mutex needed at ptrans' allocator level. (reverts r1783808)
0354599 mpm_motorz: no mutex needed at ptrans' allocator level. (reverts r1783755 partially)
f46d033 MPMs unix: Place signals handlers and helpers out of DSOs to avoid a possible crash if a signal is caught during (graceful) restart. PR 60487.
fb5baf3 mod_cache: Fix a regression in 2.4.25 for the forward proxy case by computing and using the same entity key according to when the cache checks, loads and saves the request.  PR 60577.
6101554 mpm_motorz: follow up to r1783755. Use an allocator and mutex for ptrans' to be safe with concurrent creation and destruction of its subpools, like with mod_http2.
5b8c9f7 mpm_worker: follow up to r1783755. Use a mutex for ptrans' allocator to be safe with concurrent creation and destruction of its subpools, like with mod_http2.
45b1409 mpm_motorz: follow up to r1783772, with the real changes.
99cf9fa mpm_motorz: each log message should use its own APLOGNO.
f6cc395 winnt/service: each log message should use its own APLOGNO.
b24e686 Follow up to r1780327 and r1780329: mute update-log-tags.
47daee1 Follow up to r1772919: update APLOGNO().
4c670d1 Follow up to r1772812: update APLOGNO().
2722df4 Follow up to r1783756: update APLOGNO.
16dc9c2 Follow up to r1783755: update APLOGNO.
6699f4e Revert r1783759: really more things than intended :p
37ebaff Follow up to r1783755: update APLOGNO.
e50f64f mod_http2: use a mutex for mplx and slave connections's allocator to be safe with concurrent creation and destruction of their subpools.
db8951e mpm_event: use a mutex for ptrans' allocator to be safe with concurrent creation and destruction of its subpools, like with mod_http2.
1d83ac3 build doc.
82af8b6 Fix ProxyPassReverse schemes in mod_proxy_http2's doc (examples).
757e5a0 On the trunk:
e54251d On the trunk:
84d078e Thanks to Rüdiger, Yann and Jacob for catches and verification
08e986a Revert it part r1783317, 'avoid _free()ing NULL references.'
fee7329 Revert r1783310 'Preserve OpenSSL 1.0.2 compatibility, following up on r1783305'
5004e38 Fix #cpp bug in prior commit, follow up to r1783317.
915c1b7 Avoid unnecessary code (the deprecation macro wrapper itself emits unused args warnings) in OpenSSL 1.1.0 and avoid _free()ing NULL references.
342bc8e Preserve OpenSSL 1.0.2 compatibility, following up on r1783305
561b273 Fix OpenSSL 1.1.0 breakage in r1781575; BIO_s_file_internal() is gone.
e6459db Save a few bytes in the request pool.
94f37b1 Save a few bytes in the request pool.
283f8c8 mod_bucketeer: consume given brigade while forwarding/setting aside.
67e267e default_handler: cleanup outputed brigade before leaving.
065e824 util_filter: better ap_pass_brigade() vs empty brigades.
97d4f59 On the trunk:
7c8a148 On the trunk:
70e4208 On the trunk:
ba65580 On the trunk:
e775ad7 Update w/ add'n people. Jacob helped w/ the envvar stuff and Jim helped w/ the FPM/virtual stuff (If we remove the virtual_script stuff, remove Jim from this CHANGES entry)
298ed3c Updated, fixed some missspeled words and added english changes.
5461a46 Updated, fixed some missspeled words and added english changes.
b474b9a Updated, fixed some missspeled words and added english changes.
c276f41 documentation rebuild
c32069c Rebuild.
240dd20 XML updates.
bab82a5 docs: add more notes on ProxyFCGISetEnvIf
2c70ed7 ProxyFCGISetEnvIf: reject invalid invocations, streamline unsets
545d85a Add syntax highlight + change separator in regex (# --> |) in order to please syntax highlighting engine
5231ec6 negation, optional parms
9416776 support unsetting vars
457a723 mod_proxy_fcgi: allow setting empty variables in ProxyFCGISetEnvIf
e5aac69 mod_proxy_fcgi: fix spelling in APLOG_INFO message
54cb64c Allow final admin-level fine-tuning
3178ef6 docs: update
f92f663 docs: fix typo in setenvif page
deefba6 docs: rebuild
15cf190 trailing whitespace
7635969 Remove trailing whitespace : no functional change
bcb2ceb Follow up to r1782164: fix typo (closing double-quote).
2eef117 Logging update
aeea560 documentation rebuild for core.xml
7899e9d Add debugging info to the HttpProtocolOption directive doc
acf1252 check: merge warning fixes from feature branch
04ce4ca check: silence ServerName warnings with MPM DSOs
18a1d21 add a note to the vhost examples about context
1f0d48f XML updates.
eeec392 Change tactic for PROXY processing in Optional case
873119e Remove unused variable
59da976 Rebuild.
42eede3 XML update.
05424ce Rebuild.
ca40e67 XML updates.
b795df1 Adding .fr translation for http2 howto
7733164 Adding .fr documentation translated files. Credit to lgentis.
43a1396 mod_ssl: don't depend on the next output filters to cleanup the passed out brigades.
195d89f Documentation rebuild
7588e20 Add missing documentation for r1781575 Fix for PR 46037
73e3c5b Add back the file I removed in r1781575.
f6146b7 Add Configuration for trusted OCSP responder certificates Fix for PR 46037
6b7f431 htpasswd: report the right limit when get_password() overflows.
ce23a72 htpasswd: don't point to (unused) stack memory on output to make static analysers happy.  PR 60634.
5982477 add name
8c772d5 add ProxyFCGISetEnvIf
37c5465 add no-proxy envvar for mod_proxy
e2e6e51 revert r1780909 and r1773397 ProxyPass ! perdir
5054dfb mod_ssl: follow up to r1740928: fix memory leaks from merged proxy_ctx.
c98a169 mod_ssl: follow up to r1781187. Address SSL_CTX leak in (merged) proxy_ctx.
7e95870 mod_ssl: revert r1781299 r1781188. Need to separate follow up related to r1740928 and co from the one related to r1781187.
832cbdb On the trunk:
16e22e4 * We only need this in case HAVE_SSL_CONF_CMD is defined
f82a8bd mod_ssl: follow up to r1781187. The ssl_util_thread_*() functions are not necessary with openssl-1.1+
ad6088c mod_ssl: follow up to r1740928: fix memory leaks.
120f9ee mod_ssl: work around leaks on (graceful) restart.
1297975 configure: add dependency checks for mod_crypto
c9c18f9 mod_crypto: improve error message with older APRs
5ce4c52 * modules/metadata/mod_remoteip.c (register_hooks,   remoteip_hook_pre_connection): Reference the filter by handle rather   than name (avoiding tree lookup by name on use).
9930da2 * modules/metadata/mod_remoteip.c: Fix GCC strict-aliasing warning   by moving deference of header array via a different pointer type   ("type-punning") out of line.
4d38c3b wishlist: add CGI fixes
46effa0 buildconf: merge apr-config mode from its feature branch
f8475c61 Core's documentation rebuild - part 2
b197f67 Core's documentation rebuild
ec2a924 Reworded the Timeout documentation about mod_cgi[d]
db1c9be "fix" regression in r1773397.
d4149cd Core's documentation rebuild
4b8d6e2 Add more info about the role of Timeout for mod_cgi
d6bd916 Rebuild.
456ff65 Bad meta file.
31282c0 Set all read buckets aside in case we need to restore all during optional header processing
261ac36 Rebuild.
8ebe965 XML updates.
5d9ae56 Rebuild.
b2c3aae XML updates.
29e0025 On the trunk:
5b1f832 On the trunk:
2b88a84 On the trunk:
517c858 buildconf: add --help for the new behavior
ae6b054 Adding .fr translation from the french doc translation project. Credits go to lgentis
b77f2ba buildconf: allow configuration without APR sources
f4dee68 documentation rebuild
57adac7 Add HTTP/2 howto link to index and sitemap
456d07f debugging
0b1a529 Adjust as needed
232be9a debug
d7b14ca rotatelogs: fix -n help text
152588a 80 chars
f05f006 PR60647: ACC per connection not available w/ event MPM
f81f31c Feature branch for configuring with source-less APR[Util] installs.
31c8cd4 documentation rebuild
232d9e3 Correct some typos across the documentation.
daec343 On the trunk:
fe3c9b7 Fix %{DOCUMENT_URI} in SSI w/ default parser
a697cb9 LINK : warning LNK4013: image size 0xB1000 exceeds specified maximum 0x20000
e843814 update after backport
42c1370 On the trunk:
7cd1a0a Documentation rebuild
9135cf6 Reworked and added examples to the HTTPProtocolOptions doc
c7c42ff On the trunk:
eac0517 update transformation
dc77bcd Rebuild en language.
e9afae1 Rebuild.
1dbd37a Bad metafile.
a4c9d78 On the trunk:
b633809 On the trunk:
09e7a2a Save a few bytes and a few cycles.
87c71c6 Be more consitent in the layout, and fix the display of a multi lines <highlight> section
2ddc069 mod_proxy_hcheck: follow up to r1779574. Parse/validate response bodies.
3662aba documentation rebuild
c2e3b60 Reworked mod-proxy-http2's documentation after Stefan's suggestions
fe4289b Documentation rebuild
2aa27cf Added more details to mod-proxy-http2's doc
526ae59 mod_proxy_hcheck: Don't validate timed out responses.
632f491 mod_proxy_hcheck: thread-safety. Use the thread pool everywhere for the needs/lifetime of the request to the backend.
27a77e7 On the trunk:
09010da On the trunk:
9808d8f As per http://httpd.apache.org/docs/2.4/programs/httpd.html#comment_6187 the -R option has been gone for ages.
749922e On the trunk:
69c9422 event: follow up to r1762701. Keep QUEUE_APPEND()+pollset_add() or QUEUE_REMOVE()+pollset_remove() atomic.
1bf31af Allow -DHC_USE_THREADS=0
592c8f3 mod_brotli: Update makefile to cope with the pkg-config layout change in https://github.com/google/brotli/commit/fe9f9a9
40a9292 Xforms et.al.
2a27541 1st draft
9149eec unused variable error could mistakenly note that brotli isn't available.
d824f99 update transformation
7f7d258 Rebuild.
589d92c XML updates.
6d87ffa update after backport
78d4351 Follow-up to r1778350
728cb09 PR60576: php-fpm broken w/ per-dir rewrites
18e99a8 name changes re: suggestion
4e8baf1 Use pconf as parent pool so mutexes get cleaned on restarts/reloads
c4f4ded * Silence compiler warning
4249623 remove backported items
3dac688 followup to r1776285
cc97ce3 https://bz.apache.org/bugzilla/show_bug.cgi?id=58855
db852eb Clarify wishlist
dfcc8f3 Finish cross-integration with trunk
b8a203a check: merge MPM-DSO fixes from feature branch
6003024 Sync-merge with trunk
90e1649 check: allow config tests to pass if necessary
fb5a4b4 check: search for MPM modules in the correct directory
b76545b avoid SO_REUSEPORT w/o ListenCoresBucketsRatio
728b6cd On the trunk:
564a902 Rebuild
eb8102c XML update.
5f1c8ee Rebuild.
e72d404 XML updates.
8360f7b Keep this branch alive; block r1777709 after reintegrate
3286d87 Reintegrate the --with-test-suite feature with trunk
50462f0 sync merge with trunk
6ed6d50 --with-test-suite: error instead of warning if Makefile.PL doesn't exist
53a4692 check: enable all (non-MPM) modules when testing
c34870e http: follow up to r1777460. We MUST unfold outgoing HTTP headers in any case, "message/http" is for inner content.
a971034 Enable zero-install testing
4ceaede Remove definition of ASCII_CRLF which is the same as CRLF_ASCII. Remove definition of ASCII_ZERO which is the same as ZERO_ASCII.
e0f539c Move definition of ASCII_ZERO to httpd.h and rename it ZERO_ASCII for consistancy reason. Remove definition of ASCII_CRLF which is the same as CRLF_ASCII.
fb209db Fix some tiny style issues (missing space)
9adefaa 'repl' is already allocated in the request pool by 'construct_host_header()' the line just before. So this is safe to use the 'apr_table_setn' variant in order to save a few bytes of memory.
a309dd8 Remove a useless break + tiny style fix (missing space)
6976db2 Use apr_pstrmemdup instead of apr_pstrndup when applicable
6f2a3a1 update
07ad86d proxy: don't force global module selection (most) and scope (shared/static), since it breaks --enable-modules=none + exhaustive --enable-foo(s).
157d20d http: allow folding in check_headers(), still compliant with RFC 7230 (3.2.4).
3756339 Suggestion for STATUS
c856f32 Add a --with-test-suite option for "in-tree" testing
b2fb7e1 old IBM EBCDIC fix that never got shared.
254fa6f Documentation rebuild
b7a61a6 Removed unclear sentence in mod-http2 doc.
6174613 2 more for the wish list
56e7d50 An experimental branch for integrating Apache::Test with httpd
632fa0c Some more ideas
07e69c5 More ideas
9bcd0f9 punctuation
216cef6 On the trunk:
a620bfa rebuild
acb310d Add cross references
dbc312f reminder
fcc9680 Fix a typo spotted in an old comment
f0348fc Xforms.
4472521 Remove a superfluous \b after 'Proxy'
ca435ae Happy New Year 2017
44a8837 Reinsert attribution to mod_remoteip.c for PROXY protocol
56bfe47 On the trunk:
85900b7 On the trunk:
1d7573a On the trunk:
5653800 Documentation rebuild
e1693ac Update httpd release version for LegacyPrefixDocRoot
586bb59 Core doc page rebuild
86819b0 Removed mod_proxy_protocol references after r1776624
7ed4a6f Removed mod_proxy_protocol.xml after r1776624
6831139 Fixed some doc typos detected by a user.
7f7cf96 Move attribution for mod_remoteip RemoteIPProxyProtocol from file to CHANGES
77c6576 Documentation rebuild for mod_remoteip
3e40416 Shorten RemoteIPProxyProtocolEnable to RemoteIPProxyProtocol and correct references in docs
687df14 Documentation rebuild for mod_remoteip
fd636d3 Reviewed, and built the HTML.
10ce8a9 Fix typo in mod_remoteip's doc
9a60440 Merge new PROXY protocol code into mod_remoteip
5065024 Reviewed, and built the HTML.
f4d47d8 git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1776571 13f79535-47bb-0310-9956-ffa450edef68
81b7198 Reviewd the diffs from last version and updated
deb50a9 Rebuilt the html file
1b46120 PR60009: RewriteRule local prefix checking update
b3531c4 PR59938: add %{REMOTE_PORT} to the expression parser
992b42a mod_remoteip: Set useragent port to zero PR59931
c5f5760 let wstunnel run first
281b96b improve a debug message
3c833a4 xforms
7e97492 Fix translation.
c841193 xforms
9789ea4 Fix old comment from Martijn
ada5e71 revert back... no conflict w/ name
e405186 and xforms
735fcc0 restore
0e4bd24 xfoms
d565955 for the time being, rename as ProxyProtocolFilter to avoid mod_ssl conflict
966430e Donation of mod_proxy_protocol from https://github.com/roadrunner2/mod-proxy-protocol as per https://github.com/roadrunner2/mod-proxy-protocol/issues/1#issuecomment-269064906
678de36 adding my cents
4b50944 Unlock mutex in error path.
f954d10 Stuff I've been playing with.
ca06ee3 some extemporaenous things for dot-next
f85892f On the trunk:
5516447 On the trunk:
414b307 Note some 3.0 potential stuff
ef6fbcf Return HTTP 504 rather than 503 when a proxy timeout is hit.
c217708 On the trunk: update after backport
e84ccb6 On the trunk:
b7a49f4 On the trunk:
a1d6914 On the trunk:
0674872 mod_proxy_{ajp,fcgi}: Fix a possible crash when reusing an established backend connection, happening with LogLevel trace2 or higher configured, or at any log level with compilers not detected as C99 compliant (e.g. MSVC on Windows).
423577d pass along error buckets
4bc922d remove initial isascii check entirely
6a216bb fix indent
8e1a6ba much backport
b9822a7 fix crash in util_fcgi.c
1db2f47 Fix strict Host: header checking on EBCDIC
14ade93 assign a logno
549d1d7 http_header_filter: on check_headers() failure, use AP_FILTER_ERROR and EOC semantics to respectively warn the caller and cleanly terminate the connection afterwards.
67b7773 Silence compiler warning: "686: warning: 'ok' may be used uninitialized in this function" This is a false positive, because the value of "ok" will only be used if stapling_get_cached_response() sets "rsp" to non-NULL in which case it will always have set "ok".
481eacf Rebuild.
648fb0f XML update.
11cac57 Follow up to r1768070, wire mod_socache_redis into windows build schemes
332211a mod_socache_redis also uses mod_status hooks
6ed50b3 update transformation
a748616 svn:eol-style = native
3e3b82a related to http://svn.apache.org/viewvc?view=revision&revision=1774602
517ad45 Add ../generators to include path for Windows build of mod_socache_memcache. It now needs mod_status.h.
9ffa25af Use correct format pattern, "%lu" is wrong for apr_uint64_t on some platforms.
af22cee event: close a race condition where we might re-enable listeners while they are already or about to be closed.
f7ff940 event: follow up to r1762718.
540e19c Revert r1774525, will commit a better way to handle this.
466ced7 kill the keepalive conns as early as possible during graceful process exit.
20b88b7 Documentation rebuild
f68a100 Added a note to mod_ratelimit documentation
bbdb35e Fixed xml for mod_info.xml
f4fb950 typo
03363ba example of using -DDUMP_CONFIG
60586e2 http: release data buckets (memory, fd, ...) as soon as possible when filtered out from the outgoing brigade by ap_http_outerror_filter() applying the EOC semantic.
091c891 short-circuit some kinds of looping in RewriteRule.
2be4a91 Follow up to r1773761: restore EOC semantic.
14e7c88 xform
d92fb72 xhtml
0823097 rate limit notes
f06fac5 xform
68c2807 add buzz word
c53918d html elements
6e4248c Some "error" reporting if we overflow
cdc1d3a With the changes of api from pcre 8.x to 10.x, do not presume that the internal ovector will be created to accept greater than nmatch elements for processing. Allocate enough elts in all circumstances for pcre2api.
c960136 Need to preserve --with-pcre value if not a path ref
366a562 Follow up to r1773761: improved recursion detection.
749c178 Follow up to r1773761: we need to check both ap_send_error_response() and internal redirect recursions.
ce9505b Follow up to r1773761: don't recurse on ap_send_error_response() either.
250ff9c Resolve shell syntax error noted by jim, tested against pcre8/pcre2-10
56ffeeb Follow up to r1773761: don't recurse on internal redirects.
6435066 Follow up to r1773761: don't check_headers() more than once.
552b23d Follow up to r1773293. When check_headers() fails, clear anything (headers and body) from original/errorneous response before returning 500.
1f9d78e Diagnostic statement wasn't necessary
b9df8ef Fixes to --with-pcre. Refuse to consider --without-pcre, that is nonsequitor.
12cfcf0 Replace PCRE with PCRE2 where it is available.
ff7722b ProxyPass ! doesn't block per-directory ProxyPass
cc996f2 backported
ffabf5f Drop C-L header and message-body from HTTP 204 responses.
74b5948 change error handling for bad resp headers
8763c1b revert r1773285
8f418b2 change error handling for bad resp headers
6f41ecf Rebuild
aa30f42 "most common". Sheesh.
0d2dda0 After eliminating unusual whitespace in Unsafe mode (e.g. \f \v), we are left with the same behavior in both of these cases. Simplify. Noted by rpluem.
2b69370 Partial port of proposed r1773158 for httpd-2.x only; this change causes all illegible protocol args to be rejected, irrespective of the strict toggle as we expect this to occur with a garbage raw SP embedded in the request URI.
4354842 mod_auth_digest: fix segfaults during shared memory exhaustion
5a41a0e mod_session_crypto: follow up to r1772812: CHANGES entry.
fed21b1 mod_session_crypto: Authenticate the session data/cookie with a MAC (SipHash) to prevent deciphering or tampering with a padding oracle attack.
a757509 capitalize
cb1fc9c xforms
039e705 provide more access control migration hints
66a8b29 in 2.4.24-dev
9d1195a update after mod_http2 backport
c671673 SECURITY: CVE-2016-8740
2829dd2 Changes done by Daniel, reviewed by me, adding the html files and meta file to the repo.
9a249be rebuild
69c9e80 Undocumented query string.
0384875 mpm-event's doc rebuild
0477e5b Added some notes in mpm-event's doc page
18f6088 Missing CHNAGES for r1772489
e149a8d Fix some style issue.
cd677ce The default value of 'inherit' should be AP_LUA_INHERIT_UNSET. With this value, the behavior is the same as 'parent-first' in the 'LuaInherit' directive
6efb076 Remove some spaces to synch with 2.4
8246710 update transformation
1597a10 loop in checking response headers
bb4c174 mpm-event's doc rebuild
c088ab3 Fixed some wording in mpm-event's doc page
bdd3da1 mpm-event's documentation rebuild
11bb63e Add a section to mpm-event's documentation to advertise new changes
280008d add mod_proxy_hcheck to legacy build
4b3a944 mod_brotli: Update makefiles to use the library layout of the official Brotli repository.
d3c7e47 mod_brotli: Explicitly cast 'const uint8_t *' to 'const char *' when using the data received from Brotli to create a bucket.
b31b9c0 mod_brotli: Rewrite the autoconf script in a, hopefully, less convoluted way.
9858526 * Fix numbers count in comment.
dbc1077 update transformation
3bdce80 use consistent encoding between xml.fr files (utf-8)
3b55c2d remove bom, remove useless encoding declaration
5c7da51 Rebuild.
d3d4332 XML update.
5bc3e07 Rebuild.
fe822a2 XML update.
9ed8c34 mod_http2: wseaking cleanup assertion on streams that have never been scheduled
e4488f3 update after backport
fcdeaae mod_http2: new directove H2EarlyPushes for enabled 103 interim responses
e10aaa2 update after backport
b1f6b6e mod_proxy_http2: not forwarding any 1xx responses on frontend HTTP/1.x connections. Unless its 100 and the client is expecting that.
777c9dc Update xforms
49bd2dd Allow for initual burst at full speed
2e501bb Optimize away one more strchr
108f897 List discussion resulted in rejecting all but SP characters in the request line, but in the strict mode prioritize excessive space testing over bad space testing (which is captured later) and make both more efficient (at this test ll[0] is already whitespace or \0 char). Also correct a comment.
3b5986c xforms
eef5ab3 And another logno
713b2c6 Oops. update logno
fcca6d5 mod_macro improvements to bypass "expected" warnings and conflicts
3096786 From Norm: NWGNUsocachmem needs to find mod_status.h
afee26b Removing unused warning after r1764961 changes.
c7c1846 remove Location: header checks for absolute URL
cba2ff8 update docs xforms
5beddad Describe new behavior of ServerLimit
31857a5 mpm_event: add clarifying comment
75aefb6 Use all available scoreboard slots
7d6d929 ap_reclaim_child_processes(): Implement terminate immediately
11ff286 Rebuild.
a90dde3 XML updates.
44aec31 mod_http2: limiting new PUSHes to GET only, preventing 103 responses when expecting a 100
2ebdeab addendum to r1769760 to make it generate 100 status lines
1fea002 Actually cause the Host header to be overridden, as noted by rpluem, and simplify now that there isn't a log-only mode.
ebb48eb documentation rebuild
fb6ed03 Added a note in the mod_headers docs about Content-Type and setifempty
1c95ee8 documentation rebuild
1a38604 Updated the perf-tuning documentation
ef6e478 http: Allow unknown response status' lines returned in the form of:     HTTP/x.x xxx Status xxx
f8b4fe0 Fix some HTML tags </br> --> <br />
0aab041 xform
a3992a3 add an <IfFile> config section like <IfDefine>
8c7355d reorganize mod_socache_redis so it compiles w/o apr-redis
b662a42 Documentation rebuild
82e6704 Unified duplicate warning in mod_proxy ProxyPass documentation.
717ca25 Backported in 2.4.21.
f365955 Axe backported CHANGES entries.
4ee8988 mod_http2: fixes for compiler warnings
fe86ff3 update after mod_http2 backport
584029e Updated changelog with the last change of mod_proxy_fcgi
6020903 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert): Use const   ASN1_OBJECT for X509_ALGOR_get0() for OpenSSL >= 1.1.0 per   https://github.com/openssl/openssl/commit/ac4e257747075958d37665f327bdf685dd2478ab
8db141f Remove trailing whitespace.
d300afe mod_http2: H2PushResource directive for early pushing mod_proxy_http2: Link header uris are reverse mapped
e480067 Rebuild.
fafa180 XML update.
2d74fe1 ssl: clear the error queue before SSL_read/write/accept()
28d6090 Rebuild.
719a88d XML update.
091f96e Remove unnecessary apr_table_do() function casts
bcfb765 heh... bring memcache up to redis :) mod_status info
21083ec Needs LOGNO #s
36fefa8 Rebuild.
f82c6bb XML update.
5b9bd2b Remove redundant test.
60833dc And provide some nice usage stats. Could be prettier, for sure.
8b5ea8f And the socache provider interface for Redis
009d1d0 mod_proxy_http2: workaround for newly proposed 103 status code
580e51a fix properties, update transformation
6581935 Rebuild
87b00ea trying out to fix why the other secction not loading.
cc89368 Rebuild
354c0f2 Rebuild
b5b4d70 Rebuild
412f2b7 built and translated the english version to spanish.
808cc0c git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1767855 13f79535-47bb-0310-9956-ffa450edef68
b55b5a8 built and translated the english version to spanish.
5940ca8 fixing English revision comment
7160036 rebuilt to add Spanish
b3750d9 cheked the translation status page, fixing the error.
b69d600 updated the English revision to 1767808
8c84b4c Added the link to the unlinked page in the index http://httpd.apache.org/docs/trunk/howto/ hopping to make the web more user friendly
29acf46 mod_http2: fix for beam double cleanup crashes introduced in 1.7.7
a081caa generated the HTML file
b7bce13 Changes done by Daniel, reviewed by me, adding the html file and meta file to the repo.
e4129aa Fix typo.
4959db3 update after backport
29d1681 mod_http2: proper parsing and forwarding of multiple or unnaounce 1xx responses mod_proxy_http2: improved robustness when main connection gets aborted
86ac177 Rebuild.
d0676a3 XML update.
be7367c mod_http2: c89 slippage fixed
673349a mod_http2: using int queue instead of ihash for stream output event handling
e8e229f Updated the Download secction for match the english version, reviewed the sintax too.
d2c61fc mod_http2: earlier slave connection allocator destroy, code cleanups
019efb6 Follow up to r1739201. These APR_TIMEUP special cases are now handled by ap_map_http_request_error().
9529093 mod_http2: update to v1.7.8-DEV after backport
6283a78 mod_http2: connection shutdown revisited
a7719a1 mod_http2: AP_DEBUG_ASSERT changed to ap_assert
a221a1d update after backport
5c38c38 fix props, update transformation
6cfe447 adding to repo to continue elsewhere using Git.
5b51e61 adding the generated file html
573ceed Adding the translated verion file done by Daniel Ferradal Reviewd and built the html doc files.
8be49a7 mod_http2: fixed potential crash in beam memory handling introduced in 1.7.x changes
34c3695 Rebuild.
5d9da68 XML update.
0e1423f mpm_unix: Apache fails to start if previously crashed then restarted with the same PID (e.g. in container).  PR 60261.
d80e4f7 Fix -Wunused-but-set-variable warnings.
1454983 xforms
b563ebb Fine tune description
a14bb92 xfrms
196b24c Some caching info
a42d626 update after xml change
fac9b33 added mpm advice to http2 howto
0b3335c eol-style = native
1f0dc47 update transformation
5b2748e Appears we cannot disallow this whitespace, since the chunk BNF coexisted with the implied *LWS rule, before RFC7230 eliminated the later. Whether this is actually OWS or BWS is an editorial decision beyond our pay grade.
138746e When redrawing the parser, ap_get_http_token looked to be useful, but there's no application for this yet in httpd, so hold off adding this function when we backport the enhancements. ap_scan_http_token was entirely sufficient. If the community wants this new function, we can add it when backporting work is complete.
d82b69c mod_http2: netware build add new symbol used from nghttp2
f59b78d docs: add "threat model" warning to ProxyHTMLMeta
4bbc152 update after backport
fc77071 mod_http2/mod_proxy_http2: proper 100-continue handling up to backend, more robustness on connection reuse with PING frames
56b999f Follow up to r1765115: MMN minor is now 3.
d6749cf buildall
411dd32 Complete r1764961, missed .h updates
ed301ed Followup to r1764961: Remove declaration for dropped ap_has_cntrl().
22ee7dd Fix new declaration. Sorry for the noise.
57817b0 Followup to r1764961: - ap_scan_http_uri_safe() was removed - ap_scan_vchar_obstext() was introduced
28f0669 Rebuild.
28b4e1e XML update.
81cdebf ap_check_pipeline: clarify/simplify !max_blank_lines logic, no functional change.
84ce5d2 Dropped the never-released ap_has_cntrls() as it had very limited and inefficient application at that, added ap_scan_vchar_obstext() to accomplish a similar purpose.
b610c3b mod_proxy_http2: resolving last 2 reported dup symbol clashes
87863e4 update after backport
8770d40 mod_proxy_http2: renaming duplicate symbol clash between h2_proxy_util and h2_util externals
79cd250 Following up on r1764040, add the CHANGES entry.
b7c8e86 mod_dav: Note an API issue with the dav_hooks_repository.deliver(), dav_hooks_vsn.deliver_report() and dav_hooks_vsn.merge() hook definitions.
d1ecb96 mod_dav: Fix a potential cause of unbounded memory usage or incorrect behavior in a routine that sends <DAV:response>'s to the output filters.
0da36a7 mod_http2: reverting int->apr_uint32_t changes of v1.7.x
33aa6fb Rebuild.
303b450 XML update.
c688855 xform
7106e21 update link to TCP_DEFER_ACCEPT
3e84734 mod_http2: fixing compilation error/warning on 32bit system with new slave connection id generation
85fb49b mod_http2: replacing module internal hook with own impl as the former does not compile on Windows
5e558b8 update after backport
2d12cf2 various fixes, mod_cgid interop, response/trailer forwarding rewritten, stability
6099655 Rebuild.
7f317af xml update.
5f49eab event: follow up to r1762718 and r1762742: put de condition where it belongs.
0a7dfee event: follow up to r1762718. We still need to kill kept-alive connections in normal/expiry processing if the workers are busy or dying.
a13b5df Follow up to r1762718: CHANGES entry.
a25b347 event: avoid unnecessary listener/polling wake ups (context switches) by using apr_pollset_wakeup(), when implemented, to signal the listener according to the next timers or timeout queues expiry (updated at insert and maintenance time).
ce6d2e0 event: compute now() in event_get_timer_event, when necessary.
f5c3eea h2_session: follow up to r1761548: update log tag.
4b223a6 event: follow up to r1762701: update log tag.
5883237 event: add/remove from/to the pollset outside of the critical sections.
514e8d4 rebuild
3ccbde5 Actually show the example of how to do this.
eec2db8 event: use atomics for *timeout_queue->total since it's updated concurrently, and move TO_QUEUE_*() macros to functions.
679c46e event: follow up to r1593860. Set timestamp before enqueing the timer on resume.
a9cf5db mod_proxy: log diagnostics during ProxyPass[Match]
aa58429 mod_brotli: Handle new 'no-brotli' internal environment variable that disables Brotli compression for a particular request.
003bb0a mod_brotli: Allow compression ratio logging with new BrotliFilterNote directive.
95ca176 Updated, forgot to update "Release Notes"
bfdbe90 Updated to last revision of the english version 1756216
bc80efb Rebuild.
abbd192 XML update.
fa0a06c xforms
2c12dab Fix doc as spotted by Dusan Bajic in online doc
052f59a Fix doc as spotted by Francois B in online doc
f621e88 mod_brotli: Unbreak building other filter modules without libbrotlienc.
44c1d72 mod_brotli: Add initial implementation.
9b08784 more apr_uint32_t usage where appropriate, signed/unsigned warning detox, stream reset clears buffers immediately
0254054 update after backport
e2a7432 mod_http2: rest of the fix for output blockage
96fbe2c mod_http2: fix suspended handling for streams
23173a0 mod_crypto: c89.
47ec8dd xform
44f6c96 expand third common in the expression functions doc
6984926 Rebuild.
cc521aa XML update.
c848d4e Rebuild.
c6fb339 XML updates.
c9ee0ac xform
01956ad feedback in   http://httpd.apache.org/docs/2.4/mod/mod_ssl.html#comment_5818
d49939c rebuild
57c6ddd Missing 'cgi-bin' in regex, as per comment by pgajdos.
b3e4b09 Reverting. I misunderstood.
912159a This option, not this module
a49cb9c rebuild
3266fb2 lynx isn't common any more.
40538b2 Review of IE 11, Firefox 48 and Chrome 53 all indicate that ';' URI characters are transmitted unencoded, per RFC3986 section 3.3 grammer. Correct httpd's behavior to not encode ';' in proxied URI's or Location: response headers.
747e4a2 util_script.h: clarify ap_scan_script_header_* behavior
831dda7 Documentation rebuild
7b08b0d mod_proxy_html doc - Added a reference of ProxyHTMLLinks in the ProxyHTMLURLMap description and some examples.
d4ef91a Rebuild
2716cc7 Add a section with an example of connecting to mysql. Because I can never remember.
3336322 Fix stupid mistake introduced in r1759984
5a53fac mod_proxy_fcgi: handle the HTTP 412 use case
08df710 mod_http2: more const goodiness and checks on h2 request creation, less NULL checking while processing
8b562b9 http_config: follow up to r1702948: maybe unused, yet maybe usefull too.
5e1e4f8 Prevent dangling buckets by safely (and always) cleanup passed out (master) brigades.
d0b78cf Rebuild.
bab1184 XML update.
46f6afc update after backport
809331e mod_proxy_http2: fix for netware build, by normw
c4aff79 Without AP_DEBUG_ASSERT, these could still be NULL during runtime
0042305 Clarify
e0e0cea docs: rebuild
3d0b52b mpm_winnt: clear OVERLAPPED structs before reuse
80aa724 mpm_winnt: remove duplication of ap_process_connection
6c9ee4b mpm_winnt: remove the AcceptEx data network bucket
f533af4 mpm_winnt: remove 'data' AcceptFilter in favor of 'connect'
09fcfe6 Calm some overly agressive crlf handling
2816394 New optional flag to enforce <CR><LF> line delimiters in ap_[r]getline, created by overloading 'int fold' (1 or 0) as 'int flags', with the same value 1 for AP_GETLINE_FOLD (which httpd doesn't use), and a new value 2 for AP_GETLINE_CRLF
74a5f93 Regenerate
a254df0 Clean up a stray <p>, copy n paste error
9454686 Clarify documentation based on concensus decisions discussed on dev@ and reflecting the current implementation.
b06490c Correct the parser construction for several optimizations, based on the fact that bad whitespace shall not be permitted or corrected in any operating mode, while preserving the ability to extract bad method/uri/proto for later reporting and diagnostics.
098e089 Dropped a public structure elt, bump major
f54c03b Folding StrictWhitespace into the Strict ruleset of RFC7230, per dev@ poll. This choice is unanimous, although StrictURI (a different RFC) still hasn't found absolute concensus.
04a554d Rebuild.
be73b4a XML updates.
99d569e Stash the cgi PID earlier in mod_cgid
9f7958a Updated the changelog to reflect last commits about Last-Modified header handling.
16e50ff update after http2 backport
aec10f2 mod_http2: using invalid header callback from nghttp2 1.14.0 onwards
2e6fa9f mod_http2: fix for stream buffer handling during shutdown
555eeba Revert to the correct APLOGNO ID for this case
38100ec Resync
ac07e05 Correct URL failure reporting.
7f78dd0 First survey results, all intrinsicly bad input will be logged at the debug level, no louder. This patch intentionally dodges the Limit* constrained tests since administrators may shoot themselves in the foot, or be confronted with impossibly long cookie values, etc.
9b40242 add [flags] to syntax
df53284 After a long discussion in dev@ I reviewed my previous commit to only warn the admins about Last-Modified header violations rather than trying to interpret datestrings (like the ones not in GMT).
76ff7ad Sync
1edea58 Correct RFC reference text (link was right)
0f6791a * Add missing CHANGES entry for r1757662.
f0c5598 * Add missing copy of hcuri and hcexpr ftom the worker to the health check worker.
6d06f54 xforms fr
8888bfc Fix some French translations in order explanations to match examples.
c14736b Also catch invalid spaces between the URI <> Protocol in StrictWhitespace mode. (matching the test for the Method <> URI)
22a08f2 Rebuild all
6cae6f2 Rename LenientWhitespace to UnsafeWhitespace and change StrictWhitespace to the default behavior, after discussion with fielding et al about the purpose of section 3.5. Update the documentation to clarify this.
a6250dc mod_http2: give timeout goaway reason when applicable
4d2d101 mod_http2: latest h2/state debug draft, fixes in 100-continue response generation
0f69ba2 mod_http2: graceful handling of open streams during graceful shutdown
bb179c5 xforms
8d528f9 more PR60024 feedback re: consistent terminology.
d1e464c docs: rebuild
1558a12 docs: update the "SSL Strong Encryption" how-to
b70d7ae * modules/ssl/ssl_engine_kernel.c (ssl_callback_SessionTicket): Fail   if RAND_bytes() fails; possible per API, although not in practice   with the OpenSSL implementation.
45d8216 mod_proxy_fcgi: revert r1756187.
9d6d6f9 As commented, ensure we don't flag a request as a rejected 0.9 request if we identified any other parsing errors and handle all 0.9 request errors as 400 BAD REQUEST, presuming HTTP/1.0 to deliver the error details. Do not report 0.9 issues as 505 INVALID PROTOCOL because the client apparently specified no protocol, and 505 post-dates the simple HTTP request mechanism.
3a1ebf1 Yann is correct, % is distinct from reserved and unreserved
7903412 ap_reclaim_child_processes() ignores its first argument
04038d4 Revert "On exit, don't write to other generations' scoreboard slots"
9eb9180 Rebuild.
df61fdc XML updates.
b0bf11b mpm_event: don't re-use scoreboard slots that are still in use
c329326 mpm_event: minor code simplification
1bde497 mod_status: note stopping procs in async info table
b6d53f4 xforms
6386d1d more fixes for per-dir explanation
c892110 doc is already a wall of text w/o regex hints.
2824969 xforms
783b1eb bld break
30e8530 more per-dir cleanup, remove redundant text. PR60024
42ef3c4 take a pass through "per-dir" for PR60024
888138c roll back last two commits per PR60024.
91af78c Fix <p> tag closing syntax
96d3d17 Delay some memory allocation in order to save 272 bytes in the 'request' memory pool if mod_status handler is triggered and is not able to handle the request
d7550f7 Fix the number of column for 'Async connections'. There are only 3 columns (writing, keep-alive, closing), not 4.
dddb990 xforms
ed06011 Fix a typo
7f477e4 Regen docs, no complaints yet
862eeb8 Surpress noise about syntax
c52a928 mod_ssl: follow up to r1740928. Quiet (not so )clever compilers about (im)possible use of uninitialized 'mode'.
b9a6a0e Introduce StrictURI|UnsafeURI for RFC3986 enforcement
c80679d After lengthy investigation with covener's assistance, it seems we cannot use a static table. We cannot change this to dynamic use of the local iconv without build changes to avoid such use on cross-platform builds.
12d8736 Generally, the cart comes before the horse, this mirrors apr_lib.h
94860bb Resolve Netware (and other arch) build error for non-portable isascii()
2f520eb Fix bogus K&R declarations
953bead Resync docs
31889a1 Fix as suggested by jailletc36, corresponding to all other comments on the topic
8b44a6d Fix some style (spaces only)
44586ba Be more consistent when we alocate this brigade. This should save a few bytes in case of early exit and is, IMHO, cleaner.
51fa287 A band-aid to resolve an immediate IBM MVS'ism
b1c0581 Replace tab by spaces to be consistent
dc0d9fa Correct request header handling of whitespace with the new possible config of HttpProtocolOptions Unsafe StrictWhitespace
e85d2c7 Remove unused typedef uthn_dbd_conf
c017771 More values please
a55668c Remove unused typedef nvctx_t
1e04d72 Fix some missed "strcasecmp <--> ap_cstr_casecmp" conversions.
464e7d8 * server/protocol.c (read_request_line): Fix compiler warnings with   GCC.
1877fd6 Drop redundant == --rrl_none evaluation, noted by rpluem
f203575 Drop unused, previously sscanf() target variables
194e79f Docs regen
8d77efe Perform correct, strict parsing of the request line, handling the http protocol tag, url and method appropriately, and attempting to extract values even in the presence of unusual whitespace in keeping with section 3.5, prior to responding with whatever error reply is needed. Conforms to RFC7230 in all respects, the section 3.5 optional behavior can be disabled by the user with a new HttpProtocolOptions StrictWhitespace flag. In all cases, the_request is regenerated from the parsed components with exactly two space characters.
37237a1 Grab a pool of aplogno's
9c1288c xforms
c081acf Improve highlight and formatting.
b0784b0 Renaming this directive to HttpProtocolOptions after discussion on dev@
42ac649 mod_cache: follow up to r1756553: log the real/actual cached URI (debug).
7693d36 mod_dav: follow up to r1746207:  fix typo (missing '/') for closing tag.
56edccf rebuild
d6059ad Grammar tweaks, as per BZ59999
35f1276 Correct AP_HTTP_CONFORMANCE_ flags with an ap_mmn.h bump
0370f02 mod_cache: Use the actual URI path and query-string for identifying the cached entity (key), such that rewrites are taken into account when running afterwards (CacheQuickHandler off).  PR 21935.
a0cddc5 mod_ssl: Fix quick renegotiation (OptRenegotiaton) with no intermediate in the client certificate chain.  PR 55786.
cf30866 Regen docs
fc367d6 Rename the previously undocumented HTTPProtocol directive to EnforceHTTPProtocol, and invert the default behavior to strictly observe RFC 7230 unless otherwise configured. And Document This.
2c87430 Follow up to r1750392: reduce AH03408 level to INFO as suggested by wrowe/jim.
753c3ec Follow up to r1750392: r1756186 should have also bumped MMN minor for s/ap_proxy_check_backend/ap_proxy_check_connection/, and r1756328 really bump the MMN :p
6676132 Follow up to r1750392: r1756186 should have also bumped MMN minor for s/ap_proxy_check_backend/ap_proxy_check_connection/.
74ed9d7 Rebuild.
0118e81 XML updates.
9e86007 rebuild various recent changes
ca4e35a mod_proxy_fcgi: forcing proxy_conn->close here is useless, same is done either above in ap_proxy_determine_connection(), or below in ap_proxy_release_connection().
1bda046 [mod_proxy_]http: follow up to r1750392.
145ff1c Clarify some z/OS mysteries via code comments. Followup to r1421305. PR 56210
452f9eb Commiting to repor to not get later errors and continue the work elsewhere.
104ef73 Revert r1756064 and r1756060 until fixed (tests framework passes).
25b8c2b http: follow up to r1750392. Restore AP_MODE_READBYTES cleared inadvertently in r1756060.
2023d56 [mod_proxy_]http: follow up to r1750392. Export [ap_]check_pipeline() and use it also for ap_proxy_check_connection().
d79b514 Fix spelling in comments and text files. No functional change. PR 59990
fb94cc1 grammar++
0d2f8a5 rebuild. Remove weird copy/paste error.
d40423b indentation for better readability
89ae512 rebuild various things
0d8e8af A little odd having that warning buried under the machine-readable section.
da8a9b5 Revert r1755930: actually what'd be read after AP_FCGI_END_REQUEST is padding, not any potential/errorneous next response.
190d808 mod_{proxy,authnz}_fcgi: follow up to r1750392. Don't try to read past AP_FCGI_END_REQUEST on the backend side, it would be a response for the next request.
a6517fd Silence more "defined but not used" compiler warnings when building against OpenSSL 0.9.8a.
83ed3df Silence "defined but not used" compiler warnings when building against OpenSSL 0.9.8a.
bd14694 OpenSSL 1.1.0 compat: - move IDCONST macro outside of addition #if check.   Otherwise we break compatibility with old   OpenSSL 0.9.8 releases.
705d42f Follow on to r1755264, for the case of merged header length exceptions, and ensure the field header name is truncated to a sane log width.
7871d23 Remove calling ERR_remove_thread_state when using OpenSSL 1.1.0.
92153fc Compatibility with OpenSSL 1.1.0 pre6.
5a0b71e Clarify phrasing, as per bz53152
7151cf5 Various typos, broken links, and obsolete modules.
290fb76 fix link to mod_headers
d9424b9 rebuild
07d4aee remove references to MPMs that no longer exist
e62f035 Follow up to r1755264. Don't crash when ap_rgetline() returns a NULL field on ENOSPC.
96724ca rebuild fixed links
46bfe03 Correct name of authnz_ldap module in French translation.
32d29c6 Remove reference to long-gone FAQ.
33ad2ba rebuild
ba1d48c Remove reference to long-gone FAQ.
54b9e05 fix link to mod_setenvif
0632f70 rebuild
609dc37 fix broken links
005700e Update
9e2ee0d We didn't change the MODULE_MAGIC_NUMBER_MAJOR
f34064c rebuild
8b0d436 mod_http2: support for intermediate responses
c91bbae Update link to new location of Trawick's Exception Hook stuff.
eebd8e8 Stop reflecting irrelevant data to the request error notes, particularly for abusive and malformed traffic the non-technical consumer of a user-agent has no control over.
61c3d59 Treat an empty obs-fold line as abusive traffic
b45b9ff Strictly observe the one-SP requirement of every obs-fold line.
3a8a5da Now eliminate all intra-obs-fold excess whitespace, results condensed per spec.
3906397 An empty obs-fold line is a no-op.
e0a32d9 As promised, reduce this logic by net 9 code lines, shifting the burden of killing trailing whitespace to the purpose-agnostic read logic.
edd78a4 Another comment for reviewers to follow
46f1b60 Testing len > 0 is redundant when *field is a "\0" and mismatches here, folded flag was a no-op, unused once we added continue; logic. Fix these as initially attempted in r1755114.
a37ee2d Reformat for indentation following r1755123, Whitespace Only
078ccbe Clean up an edge case where obs-fold continuation preceeds the first header, as with r1755098, but this time ensure the previous header processing logic ensures there was a previous header as identified by jchampion.
3283ba3 Revert to r1754577 based on last_field NULL on first-pass defect noted by Jacob Champion, discarding my work of today.
a4b5efa C89 fix, caught by Jacob Champion
cf5d664 Improve comments for reviewers to understand this logic
5f75653 Testing len > 0 is redundant when *field is a "\0" and mismatches here.
671d9cb Whitespace-only followup after r1755098 logic patch
0a8adde Clean up an edge case where obs-fold continuation preceeds the first header.
798c3f4 Revert r1754732,r1754734,r1754736 after a conversation on dev@ and IRC. We agreed to consider r1752347 as bug fix and delay performance improvements for later revisions.
9d46ecd mod_proxy_http: 204 or 304 cannot happen here since ap_is_HTTP_ERROR() above is true.
d473745 mod_proxy_http: handle 401 error override in the same block as other errors to simplify logic, no functional change.
a5e6721 mod_proxy_http: don't pretend we are sending a body before ProxyErrorOverride takes place, the response it to be handled by ErrorDocument is this case. Also it useless to take care of pre-read data since the body is discarded in this case.
70f2445 Correct use of <module> tag to fix broken links.
4485bd3 Point to correct metafile for this howto doc.
ef144ae Changed the code comments to be more clear a fixed a typo (will be more careful next time, didn't spot the problem until already committed)
b5c40d8 Fixed a typo introduced by my previous commit, really sorry about it
1bfdcc8 Skip message-body with HTTP 304 responses and mod_proxy_fcgi with no conn reuse.
e40dfe4 Commiting to repor to not get later errors and continue the work elsewhere.
4cdf495 Replacement solution to identify VCHAR/ASCII symbols, even in EBCDIC.
04a8581 Correct logic, detect no 'token' chars, or missing ':'
0e1efad Correct usage for ap_scan_http_token (had used _get_ syntax), noted by Rüdiger
7ba8fc0 Clean up doubled-'{'
49bca2c Friendly catch by Rüdiger, restore line mis-removed by the previous commit
853d9c4 Introduce ap_scan_http_token / ap_scan_http_field_content for a much more efficient pass through the header text; rather than reparsing the strings over and over under the HTTP_CONFORMANCE_STRICT fules.
c2b6877 Leave an emphatic TODO per Jeff's observations
3987f79 Strictly observe spec on obs-fold
e0fb12b We arrive here for more than one cause; offer a more general statement
e5e3ac5 With NUL as a TOKEN_STOP, this code is more efficient
b167818 Introduce ap_scan_http_field_content, ap_scan_http_token and ap_get_http_token for more efficient string handling.
d627f5d Introduce T_HTTP_CTRLS for efficiently finding non-text chars
c46a8d2 Be more explicit about NUL in case iscntrl is inconsistent
261a4ba Correct T_HTTP_TOKEN_STOP per RFC2068 (2.2) - RFC7230 (3.2.6), which has always defined 'token' as CHAR or VCHAR - visible USASCII only.
e3be6c9 Improve legibility of reviewing the generated table, using hex rather than dec
d6cd77e mod_http2: complete implemenmtation of draft-http2-debug-state
c5d67f1 mod_http2: work on .well-known/h2Interop/state
e5b714b mod_reqtimeout: follow up to r1754391: fix missing "else".
f6f7918 mod_reqtimeout: Fix body timeout disabling for CONNECT requests to avoid triggering mod_proxy_connect's AH01018 once the tunnel is established. https://bugzilla.mozilla.org/show_bug.cgi?id=1279483#c9
0aefad3 update transformation
6da8dc5 set eol-style
0431d5e fix encoding in commit mails for spanish translations
11aae28 Commiting to repor to not get later errors and continue the work elsewhere.
c70c45b took out the html codes of the accents.
dba4e30 mod_proxy_wstunnel: we want to detect whether some response was sent to the client when forwarding data from the backend to the client, not the reverse.
a3814e4 mod_proxy_connect,wstunnel: log polling errors (and events) consistently at level ERR (resp. TRACE2), and name the backend connection "backend" instead of "sock".
73c941d mod_proxy_http: ping retry only if full 100-continue conditions are met.
597f09d mod_http2: update after backport
7336711 Rebuild.
3ff570c XML update.
112b80a Since this is beginner doc, split the -S invocation into two versions more likely to work verbatim.
2e2f089 Permit mod_proxy_hcheck.c to compile on Win32 32-bit architectures. This decoration is required for all apr_thread fn() entry points, at least on some platforms.
11ab1c4 add basic h2: and h2c: backend proxy examples
af9775b * Prevent redirect loops between workers within a balancer by limiting the   number of redirects to the number balancer members.
b45dc66 * Fix typo
fb8aa91 * Do not overwrite r->status with access_status if access_status is OK or DONE   as in this case r->status might contain the true response code.
eee5bc3 * Whitespace police
bd9fcdb mod_http2: fixing config lookup now that we have dir conf
405c237 html update after new http2 directive
0f02a22 mod_http2: new H2CopyFiles directive
e0e7e49 configure: remove orphaned APACHE_OUTPUT macro
2e4ee05 configure: move away from obsolete AC_OUTPUT args
ea506b6 A whole lotta nope, if you implement HTCPCP then register your methods in init
26e6eaa Restore 'HEAD' method as a special case of GET with the common ID
4a87665 The method_registry is initialized in register_hooks() for mod_http
dda4678 Optimization to httpoxy workaround, for 2.4.23+ only.
235ee2f httpoxy workarounds, first draft patch as published for all 2.2.x+ sources
352fdd5 Unclear whether fdpass is common enough to justify a 'most' configuration, but for the time being, assign it -something- for a build priority.
448c82b Simplify; this code is executed one per request processed, saving an immeasurably small quantum of CPU of a server under load.
3655cf4 mod_proxy_fcgi: avoid loops serving proxied error documents
45793ce Rebuild.
1bba19a XML update.
8d9713b add comments for all media types in IANA registry dated 2016-07-14
219cb6c Doc rebuild
6657d26 Added a reference to how ListenCoresBucketsRatio influences the Min|MaxSpareThreads lower bounds calculation in the docs.
53a4b0f xforms
0c14622 Fix PR 59856. Fix directive name. (ProxyRequest vs ProxyRequests) Improve highlight.
0a59210 PR59844: stack-allocated ap_expr_info_t returned from mod_include
b180766 Fix typo in CHANGES
c7fe264 Ensure the default mode and cipher is set correctly. Remove useless setting of the size_set flag.
d3c4feb Force mod_proxy_fcgi to read the whole FCGI response even when the content has not been modified (HTTP 304).
02f76fa CMake: quote installation paths
852d936 CMake: use generator expressions to find output files
91059cd CMake: use CMAKE_REQUIRED_INCLUDES to find APR macros
14b9c1b mod_http2: no master timeout while requests are ongoing
7b0ff6c update transformation
a009021 fix properties
45b089f mod_crypto: Add the all purpose crypto filters with support for HLS.
91b7139 update after backport
731949b mod_http2: fixing flush on SETTINGS frames without open streams
8140be1 Rebuild.
754b21f XML updates.
f18a7a4 PR59815: rewrite per-directory + fcgi broken in 2.4.23
64055c7 xform
f89aa14 mention mod_cgid too
49dfec6 rebuild
4f51099 Remove reference to long-dead website that once upon a time used this functionality.
28d1eb8 Give an example of converting a password file from one format to the other.
5cc50ac Updated description of the change to reflect the last patch
271d05a Updated credits after Yann's patch
edf1a4d Improve the FCGI/CGI Last-Modified header value handling.
664da9b Rebuild.
8232f83 XML update.
1d89808 ab: follow up to r1750854: still better naming, and a C89 fix.
5259ef3 ab: follow up to r1750854: some comments and better naming.
0f18d85 Fixed typo in log message, wrong RFC mentioned.
639c5fa ab: follow up to r1750854. Use SNI when available by default, and invert -I logic to now disable it.
dd593e6 ab: follow up to r1750854: put the -I at the right place for apr_getopt().
7b62ffb ab: add SNI support when available.
22204ed modssl: reset client-verify state when renegotiation is aborted
83cf38c Update transformations.
4239574 Update language on impact of disabling TRACE, remove reference to compliance.
cc532cf Fix indentation and extra spaces of my previous commit, apologies.
74900ee Log CGI/FCGI Last-Modified header value changes.
1592969 update transformation
d754611 svn:eol-style = native
02be4f2 --enable-mods-[shared|static]=none has *never* done anything special.
08fc6f2 update transformation
b4e43df svn:eol-style = native
d313a75 Small change to r952007, ensure we don't wipe out the $enable_foomod value when that value is 'shared'. The 'yes', 'shared', 'static' and 'no' values are all valid.
5d0c011 mod_proxy: follow up to r1750392 and r1750474. Restore PROXY_WORKER_IS_USABLE() check in ap_proxy_connect_backend(), we must obviously (un)put backend in error state based on the result of the actual connect(), and don't change it in ap_proxy_check_backend()... APR_SUCCESS return by ap_proxy_check_backend(), i.e. a usable worker and an established connection, is enough for modules to continue w/o calling ap_proxy_connect_backend(), still.
fe53079 Fix proxy balancer lbmethod --enable defaults to follow proxy_balancer
f8cf275 mod_proxy: follow up to r1750392: comment on proxy_conn_rec->tmp_bb.
26faec4 mod_proxy: follow up to r1750392. Avoid double checking the connection in ap_proxy_connect_backend() when ap_proxy_check_backend() says it is up and good to go.
be721db xforms
49754a6 Be more consistent in <highlight> block layout in XML. No visual change
fdfa788 Fix typo as spotted by Wolfgang in online doc
113a5b3 This is not C code... no semi, a colon is a noop
31b6d84 Undo r1750418, miscommitted a local test
55a500e This isn't C ;)  Colon for noop
b031a1f mod_proxy: we don't need ap_proxy_ssl_connection_cleanup() anymore with ap_proxy_check_backend() used at connection reuse time, so remove its last call and deprecate it.
c1bf57b mod_proxy_http2: don't use ap_proxy_ssl_connection_cleanup(), there may be data available on the backend connection before we reuse it (e.g. PING or SETTINGS change).
bc73d63 mod_proxy: use proxy_conn_rec->tmp_bb where appopriate to avoid temporary brigade create/destroy.
86a0960 Account for explicit enable- cases of 'shared', 'few', 'all', 'reallyall'
d4aa647 mod_proxy_{http,ajp,fcgi}}: don't reuse backend connections with data available before the request is sent.  PR 57832.
4ddbed1 mod_proxy: revert r1750301, r1750305 and r1750311. Rework needed.
6a3a4f5 Ensure not-selected means 'no', once an APACHE_MODULE enable_foo is processed
808eb5e mod_proxy: follow up to r1750301: APLOGNO().
d353c8b mod_proxy: follow up to r1750301. s/is_socket_connected/get_socket_connected/ in the !USE_ALTERNATE_IS_CONNECTED case, and add CHANGE + MMN entries.
d2e75e1 mod_proxy: don't reuse backend connections with data available before the request is sent.  PR 57832.
7932f3c Follow up to r1737447: fix max_spare_threads lower bound. Suggested by: Rick Houser <rick.houser jackson.com>
f0a1ea3 Rebuild.
6cdccd6 XML update.
b24d933 Replace the proxy_mods_enable logic, with its hazardous 'yes' value that aborts the build on missing dependencies, with a local override of the module_selection as 'most', and module_default of the same shared|static model that was requested through --enable-proxy.
5fe47c4 With correct and now-multiple dependency checking, drop this redundant test
3347e06 Promote any static module to yes|shared if a required dependency is not static
f762762 Add watchdog by default at level 'most' for mod_proxy_hcheck
84d2a05 Fix typo
34fcdbc mod_http2: fixing APLOG_NO overdose and some log levels
5573edb assign IDs to new AH*'s
00d0048 spatch some AH* IDs to pick up the new INFO level messages, also hit old DEBUG messages.
02bd970 update after backport
96a86d6 Cause missing mod_watchdog to 'unset' the --enable-proxy default, rather than disable the module. This forces the module logic to emit a warning of the missing dependency; changes the output from
9444fc4 mod_proxy_http2: fixed retry behaviour when proxy engine needs to retry its base request on a new connection
5c5c8a9 Simplify, and correct the dependency handling of mod_proxy_hcheck
7e0472f Support multiple module dependencies for the final prereq argument to the APACHE_MODULE macro, as a comma separated list, e.g.
620229c mod_proxy_http2: improved retry when encountering errored/shutdown connections
6b36f92 Add CHANGES entry for r1749401
045ddad Use 'memcpy' instead of 'strcpy' when the size of the string has already been computed.
dfbe86b Style only
add4f52 Fix 'x' command processing in mod_sed.
319e9d6 mod_http2: fix for request abort when connections drops, introduced in 1.5.8
f008840 Rebuild.
314c912 XML update.
6ad65bb Documentation rebuild
567b147 Follow up about DNS Resolution cache in mod-proxy after a users@ email thread ("mod_proxy and DNS resolving"). Review from devs would be really appreciated, I'd like to backport this info asap to 2.4.x.
14830df * If enable_proxy_hcheck is unset handle it like other proxy modules
162b393 Fix a potential buffer overflow.
81b4949 core: removing quirk for supressing h2 in Upgrade: response header, never backported, obsolete
810da4d * Fix compilation error introduced in r1748322 by double typedef
555110d mod_http2: update after backport
40fc1ca mod_http2: more rigid error handling in DATA frame assembly
b89b38a Prepare to backport, this is not specific to VS 2015...
f2c1f26 Drop an invalid Last-Modified header value returned by a FCGI/CGI script instead tranforming it to Unix Epoch.
4b5ad8a mod_http2: version bump after backport
039212b mod_ssl: follow up to r1734561. Don't enable CRL checks/flags by default.
75b1758 Allow other modules to become providers and add ACLs to the DAV response. Requires apr-util v1.6+.
342706e backported to 2.4.21-dev
3597b9a mod_dav: making mod_dav.h compile with clang again
9d10b56 mod_dav: Add dav_begin_multistatus, dav_send_one_response, dav_finish_multistatus, dav_send_multistatus, dav_handle_err, dav_failed_proppatch, dav_success_proppatch to mod_dav.h.
5405da1 mod_dav: Add dav_get_provider_name() function to obtain the name of the provider from mod_dav.
1b59411 Strip proxy:fcgi:// just like proxy:balancer
2d0b6b5 Add -DDUMP_INCLUDES configtest option to show the tree of Included configuration files.
4bc9cc0 When  ap_proxy_show_hcmethod has been backported in 2.4.x (r1744951) the function has not been placed at the same position in the code (see r1725306).
9aa3dd7 mod_proxy_http2: fix flow control when frontend connection is HTTP/1.1, patch by Evgeny Kotkov
fb0a918 mod_proxy_http2: own h2_proxy_util.c source file to avoid duplicate use of h2_util.c, updated dsp and cmake as well as configure files
a61612e mod_http2: uddated changes and version after backport
19b19a5 mod_http2: more orderly destruction of stream/task pairs
b277880 A much more innocuous cut-and-paste flaw
865e5dd Have to walk it back, but somewhere along the way, I missed a critical edit
3844c66 Rename ap_casecmpstr[n]() to ap_cstr_casecmp[n](), update with APR doxygen
8b48a36 Major issue with these two specific edits falling into r1747469 is that it becomes impossible to cleanly merge into branches/2.4.x.
03fdf19 The answer to the question appears to be in 2.4.21, drop h2_casecmpstr fork
f4cc76e Rename ap_casecmpstr[n]() to ap_cstr_casecmp[n](), update with APR doxygen
a3142bb Update code to mirror r1747461 of apr-2.0 apr_cstr.c.
2f2a52f backported (expected more)
e5bcdd6 commited just for work over it (since its too long (on going ) still have the outdated tag just if some acces to the page
20e055b Translated to match english revision. Reviewed. build the html file
63ce609 Translated to match english revision. Reviewed. build the html file
5a26b84 Translated to match english revision. Reviewed. build the html file
4f0fdd0 update CHANGES and mod_http2 version after backport
e3ee8ff Update htdbm manual
3af4a4a rebuild
63a24e6 rebuild
ebf32b8 The -l option requires a filename argument.
8947977 git-svn-id: https://svn.apache.org/repos/asf/httpd/httpd/trunk@1747184 13f79535-47bb-0310-9956-ffa450edef68
b4a3df0 Translated to match english revision. Reviewed. build the html file
e38d25a mod_http2: fixes a mem corruption when streams/connections terminated before tasks returned
5a3d313 mod_http2: updated CHANGES and version bump after backport
5957e68 Delay a table lookup until we know that we can handle the request. Concat a string at compile time, rather than run time. Some various style fixes.
dbe61c6 No need to scan the first 5 bytes, they are already correct (i.e. HTTP_) Fix indentation.
fe3066e Rebuild.
516e177 XML updates.
e0cb0bc Add some links and improve highlight
40581f8 Correct the behavior and interaction between SSLProxyCheckPeer[CN|Name], such that disabling either disables both, and that enabling either will trigger the more comprehensive SSLProxyCheckPeerName behavior.
b40a421 mod_dav: Add support for childtags to dav_error.
3655274 Off by one "make dox" warning
dd31146 Fix r1746183 (when you rename a parameter, make sure to update places where it is used...)
294165b Fix some doxygen warning. Make the use of 'pfds' and 'pds' consistent
afe05a6 Fix some obvious doxygen warning
f069dab Off by one "make dox" warning
5339349 Rebuild.
ebe871d XML updates.
49b8619 XML update.
4c07e1c rebuild
a10af74 Send them to the auth'ed area on success, as expected.
dbce50c Rebuild new working example.
c27ab06 Make this example actually, y'know, work.
df1d105 The example doesn't do anything at all without a Require directive, which is very confusing.
6931dd5 Fix comment typo
d48dfde Fix segfault with logresolve -c and IPv6
93a3e87 Constify and save a few bytes in the conf pool when parsing "UserDir" directive
f5d6954 xforms
516ebdb Improve example layout Synch with 2.4.x
ea33465 xforms
643ef79 Fix broken link
94b38ab PR59630: include OpenSSL_Applink when compiling on Visual Studio 2015 and up
c4c60ad xforms
2b73efe Improve highlight
6cd0e21 _setargv will not compile on _MSC_VER > 1700 MS documentation's example simply does not work. Disabe for now, Apachemonitor still works.
e488965 Translated to match english revision. Reviewed. build the html file
c5258cb xform
732d265 add a -R example, I had to ask for help to figure out the single quotes.
837e194 minor fixes fixed the first example not displaying correctly.
6ca4fa2 modified the revision number
541f0a0 Fixed the time in the line previouse to the example.
9db464d Translated to match english revision. Reviewed. Added the xml file to repo
f4f6898 mod_http2: fix possible null pointer deref in bucket beams on receive
1cac319 Documentation Rebuild
bcc6acf Adding a note to mod_proxy documentation to clarify DNS resolution with origin servers. Follow up from a question on users@.
87cdf83 Translated to match english revision. Reviewed.
193aa26 Phrasing assumed you're converting from auth_basic.
f21415d include the scheme in the error message about missing a mod_proxy_submodule (mod_proxy_$usually_a_scheme)
0606a8e PR59612: Print the ap_expr() error message when an expression cannot be evaluated in forward-dns provider.
808ecaa PR59611: Fix AH02633 require type
81aad8d rebuild
3a0a40d Clarify the meaning of the file-group syntax, as per bz59610
a023efd Save a few bytes in the conf pool.
458fb36 Rebuild.
14a9931 XML updates.
b3e279a update
d7aaadc backported
8cbf32a re build
d334259 re build
bec2006 Support build files for mod_proxy_http2
1c017db Add mod_proxy_http2 based on CMakeLists.txt prereqs
1a372c4 Correct line endings / these are text files
54c1688 Yes this is text, as well as an image/* mime-type.
cf07709 Not sure how these came to be checked in as non-text
134f867 mod_http2: fixing re-entrancy problems with new master event dispatching
0be1302 mod_http2: improved resume/response/window update handling on master connection
25faf5b Remove out-dated comment
b83cd2d add availability to rewriteoption too
50cae64 using context info for rewritebase was not until 2.4.16
28ebc75 Avoid memory allocation before making sure that this handler can handle the URL
88fb9f6 Avoid memory allocation before making sure that this handler can handle the URL
a3479f9 Avoid memory allocation before making sure that this handler can handle the URL
113da88 CHANGES update and version bump after backport of mod_http2 v1.5.5
c242fa5 mod_http2: fixes timeout vs. keepalive timeout use when closing streams on flush, adding pseudo header length check against limit_req_line
288af26 Translated to match english revision. Reviewed.
0d462df avoid a copy/paste trap. Similar style used elsewhere in INSTALL.
b9eb3fa mod_http2: checking configured Limit* values against header fields
3f6348b mod_rewrite: adding h2:// and h2c:// proxy schemes to absolute uri detection, patch by Evgeny Kotkov
0d28cc2 mod_http2: adding export to netware build, thanks normw
7d20c50 mod_http2: fixing c->current_thread on slave connections, addresses PR 59542
699e68a Documentation rebuild
2dab754 documentation rebuild
ad80950 Updated broken link and added a clarification example for mod_authn_dbm. PR: 59558
fb05ba9 update after backport of latest http2 changes, version bump
62725f8 xforms
745518d Add a link
211e449 xforms
7a4888a Fix typo in doc as spotted by Pete Edwards  in online doc. Improve layout. Synchronize with 2.4.x for relevant parts
337ec93 Fix NULL pointer dereference
00e2954 Avoid truncating the_request line when there is no request to 'W'rite.
6804fad fix for handling invalid proxy uris and code cleanup provided by Evgeny Kotkov
6846b98 applied mod_proxy_http2 related cmake biuld changes as proposed by Evgeny Kotkov
c9516818 Revert 1742822, incorrect assumptions here
88f59bf adjusteing changes after backport, mod_http2: version bump, adding modified patch for c->aborted by Michael Kaufmann
01d0e38 minor fixes
80124f9 minor fixes
f8b9e85 Fixed words
dba8d24 Fixed misspelled word
b90713c commit of the html file and fixed some spelling errors
7af0761 Fix yet another case where we clobber the server-status request info when a timeout happens.
2809bf8 Rebuild.
035d5ec XML updates.
f62cdc1 Followup to r1742791: Probably the better fix is not fiddling with connection changes but instead use a NULL request like in similar places.
8d6e351 Don't globber scoreboard request info if read_request_line() fails with a timeout. In that case there's no new useful request info available.
1281637 Rebuild.
83bc530 XML updates.
cf62937 Follow up to r1740928: mod_ssl.h now needs http_config.h
be9faa7 commit the meta file
e938b03 No need to set CFLAGS and LDFLAGS for "ab" during detection of libnghttp2. "ab" doesn't yet support http2.
150e407 Improve alignment
ef36d3f Improve alignment
b3b5e01 Improve alignment
7bffe35 Avoid a potential NULL pointer deference.
6e7e77d updated FAQ index and rebuilded html
4c32c99 updatedupdated and reviewed, translated to last en revision
da4f8c2 updatedupdated and reviewed
b55b4ba updatedupdated and reviewed
ae9feed updated and reviewed
5c3bafc Avoid a potential NULL pointer deference.
66afcb1 addendum to r1742260
9a51436 mod_http2: fix for partial file buckets in master connection output, flushing of output revisited, uplift of some 2.4.x compat changes on slave filters
195a2de We need another guard, this may resolve a crash in the rather odd faux-server implementation in mod_perl test suite which calls access checking too early.
640ec96 fixed reference to mod_http2
75d3795 add comments for all media types in IANA registry dated 2016-05-02
15f34ff documentation rebuild
129d41b Fixed wording about the event's doc page after Mike's feedback on dev@
55f94ec mod_http2: rewrote TLS buffering on master connection
f11dc9f mod_http2: fixed typo re unintended double negate
86ab421 Remove useless <br \> in highlight blocks.
693a3c7 Remove useless <br \> in highlight blocks.
45c2de3 Rebuild.
6761d1c XML update.
3bd7ead Rebuild.
a84a41c XML update.
cd0d934 Rebuild.
af8f6aa XML update.
9176fa2 Rebuild.
a23087f XML updates.
79804c0 mod_http2: some more cleanup on stream/task/session takedowns
fb0e026 Reverted r1741561 + doc rebuild, apologies for the new translation diffs, they will be a no op.
9e20eac documentation rebuild
167c4c0 Added a specific reference to mpm-event's doc about the fact that mpm-accept is not needed anymore
824121f mod_http2/mod_proxy_http2: no longer reusing h2_request.o for proxy module
3a13945 * Silence compiler warning
f43ff54 ab: follow up to r1738415: EC_curve_nid2nist() available in OpenSSL-1.0.2 and later.
b24c207 update APLOGNO tags
f323ab6 Testing svnwcsub with Humbedooh
0ae5b1a Documentation rebuild after recent commits
41df726 Make the comments link always appear under "See also" in the right panel of each doc page. Previously it was inconsistently placed right below the last section on top.
b4ff39c Revert to 2.4.1 behavior and null the request and vhost as appropriate. PR 59333
07e1767 mod_http2: fix for connection cleanup on early close by client
7607e63 add meta file of the index html file
e450e56 Updated Index of programs
8b21548 mod_http2: update and version bump after backport
72c763a mod_http2: fixes in input/output bucket handling
5f9a544 mod_http2: more sparse scorebaord updates with overall stats, keeping last request info visible longer
160eef0   Ensure http2 follows http in the meaning of   status WRITE (meaning 'in the request processing   phase' even if still consuming the request body,   not literally in a 'now writing' state).
2343bb3 Revert 1741277 - need a scoreboard by slot context here
289bf1d Correct regressions introduced in r1137358 and r1740910.
ed7fa29 mod_http2: removing beam mutex when task worker done
868ec4b CGIVar now in 2.4.x branch
545a025 comented out man build since its now not necesary
dadf9a2 Follow up to r1740155: Update NetWare Makefile with h2_ihash_empty().
3619f80 updated FAQ index and builded html
0c7d2c0 Follow up to r1740928: updates for Netware build.
1214655 updated to english revision
cee998d Documentation rebuild
71dc70f Follow up for the Bugfix checklist panel. Remove ":" from Bugfix checklist, moved HTTPD to httpd, added the component=mod_name to the "Open bug" link.
1ad4ac9 FLUSHing H2EOS and H2EOC buckets to preserve destruction order, improving bucket beams to disengage from live green buckets on shutdown
b14934b Build docs.
7f4717c Follow up to r1740928, r1740987: fix 'proxy section'.
56b6473 Follow up to r1740928, r1740967: Introduce 'proxy section' context?
b2b160f Follow up to r1740928: update docs (contexts) and minor MMN.
95c125e Follow up to r1740928: better CHANGES entry.
f9ad275 mod_proxy, mod_ssl: Handle SSLProxy* directives in <Proxy> sections, allowing per backend TLS configuration.
bc55f0e event: update worker score keepalive status.
4d0d1dd Fix a typo Remove a useless empty line Turn a tab into spaces to be consistent
d0490f1 Consistent capitalization of Internal Server Error.
29e59d1 Clarify misleading statement about Nonfatal
24fd893 Documentation rebuild
b684b4e Second part of the new "Bugfix checklist" panel in the modules doc pages. Changes discussed in docs@ and implemented: - Moved Httpd to HTTPD - Created a new link to quickly open a bug in Bugzilla - Modified the link called "Open bugs" to "Known issues" and appended   the bugzilla component name to the URL. In this way the user will only   see bugs related to the module under review, not all the httpd ones.   A little hack was necessary since some mpms have inconsistent naming   (e.g. mpm_event in Bugzilla and event in docs).
3269bb5 xforms
37c0206 Fix doc as spotted by Mike Matthews in online doc
e387d3e Support for OpenSSL 1.1.0: - X509_STORE_CTX is now opaque.
6ba30d2 Support for OpenSSL 1.1.0: - symbols get_rfc..._prime_... have been   renamed to BN_get_rfc..._prime_...
d983954 Typo
afd1183 mod_http2: elimination of h2_io intermediate stream instances
a5cfcb0 fixing h2 supress to inhibit other annnouncements in upgrade: header
51f512b Documentation rebuild
38016d1 Add a new panel to all the module doc pages containing quicklinks for Changelog and open bugs.
83099f1 changing r->protocol to HTTP/2.0 for HTTP/2 requests, fixes PR 59313
36bd563 compilation fixes for VC
6ebf7e6 suppress h2 in upgrade header
9280c52 allocate an ID for new warning msg
74db5f6 uplifting 1.4.7 fixes, version bump
fffb41a removed obsolete source files
120b35f Fix a comment similar to r1638072
b428d2c Rebuild.
117f09d XML updates.
90005fa mod_http2: delaying response start until flush or data accumulation
52cdae5 mod_http2: new bucket beams for tranporting buckets across threads without buffer copy. Code cleanup
8c52bb1 http: Respond with "408 Request Timeout" when a timeout occurs while reading the request body.
8e373f1 Clarify CHANGES entry, including the correct version for the restored behaviour.
f9e6e3d scoreboard/status: follow up to 1739146. Comment not needed anymore...
f31bfa7 scoreboard/status: follow up to r1739008. Restore (completely) pre-2.4.20 behaviour w.r.t. preserved values. r1739008 was still unnessessarily blanking some values for the time of BUSY_READ -> BUSY_WRITE (with blocking MPMs).
fe51af2 Rebuild
19851dc Many more broken links.
596d7e2 Fixes some broken links, as per bz 59316
b49a9f8 Fixes ref to iso-3166, as per bz 59316
ffefb7a Fixes link to mod_proxy docs, because link can't use <module> syntax.
b5cf9d9 xforms
61f39ed Add some missing hyperlinks
f32efff Fix doc as spotted by Mark Brooks in online doc
2c0b2d7 scoreboard/status: Keep previous worker connection/request data when idle as prior to 2.4.20.
b6f5963 mod_proxy_ajp: Add "secret" parameter to proxy workers to implement legacy AJP13 authentication.  PR 53098.
0e0d0b6 mod_proxy: really return an error message on invalid "flusher" value.
8715aba xforms
1e5e232 Add some more <em> in syntax description Add some more hyperlinks to directives
287dd0c xforms
150f951 Split long lines Align examples on the left to be consistent Add some missing <em> in syntax description Add some hyperlinks to modules and directives Fix some bogus <directive type="section"> usage Fix typo
1794345 Make ap_find_child_by_pid() look at all slots that have ever been used.
eac694d add comments
5643eb7 On exit, don't write to other generations' scoreboard slots
a05fa66 Don't take over scoreboard slots from gracefully finishing threads
b6dd382 Display process slot number in the async overview
2d48b40 reduced h2_request initialization/copy after review by CJ
d9781f1 Exit threads early during shutdown, part 2
ebc67fa Exit threads early during shutdown
598acf1 Terminate keep-alive connections when dying
57230dc fix compiler warning about missing prototype
4b90ffe svn:eol-style = native
fab3101 print Server Temp Key information.
89db09b Support for OpenSSL 1.1.0: - DH was made opaque
d42ab52 Rebuild.
67c0fc0 XML updates.
dbe1801 Documentation rebuild and translation updates
65fc994 Amended wording of previous commit (Auth Howto doc)
74c85ae Documentation rebuild and translation updates
0c2dff0 Added note to the Auth Howto clarifying the usage of mod_access_compact and mod_authz_host
bf52059 * modules/lua/mod_lua.c (lua_post_config): Use anonymous shm segment   in preference to named segment.  Ensure startup is possible after an   unclean shutdown.
c0b3ae4 Documentation rebuild
33dcf53 Clarification of mod_access_compact and mod_authz_host usage.
11e842f Revision metadata updates after recent change.
ad0eff0 Documentation rebuild
4c25829 Added more info for the ListenCoresBucketsRatio directive and mentioned it in MinSpareThreads
7bbbb94 xforms
42941c9 Typo
905eabe xforms
300a63f Add some missing hyperlinks to the corresponding directives.
eaa812a Fix the -H|-h flag as spotted by Pete  in the online doc. Add the missing -ne in RewriteCond
d6691c6 Fix the -H|-h flag as spotted by Pete  in the online doc. Add the missing -ne in RewriteCond
f31ec03 Support for OpenSSL 1.1.0: - BIO was made opaque after OpenSSL 1.1.0pre4.
892f320 Rebuild.
8d82fe5 XML updates.
5f80e69 Add the <!--#comment ... --> syntax. Idea from Rob.
a006193 xforms
11a54d3 Improve hyperlinks
f2c1d89 mpm_worker: follow up to r1737449. Same spurious (duplicated) local variable removal, this time for mpm_worker.
bfff244 mpm_event, mpm_worker: No functional change. Remove one spurious (duplicated) local variable and split some long lines.
59d1e2a mpm_event, mpm_worker: Fix computation of MinSpareThreads' lower bound according the number of listeners buckets.
bb4a6ff xforms
b17ca69 Fix typo (extra sapce) in example spoted by Juan Antonio Rua Soto in online doc.
f94ce46 Updating .xml.* files too
5fe1bd7 Remove some backported CHANGES entries.
55b404c Documentation rebuild
21695c6 Reverting my previous commit due to dev feedbacks
6c4b9c7 Documentation rebuild
ea05e5b Added warning for AllowOverrideList None in the mod-core doc (PR 58528)
1a829ed mod_ssl: follow up to r1734561 and r1735337.
478077c update after backport
6f70d20 mod_http2: removing some flushes on main connection
c4c8654 Set $LastChangedRevision.
fd04b20 takashi's TODO script needs this colon. Reported by: Luis Gil <ljgbpfeiffer googlemail.com>
5b648c3 * Dreaded Umlauts :-). Use the usual transcription for those to be consistent   with other entries in the file.
42cc4ef mod_http2: new vars, keepalive increase, no slave reuse when con->keepalive not set properly
819eaf1 Missed changes for r1737114
c28ac1f Fix bug 58528 - Do not read .htaccess if override and overridelist are "None"
5fd7a9a core: '!x == 0' => 'x != 0' to avoid a compiler warning (suggesting parens).
cd4047d mod_http2: incrementing keepalives on each request started so that logging      %k gives increasing numbers per master http2 connection.
dbd36c9 Follow up to r1737053: add newly generated files.
3adb0ea make docs.
4cabd91 Follow up to r1737042. s/<glossary href/<glossary ref/g and xml fixes.
5c1c5c6 Update spanish translation.
aca4e6d mod_http2: fix for wrong handling of prefetched response bodies
69b41bc Some flow improvements...
0d26b59 mod_proxy_express: Fix possible use of DB handle after close. PR 59230.
3f9e818 mod_http2: more effient passing of response bodies
9691f58 xforms
608e75d Synch with 2.4.x
7071c0b documentation rebuild
de35813 Added HTTP/2 guide among the howtos
105eaf4 Uploading http2 howto
db6eaa8 xforms
f6973e9 Add missing space between directives and parameters. Improve syntax highlight.
4e9e199 Fix missing space in log message
9fd5e05 Fix formatting, highlighting of examples.
ba34c27 Rebuild.
ed54ece XML update.
5a902d2 protect logic in case backend == NULL
7b28341 mod_http2: fix for scoreboard updates missing, mem leak fix for slave connections
332e9c4 rebuild
e8867b1 ErrorDocument is not a section directive.
ca61148 Follow up to r1736217: really bump MMN minor.
4306da4 mod_http2: no variadic macro in C89, use equivalent function.
aeb3a64 Fix missing limits.h header, required for 2.4.next release, masked on many platforms by intrinsic limits.h inclusion by other headers.
4fc5798 Follow up to r1734656, r1736216, r1736225: more correct pointer size semantic.
054f1a9 Follow up to r1734656, r1736216: use correct pointer size semantic.
958ef39 core: Add missing AP_IMPLEMENT_OPTIONAL_HOOK_RUN_FIRST.
239ac0c Follow up to r1734656: restore c->data_in_input_filters usage to see if it helps unblocking test framework.
4015277 mod_ssl: return non ambiguous value in ssl_callback_SessionTicket() for encryption mode (we used to return 0, OpenSSL documents returning 1 instead).
9770664 adding missing source h2_ngn_shed.c for win build
a765425 update transformation
ed8145b DOCUMENT_ARGS in 2.4.19
6efeeac Mention cgi_var_rules, fix expr_handler typos
23ce448 Check for proxy_detach_backend hook, for 2.4.x compatibility
a829505 h2_proxy_session: fill in missing APLOGNO()s.
973b98f Follow up to r1735882: fill in APLOGNO().
71142b3 fix APLOGNO at wrong place, me stupid
49a03ae APLOGNO update for mod_proxy_http2
aca0995 APLOGNO tagging
74a8534 latest additions to netware build by NormW
8bcf9ed Support for OpenSSL 1.1.0:   - Followup to r1735875:     ssl_util_thread_setup() is gone.
985d988 Avoid a call to 'prep_walk_cache' if possible, just as in 'ap_if_walk' and 'ap_location_walk'
fc84974 Support for OpenSSL 1.1.0: - ab: use new API SSL_CTX_set_max_proto_version()   and SSL_CTX_set_min_proto_version() in   combination with TLS_client_method() instead   of the old deprecated methods.
dcf2165 Support for OpenSSL 1.1.0: - The callback function passed to   SSL_CTX_sess_set_get_cb() now needs the   session id argument to be const.   So constify the session id.
10ef976 Support for OpenSSL 1.1.0: - use new API SSL_CTX_set_max_proto_version()   and SSL_CTX_set_min_proto_version() instead   of SSL_CTX_set_options() - use new methods TLS_client_method() and   TLS_server_method()
10e3eed Support for OpenSSL 1.1.0: - ERR_remove_thread_state() no longer has an   argument.
f048635 Support for OpenSSL 1.1.0: - SRP_VBASE_get_by_user() is deprecated now,   one should use SRP_VBASE_get1_by_user()   instead. The new function returns a pointer   owned by the callee. It must be freed after   use.
37b136b Support for OpenSSL 1.1.0: - remove thread locking. It is now builtin   for OpenSSL 1.1.0
be470ba Don't check for presence of ap_log_cdata/ap_log_data
2da4063 fix order of lowercase/compare for r->handler
3dd1130 mod_proxy_http2: removed duplicate log code after review
701be6c Documentation rebuild
f395810 Added notes to the HTTP/2 howto
9e97e14 Remove leftover comment
7055cee Add missing proxy_run_detach_backend() on error path
ea95444 mod_http2: prohibit unnecessary flushing on master conn
0272223 mod_http2: oops, forgot a rename
9ee8aad mod_http2: some cleanup in GGOAWAY handling, disabling PUSH when rmeote sends GOAWAY
c553b61 update transformation
b03addb fix eol style
ed39566 update after backport of current mod_http2
c399426 revert of r1735444 as leaking, fix in task filter removal
eb09b02 mod_http2: pushing slave conn setup outside of lock area
07d45e3 mod_http2: slave connections are reused
09dd2d4 updates after backport
46d2041 Documentation rebuild
a4ee950 Added some notes to the HTTP/2 howto
5bc7c3c mod_ssl: follow up to r1734561. Simplify CRL check mode and flags handling/merging by using a single mask (int).
e6622f1 update changes after backport, version bump mod_http2
ba1fbba mod_http2: fix for bucket lifetime on master conn, mod_proxy_http2: flow control from front- to backend h2 connection
7c6d768 reverting the reverting of r1735174, r1735176 was the culprit
c4cf57c reverting r1735176
9a54010 reverting r1735174 as http/1.1 just terminated before response
20ede5e mod_http: Make sure HTTP filters are added on HTTP requests only.
008d76c mpm: Generalise the ap_mpm_register_socket functions to accept pipes or sockets.
45d8a4c mod_ssl: follow up to r1734561. Use the right crl_check_flags in ssl_callback_SSLVerify(), can be either a client or proxy connection here.
0d95b5d regen files deleted in r1735151
6f37cc1 Rebuild.
f1eff27 XML updates.
09db9da reverting my previous commit
71ec87d Added some sections to the HTTP/2 howto. Still WIP.
c1922e4 [PATCH] mod_rewrite: double escaping of query strings in server context (like PR50447, for server context)
0905aa3 make docs
65d5e45 Follow-up to r1734817: Reorder, mention compatibility
93b8969 sharing bucket_alloc for all streams inside mplx, explicit lifetime handling of EOR bucket and tasks
5b20d24 Follow-up to r1734817: suexec passes through mod_include's DOCUMENT_ARGS
9b6702a Add CGIVar directive for configuring REQUEST_URI behavior
2d292b9 mod_http2: update after backport, version bump
b76ba37 mod_http2: allowing requests without :authority header
faa748e Fix doc string for QualifyRedirectURL, and related typo in manual
4f1b45d make docs
33931c9 mod_include now sets DOCUMENT_ARGS.
c703004 Fix syntax error
c3a7812 Fix a small doxygen issue
64eaf88 core: Extend support for setting aside data from the network input filter to any connection or request input filter.
9fbfe2f Silent a smatch warning: mod_auth_form.c:626 get_form_auth() warn: variable dereferenced before check 'sent_user' (see line 616)
698e183 mod_http2: avoid unnecessary out flushing, avoid scoreboard updates unless code/msg changes
e79ca3e mod_http2: simpler flushing on master out
bafafe6 mod_ssl: Add no_crl_for_cert_ok flag to SSLCARevocationCheck directive to opt-in previous behaviour (2.2) with CRLs verification when checking certificate(s) with no corresponding CRL.
cdfb2f5 mod_proxy_http2: using SUSPENDED from handler when passing request_rec to other engine
4dbe05c mod_http2: some more code cleanup
a082ae1 mod_http2: some code cleanup of stream request body handling, potential avoid a buffer copy
01e7538 update after backport, bumnping mod_http2 internal version number after backport to 2.4
e61c697 mod_authz_host: add a new "forward-dns" authorization type
11c135b fleshing out the http2 howto a bit
f2a1c64 netware build patch by NormW, v3
0f3aa52 xforms
05f47f0 Fix tag alignment
6a177dc xforms
87cd388 Be more consistent in the way examples are formatted
dc6c88e update transformation
eb76790 fix error in quickreference
2aa8763 update transformation
a7de98d fix properties
3de1240 followup to r1734125: null check for r->args before cleaning up some QSA cases.
1ba1982 netware build patches by NormW
f4c13b7 declaring ap_create_request for external linkage
e79d2bb mod_http2: more safe approach to async mpm keepalive connection handling
0daa39b backported
069d8c1 mod_proxy_http2: rescheduling of requests not processed by backend on GOAWAY
db638b6 mod_reqtimeout: Prevent long response times from triggering a timeout once the request has been fully read.  PR 59045.
096bc81 mod_proxy_http2 documentation, addition of request notes proxy-status and proxy-source-port
ded480d added AP_DECLARE for new ap_create_request
28d50b0 mod_proxy_http2: single engine per type per master connection, removing some race conditions on engine exit, mod_http2: better debug logging by tagging slave connection with task id
9abfad5 mod_rewrite: Add QSL|qslast flag to allow rewrites to files with literal question marks in their names.
28777fa mod_proxy_http2: stability improvements
d846540 Documentation rebuild
bf83ebb Follow up to r1734058: small s/the/a/.
a4a52be Documentation rebuild
08fccd7 Fixed missing / in tag
b9a0554 Follow up to r1734058: fix typo.
f474895 Document workaround with OpenSSL < 1.0.2 regarding multiple certificates types (RSA, DSA, ECC) and default DH parameters.  PR 59087.
56a1aec core: Split ap_create_request() from ap_read_request()
1bd0dcc mod_ssl: Don't lose track of the SSL context if the ssl_run_pre_handshake() hook returns an error.
e559b3f Remove another backported item
9a918ae Remove some backported items
ed06c51 Timeout scenarios are more of an unordered list.
f95813f Note that Timeout on a new connection can be "hidden" by an AcceptFilter.
34849bd mixmatched sections reported in comments
aed1be8 Rebuild.
c4da430 XML updates.
ebd0329 mod_http2: support for several different request engines per connection, fixes CVE-2016-1546
e4c0735 Use ap_array_str_contains to simplify code Remove a useless test (groups is always NULL) Improve some style
9b5cb61 ab: follow up to r1733537: CHANGES entry.
7f070ba ab: Use caseless matching for HTTP tokens (e.g. content-length). PR 59111.
f2972d5 Use ap_array_str_contains to simplify code
2001fe3 Fix version in compatibility note
3d54d3b rebuild
53ea193 Fix weird indentation
31af3d9 Rebuild
9da7093 Unnecessary .*'s floating around just make this less readable.
60e8a52 Set eol property.
b1f3203 mod_http2: version bump, fixing max connection workers when max workers not configured
abd7d2d Skeleton of the HTTP/2 how-to guide in docs
d3554f8 update after backport of current mod_http2
a46258f adding default port numbers for h2/h2x proxy schemes, by jchampion
6d8b9c1 mpms: follow up to r1629925: more error reports. motorz and simple cases (not in 2.4.x, for now).
9ed858c mpms: follow up to r1629925: more error reports. Failing to setup (or no) listeners is also an error.
4beeb25 mpms: follow up to r1629925: more error reports. We want to be able to distinguish errors from stops to exit() with non-zero.
f0c4ef1 Remove backported entries.
c828bbc mod_http2: some DoS protection, fix for read after free
66c700a Rephrase r1733088 since leaking means horrible things in cryptography. This is not a security fix :p
07ede4a Follow up to r1720129 and r1723295: CHANGES entry.
832113f Follow up to r1711479 and r1733064: CHANGES entry.
43d45b0 Revert changes on mpm_event and mpm_worker from r1711479. The POD is not used in one process mode for those MPMs.
7614326 mod_proxy: follow up to r1729826 + r1729847 + r1732986. Don't use magic constants.
9a6583a Revert r1733054: spurious commit of being-worked mod_reqtimeout changes.
f3008b6 mod_proxy: follow up to r1729826 + r1729847 + r1732986. Don't use magic constants.
f62edee update transformation
0defebd fixup properties
60c6146 mod_proxy: follow up to r1729826 + r1729847. Adjust stacked ssl_hostname maximum size.
c4d3bc7 mod_proxy_http2: add missing APLOGNO()s.
62214f6 mod_http2: add missing APLOGNO()s.
0716aa2 mpm_motorz: add missing APLOGNO()s.
5934ef2 mod_proxy_hcheck: add missing APLOGNO()s.
d0365b7 mod_ssl: follow up to r1729208: add missing APLOGNO()s.
a76232b mod_proxy: add missing APLOGNO()s.
36f8375 Avoid compiler (gcc-5.3.1) warning on unused variable.
9aa8060 Avoid compiler (gcc-5.3.1) warning on unused variable.
dd88a30 revert broken r1724656 which moved the rewrite loop checks until after bases had been stripped and added in prep for internal redirect.
b283ad1 Rebuild.
7a97ad1 XML updates.
a429d04 Fix a bug in <UnDefine ...> directive processing. When used, the last <Define...>'ed variable was also withdrawn.
c6f8f7c Rebuild.
1a65df1 XML updates.
b6a4217 * include/http_protocol.h: Tweak wording.
13e1fce * modules/ssl/h2_h2.c: Use mod_ssl function pointer types by reference.
b65f9f1 adding accep,accept-encoding headers from initiating request to push promises
29dc941 fixing compile errors+warnings in gcc
dce4ce7 mod_proxy_http2: start of some sort of flow control, mod_http2: keeping spare allocator_t for slave connections around
9658877 Save a few bytes in conf pool when parsing 'Mutex' directive on some OS.
7ee83c7 Save a few bytes in conf pool when parsing some directives on some OS.
824640a Save a few bytes in conf pool when parsing 'DocumentRoot' directive on some OS.
372808d documentation rebuild
26de7f4 Added workaround to the mod_http2 doc to display multi-line highlight blocks correctly
b47f895 mod_proxy_http2: stability improvements, timeout blocking read when waiting, new entry list
4dbe245 goodbye h2_stream_set, hello h2_ihash in h2_util
947e44b update after backport
3dc9649 mod_speling: make behavior of CheckCaseOnly and the new CheckBasenameMatch orthogonal, so one can combine them and they don't influence each other.
bf3559e documentation rebuild
e82af17 Proposal for a new summary of mod_http2's doc
f115c49 Save a few bytes in conf pool when parsing 'DefaultRuntimeDir' directive.
9cca911 use APR
669b3d5 correct type
2e47757 limiting the number of threads a http/2 connection may occupy
9fb5b22 xforms
bb4605d Update
46e1a36 Documentation rebuild
91d075b Updated http2 documentation and fixed some typos
3320e9a code cleanup, saving some apr_time_now() calls on scheduling, worker now only sticky to a connection when idle workers are present
79a2040 improved eos out handling on streams
fad21a6 Join multi-line MPM startup log messages into single long lines.
c52f4a8 PR59039 Digest not working with ap_expr based AuthName
3e21ef4 Documentation rebuild
0fa4920 Updated mod_proxy's websocket documentation to address some user comments.
8eb3099 Support for OpenSSL 1.1.0 - Simplify code by using new 1.1.0 variant   also for older OpenSSL. Also tested with   1.0.2f and 0.9.8zh. No ssl test suite   failures.
f2fc2b2 xforms
e3f73b8 Add V.34 option for ModemStandard directive Add some " to synch with 2.4.x and fix color highlight in online doc.
c521f8f xforms
44c862d Fix compatibility notes. Synch with 2.4.x
e650f9b making complete_connection addition compile, hopefully as intended
3a6f891 task pools have their h2_io pools as ancestors, some code cleanup
84051c1 mpm: Add a complete_connection hook that confirms whether an MPM is allowed to leave the WRITE_COMPLETION phase. Move filter code out of the MPMs.
e3cc634 Documentation rebuild
ca8408d Improved sections.html after Eric's feedback.
7dfcb96 Remove backported item.
9cb6e6b catch by jchampion
de4ade8 handle compiler warning
0fecff4 Impl ThreadLimit so we can have sane scoreboard sizes :)
43267df using proxy http2 connection concurrently, if main connection also uses http/2, needs more hardening
36dc711 Documentation rebuild.
663ca17 ensure sane defaults
2c43ef0 doc patch by luca
dc221e7 Support for OpenSSL 1.1.0: - 1.1.0-pre3 was relesed   - remove pre2 comments which no longer apply   - one more struct has been made opaque, use     accessor function instead
7d84dae add comments for all media types in IANA registry dated 2016-02-05
31abbd1 needs to find mod_ssl.h
4f48d0b * c is set to cs->c. So use it.
5e04c2a * Use correct bucket allocator for sending data to the backend
59e3a15 fix segfault when not identifying mpm module, added detection for winnt, simeple, motorz and netware
4ab46d7 properly sort the types (no functional change)
93d85f0 Documentation rebuild.
1c14090 New proposal for the sections.html documentation.
77a9e17 docco change re 451
256e5cb Add 451... Needed to adjust RESPONSE_CODES which was not in the provided patch BUGZ# 58985
5589cf4 Get rid of all this min/max server stuff. Keep it simple. We fork a set number of processes and ensure we stay at that number.
bfe1843 Documentation rebuild
0a42360 Expanding sections.xml to address Bug: 58789
4711134 Documentation rebuild
583a3ec Simplified the AsyncRequestWorkerFactor section of mod_event's doc page
f7743f7 let's not emphasize keep-alive w/ the Event MPM. That was true long, long ago when that was the only thing that made it useful. Nowadays, it really *is* an event-based MPM w/ async/non-blocking i/o.
890f8ec timer is really just timeout
ce53073 start of timeout handling
c313d57 Update the motorz MPM with some logging and some minor fixes... Most of the debugs will be removed once more stable.
457462d first working h2 request engine implementation that does serial processing of proxy requests
295b7a0 Fix typo in comment
d7639a5 Support OpenSSL 1.1.0. - use common code for OpenSSL pre-1.1.0 and   1.1.0 where possible.
9b4551d Add remark about backport obstacle.
426eaf5 Commit change forgotten in r1730075 (include mod_proxy_http2 in Netware LoadModule list).
e201796 Support for OpenSSL 1.1.0: - use SSL_peek instead of looping with   has_buffered_data().
434a3b9 Support for OpenSSL 1.1.0: - Fix typo in loop end condition
12b3bfe Documentation rebuild.
b8a27dd Added examples to mod_event's AsyncRequestWorkerFactor section.
265a578 Rebuild.
11a84bb XML update.
40f13cd Rebuild.
65549ad XML updates.
35c192e Support OpenSSL 1.1.0: - Fix renegotiation for the client side   of a proxy connection.
aae2518 Support %{c}h for conn-hostname, %h for useragent_host
6b69915 Correct doxygen groupname
87eed91 Sync mod_rewrite REMOTE_HOST to newbehavior (REMOTE_ADDR is useragent_ip)
89605f9 Use different variables to track normal modules and MPMs during build.
8dcf132 Official ASF favicon
7075863 Add mod_proxy as a dependency to mod_proxy_http2 Unix Makefile.
3244dd3 More mod_proxy_http2 build support: - include in Windows and Netware LoadModule lists - add to cmake build file Untested.
79f068d Use nice PNG instead of ugly nasty GIF
9f740c3 Rename http2 module m4 file, so that it will come after most standard modules in configure and thus will also be added later with LoadModule to the default Unix httpd.conf file.
4dc23ae and keep the old one around
8cc6358 Add the gif version
f629fc1 New feather
62d6402 xforms
0c66898 standardize /
9f4bd17 Support for OpenSSL 1.1.0: - fix copy&paste typos   (wrong version number in "#if").
d6e2f6d netware make updates by normw
9d0cc0b Support for OpenSSL 1.1.0: - fix rejecting client initiated renegotiations
1f81e26 update description of mmn bum 20150222.10 to include pre_close connection additions
c501e99 Last part of doc rebuild.
cf630b8 Documentation rebuild.
e71789e Removed confusing parts in the Limitations section of the mod_event's doc page.
0ebed1b A rather ugly patch since the code was refactored recently to exclude the simple patch for 2.4.x, illustrated below.
690c610 hostname: Test and log useragent_host per-request across various modules, including the scoreboard, expression and rewrite engines, setenvif, authz_host, access_compat, custom logging, ssl and REMOTE_HOST variables. PR55348  [William Rowe]
9d9b20f Introduce an ap_get_useragent_host() accessor to replace the old ap_get_remote_host() in most applications, but preserve the original behavior for all ap_get_remote_host() consumers (mostly, because we don't have the request_rec in the first place, and also to avoid any unintended consequences).
db5f097 Unwind commit 1729901 (and 1729926), it was not ready for trunk
4741048 Support for OpenSSL 1.1.0: - further improvements for renegotiation No more test suite failures for reneg, but still using not so nice polling.
612f164 Fix compile error: - missing semicolons - s/req/r/
1dd2be0 Introduce an ap_get_useragent_host() accessor to replace the old ap_get_remote_host() in most applications, but preserve the original behavior for all ap_get_remote_host() consumers (mostly, because we don't have the request_rec in the first place, and also to avoid any unintended consequences).
4e46f91 Revert r1729897, 1729898, my copy of core.c was polluted by a different patch
3054f5c Note change for r1729897
6947916 Introduce an ap_get_useragent_host() accessor to replace the old ap_get_remote_host() in most applications, but preserve the original behavior for all ap_get_remote_host() consumers (mostly, because we don't have the request_rec in the first place, and also to avoid any unintended consequences).
ed1695a Note that this should become private to mod_ident, accessed by the accessor fn
4a2cbdf mod_proxy: follow up to r1729826: really copy conn->ssl_hostname.
fc5a37a xforms
14e9645 ABC order and add hcheck
433c7e8 more docco: health check and status. Basic info
debe7bef mod_proxy_http2: remove code working around issue fixed (hopefully) in 1729826.
78b7a65 mod_proxy: Play/restore the TLS-SNI on new backend connections which had to be issued because the remote closed the previous/reusable one during idle (keep-alive) time.
dc83621 apr_strtok minor invocation change to maybe what everyone is used to
64f843d Prefer "goto cleanup" over "do {... if (error) break; ... } while(0)" construction for error handling/jump (as suggested by Ruediger).
9fdf8cf Make images align center
b0c12bc Adjust size...
45f7b85 bal-man
bb00d6d * Fix properties
6f4b688 fix xform
d0a6396 grrrr... indenting
22694c4 xform
faa1edf more info
9aa81e1 * Fix compiler warning of unused variable
69188a8 and xforms
452ef4d force to new para
a51c81e Add in gen'ed files
34bec8d Note guide
a08b508 xform
235774f added dimensioning and mutlti domain sections
d6ce700 set eol-style native property
8f72c62 using root pool for slave connections
1a7e5d1 remove xml/binary property
5cc9e20 giving write operations a chance after a max of 64k has been read, not entering async keepalive before first request is seen
a0d69b7 xforms
e82adb0 point to (rough at this stage) guide
7e46814 xforms
4312a45 adjust
4fb2d64 Start of guide...
b867d0c tuning the output passing and flushing a bit
e228479 Commit images for reverse proxy howto guide
71a6e8f timeout handling when idle but still streams open
532d8a9 netware build additions for mod_proxy_http2 supplied by normw
4019a9f tune from rocky horror picture show: Doing the handshake...again
5f17c65 fixing uninitialized ssl_hostname
447582e mod_proxy: axe negative "ping" parameter setting and handling. This used to check for the backend connection readability only (instead of the full ping/100-continue round-trip), but the case is already handled by ap_proxy_connect_backend() which is always called.
30a6d5d OpenSSL 1.1.0 support - no need to check for opaque "valid" cert   flag, since we get here only if internal   certificate verification of OpenSSL returned   ok=1.
5d55a00 OpenSSl 1.1.0 support - improve renegotiation loop.   Should now also work in case only the   cipher changes.   Should now also work in case the handshake   ends with an error.
2e3c3c2 Documentation rebuild.
1221f82 Proposal for an improved version of the mod_even page.
efa6237 adding flush bucket on every main connection buffer flushes
3afb174 Fix compiler warning when using OpenSSL 1.1.0.
8350ace remove as requested by yann
21c8fa9 r1726009 was a minor bump only
4b20f3b 1726233 temporarily broke UDS r->handler case sensitivity
742811b xforms
b923817 Note new status flag
a1d33ea Support for OpenSSL 1.1.0: - partial support for renegotiations.   - Not a good design, need to poll until     renegotitation has finished.   - Loop criterion not right, if no client certs     will be send.   - Also doesn't work for EC or DH ciphers.     Unclear how to fix with current 1.1.0     API.   - Details see     http://marc.info/?t=145493359200002&r=1&w=2
062a232 Netware Makefiles for mod_proxy: Rephrase comment as Norm suggested.
a8b2d31 Netware Makefiles for mod_proxy:
f35128d Revert r1728874: Netware: pull up ws2nlm imports from all (most) proxy module makefiles to the main proxy makefile.
3e6331e Exclude MPM modules from automatic LoadModule enabling when configure was called with -enable-load-all-modules. The default MPM should still get enabled automatically.
3567f9f new experimental http2 proxy module for h2: and h2c: proxy urls
a5511fe let proxy handler forward ALPN protocol strings for ssl proxy connections
49e969e EVP_MD_CTX_new() and EVP_MD_CTX_free() Only exist in OpenSSL 1.1.0. They were renamed from EVP_MD_CTX_create() and EVP_MD_CTX_destroy().
97df5bb Restore line deleted in error in r1728909.
f80ac38 Support for OpenSSL 1.1.0: - don't check for SSLeay_version() in configure   The function no longer exists in 1.1.0.   It was replaced by OpenSSL_version(). - Switch between SSLeay_version(U) and   OpenSSL_version() depending on version   in modules/ssl/ssl_util_ssl.h. - Use MODSSL_LIBRARY_DYNTEXT everywhere.
80cbb2f Rebuild.
811d4f3 Support for OpenSSL 1.1.0: - followup to r1728909 (incomplete switch   from struct to struct pointer).
4eb6bdb XML update.
8bc4871 Support for OpenSSL 1.1.0: - mod_ssl Look out for "XXX: OpenSSL 1.1.0:" for a few open problems.
967edd5 Support for OpenSSL 1.1.0 - ab
97b57ec Set eol-style native for new mod_proxy_hcheck.c.
dc4ce52 Netware: pull up ws2nlm imports from all (most) proxy module makefiles to the main proxy makefile.
e2384b3 Rebuild.
7fd9e6e XML updates.
dab5a44 Netware proxy makefiles: - change vpatch for wstunnel to be consistent   with orther proxy modules. Likely a   a copy&paste error from a balancer module
1522012 Netwarep proxy makefiles - remove unneeded XINCDIRS   - there are no header files in $(STDMOD)/http   - $(STDMOD)/generators and $(STDMOD)/ssl     for serf were likely copy&paste from     NWGNUproxy, but serf doesn't need them   - $(STDMOD)/proxy for wstunnel likely     copy&paste from some lb module but     wstunnel doesn't need them
25cc299 Netware proxy makefiles: - use $(NLM_NAME) instead of explicit name   when defining TARGET_nlm
086c723 Reduce differences between Netware proxy makefiles. - removing trailing whitespace - remove trailing empty lines - choose a common order for lists - choose a common style for TARGET_nlm and   TARGET_lib definitions
039ebb0 Set EOL style on new file.
f7e7546 Add mod_proxy_hcheck to the Netware build system.
fe5c0b0 Fix typo in Netware makefiles.
3f78bf6 Add proxy_module to the list of symbols detected by Netware export/import awk script.
233afba Standardize order of "extern" and XXX_DECLARE_YYY.
df1da7e Remove now useless apr_pstrdup.
7c55823 Remove now useless cast.
1003310 Constify the protocol field in the request_rec structure.
b4c9ef8 Remove recent new marker macroPROXY_HOOK_NON_LINKED and instead use PROXY_DECLARE_OPTIONAL_HOOK which is defined to be equal to APR_DECLARE_EXTERNAL_HOOK.
ba1ab80 Allow Netware awk script which handles proxy symbol import/export to differentiate between hooks which call APR_HOOK_LINK() in the C files and those who don't by marking them in the header file.
04da55f Provide dummy impl of ap_proxy_connect_uds() in case when APR_HAVE_SYS_UN_H is not defined. Just returns APR_ENOTIMPL.
b08bf05 seems to work better in this order
617e068 Build symbol import and export files for proxy on Netware using the same awk script which is already used for mod_cache.
10c4dfa Add support for the proxy modules to the awk script used to generate Netware symbol import and export files.
fa29d04 Guess some platforms need PROXY_DECLARE_DATA for data shared between proxy modules and declared to be extern.
f558bf5 Add new exported symbols to the Netware make file.
8f59b29 xform
20e52aa Hrm
6556141 Use bordered table
442ecce xforms
b70e849 * Let mod_proxy_wstunnel and mod_proxy_connect use ap_proxy_transfer_between_connections
fbf6852 * Introduce ap_proxy_transfer_between_connections
5f5e5bd Enabling a worker via health-check also moves them out of ERROR more (which may have been set via the static "health" check done via mod_proxy).
8b3107f Only health-check workers which are not STOPPED Only log Checking if we are actually checking
b643641 correct closing tag
ed782b6 Better explanation... use as table
f3027dc STOPPED workers are never retried... Disabled can be.
e81d9af Actually, do the nulling indepedent of whether it is being set or not.
89058e7 If disabling health check (NONE) or using TCP method, then the expression is moot and is nulled out
ddc56a5 Now honor changed params!
3d43994 Now input-ize the values... next step is to tie into the actual POST
ee6d08c Tie bal-man to hcheck for dynamic adjustments... right now, actually editing not implemented yet.
d082119 Better naming
a64b2be Only show if hcheck module is loaded
62a5f9e Since these are externs, prepend proxy_
ad328cb expose more worker status info in prep for making more dynamically changable
c33f637 explicitly controlling write timeouts, not properly in place from vhost
83580c9 Resolves comment about how regex matches, at http://httpd.apache.org/docs/current/mod/mod_rewrite.html#comments_thread
09c6793 Fix weird indentation
46d326e Buncha rebuilds.
1408ea2 This is a definition list, so format it as one.
37720cb a little love for timneouts in the sync mpm setups
89f4c60 Another catch from NormW
8b8f8fd exporting mod_http2.h
4f68e38 mod_heartmonitor: No need to search twice for the same value + fix some style
1878995 Fix typo in my last change; spotted by Lucien Gentis. Thx
ad19dd9 2nd rebuild
985fcfc Rebuild.
525134b charset returns to ISO-8859-1.
a8ed88f Rebuild with 'fr bootstrap' options.
3d91cdb0 charset change to UTF-8.
e80cfb5 Rebuild.
906c370 XML updates.
b6e1993 Fix a tag in the Spanish doc
fda8a5e Fix examples
1e2ec0c Add missing <code></code> to be consistent
365ec3c Take into account an old comment from Thomas. Add an example using regex
5dfacbf Small visual tweak
2fb2769 Fix doc as spotted by Shane Roberts in online doc
24046d4 removal of ugly and distatestful event connection state hacks in mod_http2
1407310 event: slave connection init, vhost early config
736f2fc using keepalive timeout only when no streams are open, changing from seconds to proper apr_interval_time_t
c80274f removed experimental++ H2* timeout directives, instead using normal Timeout and KeepAliveTimeout only
09620c8 fix for wrong return check on ap_prep_lingering_close(), causing regressions
39beb46 * Transform the buckets to the correct lifetime of the brigade, connection and filter stack that processes it.
249fb57 * Use the correct brigade created from the correct bucket allocator for the correct purpose
6583e5d * Use the brigades the other way around if the connections are used the other way around
45e1dee correctly processing multiple rel values in Link headers, suppressing PUSH if nopush param is present in link header
7bbf50d * Ensure that proto_num and protocol is set in another "error out early" edge   case. This can happen with invalid CONNECT requests as described in the PR.
20dc14f make docs
2f2a22b Update Perl FCGI examples to work with current version of module
565cfcb Added more env variables to the mod_cgi's documentation. Bugs: 58305/58306
3009b49 * Xforms
b437e50 * Change entry and documentation for SSLOCSPProxyURL
e4a821f * Whitespace cleanup
47c6bb1 * Xforms
158fe04 * Xforms
4ad242d async handling of idle http2 connections
e70247a new hook pre_close_connection
359604a xforms
e57b8d6 Fix typo spotted by noodl  in online doc
69ad717 Fix some duplicate definitions
aef1c86 * Introduce SSLOCSPProxyURL in order to do OCSP requests via a HTTP proxy.   Documentation to follow.
ed4a314 xforms
1b1d6d5 mod_http2: Fix warnings: modules/http2/h2_util.c|174| warning: suggest parentheses around ‘+’ in operand of ‘&’ modules/http2/h2_util.c|176| warning: suggest parentheses around ‘+’ in operand of ‘&’
90bd586 * Transform the buckets to the correct lifetime of the brigade, connection and filter stack that processes it.
c49ff00 * Use new ap_proxy_buckets_lifetime_transform
e8fb815 * Fill missing log number
67ddd90 * Introduce ap_proxy_buckets_lifetime_transform as a replacement for   proxy_buckets_lifetime_transform in mod_proxy_http. Another future consumer   of this will be mod_proxy_wstunnel.
19fd02f * For creating new buckets always use the bucket allocator of the brigade in   which we want to put the bucket.
371b438 mod_filter: Fix AddOutputFilterByType with non-content-level filters. PR58856  (Micha Lenk)
64183dd xforms
c9c90fc better s-maxage support
13ac966 Amending the previous commit to remove any specific list of caching proxies.
aaf5757 Documentation rebuild after change in mod_deflate.xml
da47b63 Added important info for the DeflateBufferSize directive (mod_deflate). Bug: 33454
622e162 Documentation rebuild for r1726506
4eb7f3d mod_cgi/mod_cgid documentation about environment variables added (like DOCUMENT_ROOT). Bug: 58305
694a2de Patch from Norm
8e4834d xforms
1bb7d39 New directive
cb1a419 Make size of threadpool adjustable, even to the extent of disabling it.
62a4f4c better logging
5b86598 Rebuild.
3c406e6 - ---Cette ligne, et les suivantes ci-dessous, seront ignorées--
41712d9 Replace HTML entities by their equivalent accented characters.
dd7c254 Rebuild.
076de28 XML updates.
1badcaa Rebuild.
60e5a94 XML updates.
f2c7534 Use a shorter-lived pool to conserve mem.
279faab xforms
8d0325e was never backported to 2.4.
75c8d2d xforms
f796498 Update...
2c8abeb Some renaming to make things more clear.
9fe94df found by CJ
60bf322 we actually talk 1.0
5fe1530 Use threadpools and shove each hcheck to be done by a thread in the threadpool. If we don't have threadpools (either because APR lacks threads or we can'r create a threadpool) simply hcheck sequetially in the watchdog process.
101bc3d xforms
d6ee76e Add examples
38a8864 from feedback, assume all parameters to SetHandler are expressions.
44026b3 expr support for HTTP2 variable
736508c adj pool lifetimes.
c800436 xforms
c5c5f07 log when we are updating hc worker, which should be never at present.
6810502 We don't allow for changes yet...
f439615 Fix typo in comment (s/patterm/pattern/).
d85c08f remove 'binary' propset
1565938 update
43625fd Better description of trace
a5cd346 Fix typo in comment
df23b8a revert
5825354 clash :)
163a04c Adjust
f781921 Try fixing new proxy_hcheck expr extension.
a02b777 Fix copy&paste error in new function.
5740fad Implement expr lookup in mod_proxy_hcheck for variables whose names start with "HC_" and for the new function hc().
7bd0b19 mmn bump for scoreboard api changes
57a67b5 scoreboard http2 status gives stream summary
5017f65 update scoreboard CHANGES
e924272 reverting messup
9ce6dca update scoreboard CHANGES, doh
909aa9a scoreboard addition of protocol, new ap_udpte_child_status methods
0b9bd6c spatch uses, from what I can see, double '-' for long directives
af97de3 Update...
929bed7 Adjust so that watchdog runs every 2 seconds
47b318d using socket timeouts to stutter keepalives, so that MPM stopping can be properly addressed.
f6c1112 Assign log message tags
3f0af2a new module
50d9e7b GET now supported
a0a59e1 Note that as a function, kept_body requires an argument, but the value of that argument is completely moot.
f0c57ed handling TIMEUP on SSL inputs by allowing later retries
25c75f1 xforms
367c71d revert r1725348, force-response-1.0 is not suggested.
8e9ea44 revert r1725349, misread 7230.
6fd9189 Fix APLOGNO coccinelle change done in r1725551.
1a5e92f With the updated ap_expr, we can now check for the returned response body, stored in kept_body
e0318bf expand and err-check...
05a31cb Just in case...
7696ecc xforms
b0ba540 ap_expr now allows kept_body() function to grab/use response body if stored in r->kept_body
fcb2977 updating scoreboard from conn to erase request string whenever appropriate
a107563 And make the list of health check conditions viewable via the balancer manager :)
5ec89de Expose the expr
7cc83fe Use worker status character defines taken from mod_proxy.h instead of explicit characters.
84748de Update xforms!
2623b6e correct error string
baf0a43 Latest fixes... move some to TRACE7
d4b5420 Adjust log levels
4499578 Now, allow for checking of conditions, created and defined via the ProxyHCExpr directive.
8824bbe Improve spatch for APLOGNO a bit.
5c8489e Update APLOGNO next-number.
0eddea6 Added some more log numbers to log statements that had none.
1049c6d Start impl of expr conditions for runtime checks
11e47dd checking for stopping MPM before going into blocking keepalive read
89674b5 For OPTIONS and HEAD, only 2xx and 3xx are considered "passing" (until I implement the conditions expr testing)... honor the pass/fail count and LOG_INFO when the health check enables or disables a backend worker.
685dc52 Remove APLOGNO after moving log message to TRACE1 in r1724847.
398c5ec OPTIONS/HEAD proxy function should be diff from simple TCP check
52916ae Open up hook/scar to allow for passes/fails and method to be changed via bal-man...
ff2c023 bytes read/written on slave connections are reported to mod_logio, fixes PR 58871
d079474 Update APLOGNO next-number.
d209249 Fill in APLOGNO.
363f9fb Update APLOGNO next-number.
af14d15 Added many log numbers to log statements that had none.
27a0d08 Silence compiler warning (twice): variable 'v' set but not used
322f418 Silence compiler warning: 'cached' may be used uninitialized in this function
78823e7 Silence compiler warning: 'orig_mem' may be used uninitialized in this function
331d64c Reformat.
82c871d Silence compiler warnings: - format '%u' expects argument of type 'unsigned int',   but argument 10 has type 'apr_off_t' - 'val64' may be used uninitialized in this function
38c527a Silence compiler warning: format '%ld' expects argument of type 'long int', but argument 10 has type 'apr_uint64_t'
4598de1 Silence compiler warning: 'free_slots$' may be used uninitialized in this function
e31c6c0 Silence compiler warning: variable 'bucket_alloc' set but not used
a1ca0c1 Remove new APLOGNO form mod_log_debug.
ee4bafb Fix a typo when building a TRACE8 message.
b676674 No need to search twice for the same value.
cf5622f Add a note about coccinelle use.
0fc29f0 My (recent) version of coccinelle doesn't want an identifier "format". Maybe it is reserved now. Let's use "fmt" instead.
05a435b Update next-number.
1585b13 Added many log numbers to log statements that had none.
496a614 Added many log numbers to log statements that had none.
44ce304 Added many log numbers to log statements that had none.
99f84ab Leverage the OPTIONS code for HEAD as well... So we now support: TCP, OPTIONS and HEAD.
a611f2c emphasize http/1.0 clients, mention RFC7230 calling this envvar a SHOULD.
1ea8890 leave a note that RFC7230 suggests force-response-1.0 behavior.
8d3d035 xforms es files
132144b Spanish XML update
4334311 honor worker settings
dbc98e6 And we now allow for health checks via OPTIONS *
e1fa09b * Since r1724820 two modules, mod_http2 and mod_ssl, call APACHE_CHECK_OPENSSL,   with mod_http2 doing it first. Because the result of APACHE_CHECK_OPENSSL   is cached this causes MOD_LDFLAGS and MOD_CFLAGS to remain unset for mod_ssl   which in turn causes it not to be linked against Openssl which means that   mod_ssl cannot be loaded if the Openssl libs haven't been loaded by other means   already.   Fix this by caching the values for MOD_LDFLAGS and MOD_CFLAGS created during   the first run and set them in the cached case.
b144cac simplify and start on concept framework of OPTIONS
2601978 Expose this in our API
036c832 better formatting of apr_utin64_t log output
32ebc57 log2n compilation error fix, cache digest calculation fix
bda008a missed in r1725149
e899388 allow expressions to be used in SetHandler. Opt-in with expr= prefix.
0467fdf redo
f78a63d typo
2103200 typo from cut/paste
5de96aa Add'em
8491d02 forms
fe9a423 Prelim docs
2fda66e Make balancer manager health-check aware
28480a1 xforms
adc8bfb clarify a butchered sentence about missing ServerName, which is a regular early step in "my directive didn't do anything".
8006917 xforms
a3978dd update syntax to allow for non-FQDN domains or IP addresses in ServerName.
a977676 some ordering optimization
bdf5ddb Move to a set of health check workers, mapping to each worker itself, instead of a single reused generic worker.
4322b73 pull this out... large enough for a func
43de67d Don't restore.
d148a08 move scope
d168c99 Since every check needs this, do this in the main check loop. Allows some optimizations.
a3c7893 Update lang/es.xml.
10ab1bc Avoid having to recheck DNS
8ea2d71 Oops :)
4b98236 Update lang/es.xml. (2nd round)
9f2dd35 1st cut of 'simple' tcp check... We reuse various proxy function and so this *could* be more streamlined, but use this to show how the other would work, since we need brigades, SSL/TLS support, etc.
f524403 Update lang/es.xml.
33a5f05   *) mod_proxy_fcgi: Suppress HTTP error 503 and message 01075,      "Error dispatching request", when the cause appears to be      the client closing the connection.
f7a6286 avoid polluting search results by putting the full AH message in CHANGES>
b20446d flush errors are TRACE1 in the core output filter now.
1728219 mod_http2: push diary to avoid duplicate pushes, cache-digest handling, http2-status handler for stats about current http2 connection
5327f57   *) mod_rewrite: Avoid looping on relative substitutions that      result in the same filename we started with. PR 58854.      [Eric Covener]
677dbca rebuild
09290d3 Distinguish between 'deflate' and 'gzip' encoding.
d803b71 rebuild
b413c4f Applies Luka's patch from bz 58744.
d3d3c37 push diary work, introduction of N/P for cache digest handling
cb80840 new directive H2PushDiarySize, first simple apr_hash implementation of a push diary that prevents duplicate pushes on a connection
4c6867f XML header update.
29bf45b XML update.
7e22559 XML update
884b2c0 Rebuild.
b2f70a9 XML update.
d1c307f per rplum suggestion. thx!
7f6c428 Fix doc as spotted by A. Gh.  in online doc
b66e366 Use enums and structs to keep things better organized
eeb2ad5 version bump
f67bcf3 removing session flags, using state enums only, added event enums for state transitions
d05b542 attempting to send GOAWAY at connection end, alaways, if possible
79b3863 Add common extension "m4a" for MPEG 4 Audio to mime.types.
5a127db * mod_log_debug docs: Fix the IS_SUBREQ example
43b7db9 mod_ssl: follow up to r1720129. Free ecparams read from certificate file(s) on startup.
2b3237c mod_ssl: follow up to r1723122, r1723143. s/endb/upto/ in ssl_io_filter_coalesce() and update CHANGES to include r1723143.
315c1ce mod_ssl: follow up to r1723122. Coalesce when (subsequent brigade's) data bucket is not last (likely followed by FLUSH or EOS) but we have buffered data already.
01d7740 no async http2 read for now, fixed GOAWAY flush at end of session, scoreboard keepalive status shown
ae174cc mod_ssl: Avoid one TLS record (application data) fragmentation by including the last suitable bucket when coalescing.
f4515c4 no more blocking reads for aborted sessions
7cfa8bf always sending GOAWAY frame on session shutdown if not already done, GOAWAY frame with correct stream id, highest that started processing
dc56e60 reducing # of file handles used in transfers by default, reduced global workers lock usage
b93c96a dynamic allocation of transfer file handles used to pass buckets to master connection
6ef1b74 Follow up to r1722914: since worker threads are joined in cleanup_zombies, they are not anymore detached nor joined elsewhere.
8e83361 fixed early returns on connection shutdown that did not properly release locks
d743d3c joining zombie workers thread, as suggested by yann
f23707f reworked synching of session shutdown with worker threads, workers now stick to a session until no more reuqquest are tbd, keepalive handling revisited
442995b Fix compatibiliy note for the GlobalLog directive
494d8d8 Fix sparse warnings introduced in r1722154 (inconsistent indenting)
e3a66da Rebuild.
35c60c0 XML updates.
deaf36d Update XForms.
a35dbc4 Happy New Year 2016
67ee6d2 Don't bother w/ methods that return bodies. We don't handle them now anyway.
105d3ff fixes after fuzzing tests, changed H2KeepAliveTimeout default
407b9ab command changes
a44008b Check that we have names for both templates and conditions
9057223 just check watched servers... use 'hc' prefix for sub directives
ac16139 Now implement the condition ruleset definition. The actual checking will be done in the actual health check routine.
0bfe3c0 move to per server conf, useful for adding HealthCheckCondition
f970bc8 New support function: ap_getword_conf2[_nc] which acts just like ap_getword_conf[_nc] but allows for {} to be used as word quotes. That is:
1d935a7 Better check
94f58fd Follow up to r1715876: core directives' tokens are ASCII.
3b122da Follow up to r1715876: core directives are ASCII.
7bb1b91 revert... hold off for now.
d8838f4 Ok... allow for getting "words" by also allowing the use of curlies... That is:
f5c536d finish looping logic... place-holder for actual checking
4d3ab92 Make aware of new status: Failed Health Check. Store the number of current passes/fails in shm
8d90136 Small changes to ap_casecmpstr[n]() for better performances, see: http://mail-archives.apache.org/mod_mbox/httpd-dev/201511.mbox/%3CCAKQ1sVOU7xmY-_PaQb0et0GXO-NxtTPBsD4ZU_UbtUzWYOUVTg%40mail.gmail.com%3E
33aceec Commit framework impl of health-check module plus required changes. The actual health checking is currently in progress, but wanted to add in at this stage.
cdb2aea Update w/ better logging
4bfe0a6 Follow up to r1715880: revert more abusive ap_casecmpstr[n]() usages.
89b29c5 Don't allow bad value to be updated
82650a2 removing unwanted import
c6cc3f9 add a mod_headers condition clause expression example
3d902c4 PR58764: python example for sha1 password hashes
c1980ad PR58761: developer doc improvements.
d2098e6 rebuild
7d7cd51 Use the highlight syntax, for better linebreaks.
bcbfbe4 mod_cache_socache: Fix a possible cached entity body corruption when it is received from an origin server in multiple batches and forwarded by mod_proxy.
2b7a352 Abstract out as macro
b70f379 xforms
a1cc039 document GlobalLog
93c6092 fixed segfault in connection shutdown, added accept-push-policy support
922612b fixed bug in upload that triggered window_updates during session shutdown, disentanglement of worker, task and request, code cleanups
f191edd reduced logging for MPM async query not implemented, normal under 2.4.x
7d209de rewrote http2 connection state handling, fixed keepalive timeout handling for async and sync MPMs, cleaned logging, improved scoreboard updates of http2 master connections
c8b02a8 Save a few bytes in conf pool when processing 'NWSSLTrustedCerts'.
d965bf6 disk_cache: improve logging of errors around reading stored headers -- add RV and print cache filename from caller.
b5bc085 cleanup of DEBUG log level to who all frame types receveid and sent
945b6be gack, c99 mode stroke again
b422d0d gack, c99 mode stroke again
38b7bdf when normal read timeout expires, http2 switches to its keepalive timeout, on async mpms, connection resumes processing back to mpm
bdfbbe5 hmm, I so love DTDs...
f650f5c subprocess_env vars HTTP2 and H2PUSH supported, export of mod_http2.h with OPTIONALs for others to directly look these up, similar to mod_ssl
6bbb79d Use 'unsigned int' instead of 'int' for bitfields
971ef2b Use 'unsigned int' instead of 'int' for bitfields
1d374f9 Use 'unsigned int' instead of 'int' for bitfields
94e5bf7 updated CHANGES
483c9dd byte savings by using bit fields, new env vars HTTP2 and H2PUSH, set to on when enabled on request
25e83d2 Use 'ap_array_str_contains' to simplify code.
3244c2c removed no longer used h2_strlwr() dinosaur
31f1818 version bump, cleanup of module mpm tests by CJ applied
98b1293 logging tweaks and task check
42891fc 3 new timeout configuration directives for mod_http2
edc91c5 Follow-up r1720608, hello h2_filter.c
ebd98a4 Fix some small style issues (extra blank lines, '{' at the end of function declaration)
fed9d9d Save a few cycles in 'h2_alt_svc_parse'. Save a few bytes in the request pool if sending a 'Alt-Svc' Header.
dde6628 moving session reading into a connection input filter
5b38b44 fixes after review by CJ
30d7e90 correcting error messages, better str concat, provided by CJ
5286b9b mod_http2: returning idle connections back to the mpm in case of async mpm enabled
51da86c * mod_ssl: Free dhparams when getting DH params. This fixes issue when   SSLCryptoDevice does not get unregistered because of non-zero refcount   during the mod_ssl unload happening on httpd startup.
fd1677a update transformation
535e5ef mod_ssl: fix build with openssl < 0.9.8m (missing semicolon). Reported by: Petr Gajdos <pgajdos suse.cz>
4e21d2c internal rewiring to prepare for return from connection processing frequently before session end
e367ad6 saving some bytes and cycles by not create h2_ctx for every connection and checking for c->master in the hooks
6d95622 incoming trailers passed directly to request_rec, work independant of chunked encoding
f1958ed Rebuild.
044bc08 XML update.
a3ff15c Translation docs.
5c5ce24 Rebuilding changes from earlier today.
1bd0188 Handle www.example.com separately from foo.example.com, as per request on IRC.
51b33ea Re-order listing of pages more logically.
edef94e fixed worker number by default, worker pool reuse experiments, allocatory max_free set
af1efb0 fixed window update on chunked uploads, moved handling of chunking to later stage
cb3a54a Do not use the magic string "directory". Use the corresponding global variable as in all other places of the module.
7e96ac1 Use 'ap_array_str_contains' to simplify code.
4dc14cd Use 'ap_array_str_contains' to simplify code.
34253d8 Use 'ap_array_str_contains' to simplify code.
e64b36d Fix some minor style issue.
4df6426 Use 'apr_pstrmemdup' instead of 'apr_pstrndup' when applicable in order to save a few cycles.
ee9f87c Use 'apr_pstrmemdup' instead of 'apr_pstrndup' when applicable in order to save a few cycles.
6096435 There is no need to duplicate some memory  here, the 'path' given to ap_parse_htaccess is never modified.
56ec73a removing HTTP_HEADER output filter on upgraded connections, so timeouts do not send http/1.1 responses any more
a0e668a h2_from_h1: To avoid any further confusion, r->err_headers should be cleared once merged into r->headers_out.
bab1198 mod_http2: sending out push promises *before* the stream response to make client handling of preload links easier
cf3cb28 Constify + save a few bytes in conf pool when parsing SSLRequire
aa543e7 remove dead code leftover from r1023387.
78d0543 duplicate debug-level AH00764 in the just-validated path.
caf621b Generated doc changes
d093f82 removing weight from H2PushPriority with dependency 'before' as on stream close, priorities would not be as before otherwise
c743b28 fixing duplice response headers, in case post_read_req hook gets called twice
f871d0a fixing default port handling in authority composition for upgraded requests
7410d28 Rebuild.
cc0dda0 XML updates.
0a39b27 removing floor() usage as not available everywhere
f8c9fe2 update after backport of mod_http2 v 1.0.10
900edcb max connection window size, reducing write frequency again
119ebc6 using c->master for ssl var lookups when c holds no valid SSLConnRec. Fixes PR58666.
c62da12 building against minimum version 1.2.1 of nghttp2
3119333 Generated doc changes
3bf386e Satisfy XML validation and fix some typos
73e623b Fix missing Upgrade headers on OPTION * requests, PR58688
ca266c4 Better illustrate the ordering of hook processing
63b6b83 Generated doc changes
26bad0b Typos and grammar corrections
6473d3f Generated doc changes
a0a19fa fixing input WINDOW_UPDATE handling for new test cases
849c050 rebuild
16ee6ea Fix doc as spotted by mat in online doc
c3bc5ac Silent a sparse Warning.
f991ae0 Fix the use of the default 'flush' provider. Improve documentation for the "flusher" parameter. Remove useless empty lines.
35f0d18 Use 'ap_pbase64decode' to simplify code.
9b38fd7 Fix typo in comment
c636ee8 updating reference nghttp2 version after its release
ebb06da update CHANGES and version bump for mod_http2
6b3dc90 adding include for older apr versions
0ac13d9 Version warning for <If>
bf89633 changed nghttp2 write frequency to fix nghttp2_stream* lookup failures
05df124 html updates after build
ef14549 new directive H2PushPriority to define content-type based priorities on server pushed resources
7934b92 update CHANGES, version and compiler warning
07517e5 priorities for pushed streams are changed if nghttp2 library supports this, configurations for type based priority specs TBD
6f8a850 Follow up to r1715880: revert abusive ap_casecmpstr[n]() usages.
98a612b start of PUSH priority handling, fixing core when task produces no response at all
dcb9543 Follow up to r1715876: fix typo.
a5b92f7 update CHANGES, re http2 trailers
b29a584 sending trailers out, when seeing EOR bucket and r->trailers_out is non-empty
ae2e62b mod_cache: Fix (max-stale with no '=') and enforce (check integers after '=')            Cache-Control header parsing.
e30575b More ap_casecmpstr[n]() usages (follow up to r1715876).
c80e6b2 Use new ap_casecmpstr[n]() functions where appropriate (not exhaustive).
3c9ddf4 Revert r1715789: will re-commit without spurious functional changes.
15d8295 we just worry about "equality" with this implementation... So it's not a "real" strcasecmp replacement.
d7a70d5 MMN update and func name change
06741a6 adding nghttp2 alloc logging for trace6
1497a89 fixes races during session shutdown when connection is aborted
29843dc Use new ap_casecmpstr[n]() functions where appropriate (not exhaustive).
7ebe2d5 Before they are used, rename ap_str[n]casecmp() to ap_casecmpstr[n]() to match what will probably be their APR names, avoiding any confusion wrt <strings.h>'s functions (semantic).
02a930c Introduce an ascii-like sortation for EBCDIC, case folding US-ASCII alpha only
e6a504c revert until these functions are used.
1ef60cd Remove some useless 'return' statements.
1972e21 Remove some useless 'return' statements.
5ff5f64 Remove some useless 'return' statements.
bf8b528 Remove some useless 'return' statements. Add a blank line between functions.
53b1fd6 Remove some useless 'return' statements. Fix style.
43863e6 Remove some useless 'return' statements. Fix style and alignment.
99ba93b Remove some useless 'return' statements. Add a blank line between functions.
8d10037 Remove some useless 'return' statements.
c013731 Remove some useless 'return' statements.
f9b3fc9 Remove some useless 'return' statements.
f3de5dc Remove some useless 'return' statements.
1bede0f stick with underlying strcasecmp on EBCDIC builds
8f88c9d Not strictly ASCII only, but only ASCII char case is folded
1021a6c further info re impl
0bb8e80 move to simpler while loop and reduce number of returns
9044216 typo
897b8d4 make bill happy (if possible!) Note that these are ascii specific.
113a01b Provide our own impl of str[n]casecmp()
3d00190 removing CHANGES that have made it to 2.4.x
ad99015 updated CHANGES
a41cbc4 incoming trailers passed into chunked request bodies, outgoing trailers not supported yet
7b0b425 Revert r1715289 (Connection header field should use "upgrade" instead of "Upgrade")
1fc96b3 Connection header field should use "upgrade" instead of "Upgrade"
d4e9c5a Save a few bytes in conf pool.
57a1730 Regenerate
c10e641 XML Parsing error, I believe this is the fix
42bea24 include fixes for older apr, added flushing for 2.4.x compatibility
c455285 updated documenation, fixed includes to work with older apr versions
d044bee fix in connection shutdown to no longer log after free, fixes in handling HTTP/2 HEADER after DATA (trailers)
b7693e5 mod_ssl: follow up to r1709602. Fix "HTTP spoken on HTTPS port" broken by the SSL handshake trigger moved to process_connection hook (r1709602) along with H2Direct speculative read.
99a1c3a early release of h2_mplx on session end
c957f56 flushing and shutdown tuning
ce926e4 reverting change re flush
458a0c8 flushing connection after h2_session is done
83f29ab handling body of chunked requests without content-length and content-type correctly
181e0db task creation moved into h2_worker domain (pool+thread)
8a053d1 improvements in handling orphaned stream resources, where client prematurely closed it, guarantueed session shutdown, slave connections created 2.5-DEV style
e3a771e chaning WINDOW_SIZE default to protocol default, avoid sending the default value as SETTINGS
b11e0a5 fixing h2c scheme/authority initialization
364b3f7 new directive H2Push on/off to en-/disable HTTP/2 server pushes. Server pushes are recognized by Link: headers in responses that carry the rel=preload parameter
17bb211 goodbye h2_to_h1, hello h2_push.c followup to r1713887
62e2350 some rework for server push
bb866d5 task bucket_alloc now created per task pool, spare pools properly destroyed
fff914e some connection state tweaks to appease event mpm
f8886e8 refactored connection io handling to go for blocking reads more often and use h2_mplx access less frequently
c24dab1 insert missing LOGNO in ssl_util_stapling.c
2c58469 Rebuild.
01b3111 XML update.
98c605b eliminating some compiler warnings on win32/win64, removing frame data size callback as it seems to have confused output streaming
fba65e6 Save a few bytes in conf pool when processing 'Define'.
95dc81b Save a few bytes in conf pool when processing 'AllowOverrideList'.
1c89ed5 replacing own stream_set with apr_hash internally
45e7d13 AP_DECLARRE removals
15750aa removing copy+paste, unwanted AP_DECLAREs and renamed bucket type to have h2_ prefix
0d598d2 Remove backported items
8885e0a add new h2_bucket_* files to cmake build
36a8387 add new h2_bucket_* files to legacy win build
0b107b1 rework of output handling on stream/session close, rework of cleartext (http:) output to pass buckets to core filters, splitting of stream/io memory pools for stability and less sync
d32c0ff fixing compile errors due to if assignment warnings
1612dc9 core: follow up to r1710095, r1710105. We can do this in a single (no inner) loop, and simplify again the logic.
e0bdcf6 update mod_ssl.html.en transformation
d3fd665 For the "SSLStaplingReturnResponderErrors off" case, make sure to only staple responses with certificate status "good". Also avoids including inaccurate responses when the OCSP responder is not completely up to date in terms of the CA-issued certificates (and provides interim "unknown" or "extended revoked" [RFC 6960] status replies).
b2b43eb Follow up to r1709008: CHANGES entry.
45a9ac6 Constify + save a few bytes in conf pool
c9951de xform
dec5aeb Fix a typo in doc as spotted by ceving in online doc
907d6ed improved h2c write performance
f2dd2c6 Fix crash in ap_mpm_pod_check call caused by NULL dereference of its parameter when starting httpd as single process (httpd -X).
1021047 fixing unbuffered output handling for h2c
a22b1e2 some tuning of buffer/write record sizes
d047dc8 inserting needed flush buckets on master connections again, rewrite task queue for better mem usage and less copying
abde512 Generated doc changes
6fb46ae Add compatibility note to mod_http2 doc
442d889 Generated doc changes
00dd48d http2 priority based scheduling of stream execution in each session
1de680c http2 TLS record size handling configuration, improved output write frequency
46b3048 RFC2616 defines #rules as:    #rule       A construct "#" is defined, similar to "*", for defining lists of       elements. The full form is "<n>#<m>element" indicating at least       <n> and at most <m> elements, each separated by one or more commas       (",") and OPTIONAL linear white space (LWS). This makes the usual       form of lists very easy; a rule such as          ( *LWS element *( *LWS "," *LWS element ))       can be shown as          1#element
7256caa improvements in stream reset handling and early stream close
4f2ff0c fix for null connection states
f4b072d improved timeout handling on main connection, shorter lingering close, conn_state set before read
33eb2de lowering log level for common client connection issues
5b5c48e first request on master connection only reports more preferred protocols in Upgrade header
fb84306 disabling protocol upgrades on slave connections
b61fb64 Remove more backported items from trunk CHANGES.
0757e06 Remove backported items.
ecd2fa7 fixing compilation issue for older platform
435859e block bcrypt on EBCDIC -- lots of ascii-isms in apr-util's bcrypt.
d5fff1c followup to r1710380 -- refactored name and didn't have 'make depend'
28d2d12 Make the fix for fully qualifying REDIRECT_URL from PR#57785 opt-in.
87b2c32 announce protocol choices on first request
5eeac18 improvements in http2 connection and worker shutdown, hopefully addressing high load segfaults
0aae25b changelog update re r1709995
2590be0 core: follow up to r1710095. Simplify logic in check_pipeline(), and log unexpected errors.
f9b56af core: Limit to ten the number of tolerated empty lines between request, and consume them before the pipelining check to avoid possible response delay when reading the next request without flushing.
306542f mod_http2: no longer messing with mod_ssl config in slave connections, special RST_STREAM failures when 403 responses are due to prohibited TLS renegotiations
ddf4c28 mod_ssl: check request-server for TLS settings compatible to handshake server, allow request if equal, renegotiation checks: remember last used cipher_suite for optimizations, deny any regnegotiation in presence of master connection
27028fe moved ssl handshake trigger from mod_http2 to new process_connection hook in mod_ssl
dd159d8 Bump version for the expression parser SSL fix.
18e2dd1 new ap_is_allowed_protocol() for testing configured protocols, added H2Upgrade on/off directive, changed H2Direct default back to on when h2c is in Protocols
423ddb4 Rebuil.
c55aa51 XML update.
a83e9b4 mod_session: Introduce SessionExpiryUpdateInterval which allows to configure the session/cookie expiry's update interval. PR 57300.
4dfd0a5 core: fix scoreboard alignment issues and crash (SIGBUS) on picky hardware.
8e878dc changed H2Compliance to H2ModernTLSOnly, added description in module docs
fcf41ff mod_http2: new directive H2Compliance on/off, checking TLS protocol and cipher against RFC7540
db62800 we no longer provide .msi installers for Windows
e5f7323 build doc
457cd78 Add version when http2 has been included
bb82436 showing HTTP/2 in access logs and server status
1a9e3d4 update transformation
34117ca when stream gets reset by client, forward info to mplx and fail writes
ebb34c0 mod_ssl: performing protocol switch directly after ALPN selection, mod_http2: connection hook inits network filters to force TLS handshake, reads input only if H2Direct explicitly enabled, changes H2Direct default to off even for cleartext connections
d5c6229 core: follow up to r1708084. We don't want to process the subrequest either in ap_sub_req_method_uri() if the quick-handler returned an error (or any final status).
9319152 core: follow up to r1708084,1708088: remove tabs.
85717fa core: follow up to r1708084: we still need to take care of DONE in any case.
4274259 core: we don't want to run the subrequest's handler if the quick-handler returned an error (or any final status).
8a38398 ifdef'fing MMAP bucket checks for platform that do not have them
2bcbf81 XML updates.
14247d4 Rebuild xml changes
5fd2a21 s/h2_module/http2_module/
ffce202 Xforms
a4e576c Fix small typo in new docs.
6d17739 PR 53845: Remove commented config regarding DNT because the spec now has CR status (confirming our interpretation) and MS has committed to changing their implementation: http://blogs.microsoft.com/on-the-issues/2015/04/03/an-update-on-microsofts-approach-to-do-not-track/
25b96f1 avoid double eos buckets on stream output brigades, add stream rst infrstructure, bump to 1.0.1-DEV
132849d add nghttp2 and libxml2 stuff to NOTICE.txt & COPYRIGHT.txt
328a4ce Xforms
242487f Sort MPMs given in modulelist uniformly, list most important or common ones first.
5203485 Add event in mpm docs where currently only worker is mentioned. Existing worker text applies to event without changes.
6cc7ef8 remove conf/extra/http-h2.conf from install filelist
54e6961 removing no longer needed h2 extra conf thing
f58c0c5 * modules/ssl/ssl_engine_kernel.c: Constify the ssl_hook_Fixup_vars array itself.
ee7412f improved fix for EOS checking on zero length read, bump to 1.0.0
7002ea1 reverted r1707468 as not good enough
058f050 fix for empty responses with nghttp2 v1.3.x, bump version to 1.0.0
f9e521e eor_bucket: follow up to r1707159. We need an apr_bucket_refcount, as spotted by Ruediger.
5a18a6f mod_ssl: follow up to r1707230: fix (inverted) logic for SSL_in_connect_init().
dd73e48 mod_ssl: follow up to r1705823. Flush SSL/TLS handshake data when writing (instead of before reading), and only when necessary (openssl < 0.9.8m or proxy/client side).
cf173c7 remove copy/paste paragraph in r1707161
4d3a370 Make sure that transient buckets are morphed into real buckets before the filter returns.
2da6c9a Add the AsyncFilter directive that allows the asynchronous filter functionality to be switched off for certain classes of filters.
f296d2b eor_bucket: follow up to r1707084: use an inner shared bucket.
91b4321 Make sure we free the main request rather than the final internal redirect.
e4a2158 eor_bucket: follow up to r1707084: fix comment.
34e4c45 mod_substitute: cleanup properly on EOS.
357661f mod_bucketeer: cleanup properly on EOS and write.
b5ba689 eor_bucket: don't destroy the request multiple times should any filter do a copy (e.g. mod_bucketeer).
a8806f4 mod_ssl: fix comment: alpn_proto_negotiated is now protocol_switch hook.
01d76cb Xforms.
7880ec2 mod_ssl: Extend expression parser registration to support ssl variables in any expression using mod_rewrite syntax "%{SSL:VARNAME}" or function syntax "ssl(VARIABLE)".
4338e67 Update xforms.
814c658 Add a docs remark about "SSLOptions StdEnvVars" being not necessary for mod_rewrite "%{SSL:VARIABLE}" feature and for the mod_ssl extensions to mod_log_config (%{VARIABLE}x).
e6e113c fix parameter name in ap_log_rdata C99 macro def. Via  PR57045
d6ed470 m4: please any autoconf by quoting AC_DEFUN's names. PR 58126.
e9c6909 Follow up to r1706669: fix compile error (unknown sbh).
08f72dc Remain compatible with legacy MPMs that passed NULL to the network filter
615f97f core: Extend support for asynchronous write completion from the network filter to any connection or request filter.
cd6aa9b leave LoadModule of mod_http2 commented-out by default
d6dfb94 Follow-up to r1690248:
ac26fcd mod_http2 larger with 64-bit VS 2012 RelWithDebInfo build
e3299ce Support mod_http2 in cmake-based build for Windows
71e3ab3 Rebuild.
2b79c73 XML update.
69deb80 Follow-up to r1702948:
cfabdeb Turn 5.1/5.2 order upside down, simplify. This should also (AFAIK) work with Ubuntu/Debian, which has previously been known to fail to compile mod_lua.so
79f5d5c update log number
1a76c5f rename some variables to be more descriptive
5c55e71 Adds a hint to look at the 'Protocols' doc to enable this stuff.
41d15cd Rebuild
32263b4 Add link to the mod_http2 docs to the trunk version of the new_features document, because this is exciting stuff.
f57c1a4 Rebuild Eric's change from a few days ago.
697c9c3 mod_ssl: follow up to r1705823. We still need to flush in the middle of a SSL/TLS handshake.
f67d498 Do only on 2nd pass
bd3909a Some motorz improvements
05a6873 remove backported items
68131d8 Fix some style issues on files that can easily be synch'ed with 2.4.x
844e85a Synch 2.4.x and trunk. Remove part of a comment that is not really useful. The type of the variables in the code (i.e. "worker_score *dest" and "worker_score *ws") is already explicit.
767eeeb mod_mpm_eventopt is no more, so remove reference to it
b1cd56c When shutting down a process, free resources early
c396757 Sync some (more) http2 stuff with 2.4.x.
6cb5958 mod_ssl: follow up to r1705194, r1705823, r1705826 and r1705828. Add CHANGES entry, and restore ap_process_request_after_handler()'s comment as prior to r1705194 (the change makes no sense now).
d110d62 mod_ssl: pass through metadata buckets untouched in ssl_io_filter_output(), the core output filter needs them.
314335e mod_ssl: follow up to r1705823. Oups, every #if needs a #endif...
6b54dd4 mod_ssl: don't FLUSH output (blocking) on read. This defeats deferred write (and pipelining), eg. check_pipeline() is not expecting the pipe to be flushed under it. So let OpenSSL >= 0.9.8m issue the flush when necessary (earlier versions are known to not handle all the cases, so we keep flushing with those).
4c90604 Revert r1705236, better solution to come.
719890b Sync http2 stuff with 2.4.x.
d2c4561 had a couple different trains of thought mashed together
96f716f Adjust since we are now in shared mem area
e613410 doccos
df0a035 bye bye mod_h2, hello mod_http2
90e156b add an experimental warning to h2 docs
1fde2dc Fix availability version for 'ListenCoresBucketsRatio'.
908587e deduplicate the code handling the directory traversal for the SSL[Proxy]CACertificatePath and SSLProxyMachineCertificatePath directives
e6f45f7 Add MMN bump: Add protocols and protocols_honor_order to core_server_config. Add hooks protocol_propose, protocol_switch and protocol_get. Add ap_select_protocol(), ap_switch_protocol(), ap_get_protocol(). Add HTTP_MISDIRECTED_REQUEST.
1194678 Rebuild.
f514737 XML update.
3eb88e6 update transformation
05381ee typo
c74c649 * Disable the http2 modules if nghttp2 is not present
696e52f mod_ssl: don't FLUSH first for non blocking reads. Such readers are prepared to receive empty data anyway (and take appropriate action), while e.g. check_pipeline() is not expecting the pipe to be flushed under it.
1b0c454 core/util_script: relax alphanumeric filter of enviroment variable names on Windows to allow '(' and ')' for passing PROGRAMFILES(X86) et.al. unadulterated in 64 bit versions of Windows. PR 46751.
9aba39e mod_ssl: forward EOR (only) brigades to the core_output_filter().
086fc25 Revert r1705157: why not "insert the filter (twice) for sub-requests" actually?
a4862ba Follow up to r1705134: don't insert the filter (twice) for sub-requests.
f14fc92 Avoid storing request stuff in r->connection->conn_config to avoid problems with e.g. write completion.
985e707 Don't count initial handshake I/O when determining the first byte. PR58454
93eb6be adding --enable-http2 as preferred config option
97a02bf mod_h2 version bump
f465748 avoiding race where h2_stream is closed/reset by client while being unprocessed in ready_ios set
344a422 add warnings and emphasize the defaults for trusted non-internal proxies)
b2a5a37 not sure how that got in there
938a1c7 Stop destroying headers when passing through the cache filter
3c7bc8f no GOAWAYs on connection failures, sending last received stream id back in GOAWAY, no more flush attempts when session has already been aborted
ec4d7a4 removed wrong error supression in h2 connection writes
a5a3679 Fix a spurious test where a condition is always true:       if ((cfg->skipto != NULL) && (ctx->flags | ENC_SKIPTO)) {                                     ^^^^^^^^^^^^^^^^^^^^^^^
23ad069 Rebuild.
baf6e36 XML update.
579ed31 update mod_ssl.html.en transformation
4c9b3c3 Support compilation against libssl built with OPENSSL_NO_SSL3, and change the compiled-in default for SSL[Proxy]Protocol to "all -SSLv3", in accordance with RFC 7568. PR 58349, PR 57120.
fab37e8 mod_proxy: Fix ProxySourceAddress binding failure with AH00938.  PR 56687. Proposed by: Arne de Bruijn <apache arbruijn.dds.nl> Reviewed by: ylavic
357b2a9 mod_ssl: update the current handshake server once a full regenegotation succeeds, it is the new reference for further renegotiation or SNI check.
0ae6713 patch from yann that fixes MISDIRECTED_REQUEST handling for setups with ServerAlias/subjectAltNames
a9253f2 mod_proxy: follow up to r1703807: CHANGES entry.
cef0bb5 mod_proxy: don't recyle backend announced "Connection: close" connections. Failing to do this may lead to a race condition where we send a new request before the backend really closes the connection (or lost SSL-Alert/FIN make us think the connection is still alive, until the retransmission).
0116b86 accept both 5.1 and 5.2, so make messages clear
ca52795 Add in finding LUA installed via Macports and others
3e4167f Add CHANGES entry
b3b5296 Remove code related to 'AuthDigestEnableQueryStringHack'
b1437d9 add missing piece for command line build
bf91d25 core: Avoid a compiler warning when NO_LINGCLOSE is used (-Wunreachable-code). Also, check c->aborted before apr_socket_shutdown() because it is set earlier, and there is no point in calling shutdown() before close().
b2d6eab mpm_event/worker: make ap_queue_term() atomic (acquire/release the mutex once).
8ed4d98 Follow up to r1703157: tags/next-number update.
d760f75 mod_slotmem_shm: follow up to r1702450; CHANGES entry.
cda009d mod_slotmem_shm: follow up to r1702450. Make systems without unlink() semantic happy by destroying (detaching) the SHM before removing the base file. Windows is supposed to have the "delete on last handle closed" semantic but yet fails here when this handle is owned by the same process (go figure!).
10c45ec mpm_winnt: make AP_MPMQ_GENERATION available in the child process as soon as possible, so that hooks/modules can query it at config stage. This is (e.g.) needed by r1702501 for PR 58024.
145e6d8 fixes description of ProtocolsHonorOrder directive
1e57700 mod_slotmem_shm: follow up to r1702450. r1702450 changed the behaviour of slotmem_{create,attach}() when given given an absolute (SHM file )name. Don't mangle the SHM file name in this case, it's up to the caller to provide a unique name per call when this matters.
58abe4c mod_slotmem_shm: revert frivolous s/name/fname/ from r1702473, keep the comments.
a58cc8e reverting unwanted loss of missing case
ea390af httpd compiles warning free on gcc and every new warning will be treated as an error, standard c-89 is enforced
8562b60 changing r->protocol to HTTP/2 for all directly handles requests, fixing handling of H2SerializeHeader config to have an effect
f702b1c Rebuild.
e3b699f XML updates.
3cf38d7 axe unused variable
d5eac55 update mod_ssl transformations
0416639 Remove SSLALPNPreference directive docs (superseded by Protocols/ProtocolsHonorOrder in r1692486/r1695727)
dcd1048 link to the OpenSSL 1.0.2 version of the SSL_CONF_cmd man page
0a30649 Append :!aNULL:!eNULL:!EXP to the cipher string settings, instead of prepending !aNULL:!eNULL:!EXP: (as was the case in 2.4.7 and later). Enables support for configuring the SUITEB* cipher strings introduced in OpenSSL 1.0.2. PR 58213.
fa96de5 mod_slotmem_shm: follow up to r1702450. Use the generation number from the MPM (AP_MPMQ_GENERATION) since AP_SQ_CONFIG_GEN is irrelevent in non-forked MPMs children.
05a04f7 mod_slotmem_shm: follow up to r1702450. Rename ap_slotmem_instance_t's field 'name' to 'fname' since it really stores the file path/name of the file-based SHM.
108a572 mod_slotmem_shm: Fix balancers and balancer members slots reuse on restart when new ones are added (Windows and OS/2 only).  PR 58024.
5f8b9ac Rebuild
6b953cc Patch from info@mathijs.info to use 2.4 authz syntax.
f9e30cc Use 2.4 access control syntax. Patch from info@mathijs.info
27f8ab2 In order to save a few cycles, delay a hash table lookup which is not necessary needed
dcad111 Improve macro definition in order to avoid potential precedence issues.
c888b52 Revert r1697735.
6085de0 allow autoindex w/o mod_dir/mod_mime setting the DIR_MAGIC_TYPE.
6f11e6b rebuild
58c4db6 Fix typo spotted in comment in online doc. [comment #4454)
8b85c7a Remove duplicate reference to h2_workers.c
6a8a05e mod_h2 version bump, more c89 goodiness
0491ab9 improvements in ap_select_protocol(), supplied by yann ylavic
b09d358 s/;;/;/
cad3cbd mod_ssl: fix compiler warning (bad cast).
379f9d4 changed Protocols default to http/1.1 only, updated documentation, changed ap_select_protocol() to return NULL when no protocol could be agreed upon
d84e8bf final final change to the new ap_array_str_* functions after review
d581155 missed in r1698023
ac1a6bb C89
9f4af5d mod_negotiation: simplify type-map body tag lookup, and be safe should it contain a NUL byte.
6537db8 eliminating the last surviving H2Engine directive
ab08a15 eliminating some stricter compiler warnings in mod_h2
15c29da Follow up to r1698123: also revert r1697352.
9f99da4 Rebuild
addc112 better connection state on ending sessions, improved default extra file config value depending on max workers per process
6930a7b Allow 0 as a valid value (never close idle connections) Increased maximum allowed value to 3600 s (1 hour) Use 'ap_timeout_parameter_parse' to allow more flexible configuration (i.e. h, min, s, ms suffixes) Use 'apr_time_from_sec' when applicable.
01d13ed Silence a sparse warning about inconsistent indenting + some minor style issues
4356cbd Silence a sparse warning about inconsistent indenting + some minor style issues
73f5051 Silence a sparse warning about inconsistent indenting + some minor style issues
85082b0 Fix some spurious ident spotted by sparse
ab3bbfa Silence a sparse warning about inconsistent indenting + some minor style issues
9f3e627 Silence a sparse warning about inconsistent indenting + some minor style issues
351a782 Silence a sparse warning about inconsistent indenting + some minor style issues
fcae67e Remove useless line
8a804d0 Silence a sparse warning about inconsistent indenting + some minor style issues
0a16ce1 Silence a sparse warning about inconsistent indenting
b7cfaea Silence a sparse warning about inconsistent indenting
4ba6c05 Silence a sparse warning about inconsistent indenting
c449c94 Silence a sparse warning about inconsistent indenting
4fb2059 Silence a sparse warning about inconsistent indenting
a4248e4 Fix some spurious ident spotted by sparse
3b807ba better check if c->cs is there at all
48f1611 explicitly setting connection state on end of processing to help reclaim resources
d6f0af2 Rebuild.
18ed2ec XML updates.
2e31cb3 backported
c8ad597 On ebcdic systems, make sure E2A conversion happens last, so other resource filters looking at or adding ebcdic strings see ebcdic bytes. e.g. SSI in an EBCDIC file.
e8ea4c9 just a note
e76410a we have this nwo, don't we?
240d6e0 Avoid adding duplicate subequest filters, as they would not be stripped properly during an ap_internal_fast_redirect.
cf6c724 first stab at a better SNI vs. request name matching, by accounting for serveralias and wildcards
9d99941 reversal of 1698239 due to nedless loop in t/apache/pr17629.t
21ff8a2 tiny nit.
f7a3470 avoid adding multiple subrequest filters when there are nested subrequests.
c617047 giving ap_array_index a start parameter, adding ap_array_contains
d1ad117 Revert r1696960 (see commit thread).
c8fb805 Allowing protocol_propose hooks to be called with offers=NULL, clarifying semantics as proposed by chaosed0@gmail.com
75b75a6 Applied patch by normw@gknw.net for ANSI C compliance.
8b52e26 moving m4 mod_h2 macro from global to module local config
98077e4 Windows traditional build files for mod_h2
2d58e03 motorz: fix a compiler warning.
70065c29 Drop redundant and harmful macro, API change correctly toggled in mod_lua.c
c0d80cc adding ap_get_protocol(c) which safeguards against NULL returns, for use instead of direct calling ap_run_protocol_get
08a3141 Fix an error spotted by sparse. Without the parens, the 2 first bits are reseted, instead of just the one for CONDFLAG_NOCASE.
d3ba2a8 fixing msvc compiler warnings
281f68d Noise reduction MSVC != GCC
5d6c9e8 removed mod_h2 directives which were experimental and should not support any longer, changed H2Direct to only be enabled by default when not using TLS, conf. to rfc7540
14459b9 Generated doc changes
dc3e897 eliminationg two compiler warnings
0af5cc5 h2_repsonse across pool lifetimes implementation changed, no longer using calloc
b4a6959 Document balancer and balancer-member growth margin reached's behaviour.
e586ad0 changed Protocols to let vhosts override servers, removed old H2Engine example from readme
ba6ece3 * Do a more complete cleanup here. At this point we cannot end up with something useful with the data we created so far.
bcd1ad4 Rebuild.
13d977a XML update.
455d462 NetWare build bits for mod_h2 Submitted by normw gknw net
c72daaa mod_substitute: follow up r1697013. Update the doc.
41ec925 mod_substitute: follow up r1688339. SubstituteInheritBefore is the default in 2.5.x but wasn't for ealier versions.
154ff59 mod_substitute: revert r1697002.
2f5e961 mod_substitute: follow up r1684900. Really inherit before when asked to (inverse if/else contents).
1cd406d mod_proxy_balancer: Fix balancers and balancer members reuse on restart when new ones are added.  PR 58024.
dc9bfa5 APRify ECONNRESET
39c1d93 fixed type of error parameter for invalid_frame_recv_cb callback
da9bcf7 Generated doc changes
2cc9b10 Restructure ProxyPass directive doc
2c5662f replacing strchr on const char * by proper ap_ variants
c5b0b54 mod_h2 compiles warning free in maintainer-mode
8ddd55a fix a warning.
4ac9fa0 keep the C89-ers happy. Submitted by Norm (normw@gknw.net).
cfd84fa cosmetic: match case style to all previous
1751274 Generated doc changes
d9b3e75 Grammar corrections
87dfd8b Generated doc changes
523a9e3 reverted late connection creation after encountering concurrency issues on ubuntu
e005a15 creating ap_array_index in util, forwarding scheme into request processing, enabling SSL vars only when scheme is not http:, delayed connection creation until task worker assignment
2db3ea7 announcing Alt-Svc only on first request per connection, using handler independent hook
0bbd72d removed unnecessary lingering_close and sbh update on end of protocol upgrade handling
d0ca4ab introducing ap_array_index in util, used in protocol and mod_h2
de815d9 Rebuild.
10049c6 XML updates.
a369776 With the current implementation, it is likely to connect/close a socket with the memcache server for each command sent. The root cause is a too small idle timeout (600 microseconds).
1a3158a removed HackMpm and MaxWrite config directives, added dynamic write size behaviour according to recommendations from Ilya Grigorik similar to Apache Traffic Server
cd3e041 Generated doc changes
cf7ed8e Clarify RewriteRule example in mod_proxy doc
3fe5162 Generated doc changes
1f0bb9e removed H2Engine directive
836dd05 fixes existing protocol missing in selection if not explicitly proposed
e0d80d7 Generated doc changes
e80a351 Grammar corrections.
58119ed new directive ProtocolsHonorOrder, added documentation for Protocols feature, changed preference selection and config merging
e570ec9 Generated doc changes
098a3d6 +  *) mod_dir: Prevent the internal identifier "httpd/unix-directory" from +     appearing as a Content-Type response header when requests for a directory +     are rewritten by mod_rewrite. [Eric Covener]
1bce697 Avoid a crash when lacking correct DB access permissions. PR 57868.
7ed2d96 missed during c89-ifying in r1692432
dc8a79e ap_process_request needs exportation for use in mod_h2 on Windows
d61f860 remove space after \
4c24014 Third try, follows up 1694901 and 1694902 MinGW32 and MSVC both define WIN32 MSVC and Netware do not use autoconf
e66086d Add include path for NetWare build. Submitted by: normw gknw net.
ce21531 followup to r1694901, it was too greedy
1e9ab84 ap_config_auto.h is not used/created in non-Autoconf compilers like MSVC
6eb8057 xforms
0693226 Allow cookies set by mod_rewrite to contain ':' by accepting ';' as an alternate separator.  PR47241.
4774dd4 Add HTTPD_VERSION and HTTPD_MMN to the variables available with apxs -q
7c3e468 c89
0f42f13 Rebuild
30e6f85 Document the syntax for invoking the check_forensic script, too.
8aa9c03 Rebuild
3ac8380 Example of how to invoke the forensic log
29024c3 update mod_ssl.html.en transformation
73dbf35 Add support for extracting the msUPN and dnsSRV forms of subjectAltName entries of type "otherName" into SSL_{CLIENT,SERVER}_SAN_OTHER_{msUPN,dnsSRV}_n environment variables. Addresses PR 58020.
addb6fa zap some recently backported items
81789e0 removed accidental code
b9ba839 new Protocols directive and core API changes to enable protocol switching on HTTP Upgrade or ALPN, implemented in mod_ssl and mod_h2
546bf92 c89-ify http2
ae6f4e0 renamed H2InitialWindowSize to H2WindowSize, fixed post_read registration to be really first to install necessary response parsing filters
ce587ed mod_ssl: allow enabling of SSLProtocols even though they are disabled by OpenSSL by default. Show warning in that case.
baa5da2 do some property cleanup
5c139ee update transformation
94f9137 fixup properties
9439a74 Rebuild.
5a22740 XML update.
867e69c Arrange the C++ declarations to make my compiler happy.
c5ebe03 fix for detecting direct mode on a TLS connections
463e88b fix for correct assert
a163883 Rebuild.
f0dc3df XML updates.
d144965 Rebuild.
8cbd15b XML updates.
ad59e3c rebuild
179e7fa Add a link to perf-scaling.html
e7974e9 Rebuild
b18715b Fix doc as spotted by Matthew   in online doc
8c27a4c reworked mod_h2 donation checkin into build system, added documentation
d80e464 update transformation
d9a3b78 s/\<\(\w\+\)\>\s\+\<\1\>/\1/g
29603b5 s/a a/a/g
f788b12 Rebuild html.
85f20cb s/the the/the/g
eb1a60e remove old static ldc->reason
57acd8e stuff unexpected LDAP errors into ldc->reason, not just in trace messages. fix some enormously long lines introduced recently.
4704d88 test commit
67615ad Fix typo spotted in comment in online doc. [comment #1683)
b07149f mod_reqtimeout: follow up to r1621453. Don't let pipelining checks and keep-alive times interfere with the timeouts computed for subsequent requests.  PR 56729.
de69fc5 Add missing <code> around a parameter
3140c94 Rebuild.
918dd88 XML update.
18db296 Generated doc changes
7babb47 Grammar, spelling, and other minor corrections
54bf3a2 mod_authz_dbd: Avoid a crash when lacking correct DB access permissions. PR 57868.
4a72c8d http: follow up to r1685345. Be lenient up to 10 (room for 32bit decimals) Bad White Spaces (BWS) between chunk-size and chunk-ext/CRLF.
e605a2b http: follow up to r1685345, also needed in 2.4.x/2.2.x by r1686271/r1687339. Handle reentrance of state BODY_CHUNK_CR to avoid AH02901 when we eat BWS from multiple reads.
4e8eff8 Fold in latest changes.
00ac2bf Fold in git archive master of mod_h2 (latest commit 11905f474e) from https://github.com/icing/mod_h2 as per software grant.
dd6c959 mod_remoteip: Use r->useragent_addr as the root trusted address for verifying.
f80c14d Net -8 LoC, my usual specialty.
191248b Increase legibility of the max_line_length behavior, and adjust for the requirement that all members are initialized explicitly due to the previous patch.
5947040 Optimize in all cases that the members are all explicitly initialized.
0f91d12 Very difficult to read, and therefore was wrong.
8fa18ee mod_substitute: follow up to r1687680. Fix dir config merger 'over'-write, thanks Bill (again).
dc7df09 http: follow up to r1484852. Don't check LimitRequestBody when there is no (more) body.
61d7e83 Rebuild.
39a89ab XML update.
4620750 Rebuild.
5b86704 XML update.
cae2395 Rebuild.
b6a8616 Typo and XML update.
393b02c *) mod_ldap: In some case, LDAP_NO_SUCH_ATTRIBUTE could be returned instead of    an error during a compare operation. [Eric Covener]
3efa9ca mod_proxy: follow up to r1678768. The resource is not dereferenceable if connection_destructor() is called from reslist_destroy().
1f2b712 mod_substitute: follow up to r1687539. Use tristate single inherit_before variable instead of two, according to wrowe's advices.
2a25bca be less weird in comment
17a2879 elaborate on a misleading comment
409227d Don't count your chickens before they are hatched.
85fad62 mod_substitute: follow up r1684900. Introduce the SubstituteInheritBefore directive to configure the merge order. This allows to preserve 2.4 and earlier behaviour.
cd7fdfe mod_session_dbd: follow up to r1687021. Move the new pool argument of dbd_load() first as the other functions in the module (no functional change). Suggested by: mrumph
4aa8d59 mod_session_dbd: follow up to r1686122. DBD entries should also have request lifetime. Proposed by: Jacob Champion <jacob.champion ni.com> Reviewed by: ylavic
1291e3c mod_alias: follow up to r1686853. Factorize code (no functional change).
3c694b3 mod_alias: follow up to r1653941. Limit Redirect expressions to directory (Location) context and redirect statuses (implicit or explicit).
37e37af fix eol-style
8816367 Problem adding mod_log_forensic.html.fr
3cc1c51 Problem with mod_log_forensic.xml.fr
789f36c Problem with mod_log_forensic.xml.fr.
50a3e28 Rebuild.
17c8113 XML update and conflict resolution with mod_log_forensic.html.fr
ab8ffbb update
9616733 fix keywords
950b176 set eol-style
958711b update transformation
ad15688 Restore upgradind.xml after naming error.
4a7e8bb Rebuild.
de1b944 XML update.
ed50579 mod_session_dbd: Request Notes should have request lifetime. Patch by Jacob Champion at ni.com
22dc0a0 *) mod_ext_filter, mod_charset_lite: Avoid inadvertent filtering of protocol    data during read of chunked request bodies. PR 58049.    [Edward Lu <Chaosed0 gmail.com>]
046923d CHANGES: remove backported entries.
8bec5a1 mod_ssl: Remove deprecated SSLCertificateChainFile warning.
d631ce4 mod_ssl: revert r1685052, r1685078 and r1685097. Will remove the deprecation message in a follow up commit.
52b90ac Fix directive name in error message + fix some style issue
b7ebba0 LDAP connection pool did not release/close connections with "LDAPConnectionPoolTTL 0".  PR58037.
f1bc72c Rebuil.
b6528d0 XML update.
2a7d2f0 Rebuild.
cd862b1 XML update.
12612bb Follow up to r1685349: remove a tab.
dd369dd Follow up to r1685345: CHANGES entry.
292da97 Follow up to r1685345: don't accept spaces *before* the chunk-size.
8b96b3b Follow up to r1684513: allow spaces before and after chunk-size. Slightly modified version of trawick's proposal.
3515c0c Follow up to r1684513: apply missing changes voted on security@.
c5c99b9 Rebuild.
73ded93 XML update.
bf339b6 Follow up to r1685052: reduce log level to INFO.
24f248a Follow up to r1685052: use retained data pattern instead, as suggested by trawick.
33d6aaf http, mod_ssl: Introduce and return the 421 (Misdirected Request) status code for clients requesting a hostname on a reused connection whose SNI (from the TLS handshake) does not match. PR 5802.
488f6e0 mod_ssl: Warn about deprecated SSLCertificateChainFile once at startup, on first usage only.
a691e36 mod_substitute: Fix configuraton merge order. PR 57641 [Marc.Stern]
8153365 * mod_auth_digest: Use anonymous shm by default, fall back on name-based.
db81019 SECURITY: CVE-2015-3185 (cve.mitre.org)
a6027e5 Limit accepted chunk-size to 2^63-1 and be strict about chunk-ext authorized characters.
3f38589 Add compatibility note. Turn some tabs into space. Remove some useless <br /> in <highlight> blocks. (this was causing some additionnal blank lines at the end of some examples)
5d348e7 Add compatibility note
10806f5 mod_ssl: when SSLVerify is disabled (NONE), don't force a renegotiation if the SSLVerifyDepth applied with the default/handshaken vhost differs from the one applicable with the finally selected vhost.
2e15d78 mpm_event: Follow up to r1664071: quiet compiler (spurious) warning.
a5ab62e Rebuild.
84fc983 XML updates.
38f1949 Save a few bytes in conf pool
1333dc5 Fix typo
d3dd318 Save a few bytes in conf pool
784bd3a mod_proxy_scgi upgraders likely need to set proxy-scgi-pathinfo
e4aaa17 CHANGES: Remove backported entries.
30c166f core: Avoid a possible truncation of the faulty header included in the HTML response when LimitRequestFieldSize is reached.
029aa8e update transformation
54066e4 fix eol-style
bc14023 Constify + save a few bytes in conf pool
a9e5a7b Small speed optimization when parsing <Limit>, <LimitExcept> and environment variables
dc2bb62 Initialize args to not print garbage mem during a RewriteCond parse error (same as r1681795 for RewriteRule)
ee0a221 Improve style in examples.
3d2e654 Xforms.
e1530ec Fix copy and paste docs error.
2a8e50d Xforms.
f912504 Try to clarify extended uses of SSLCertificateFile.
0b5aeb0 mod_proxy: follow up to r1681694.
d83f45c Improve error message (related to PR57311 diagnostic)
86c204d Concat string at compile time in order to save a few cycles.
af395fa PR 57968: Don't lowercase the argument to SetHandler if the handler is proxy:unix.
c08a5eb Allow for array of multiple simul requests per connection and keep track of them (mostly need to worry about when there are no more requests, but having the list could be useful later on)
aab0eba Clarify the change to the default cipher suite lists
2e4745c initialize args to not print garbage mem during a RewriteRule parse error
84e8dc5 update transformation
bd37b0b Follow up to r1676004: revert changes to html files.
5cbd1ba CHANGES: add ALPN entry.
608a751 mod_proxy: Don't put the worker in error state for 500 or 503 errors returned by the backend unless failonstatus is configured to.  PR 56925.
17b746f Save a few bytes in conf pool
40138a5 Rebuild.
7ed67fc XML updates.
50fa0a3 Rebuild.
9d8fe71 XML updates.
82c1cab Save a few bytes in conf pool and axe a function that duplicates 'ap_set_string_slot'
28c5067 Constify + save a few bytes in conf pool (+ some minor space adjustments)
1036910 Rebuild.
e94539d XML updates.
afb185b stapling improvement now in 2.4.x branch
f7d73c4 remove some entries for fixes recently backported to 2.4.x
060879b Be more precise.
9394623 Typo in comment
08a4db9 Follow-up to r1680895:
fa580c3 Fix syntax.
940fae1 mod_log_config: instead of using the new dedicated pattern format "%M" for duration milliseconds, overload the existing "%D" to choose the time precision ("%{s}D" for seconds, "%{ms}D" for milliseconds and "%{us}D" for microseconds).
0027e63 OCSP stapling: slight simplification to some internal interfaces, add a few comments and sanity checks
638f67b Follow-up to r1666417, update -d to -D in the synopsis docs for rotatelogs.
fcb6268 Rebuild.
1ad2e16 XML updates.
f0cbf97 core: Follow up to r1599601: s/ap_log_common/ap_log_mpm_common/.
d370b92 Follow up to r1679181: fix warning (return discards qualifiers from pointer target type).
ca45736 revert r1675103 because it [at least] causes FallBackResource to kick in before mod_autoindex might have kicked in.
69081b3 mod_ssl: follow up to r1527291. Always prepend "!aNULL:!eNULL:" to SSL_DEFAULT_CIPHER_LIST (default for SSL[Proxy]CipherSuite) since we support OpenSSL versions where this was not yet included by default.
2e61f1a Document RFC 7525 changes
5982e45 Conform to RFC 7525, with additional suggestion to drop RSA Kx ciphers
e4ae36a Follow-up to r1679032:
8efe0b8 Follup up to r1679181: CHANGES entry.
c1d2147 mod_authn_dbd, mod_authz_dbd, mod_session_dbd, mod_rewrite: Fix lifetime of DB lookup entries independently of the selected DB engine.  PR 46421.
9db0d19 mod_ssl OCSP Stapling: Don't block initial handshakes while refreshing the OCSP response for a different certificate.  mod_ssl has an additional global mutex, "ssl-stapling-refresh".
8c162db mod_proxy_http: follow up to r1656259. The proxy connection may be NULL during prefetch, don't try to dereference it! Still origin->keepalive will be set according to p_conn->close by the caller (proxy_http_handler).
ff720d0 mod_proxy: check for the correct pool (lifetime) in connection_cleanup(), according to the associated comment and the value really NULLed in conn_pool_cleanup().
339e1a5 mod_proxy: only cleanup the socket for a connection asked to be closed but whose address can still be reused.
ecc12e3 Rebuild.
319588f XML updates.
a241dec xforms
8b3c78a incorporate feedback from 2.4 version
a60aa13 Rebuild.
8037a09 XML updates.
4292296 Rebuild HTML
987f328 Link to canonical hostnames recipe from "avoid" document.
b337a72 Remove some entries already in the 2.4.x branch
7e856d7 Fix compatibility note for ProxySCGIInternalRedirect to reflect inclusion in 2.4.13
725bf57 http: Don't remove the Content-Length of zero from a HEAD response if it comes from an origin server, module or script.
2b3c064 mod_ssl namespacing: Rename SSL_SESSION_id2sz() to modssl_SSL_SESSION_id2sz().
a5c1e92 mod_ssl namespacing: Move SSL_CTX_use_certificate_chain() into ssl_engine_init.c and make it a static function called use_certificate_chain().
aa6037f mod_ssl namespacing: Move modssl_X509_INFO_load_file() into ssl_engine_init.c and make it a static function called load_x509_info().
2548969 mod_ssl namespacing: Merge SSL_X509_INFO_load_path() into its only caller ssl_init_proxy_certs() in ssl_engine_init.c. No functional change. Review by: kbrand
5a64918 Make REDIRECT_URL a complete URL (where set). PR 57785
7b2bdee const goodness
40670ac mod_dav: Avoid doing the walk on a COPY source for handling preconditions if there are no preconditions provided.
a8783b3 Rebuild.
3a76692 XML updates.
b6e7729 mod_ssl: Rename static convert_asn1_to_utf8 function to asn1_string_to_utf8. Suggested by: kbrand
2887a0c Rebuild.
6cd90c0 XML updates.
69ba34c New file.
6f3dda1 Follow up to r1677187. Add compatibility note
c1c46bf Problem with mod_log_forensic.xml.fr
01c9c10 New file.
fca4638 Deleting non-existing file
78a50ad In 2.4.x
5008576 New file.
9d9d146 Rebuild.
d69c37b XML updates.
8fd3813 mod_ssl namespacing: SSL_X509_INFO_load_file -> modssl_X509_INFO_load_file
a5d078e mod_ssl namespacing: SSL_X509_match_name -> modssl_X509_match_name
db7d4a5 mod_ssl namespacing: Make SSL_X509_getIDs a static function inside the file ssl_util_ssl.c (no outside callers). Rename to just getIDs().
9d84f2a mod_ssl namespacing: SSL_X509_getSAN -> modssl_X509_getSAN
1e4c1e7 mod_ssl namespacing: SSL_X509_NAME_to_string -> modssl_X509_NAME_to_string
e3f338e mod_ssl namespacing: Rename SSL_X509_NAME_ENTRY_to_string to modssl_X509_NAME_ENTRY_to_string.
998507f mod_ssl namespacing: Make SSL_ASN1_STRING_to_utf8 a static function inside ssl_util_ssl.c (no callers outside this file). The new static function name chosen is convert_asn1_to_utf8, based on the assumption that neither SSL_ nor ASN1_ are safe prefixes to use without potential future overlap.
35296ed mod_ssl namespacing: SSL_X509_getBC -> modssl_X509_getBC
bb90399 mod_ssl namespacing: SSL_smart_shutdown -> modssl_smart_shutdown
0764198 mod_ssl namespacing: SSL_read_PrivateKey -> modssl_read_privatekey
c3f41f5 mod_ssl namespacing: Rename SSL_init_app_data2_idx, SSL_get_app_data2, and SSL_set_app_data2 from SSL_* to modssl_*. Update references in README.dsov.* files. Rename static variable SSL_app_data2_idx to just app_data2_idx since the symbol is internal to ssl_util_ssl.c.
9e6d099 Fix typo.  PR57879
a8e498b Followup to r1671397 so these will build
16e7eaf Fix typo
a53240a Follow up to r1674542 and r1675410: CHANGES entry.
8063d62 Formatting and wording improvements for ALPN (no code changes)
9db6088 The increased use of UuidCreate() in APR 1.5.2+ introduces an unresolved reference to UuidCreate() to these support applications that link with apr-1.lib and do not already link rpcrt4.lib.
cca3d23 Give a better hint.
a0a7758 Rebuild.
36cbc69 XML updates.
6d61834 adjust link to SSL_CONF_cmd man page on www.openssl.org, again
b177ea9 Merge r1650047 from trunk:
700ffbf consistently output SSLCertificateChainFile deprecation warnings
6dd2a90 Remove NPN support and focus on ALPN (RFC 7301)
a5a2b60 update transformation
f4e7d2d Work around issues w/ "broken" BSD Makefile translation... If we have gmake, then prefer that.
148417b * mod_journald: Remove JournaldCustomLog. It is not needed now when   mod_log_config can use mod_journald as errorlog provider.
38a56ee * mod_journald: use -lsystemd instead of -lsystemd-journald when found
391e101 Generated doc changes
9708189 Simplify. Checking for OPENSSL_NO_TLSEXT already happens in a surrounding block.
ba2b695 mod_log_config: Fix a bug introduced by r1674261, when using a log provider the return of ap_default_log_writer was an uninitialized variable.
ca8f949 mod_log_config: Add %M format to output request duration in milliseconds.
fcda50a Generated doc changes
28d1036 Grammar improvements in performance tuning doc
e62bccb xforms
1c92bd5 validate
85b8169 reword per feedback
77a253b HAVE_TLS_NPN was defined twice in this file.
7e6cf52 fix syntax
6d1cf38 Generated doc changes
191f70b no --with-perl since 1.3
0804811 xforms
877c815 add a prominent caveat about the effect of caching.
71ecc7f xforms
d09f45e typoes
904c2e7 PR57778
7b3762d Applies patch from bz56214 thanks to Javier Llorente - updates spanish translation of error docs.
2b7c1b2 mod_ssl: Make the config parser complain if SSLRandomSeed specifies the Entropy Gathering Daemon (EGD) as source while the underlying SSL library does not support EGD (e.g. in case of LibreSSL).
89b0ea7 add PR
9c3517b If a directory exists but no indexes can be resolved, the fallback resource should be attempted first before giving up.
66b24ad Generated doc changes
8f5c2f5 Grammar improvements in performance tuning doc
dbfc890 Generated doc changes
da03863 mpm_event: follow up to r1666468 and r1666618. We don't need to return 0 in the compare function, but for debugging purpose which we could implement later if necessary (in a separate function). For now, keep the function simple as in 2.4.x to ease backport, and add a comment about why we never return 0 here.
358697a Rebuild.
b50a7f2 XML updates.
76f7cbf mod_proxy_wstunnel: Bypass the handler while the connection is not upgraded to WebSocket, so that other modules can possibly take over the leading HTTP requests.
4e38a6a build
38159b5 motorz: add missing (fix duplicated) APLOGNOs.
db9ee8f Fix doc as spotted by Falco Schwarz in online doc
40c7c15 Fix duplicated APLOGNOs from r1661067 and r1661448.
0f10bfb mod_ssl: Check for RAND_egd() at configure time and only use it if present. Fixes the build with LibreSSL which does not provide this function.
4c43036 mod_ssl namespacing: Rename ssl_util_ssl.h macros from SSL_foo to MODSSL_foo. For related discussion, see the dev@ thread starting at: http://mail-archives.apache.org/mod_mbox/httpd-dev/201504.mbox/%3C20150415163613.GC15209%40fintan.stsp.name%3E
bf54c33 Rebuild.
b6cfd73 XML updates.
c020c01 mod_proxy_scgi: ProxySCGIInternalRedirect now allows an alternate response header to be used by the application, for when the application or framework is unable to return Location in the internal-redirect form.
5a16b27 rebuild docs with meta element enabled
e4ef6e7 The good thing about standards is that there are so many to choose from.
1cb55f1 update transformation
438584b * mod_log_config: Allow using ErrorLog providers for CustomLog.
6ac7523 * mod_dav_fs: set default value of DavLockDB using installation layout
c95e601 tab vs space
0b24687 Quote log-sink arguments for {Custom,Error,Transfer}Log directive. Except syslog and journal, which are keywords.  There's no harm in quoting those, but no real point to it, either.
586ef45 Rebuild
52ec120 Rebuild
dca076e Applies fix recommended in bz56346
2131502 Per bz57584, ensure that this isn't just .cgi, ..cgi, ...cgi, and so on.
f47b5e3 Rebuild a crapload of xdocs
70a0b58 mod_proxy_ajp: Rename output_failed to client_failed in ap_proxy_ajp_request(). Since any read/write error is caught by this flag, it really means "dialog with client <ip:port> failed" (as per the associated log message), whereas write to client (output) errors need not be handled differently than any error occuring after some bytes have already been sent to the client, which is the purpose of the data_sent flag.
3ea05bd Remove entries for fixes/features already merged to 2.4.x branch
ec8921b slight improvement to wording
c47cb1b Correct a regex so that it doesn't match the file named '.cgi'
601c59b Resolves bz55123 - spaces around emdashes.
0566cf0 Simply remove trailing whitespace.
430aadc * Remove trailing whitespace from a bunch of *.xml files * Quoted arguments to Rewrite{Base,Cond,Map,Rule}.
45c7b5b Break <highlight language="commit">foo</highlight> into separate lines.
837aaea Quote path/URL arguments to Proxy* directives.
198976a Quote ScriptAlias and DocumentRoot arguments.
b75f3c1 Quote {Alias,Redirect,ScriptAlias}{,Match} arguments.
57ef102 Enclose parameters in quotation marks for <{Files,Directory,Location}{,Match}> containers.
bde73e5 Mention which indexoptions need fancyindexing. Rsesolves bz56985
7367187 We need moar emails - format change
8ce268c Flip directives and topics sections after discussion around ordering
cf8ed4e Rebuilds Daniel's change to the order of directictives vs topics in manual docs.
2c3efa3 Adjust template to align page content with table of contents
833b5e7 Rebuild
2f64c13 Revert r1672014 - doesn't work as advertised (would break configs where the per-vhost log level is different from the global level)
7ea31ab Resolves bz56695 - %O can in fact be zero sometimes.
e64899f Applies patch from bz57189, thanks go to Tom Fredrik Blenning. Adds Norwegin translations of error pages.
1524349 Rebuild HTML from various changes yesterday.
0140f83 Rebuild
fd6aeb7 As per bz53530, a brief explanation of when you may and must use quotes in directory paths.
f7d9af2 Follow-up to r1520445:
c12eef1 Quote filesystem paths.
6cb8f1a Put individual items in quotation marks.
191ded9 Put quotation marks around the <Location> path.
8deec4d A little syntax fixup, and put quotation marks around patterns and expressions.
31d5073 Quote DocumentRoot filesystem paths.
955c793 Don't use &quot; in code.
a90c8fd Following up on BZ 53530.. putting quotation marks around arbitrary-text, complex, and/or filesystem directive arguments. More to do..
d0fef61 Rebuild HTML docs
2438ac6 Clarify order of operations - some variables aren't accessible to If. See bz 53349 for context.
fc3cec1 Rebuild HTML
9176c08 Clarifies (I hope) what RewriteRule patterns are matched against. See bz53153 for context.
028db69 rebuild
3200ef5 Clarify regex so that it matches /icons or /icons/ but not /iconsFOO (as per bz53483
605ec51 Clarifies FilesMatch and LocationMatch examples, as per bz53483
099924f rebuild html docs
e7f9be5 Clarifies both the regular expression and the explanation of it, to avoid unintentionally matching other things. (See bz 53483)
f4bcab7 Rebuild
3458813 HTML encoding
34e37f4 Add "pre-compressed content" recipe, as per https://bz.apache.org/bugzilla/show_bug.cgi?id=51336
de91f95 libressl fix for removed ENGINE_CTRL_CHIL_SET_FORKCHECK
593715f Remove some spaces between some return statements  and ';' + fix a strange formating in a 'for' loop
2855063 Fix CGIPassAuth built-in directive documentation, Get compatibility line in doc ready for backport
3bf5f06 Use 'unsigned int' in bitfield
5905e3d Add CHANGES entry before backport proposal
2705372 Tweak log message
9739f97 Typo.
0285598 mod_proxy_wstunnel isn't limited to Unix
9c70146 More followon to r1671397 for proxy server-status in auto mode: - remove remaining HTML markup
b23bd21 omit the period after the example lest it get copied
884cac2 SetEnv doesn't work for proxy-scgi-pathinfo
bc86b13 Followon to r1671397 for proxy server-status in auto mode: - don't show HTML legend - Show correct worker name
837652c Followon to r1671396: add misiing newline in new server-status output.
65c97d7 Followon to r1671396: Remove unwanted redundant output introduced by that commit.
5a6a4b5 UNSET the VirtualHost's LogLevel just before calling ap_merge_log_config(), to make sure that the DEFAULT_LOGLEVEL (APLOG_WARNING) is also in effect when ap_process_config_tree() in main.c:main() walks through the VirtualHost sections.
ef2d04f allow time to first byte (of response headers) to be logged by mod_logio.
8176d57 CHANGES: remove entries merged into 2.4.x.
0c12000 Add output for "?auto" version of server-status to proxy status, mod_ssl session cache info, mod_cache_socache and the status hook of the individual socache implementations.
0450264 Add more data to "?auto" view of server-status.
1379b31 Followup to r1670431, 1670432, 1670440 and 1670738: update max APLOGNO number.
099f96e Mention the cmake/OpenSSL compatibility issue
33cfa9b Not that hard to explain...
c335640 Fix issue w/ deterministic ordering and string comparison of "http/1.1." and "h2"
09c4bc6 http: Add support for RFC2324/RFC7168.
cd82565 * ssl_array_index is only used by code inside the HAVE_TLS_ALPN. So silence warnings if don't have it.
abf1f3e And the lognos
b2f953a Revert r1670436. Patch was already applied, Jim was quicker.
71cf024 Followup to r1670397+r1670434: even more ALPN goodness.
7a99991 More ALPN goodness
31c3573 Followup to r1670397: add missing APLOGNO.
bc41580 Add missing APLOGNOs by running docs/log-message-tags/update-log-msg-tags.
17565ac ALPN support, based on mod_spdy/mod_h2 patch set
5524cbd Rebuild.
a09a09d XML update.
de160b5 Rebuild.
816faa5 XML updates.
776ab65 Correct MS-DOS check-in crap on text files
6c3c048 s/apr_pstrndup/apr_pstrmemdup/ when applicable
94610cc mod_proxy_wstunnel: Avoid an empty response by failing with 502 (Bad Gateway) when no response is ever received from the backend.
39d1943 CHANGES: follow up to r1669289.
621813b core_filters: restore/disable TCP_NOPUSH option after non-blocking sendfile.
ef8a176 Rebuild
81d04a0 Suggestion to see mod_substitute, as per http://httpd.apache.org/docs/2.2/mod/mod_ext_filter.html#comment_3822
549749d mod_proxy_{connect,wstunnel}: follow up to r1657636. Since rv is not used as an apr_status_t in the loop (it's logging is done by proxy_{connect,wstunnel}_transfer() when necessary/relevent), use a boolean instead to avoid the ugly ORs between APR error codes.
7840147 backported
38e4ec9 backported
a353be6 xform
b770022 close tag
21565e3 trunkify
eca303e * mod_lua: fix compilation with lua-5.3
9d0ce44 core: follow up to r1668532: always initialize optional_fn pointers in ap_create_scoreboard().
f82a03d core: follow up to r1668532: CHANGES entry.
9a5dd3d core: Initialize scoreboard's used optional functions on graceful restarts to avoid a crash when relocation occurs.  PR 57177.
f7860be Rebuild.
960224a XML update.
fd61b03 * mod_proxy: Allow setting options to globally defined balancer from   ProxyPass used in VirtualHost. Balancers are now merged using the new   merge_balancers method which merges the balancers options.
29e741e * mod_access_compat, mod_authz_host: Handle '#' character. For mod_access_compat, disable '#' in hostname completely. For mod_authz_host, treat '#' as a comment and ignore everything after that. This allows better handling of admin errors like 'Require host localhost# Add example.com later'.
280ed85 Followup to r1667385, my sandbox was out of date.
c27569b Retry ENOENT like ECONNREFUSED, but only near a server restart.
f609011 core: Cleanup the request soon/even if some output filter fails to handle the EOR bucket.
db59acf Rebuild.
10a1f3e XML updates.
27a347d mpm_motorz: follow up to r1666482. We only need one compare function for add semantic with apr_skiplist_insert() and unique timers (pointers). It also works with apr_skiplist_remove() and apr_skiplist_find().
b222ad3 mpm_event: follow up to r1666468. We only need one compare function for add semantic with apr_skiplist_insert() and unique timers (pointers). It also should work with apr_skiplist_remove() and apr_skiplist_find(), be they used some day.
7249bf5 .gdbinit: Add dump_skiplist.
c29a21c work w/ apr_skiplist_insert()
c8bfc84 mpm_event: Allow for timer events duplicates. Meanwhile ap[r]_skiplist_add()...
f222f9f Choose "-D" instead of "-d" for the rotatelogs option that creates the path to the log file.
d6cb8ec Small changes to rotatelogs: - add "-n num" to help text - clarify in help text, that "program is invoked"   is the "-p" case - prevent crash with "-v" (verbose) if no   "-p prog" is used - add one space for formatting
2c379ac * mod_ssl: fix small memory leak in ssl_init_server_certs when ECDH is used. SSL_CTX_set_tmp_ecdh increases reference count, so we have to call EC_KEY_free, otherwise eckey will not be freed.
71e93ff Avoid a potential integer underflow in the lock timeout value sent back to a client. The answer to a LOCK request could be an extremly large integer if the time needed to lock the resource was longer that the requested timeout given in the LOCK request. In such a case, we now answer "Second-0".  PR55420
5c4f5c4 ssl_util: Fix possible crash (free => OPENSSL_free) and error path leaks when checking the server certificate constraints (SSL_X509_getBC()).
8133ee1 Fix doc as spotted by Sven in online doc
2e8b389 CHANGES: remove backported entries.
0050271 CHANGES: follow up to r1656259 and r1665625. Merge both commits into a single entry to ease common backport.
bce39a4 ap_die(): follow up to r1657881.
0a431ef core, modules: like r1657897 but for core and other modules than mod_proxy.
c87a18d motorz: add and use the timer event of the connection.
3276f46 motorz: revert bogus r1665381.
d6bcf7e motorz:
627711a use pollset impl instead of pollcb
d99de44 we need sbh and might as well have some debug
8e075e6 mod_proxy: follow up to r1665215: CHANGES entry.
53e0958 * mod_cache: Preserve the Content-Type in case of 304 response. 304 does not contain Content-Type and mod_mime regenerates the Content-Type based on the r->filename. This later leads to original Content-Type to be lost (overwriten by whatever mod_mime generates).
59240d4 mod_proxy: use the original (non absolute) form of the request-line's URI for requests embedded in CONNECT payloads used to connect SSL backends via a ProxyRemote forward-proxy. PR 55892.
bd84e50 Rebuild.
ea334a6 XML updates.
6864b2c  * Do not reset the retry timeout if the worker is in error at this stage even    if the connection to the backend was successful. It was likely set into    error by a different thread / process in parallel e.g. for a timeout or    bad status. We should respect this and should not continue with a connection    via this worker even if we got one.
551fe12 core: Follow up to r1664205. Don't let invalid r->proto_num/protocol out of read_request_line() reach the output filters (when responding with 400 Bad Request). Suggested by: rpluem
7d8a22c Better documentation for RewriteMap MapTypeOptions (r1664565)
c314756 *) mod_rewrite: Add support for starting External Rewriting Programs    as non-root user on UNIX systems by specifying username and group name    as third argument of RewriteMap directive.
c1f457e Some fluff
a0274a4 Hmmm... why did git miss this?
e45efc0 Move statics
7d8f15a Fix errors and mistakenly removed rets
5f7f872 Don't return
227e696 Move to traditional C header
83c5985 Fresheh html BUGZ:55466
03a97d3 core: Follow up to r1664071: comments on new keep_alive_timeout_set flag.
8e7ee48 * Setup the usual svn:ignore properties for MPM's
be0f533   *) SECURITY: CVE-2015-0253 (cve.mitre.org)      core: Fix a crash introduced in with ErrorDocument 400 pointing      to a local URL-path with the INCLUDES filter active, introduced      in 2.4.11. PR 57531. [Yann Ylavic]
70201cd * Fix typo in error message
b03a6ed backported
cfeeefc backported
6914970 We no longer need eventopt. And might as well be a good time to add motorz in to trunk
df173b9 core: If explicitly configured, use the KeepaliveTimeout value of the virtual host which handled the latest request on the connection, or by default the one of the first virtual host bound to the same IP:port.
8209022 * mod_authn_dbd: apr_pstrdup dbd_password and dbd_hash to fix use-after-free bug with postgresql
05a733e PR54613: protect the invoke_mtx with #if APR_HAS_THREADS.
0888457 Update.
6f4e16e mod_authn_core: Add expression support to AuthName and AuthType.
284a0e0 mpm_event: follow up to r1538490, r1545736, r1604350, r1639614 and r1642868. Clear and restore sbh in notify_suspend() and notify_resume() respectively.
638a4a7 Rebuild.
9aee50a XML updates.
13bbf1e Remove some backported entries
b3d7491 mpm_event: follow up to r1493741 and r1662440. Really fix style by not introducing tabs...
3fca989 mpm_event: follow up to r1493741. Fix typo (and style) for event_unregister_socket_callback()'s final result.
9aa869e mpm_{worker,prefork}: save some cycles by not copying the listener's pollfds for each pollset operation.
31843ff CHANGES: follow up to r1662245: Add PR number.
7f823b3 mod_deflate: follow up to r1619383 and r1619444: CHANGES entry.
35162c8 xforms
867b541 improve some slightly awkward wording per comments feedback:
62eef24 ab: Add missing longest request (100%) to CSV export.
f429b5a mod_ssl_ct needs a per-vhost module config even if a vhost doesn't contain mod_ssl_ct's own directives, because the module config needs to represent that vhost's certificates.
5c179ce xform
33c2c96 Refer to a tool from Tom Ritter for storing an SCT in a form suitable for consumption by mod_ssl_ct.
4bc31da Follow-up to r1661487:
6830bab Provide separate SSL_CT_*_STATUS variables for client vs. proxy connections, courtesy of a new flag passed from mod_ssl on its pre_connection "optional hook."
186eda9 axe unused variables
1c02c75 xforms
6d6c92c Mention notable things added in 2.4.x
dc9290c Backported
9850539 core: Add expression support to ErrorDocument. Switch from a fixed sized 664 byte array per merge to a hash table.
686e567 Rebuild.
40dc685 XML updates.
336ad9d Rebuild.
9796d3a XML updates.
4dafb2e mod_ssl: Add the SSL_CLIENT_CERT_RFC4523_CEA variable, which provides a combination of certificate serialNumber and issuer as defined by CertificateExactMatch in RFC4523.
21729aa mod_proxy_ajp: Forward SSL_PROTOCOL. Forthcoming versions of Tomcat know how to extract the information and provide it as a request attribute.
7947f59 Typo
b8e33f6 Save a few bytes in conf pool.
3bfacf3 Fix doc as spotted by Chris in online doc
ebb29bd Rebuild
acc23be Replacing before-name="no" by before-name="yes"
732b14c Rebuild without modifying lang/fr.xml
fc53089 Synch some compatibility notes with 2.4.x
2a46c5a allow placing the 'directive' word before the directive name in the module synopsis.
319422a Fix doc as spotted by Andrew Stayart  in online doc + be consistent with the position of '*'
124f272 update transformation
b5e8da9 typoes
4893ecd suexec: Filter out HTTP_PROXY
de86d78 mod_proxy_http: Use the "Connection: close" header for requests to backends not recycling connections (disablereuse), including the default reverse and forward proxies.
2ebf887 mod_proxy_http: Don't expect the backend to ack the "Connection: close" to finally close those not meant to be kept alive by SetEnv proxy-nokeepalive or force-proxy-request-1.0, and respond with 502 instead of 400 if its Connection header is invalid.
92d6cd6 Fix a precedence issue. The logic is unchanged but 'ret' does not have the expected value. So the logged error message may be incorrect.
43f32bf Rebuild.
6b7dd10 XML updates.
e02d599 This 2 includes are not needed anymore. They were added in r1542732.
609dbae Tab vs space
b26841b mod_proxy(es): Avoid error response/document handling by the core if some input filter already did it while reading client's payload.
be12754 http: Make ap_die() robust against any HTTP error code and not modify response status (finally logged) when nothing is to be done.
ff6b9fa xforms
9dab324 add a generic tuning section and linked to the piped logger issue in logs.html
3e06292 PR57094: Provide some hints about Windows problems with more than a few dozen piped loggers.
25a2e41 Save a few bytes in conf pool when parsing some directives. Use temp_pool when applicable.
be32097 Improve doc as spotted by Kalessin in online doc
7439a42 Expression parser: Optimize another concatenation case by using iteration instead of recursion.
c558110 CHANGES: Follow up to r1657636, clarify message.
c6f5f2f mod_proxy_connect/wstunnel: If both client and backend sides get readable at the same time, don't lose errors occuring while forwarding on the first side when none occurs next on the other side, and abort.
dd945fd Fix typo spotted by micha137 in online doc
6c0cf71 followup to r1657261 whitespace only -- reindent body of while loop.
78eb3b9   *) SECURITY: CVE-2015-0228 (cve.mitre.org)      mod_lua: A maliciously crafted websockets PING after a script      calls r:wsupgrade() can cause a child process crash.      [Edward Lu <Chaosed0 gmail.com>]
8f40799 Fix bit-shifting of websockets frame fields that would yield wrong opcodes when the FIN bit was set.  Results in PING not being recognized by mod_lua.  PR57524
e454f1a mod_macro: Clear macros before initialization to avoid use-after-free on startup or restart when the module is linked statically. PR 57525
ea86cb0 Fix cut and paste typo in error message + remove empty lines to be consistent
68b35f4 Follow up to r1635521: ListenCoresBucketsRatio's manual.
319f8ef Follow up to r1656259: CHANGES entry.
e193ed5 Rebuild.
5491f4a XML updates.
f47c136 adjust link to SSL_CONF_cmd man page on www.openssl.org
ccc2e4c mod_proxy_http: don't connect or reuse backend before prefetching request body.
12af2e3 mod_proxy_connect: fix duplicated AH introduced by r1635645.
89a027a mod_alias: follow up to r1653941. Fill empty APLOGNO().
c2d3d46 correct copy/paste error, use cmd->cmd->name
adcd01d Block Define/Undefine from per-directory context, because they will fire while the block is read not when it evaluates for a given request.
d5227d2 expand comment
2154a9d Provide a way for EXEC_ON_READ directives to see their context (parent directive).
2c3fe61 Generated doc changes
37c3e78 Fix typo in mod_deflate doc
1c1781a Generated doc changes
620b1ea Fix typos in mod_deflate doc
86f9bb0 Added doc links between mod_proxy_fcgi and mod_authnz_fcgi
9371292 Generated doc changes
a77068d AP_INIT_NO_ARGS mishandled in macro
95d663e Improve  r1525489 (one line with a "-"  was forgotten) and synch with 2.4.x
09a839d Fix doc as spotted by mebjas.
fd92456 Fix doc as spotted by mrskman.
97f708c xform
8b65ae7 comment feedback -- flow is confusing
2544334 XML update.
de3beb1 Rebuild.
5a6c449 XML updates.
8dd6f46 as in r1517366, drop the severity in authz_groupfile when a require didn't match but no real error was encountered.
a365a65 mod_ssl: Fix merge problem with SSLProtocol that made SSLProtocol ALL ignored in virtualhost context (new version of r1653906 reverted by r1653993).
4c52577 mod_ssl: revert r1653906, will commit an alternative just after. The issue with r1653906 is that existing configurations like "SSLProtocol -SSLv3" (where the default is assumed to be ALL) won't work anymore.
7e120c1 Use unsigned bit fields.
5488d21 mod_alias: Introduce expression parser support for Alias, ScriptAlias and Redirect.
6d6a8a1 Fix merge problem with SSLProtocol that made SSLProtocol ALL ignored in virtualhost context.
09a7ffc Bump mmn as documented in commit log msg r1653666
0271656 Revert r4635428 corresponding to PR41867.
ce217cf Remove the bitfield spec from the http_ctx_t.state enum as it causes an error-prone mismatch between the enum values and the state values.  Caused a busy loop in windows.
ff48951 Fix indentation and tab use after r1652955.
4822ab9 Addition to r1652955: Use "=" in combination with "test" instead of "==".
df2e9f3 Fix detection of old Solaris versions. Autotools need double square brackets.
faac8c0 PR 57379: If mod_cgi and mod_cgid get installed, use IfModule for MPM to LoadModule mod_cgi for prefork and mod_cgid for all other MPMs.
07605b2 Generate #LoadModule directive in default httpd.conf for every --enable-mpms-shared. PR 53882. Submitted by: olli hauer <ohauer gmx.de> Committed by: ylavic
9773787 Fix --enable-v4-mapped configuration on *BSD. PR 53824. Submitted by: olli hauer <ohauer gmx.de> Committed by: ylavic
53e7998 Enable to build mod_lua against Lua 5.3.
2f57f92 NetWare build: fix problem with NLM version.
642b344 Silence compiler warnings:
d9c744b Rebuild.
0872ca5 XML updates.
e6250a9 mod_rewrite: Improve 'bad flag delimeters' startup error by showing how the input was tokenized.  PR 56528.
2a568ce xforms
5ef57e8 comments feedback -- it's an initial _request_
647d9c6 backported
cda75c6 backported
fa57b27 update transforms
7a323fe Insert .htaccess example talking about relative paths when using mod_rewrite in .htaccess files.
6ef6dc6 Backported
48d36db r1651088 for eventopt
8197971 Update conn_rec.id when a new thread begins working on a connection, because the old thread may work on a new connection and assign the same ID in parallel.
395102d Rebuild.
7efd1a6 XML update.
0b73b47 * modules/dav/main/config.m4: Remove long-redundant expat reference.
19ba12c Xforms.
d5365fa Fix copy and paste error in docs of new feature.
db7e679 Xforms.
bf93fed Add SSLSessionTickets (on|off).
a8afe65 save some bytes per Christophe's review.
7839a61 mod_ssl: follow up to r1601919. Likewise when set from SNI callback.
7ce318b update mod_ssl.html.en transformation
9660add Add support for extracting subjectAltName entries of type rfc822Name and dNSName into SSL_{CLIENT,SERVER}_SAN_{Email,DNS}_n variables.
1f6fd36 mod_proxy: Don't put non balancer-member workers in error state by default for connection or 500/503 errors, and honor status=+I for any error.  PR 48388.
9bbde1f Add CHANGE for r1649632
75541eb Add PR
3663e2e Add missing 'filemod' in functions list + minor formatting issue + long line split
26c1550 Be consistant with the code below which accepts lower or upper case.
750aa72 * modules/cache/mod_socache_memcache.c (socache_mc_store): Pass   through expiration time.
e5ce664 Rebuild.
5c73d83 XML update.
4cc93b5 Rebuild.
1d9ee42 XML update.
88c8af0 Rebuild.
e6cb3d0 XML update.
aa4947b XML update.
1155bef Rebuild.
8fc5eeb XML update.
364870c XML update.
bbb04bb Rebuild.
e4fb1a9 XML update.
9f3e067 mod_proxy_ajp: Fix get_content_length().
545e553 Xforms.
5674237 PR 48460: Improve/correct mod_proxy_ajp docs.
fa1cfae Add a hint about how CONNECT-method requests are filtered out by <Proxy>, and how to enable them. I could not find this information easily.
fc913bb Regenerate xforms after s/2014/2015/
7cb5913 Happy New Year 2015
ecf622a split-logfile: Fix perl error:  'Can't use string ("example.org:80")   as a symbol ref while "strict refs"'. PR 56329.
98efe0c Fix some spelling errors in mod_proxy_fcgi comments.
c54599c PR 56603:  Inappropiate ProxyPassReverse match when interpolated URL is empty string
96dee8d s/BitNami/Bitnami/
e0b79f4 Configuration files with long lines and continuation characters are not read properly. PR 55910.
6dd646b Rebuild.
6d2570a XML updates.
cded18b Add class attributes for empty descriptions
23c292e Change the return value to const, so the const non-matching input can just be returned.
2e34cdf some tweaks for no ServerName from PR57384
cc3be6c Rebuild.
75f871f XML updates.
77a55de xforms
54977c9 fix path as well
6fd3146 fix anchor to #workers
829e98c looks like debug left in r1642154
d77e7a6 provide alternative PATH_INFO calculation options for proxy_fcgi. PR 55329
094226f xforms
bf279e3 PATH_INFO is set for free when we use SetHandler style configuration, because we have already directory walked.
a7a3d4a show a worker+uds+sethandler configuration
65161d8 typo and formatting
85d1a0b Allow SetHandler+UDS+fcgi to take advantage of dedicated workers including opting in to connection reuse and other proxy options (max=, etc).
905930a xforms
2af6b8f Allow (a hokey) opt-in to connection reuse for mod_proxy_fcgi + TCP.
198bea9 xforms
43bb1e9 add more examples, mention one reason to use SetHandler.
727a07d tweak SCRIPT_FILENAME passed to fastcgi backends when a balancer is used.
fcfdd8f Fix example as spotted in a comment in online doc.
bcf652f * Fix If-Match handling:   - We need to fail if we do NOT match.   - ETag comparison only makes sense if we have an ETag
9746f9b in 2.4
1a7c4e4 Fix command line parameters as spotted in a comment in the online doc. Thx alfonz.
ab1523a * Return NULL instead of an empty string as ssl_var_lookup_ssl does by default. Thanks for the pointer Christophe
c506259 Fix extraction of an SCT list from a stapled OCSP response.
8e416f1 ssl_io_filter_handshake(): When a post-handshake check fails, return an error code understood by ssl_io_filter_error().
0c5d74a mod_proxy: don't add the default port to the name of proxy workers. PR 57259. ap_proxy_port_of_scheme() knows more default ports than apr_unparse_uri().
d35b831 * mod_ssl: Fix renegotiation failures redirected to an ErrorDocument. PR 57334.
7ffd981 Added include path for Windows build.
ae9b586 * mod_proxy_fcgi: Follow up to r1640495. Ignore body data from backend for 304 responses also when read with the header.
34b7d7d backported in r1642861
3f0d0a6 util_expr: sync bison generated source files with according to changes on server/util_expr_parse.y from r1642154.
8b77d7e Revert r1643900. May someone with a bison version closer to the original one make this change.
3415691 util_expr: sync bison generated source files with server/util_expr_parse.y from r1642154.
bfdb0ec * core: Fix -D[efined] or <Define>[d] variables lifetime accross restarts.         PR 57328.
eb08e21 Rebuild.
1932026 XML update.
3ec0da5 dump fcgi headers with trace8 instead of debug+compile-time flag.
04e5d83 mod_proxy_ajp: follow up to r1643537. Log aborted client connections with level DEBUG only (no more noise than other proxy modules).
9a0f8c3 minor commentary and indentation fixes for ap_log_*data()
c4bea1a * mod_proxy_ajp: Fix client connection errors handling and logged status when it occurs.  PR 56823.
c314a8e xforms
a455db0 Move some tweaked/re-tested recipes from https://wiki.apache.org/httpd/RewriteQueryString into the extended doc for mod_rewrite.
4c76307 set svn:eol-style
f598243 update transformation
44643e1 validate xml
a3f6c09 Synch trunk with 2.4.x.
25ee4ee Fix typo + correctly spell this poor Barbara name, otherwise she will never be able to get access
e6d70ea mpm_event(opt): zero is immutable.
62da621 mpm_worker: replace apr_atomic_cas32(+1) loop with the more performant apr_atomic_inc32(). Also declare fd_queue_info_t's idlers member as volatile since it is used outside atomic functions (or it could be optimized out by the compiler).
abb1b80 mpm_event(opt): avoid casts/comparisons from unsigned to signed (atomics).
2322918 add some hints about using expressions in mod_headers
9181997 now it's actually fixed (The URL)
08a3144 fixed it!
3d61019 another blank commit...
2ac1d49 function examples, other flavor of function examples. replace() example
4d26c40 another blank change, ignore.
320ddfe more blank changes to set up viewvc, ignore.
8916eba blank change to test commit mail URL is properly working.
ddc48bf * Correctly indent
8fb0b6f mpm_{prefork,worker}: follow up to r1635521. Don't crash when there is no accept mutex (one listener => apr_proc_mutex_name(NULL)).
e27d5d9 testing eu <-> us sync
d28e6f8 more noise again
f1d7ed9 ap_expr: Add filemod function for checking file modification times.
3d429ab more tests
c66f977 bit more noise... (still testing)
2c70fbc more tests
f4dfabc trying eu svn...
ff8c2ca More dead birds in the sky...is it summer already?
a0f2ddb Is it a bird? Is it a plane? Is it a giant flying pony??! No, it's simply mod_lua >_> (also, ignore this, we're just testing whether commits work)
040f608 add a warning to resp() similar to the one present for REQUEST_STATUS [too early in <if>]
529b490 * ap_expr: Fix replace() func when length of "from" != length of "to".
6e1f664 xforms
09aa563 elaborate on per-directory limitations
7791f92 mpm_event: follow up to r1639614 (trunk) and r1642858 (2.4.x).
4ebc240 make docs
d49e6f0 core: Add CGIPassAuth directive to control whether HTTP authorization headers are passed to scripts as CGI variables.
6b6f564 Fix curly braces style Remove useless empty lines
59b4727 xforms
19de340 use an actual list since we're gong to the trouble to use -in
fb3e7de xforms
1d9eee8 add a few more examples per feedback
d93832c even out some whitespace
139df0d backported in r1641551
38535f5   *) SECURITY: CVE-2014-8109 (cve.mitre.org)      mod_lua: Fix handling of the Require line when a LuaAuthzProvider is      used in multiple Require directives with different arguments.      PR57204 [Edward Lu <Chaosed0 gmail.com>]
838b88e Remove some instances where a RewriteBase must be specified
8b797b9 Rebuild.
d0bda8d XML updates.
bd41584 * ap_exr: Add replace(string, from, to) function.
27f17af Added include path for NetWare build.
27b5b05 xforms
72d7c6c add a few more expresion examples to illustrate functions and -f
8216b3d mod_lua: Initial attempt at passing on the configuration tree to Lua.
e2fafef elaborate on a TRACE2 message about using the default reverse proxy worker.
3ced0b2 xforms
3a7133e move text outside of example for readability.
3e9e400 xforms
0a4c6c2 steal the sethandler example from mod_proxy.html and mention worker issue
96ac9f4 xforms
3295cde the next sentence says:
e15a682 test/document php-fpm with proxy_fcgi
668c720 Return a match whenever we get to the end of the worker name, regardless of whether there is URL left.
eae7562 mod_reqtimeout: don't extend the timeout in speculative mode, wait for the real (relevant) bytes to be asked later, within the currently alloted time. This applies to blocking reads only since r1621453 already bypassed the filter for nonblocking ones.
2f92955 surprising but confirmed by comment in mod_proxy
2c334bc follow up to r1641077:
70b441b mod_ssl: Fix recognition of OCSP stapling responses that are encoded          improperly or too large.
b40c9d5 mod_reqtimeout: revert r1640758. Unexpected functional change.
4669bc7 mpm_event(opt), mpm_worker, mpm_prefork: follow up to r1635521, r1640161.
a952fd2 mod_reqtimeout: avoid unnecessary calls to apr_socket_timeout_set().
a9831ff * mod_proxy_fcgi: Ignore body data from backend for 304 responses. PR 57198.
7e2dd53 mod_authnz_fcgi: we don't need to add the trailing '\0' to parse response headers since r1640036.
14baf35 mod_authnz_fcgi is not vulnerable to the CVE-2014-3583 bug (and it is too late to use the same CVE anyway).
d59db8f Rebuild.
97761ef XML update.
fe1189c mpm_prefork: follow up to r1635521. Avoid oddity on bucket_make_child_record overflow.
9d670bc mpm_event(opt), mpm_worker: follow up to r1635521. Allocate retained idle_spawn_rate vector on the process pool.
c5d85f6 mpm_worker, mpm_prefork: follow up to r1635521. Use one dedicated accept mutex per listeners bucket.
8662b77 Follow up to r1640040: CHANGES entry.
f9520fe mod_proxy_fcgi, mod_authnz_fcgi: stop reading the response and issue an error when parsing or forwarding the response fails.
54f0797 mod_proxy_fcgi: SECURITY: CVE-2014-3583 (cve.mitre.org) Fix a potential crash with response headers' size above 8K.
31e1a51 Revert r1638818, r1639812, r1639717 and r1639814 for new staging.
f1cb9b2 event, eventopt: follow up to r1638879 and r1639960. Clear the pool in ap_push_pool() before recycling.
ebbed36 avoid dereferencing a recently apr_pool_clear()'ed event_conn_state_t *cs in several paths where ptrans is being recycled at the end of a request.
adf6a11 mod_authnz_fcgi: follow up to r1639717. Let ap_scan_script_header*() validate the headers.
e472402 mod_proxy_fcgi: follow up to r1638818. Let ap_scan_script_header*() validate the headers.
2e5c23a mod_authnz_fcgi: Fix a potential crash with response headers' size above 8K. (similar to r1638818 for mod_proxy_fcgi).
b38d5d5 don't call notify_suspend() in a worker thread after start_lingering_close_common may have put the socket back into the pollset.
c2d42b1 revert r1638691, more comprehensive followup planned shortly.
051a129 avoid dereferencing a recently apr_pool_clear()'ed event_conn_state_t *cs in several paths where ptrans is being recycled at the end of a request.
02e736a mod_proxy_fcgi: CVE-2014-3583: Fix a potential crash with response headers' size above 8K.
4f2fb6d * mod_ssl: call ERR_free_strings() with OpenSSL >= 0.9.8e. Fixes memory leak in mod_ssl on graceful restart. PR 53435.
48611f3 Fix a bug in r1604350 that can lead to crashes in the event MPM under load.
beff442 see your doctor about any rashes since r1608202.
08c20e7 tab vs space
27d1e6e Fix style
77a1c29 Fix indent.
302d4e9 * server/scoreboard.c: Check for child_num < 0 also in ap_update_child_status and ap_update_child_status_from_conn. PR 56767.
20fd477 mod_auth_basic: Fix comment mentioning 403 instead of 401.
25c4773 Resolve rashes with LDAP authz and non-LDAP authn since r1608202.
ce96a8e xforms
7e920da fix copy/paste error for CacheSocacheMinTime, rest of content is correct.   http://httpd.apache.org/docs/trunk/mod/mod_cache_socache.html#comment_3247
c657022 Rebuild.
db8639a XML updates.
d04b01e make docs
f457af5 mention the cmake-based build
9f3dd01 namded captures show up in the env with a MATCH_ prefix.    http://httpd.apache.org/docs/2.4/sections.html#comment_3193
b69ec42 add a -in wordlist example, change 'string list' to wordlist so you can jump to the grammar. leave a hint about line endings (uncommitted change in my tree)
ec90e71 remove some more recent 2.4 backports.
75f4795 remove two recently backported items
601d28b * Add missing include for ap_pglobal
791f84b Support custom ErrorDocuments for HTTP 501 and 414 status codes. PR 57167 [Edward Lu <Chaosed0 gmail.com>]
a7becdb mod_proxy_connect: Don't issue AH02447 on sockets hangups, let the read determine whether it is a normal close or a real error. PR 57168.
6d40a34 mod_proxy_wstunnel: abort backend connection on polling error to avoid further processing (lingering close, SSL shutdown).
2a4ba7e make docs
b2adae1 show a bit more of openssl's -status display
61d5a3c MPMs, core: make duplicated listeners (SO_REUSEPORT) introduced in r1599531             less intrusive.
8fb5d9a make docs
521a4ca more hints for OCSP Stapling:
7dd5dc8 core: Do not match files when using DirectoryMatch. PR41867.
1771128 Follow up to r1632742: CHANGES entry.
e582265 Fix compatibility note
be36489 Remove commented-out SSLStaplingForceURL at global scope.
3eddd53 When using EBCDIC encoding, HTTPS through ProxyPass and ProxyRemote doesn't work correctly. PR 57092
94c4cc4 fix another case of 304 response sent to an unconditional request
20b9fc0 Rebuild.
541789e XML update.
26848f7 * Use the correct server name for SNI in case the backend SSL connection itself   is established via a proxy server.
d5d0921 make docs
891e5d3 trying to enable OCSP Stapling without certificate chain
2a4cedb add hint on discovering that OCSP Stapling cache is too small
a797fdc add OCSP Stapling configuration, disabled by default
10ab771 tab vs space
00e4c4f tab vs space
5f064a8 tab vs space
268e463 tab vs space
a0e231d tab vs space
5d8dd1f tab vs space
46b8fce Fix indent.
d8fd328 mod_ssl: Fix SSL_CLIENT_VERIFY value when "SSLVerifyClient optional_no_ca" and SSLSessionCache are used and SSL session is resumed. SSL_CLIENT_VERIFY value has been set to SUCCESS on resumption even when originally it was set to GENEROUS. PR 53193.
ecde985 Fix strange indent.
6620728 Rebuild.
f6d7860 XML update.
0f65768 mod_buffer: avoid unlikely access to freed memory and forward flushed buckets             immediatly.
edf4593 mod_cache: avoid unlikely access to freed memory.
824b490 make docs
3526d4b Add how-to guide for OCSP Stapling
d943529 Remove some backported item
04b2b44 mod_substitute: No real functional change, but: - define default for maximum line length   indepenent of MAX_STRING_LEN - Clarify line length check with a comment - add supported 'b' suffix to directive   description
a89061b make docs
7a83e57 very minor improvements to OCSP-related doc
5d06f75 SSLOCSPUseRequestNonce already in 2.4.x branch
44fe3a6 include mod_ssl_ct
b0ce327 the hard-coded limit on LimitRequestLine has been gone since 2.1.x, see r819480 and r102840. PR57009
8d84b15 Rebuild.
79de525 XML Update.
a3ca028 Style ('{' on same line as function definition)
f9b0746 Style (space before ending ';')
c12bc86 Revert style changes
e3cc8a6 * Check if we are having an SSL connection before looking up SSL related   variables during expression evaluation to avoid a crash. If not return   an empty string.
42f014c xform
c420809 mod_ssl_ct: Update the doc for the recent sync with current OpenSSL 1.0.2 and Certificate Transparency tools, as well as a few other clarifications.
c478a4d mod_ssl_ct: Work with current Certificate Transparency tools
ed1dc56 make docs
7ecfc45 core: follow up to r1629909: fix min_spare_threads lower bound and check wrt num_buckets.
9a10a54 core: follow up to r1629925: changelog.
1d1f7d8 core: follow up to r1629925: new log tag
d2bec9d core: ensure that MPMs return an error on runtime failure and hence that       httpd's main process also exits with an error.
90d30c6 mpms: enforce assertion that unreachable code is not reached.
7d64b62 core: follow up to r1629909: ap_daemons_to_start can't be lower than 1 (not 0) for prefork either.
a527db4 core: Use process scoreboard to store each child's listener bucket, and silently adjust the configured number of processes/threads to be above the computed number of listener buckets (depending on the CPU cores).
0d4cb3f log the command-line before invoking the log client
fba4818 Fix one missed s/tab/space/
a2e729b s/tab/space/ Remove empty lines
c1235fe Style
dc87b83 Fix link
49fd895 Silence build warning about missing prototype. Followup to r1629507.
71af357 event: Fix worker-listener deadlock in graceful restart caused by get_worker() allocating new worker after ap_queue_info_term(), but not setting the have_idle_worker variable. PR 56960.
0b98be8 event: have_idle_worker must not be cleared in every listener_thread iteration. Fixes bug when workers were not stopped after graceful restart (introduced in r1605328).
969311b update Japanese translation for r1628084
31342ca Follow up to r1629372 and r1629485: ensure compatibily with OpenSSL < 1.0 (sk_OPENSSL_STRING_[num|value|pop] macros).
41c01c3 mod_cache_socache: Change average object size hint from 32 bytes to 2048 bytes.
5cbd89b mod_cache_socache: Add cache status to server-status.
25cb3ba Follow up to r1629372: ensure compatibily with OpenSSL < 1.0 (sk_OPENSSL_STRING_value).
642b0f1 Style
ecc3c81 Style
e40d0a6 Style
17fbce4 More style
5103a03 Style (mostly indent) remove a useless local variable initialization
4e564ce Rebuild.
e13d41c XML updates.
7cc9078 Move OCSP stapling information from a per-certificate store (ex_data attached to an X509 *) to a per-server hash which is allocated from the pconf pool. Fixes PR 54357, PR 56919 and a leak with the certinfo_free cleanup function (missing OCSP_CERTID_free).
1c96933 Xforms.
dad070a Partial mod_example to mod_example_hooks fix for korean docs.
3bc6a9a Adjust content of some docs file for the old switch form mod_example to mod_example_hooks.
9eec965 Rename docs files for mod_example_hooks.
a77484d Fix some comments and log messages: module was renamed form mod_example to mod_example_hooks long ago.
0049d76 Add docs for new directive SubstituteMaxLineLength in mod_substitute.
00b7a3e mod_substitute: Restrict configuration in .htaccess to FileInfo as documented.
c111e4a mod_substitute: Make maximum line length configurable.
22763a8 Add CHANGES for r1628104. (mod_substitue: Fix memory limitation in case of regexp plus flatten.)
8cf87cc Adjust Certificate Transparency support (mod_ssl_ct) to build with/require OpenSSL 1.0.2 Beta 3.
b08e8cb reword/reorg/simplify based on recent feedback.  - don't worry about how multiple IP addresses map  - simplify the description of why you might use an IP address in <virtualhost  - move the note below the last paragraph
430892c ab: Use only one connection to determine working destination socket address.
358075b mod_substitute: Fix memory limitation in case of regexp plus flatten.
aca665c Fix syntax highlight
3493fd3 backported
84d85f6 mod_cgi: log cgi script stderr to ScriptLog, use APLOGNO for log_scripterror errors.
79a0532 ab: try all destination socket addresses returned by apr_sockaddr_info_get instead of failing on first one when not available.
f1c62e5 use actual error code in AH00779
33320d8 Improve CHANGES description
40cc356 Content-Length header should always be interpreted as a decimal. Leading 0  could be erroneously considered as an octal value. PR 56598. [Chris Card <ctcard hotmail com>]
a9c4c3a Concat string at compile time when possible. Doing so, sometimes also give the opportunity to turn a 'ap_fputstrs' into a 'ap_fputs'. PR 53741
c8aadf8 prepend 0
e5cf776 oops... prepend 0
b30b4c3 Fix a cmake compatiblity issue related to quoting with cmake 2.8.12 and later.
0c1468c Rebuil.
8d7dc26 XML update.
c157a02 mod_status should honor remote_ip as documented
2fa69ec SECURITY (CVE-2014-3581): Fix a mod_cache NULL pointer deference in Content-Type handling.
b101e8d Rebuild.
1755dc9 XML update.
4380369 ab: increase request and response header size to 8192 bytes, fix potential buffer-overflow in Server: header handling.
9f97d75 Rebuild
68aec1d Rebuild 'advanced' doc
d04e772 Note to self
46925d5 Remove example that doesn't actually work
52a0e0d Typo
2785b00 Silent some cppcheck warnings.
266da2f Fix NetWare build: set NLM version with commandline option instead of linker def file due to bug with mwldnlm linker where patch version > 26 is ignored from def file.
0917970 these are backported
f418870 PR56729: mod_reqtimeout gets confused when it sees a read via check_pipeline() just before a slow HTTP response completes.
f117616 Fix sscanf format spotted by cppcheck. Improve alignment. Untested.
3bd80da Fix printf format spotted by cppcheck. Untested.
074c9cc Might as well make it 256 and be done w/ it. The extra bytes are moot nowaways.
b8574b7 These are more than debug errors...
527acb8 Correct loglevel.
6be32ac PR53218 Allow for longer worker names and make truncation a non-fatal error...
d429875 Make up-to-date
abb1385 Omitted from r1620926 in error.
b86c933 Add API to support TLS channel bindings with mod_ssl.
3bd9755 worker MPM: Fix null-dereference crash when using -DFOREGROUND with worker MPM
7dd1f3d Fix typo in comment.
5002fd1 Switch preference for headers, Transfer-Encoding first, Content-Length second.
d144194 fix props and update transformation
808ae02 xform
9da0dd0 remove incorrect compat info from trunk
5bff6e4 Rebuild.
a30201f XML update.
31fffa6 don't let handlers start with r->status = 304 during a failed revalidation
2b94587 mod_deflate: - fix signed/unsigned (int/size_t) comparisons, - add consume_buffer() to factorize code used multiple times, - cleanup passed brigade (don't rely on next output filters to do it).
681606b mod_deflate: follow up to r1619444.
6d3f422 mod_proxy: add missing APLOGNOs.
eb92745 mod_deflate: follow up to r1619444.
3093948 leave a hint while scrolling through inflate() calls
5cffb8a mod_deflate: follow up to r1619383.
18bc74d A misplaced check for inflation limits prevented limiting relatively small inputs.  PR56872
5b8c158 Missing va_end spotted by cppcheck
dcd69d3 Fix typo noticed by GilDawson
d952a09 PR56870: authzprovideralias-defined authz provier can't be used in a virtualhost
89b58e8 Follow up r1617201: Return EPERM if the uid is not root on chroot-ing.
477c206 mod_systemd.xml: delete application/xml property
1a3f433 mod_systemd: Use AP_SIG_GRACEFUL instead of SIGWINCH.
c14c0ab mod_systemd: Add IdleShutdown - number of seconds in idle-state after which httpd is shutdown. This is useful in a combination with socket activation. Add mod_systemd documentation.
c2372b9 prefork: Ignore SIGINT in child. This fixes race-condition in signals handling when httpd is runnning on foreground and user hits ctrl+c. In this case, SIGINT is sent to all children followed by SIGTERM from the main process, which interrupts the SIGINT handler and leads to inconsistency (process freezes or crashes).
dc6cbed Avoid useless warning message when parsing a section guarded by <IfDefine foo> if $(foo) is used within the section. PR 56503
7e9b8a0 mod_proxy_fcgi: Fix faulty logging of large amounts of stderr from the application.
b19b5a5 * support/ab.c: Fix crash caused by integer overflow when printing stats with lot of requests (for example -n 500000000).
cd50376 geteuid is always successful, so remove errno reference.
4e5e8a3 unixd_drop_privileges and ap_unixd_setup_child are almost the same, so let's remove the redundant code.
b2e9e97 PR56832 -- mod_ratelimit reports at ERROR level everytime a lower-level filter encounters an error. Since the core output filter only emits TRACE1, a higher level filter shouldn't log the same condition as ERROR.
660ea11 Some changes for mod_authnz_fcgi doc.
7b3b859 Generated doc changes.
b9dc022 use /var/log instead of /var/logs in examples
3535416 PR53420: Proxy responses with error status and "ProxyErrorOverride On" hang until proxy timeout.
fb0ad3f Turn some APR_BUCKET_REMOVE(e)+apr_bucket_destroy(e) into the equivalent apr_bucket_delete(e) to reduce code verbosity
695d4cd * acinclude.m4 (APACHE_CHECK_SYSTEMD): Actually use $PKGCONFIG, duh.
81eecb0 * acinclude.m4 (APACHE_CHECK_SYSTEMD): Check first for libsystemd   with pkg-config since libsystemd-daemon is deprecated upstream.
d91f672 * configure.in, acinclude.m4: Move systemd check to APACHE_CHECK_SYSTEMD   and use pkg-config where available.
86b6547 Fix typo spotted in comment #2818
79fdc9c Rebuild.
fd2dd38 XML Updates.
a29cb3f In 2.4.10, AuthLDAPBindDN might not be used for some LDAP searches, causing LDAP authz failures if AuthLDAPBindDN was able to search through more of LDAP than web users.
d754154 no status during if_walk
bf37b5e call out some variables that aren't set during <if>
3b7584a mod_proxy_wstunnel: Concurrent websockets messages could be lost or delayed with ProxyWebsocketAsync enabled.
d33346f xform
9fec8dc two commenters were confused authnprovideralias providing special config to authz providers
20dc474 Minor mmn bump due to r1612940.
04819b5 Fix syntax error introduced in r1612921.
700dd72 Re-introduce check for sufficient PCRE version.
1aa6158 Forgotten file needed for r1612934.
92af05a Note/update some requirements versions.
7630dd5 Fix obvious errors. Probably the rest of the file is outdated as well.
8e18f1a Add compiled and loaded PCRE version numbers to "httpd -V" output and to mod_info page.
165f9ff Check for correct minimum PCRE version in configure, do not check in source code.
0d2710e Clarify comment.
118e193 Switch from lua_objlen() to Lua 5.2 preferred lua_rawlen(). Define lua_rawlen() in terms of lua_objlen() when building against older Lua.
a411556 Remove APLOG_NOERRNO. This was intoduced in r1418677.
6ba037e Remove APLOG_NOERRNO. Add some APLOGNO. Fix some alignment.
dca1da2 Add message numbers to mod_ssl_ct messages with severity > debug.
a12e172 Rebuild.
8d850de XML update.
56d0c25 Add missing APLOGNO. Refactor some lines to keep APLOGNO on the same line as ap_log_error, when applicable. Split lines longer than 80. Improve alignment.
cb675cd Add missing APLOGNO. Split lines longer than 80.
654889c Add missing APLOGNO.
3a25c51 Add missing APLOGNO. Refactor to keep APLOGNO on the same line as ap_log_error, when applicable.
ac8e58d Rebuild.
d932f42 XML update.
8e20c76 Fix comment. Remove @file and @brief from within the @defgroup to be consistenbt with doxygen comments from other files.
f791c1b Move comment from .c to .h in order to make use of it in doxygen. Fix the comment that states that these vars are NULL on ASCII machine, they seem to be undefined instead. Rework some comments.
bd1bd0e Improve doxygen comment.
15415bf Improve doxygen comment.
089d2e0 Do not use deprecated define.
9c7dcf3 Improve doxygen comment.
171febd port latex-build fix from 2.4
b1ce747 update transformation
08e2796 fix properties and xml validity
2c676c9 mod_lua: Don't quote values in cookies; Make IE happy again [#56734]
5c5e8b7 mod_deflate: don't require <limits.h> by using APR_INT32_MAX instead of INT_MAX.
a0f1a90 Silence compiler warning: mod_authnz_fcgi.c:580:44: warning: 'orspbuflen' may be used uninitialized in this function.
49c60b3 Fix typo spotted by Mike Rumph
839ae09 Fix all errors related to apreq in doxygen processing. Remove useless comment. As far as I have tested (with dox 1.8.6), it works as described in doxygen doc.
ee7c864 mark async websockets tunnel stuff as experimental
538a5b9 record for posterity why some 2/3-char formats begin with a funny caret.
a6a5a4d Add SORT_GROUP_NAMES=YES inorder to ease navigation in generated doc.
d9bf1fb Improve doxygen comment.
3d737ac As noted by Yann, this resulted in a dead var assignment.  Preinit won't work due to the fact that we overload rv as both the DWORD windows result and the apr_status_t result code.
78b2f62 Improve doxygen comment.
4832755 Improve doxygen comment.
dd79305 mpm_winnt: Accept utf-8 (Unicode) service names and descriptions for internationalization.
ec69073 General whitespace cleanup, error message normalization, and style conformance for 80 character folding and legibility.
8737793 Fixed mod_ssl NetWare build.
53e360c Added missing export for proxy module. Submitted by normw at gknw net.
d8d5458 Remove backported item.
8cc5e00   *) SECURITY: CVE-2013-5704 (cve.mitre.org)      core: HTTP trailers could be used to replace HTTP headers      late during request processing, potentially undoing or      otherwise confusing modules that examined or modified      request headers earlier.  Adds "MergeTrailers" directive to restore      legacy behavior.
3b36579 fix logic in ap_method_list_(add|remove) in order:        - to correctly reset bits        - not to modify the 'method_mask' bitfield unnecessarily
1a607a9 Suggestion from Rick Houser -- for compatibility, pick an unusual character as the first character in a 2/3 character pattern.
ef106e7 allow two character mod_log_config formats
bb2749f SECURITY (CVE-2014-0117): Fix a crash in mod_proxy.  In a reverse proxy configuration, a remote attacker could send a carefully crafted request which could crash a server process, resulting in denial of service.
42bcf81 SECURITY (CVE-2014-3523): Fix a memory consumption denial of service in the WinNT MPM used in all Windows installations. Workaround: AcceptFilter <protocol> {none|connect}
66989ec Add missing APLOGNO + fix a typo in a comment
c0be5ab SECURITY: CVE-2014-0231 (cve.mitre.org): Part two of two, with r1535125:
6346ece   *) SECURITY: CVE-2014-0118 (cve.mitre.org)      mod_deflate: The DEFLATE input filter (inflates request bodies) now      limits the length and compression ratio of inflated request bodies to avoid      denial of sevice via highly compressed bodies.  See directives      DeflateInflateLimitRequestBody, DeflateInflateRatioLimit,      and DeflateInflateRatioBurst.
b2605d2 SECURITY (CVE-2014-0226): Fix a race condition in scoreboard handling, which could lead to a heap buffer overflow.  Thanks to Marek Kroemeke working with HP's Zero Day Initiative for reporting this.
5b6b58b Simplify code.
b854d7e Remove some 'register' in variable declaration.
3e6f39a Remove some 'register' in variable declaration. Save a few cycles by calling 'apr_isalnum' instead of 'apr_isalpha' and 'apr_isdigit'.
7cf93d2 Remove backported item.
f66a511 mod_journald: New module implementing error_log provider for systemd-journald.
4b7b9cd remove entries for recently backported changes
3c4f5a1 Avoid C99 idiom. Followup to r1604466.
5f7ec54 Extend the scope of SSLSessionCacheTimeout to sessions resumed by TLS session resumption (RFC 5077).
7133df4 Add CHANGES for r1610207.
3e3b468 Forward local IP address as a custom request attribute like we already do for the remote port.
732d1dc Sync version info in DH parameter doc with 2.4.x branch (r1610014).
6f8dfb8 Include any error notes set by modules in the canned error response for 403 errors.
070d667 Set an error note for requests rejected due to SSLStrictSNIVHostCheck. This allows custom error documents to include the specific reason for denying access to the server.
fe07b16 Perform SNI checks only on the initial request.  In particular, if these checks detect a problem, the checks shouldn't return an error again when processing an ErrorDocument redirect for the original problem.
c37d459 bump mmn because of r1609680
058348d mod_proxy: better check for worker->s->is_name_matchable
c0a52f1 mod_proxy: add ap_proxy_define_match_worker() and use it for ProxyPassMatch and ProxyMatch section to distinguish between normal workers and workers with regex substitutions in the name. Implement handling of such workers in ap_proxy_get_worker(). PR 43513
826fa68 Rebuild.
57bc570 XML Update.
4f08f40 Fix C99 (or later only) comment.
55c2568 s/apr_pstrndup/apr_pstrmemdup/ to save a few cycles
39a3cbb clarify a comment
e571589 backported
ab3866d * server/listen.c: return -1 in find_systemd_socket on error
5409c25 whitespace changes only
4eff9ee * server/listen.c: detect systemd socket activation using sd_listen_fds(), drop the support for "Listen systemd" and use standard Listen syntax instead.
48d05b9 Follow up r1608686, pass process to alloc_systemd_listener.
3d6f0d2 * server/listen.c: duplicate sockets correctly when using systemd socket activation, fix addrlen in getsockname() call.
f61bb82 The SNI callback already logs a debug message when the vhost is found or no vhost matches.  Log one when no name is provided by the client.
784d92f Consolidate common code that got duplicated by 2.3.x authz refactoring.
d6509fc Rebuild
3e1a109 XML Update.
6185eea xform
2eaa646 make LDAPConnectionPoolTTL more conservative, use r->request_time rather than end-of-request time, and only update it after a round-trip with the LDAP server rather than every time we check back into the pool.
0ff069d Follow-up to r1606368: HANDLE is PVOID which is void * (fix format string)
ccb1c51 mod_lua: Remove dead code left over from the old code cache.
71916e1 Follow up to r1527220/r1588852:
0484344 Follow-up to r1593860: Fix build breakage on non-syslog.h platforms.
2d53bf1 APR_THREAD_FUNC decorator needed for 32-bit builds on Windows
572b979 Update transformations.
3d83bde Revert r1601943, r1602058, r1605307 (socket callback returning pollfds) Revert r1605369 (wstunnel refactoring)
e4738df Update transformations.
6d9fb27 - ignore <br> inside <dd> too, since ab.xml is using that,   though it's kind of wrong
cfce238 - note tweak to DH parameter sizes used in r1605827;   dropped the date reference here since it would no longer   be accurate.
eb681e6 * modules/ssl/ssl_engine_init.c: Make DH handling a bit more generic,   and adjust selection logic to prefer use of larger not smaller keys.   (init_dh_params, free_dh_params, modssl_get_dh_params): Use array of   structs to store and initialize DH parameters up to 8192-bit.
f5335ad remove some entries now present in the 2.4.x branch
83aea4a Async mod_proxy_wstunnel: Resume a client connection from SUSPENDED state to avoid the connection remain suspended.
ffc5802 Refactor asynchronous mod_proxy_wstunnel using pollfd returned by MPM. r1601943 and r1605307 made Event MPM return woken pollfd, so async wstunnel doesn't need its own apr_pollset_poll.
b63e4f9 event: minify local variables scope.
eee719b follow up r1601943: Each apr_pollset_poll modified *out_pfd, so we need to copy it.
0c20942 Use ap_remove_input_filter_byhandle instead of duplicating the code.
9be0156 followup to r1604350, move the c->sbh assignment to immediately before the socket is added to the timeout queue. Technically not needed because we hold the lock on the timeout queue, but more consistent with other blocks that leave the thread.
303f962 Follow up to r1604336: Comment out hooks whose only references are now commented out, fixing a "-Wunused-function" warning
9cdfdd3 Rebuild.
6e17860 XML Update.
fc4c848 Rebuild.
434083c XML updates.
e45084f Add some compatibilty notes for some options of "support" applications
520e7a1 event: Avoid timer's mutex two successive locks/unlocks with unrelated (and optional) work in between.
62121b1 Follow-up to r1601076:
52d5055 event: follow up to r1604347. Don't leak the timer event when it is cancelled.
b488bf2 doc xforms
1db4f76 Follow up r1573626 with some wordsmithing, a compatibility note, and indentation.
4f6f4c8 fix c++/c99 comment
16e3fcd be more general
191be1b missed a case in r1538490:
83b56e8 Do not call a timeout callback after the asociated socket woke and the socket callback was called. PR 56642
0ac4c9d Revert early|late argument for LuaHookCheckUserID as it does not work right now.
33ef4d6 * modules/ssl/ssl_engine_init.c (make_dh_params): Remove redundant   temporary variable; no functional change.   (free_dh_params): Add comment.
ff4ff27 Use unsigned bit flags (otherwise the non-zero value to be used is -1).
98bba83 Remove backported changes.
c704cdb Add missing CHANGES entries for r1572655,1572663,1572668-1572671,1573224,1586745,1587594,1587639,1590509, r1572092, and r1572896,1572911.
aa5ca97 mod_proxy_fcgi: follow up to r1592032.
e22212a Reindent after small fix in r1603027
d6d845c Fix bug introduced in r1591508 which resulted in the final empty FCGI_STDIN not being sent.  Interaction with latest uWSGI (and probably other protocol implementations) breaks without this.
ec95d72 mod_proxy: Don't limit the size of the connectable Unix Domain Socket paths. Since connect() to UDS path is used at several places, introduce ap_proxy_connect_uds() in proxy_util.
45c913c Core filters do not need mod_proxy.h
5d05482 Fixed unused "ap_listen_rec *lr;" in prefork_run().
d2e9cc1 Mark all unused/duplicated/closed child listeners as inactive. Fix unused "ap_listen_rec *lr;" in worker_run().
4fd8828 html build
8ffc70f metafiles
60a11d4 Example of loading mpm with LoadModule, and what happens when you do it wrong.
a75326c Rebuild
2cc5d29 Markup errors.
b22fa20 <page> not valid in this context.
7fa89c6 More relevant links in the getting started doc.
3f68478 Stray whitespace
42031ba Should probably move this to something on the docs-project website so that someone other than me ever actually looks at it.
bf65444 Start slogging through the STATUS file again
ea32160 Rebuild
e3a98b4 Kill the "IE on Mac" example. Replace with simpler example.
637f263 revert 1602523, until there is understanding about what the actual issue and "requirement" are.
46ba7ba Apply patch to spanish error messages, from PR 56214 (Thanks Javier Llorente)
044061e Rebuild quickrefs
961d71c Rebuild.
4ba9fab XML Updates.
465a262 Rebuild.
229b182 XML updates.
273671f style fix, no functional change.
74820df Allow for "magic" scheme "auto" which makes the scheme of the backend worker match whatever the scheme of the incoming request was...
6ab8d6c mod_proxy_fcgi iobuffersize support in 2.4.x via r1601749
de08177 eventMPM: fix SEGV in the case socket callback was registered and no timeout function was registered.
3bda0de Fix PR 56480: PROPFIND walker doesn't encode hrefs properly
2d240e9 Follow up r1601943: Fix typo. No functional change.
66b5e48 fix AP_IS_DEAULT_HANDLER_NAME
0e4cf76 Socket event callback now takes pollfd. User (e.g. mod_proxy_wstunnel) can know which socket is ready.
c14ecfa mod_ssl: dump SSL IO/state for the write side of the connection(s), like reads.
5c063de mod_sed: Reuse ctx->bb in sed_response_filter() and be safe with its reentrance. The single return point helps to not duplicate cleanup code.
bc39e11 mod_sed: Avoid the call to APR_BUCKET_REMOVE() + apr_bucket_delete() on the same bucket. Also, empty the input brigade while looping to avoid the trailing apr_brigade_cleanup() call (no functional change).
ec2a594 Fix ab's r1601076 changelog credits.
15e049f Add ab's r1601076 changelog.
3dd42c0 mod_proxy: follow up to r1601291.
9614c0b Strip useless apr_brigade_cleanup() calls.
854c7a5 * apr_status_t vs HTTP status code fix * use APR_STATUS_IS_ENOTIMPL rather than direct comparison
a310a09 Private function doesn't need ap_ prefix.
79df7ef follow up r1599012: C99 fix
ddf6efd follow up r1599531 and r1599593: C99fix
0ccd60d Remove one backported change.
2c7046c simplify/clarify that negation operates on an entire condition and not on the regex or the special test conditions. Comment #1291.
5cc5869 mod_proxy: Shutdown (eg. SSL close notify) the backend connection before closing.
bac2d32 Revert r1601285 and r1601283. Shouldn't have commited the latter without disussing it on dev@. Since the former creates upper APLOGNOs, revert and then recommit with the reverted next tag number.
9f43505 mod_proxy: Shutdown (eg. close notify) the backend connection before closing.
3c091e0 eventopt: fix duplicated APLOGNOs.
a33106b core: Update empty log tags.
ec3eebe mod_ssl: SSL_smart_shutdown(): follow up to r1601184. Use SSL_get_wbio() to comply with OPENSSL_NO_SSL_INTERN. Stop SSL shutdown loop when flush fails.
ff0963e mpm_event[opt]: Send the SSL close notify alert when the KeepAliveTimeout                 expires. PR54998.
6502fec mod_ssl: Ensure that the SSL close notify alert is flushed to the client.          PR54998.
899a843 -MPMs event & eventopt: child listeners are used in ONE_PROCESS mode too.
9f9dc4c -MPMs prefork & worker: avoid segfault with SAFE_ACCEPT in ONE_PROCESS mode.
f0f9b0b ab: support custom HTTP method with -m argument. PR 56604. Example: ab -n 1 -m PING http://127.0.0.1/
81075f3 Typo
e91b910 fix restart issues
7a7fee0 generated changes
2ab48f7 Fix spelling and grammar errors.
0db7bad generated changes
81d1931 Remove redundant paragraph and fix grammar errors.
0fd8b1a generated changes
59c3182 Fix URL in doxygen comment. Previous link was broken.
58dfcff Fix spelling and grammar errors.
e0c5518 Generated files from doc build.
178d302 Fix URL in doxygen comment. Previous link was broken.
a5f6009 Fix r1593665 where I miss read the code and what is performed in "header_inout_cmd()" where arguments are "shuffled" according to the "action" to be performed.
db0457b Break out common code to be share-able
f3fbdef fold in performance hack from eventopt
a80b326 Update eventopt w/ bucket listeners
cdf5c05 Now allow MPMs to call ap_log_common()
55701bd We really need some place where we can place a whole bunch of data/info-that-should-be-logged-by-all-mpms.
4b7a5ec Remove backported changes.
d3ce42f Don't try to assume the value of SO_REUSEPORT...
eae80e9 add GlobalLog directive to allow a diagnostic log to be inherited by all virtual hosts, even if they define their own logs.
c539206 Optimize w/ duplicated listeners and use of SO_REUSEPORT where available.
f1a9de3 mod_proxy_http: avoid (unlikely) access to freed memory.
48faa0d ignore
f0879f7 mod_proxy_html: support automatic doctype detection. PR 56285 Patch by Micha Lenk, adapted by niq
77b2e2d Syntax highlight
e0cf707 mod_proxy_html: skip documents < 4 bytes PR 56286 Micha Lenk
997d4cc SetHandler only has one parameter + reflow a sentence to synch  with 2.4.x
68b5600 Fix computation of the size of 'struct sockaddr_un' when passed to 'connect()'. Use the same logic as the one in ' in 'proxy_util.c'.
3df7e3e update Japanese translation
51dedb5 Rebuild.
a8bbb61 XML Update.
8dd2b04 Rebuild.
d627545 XML update.
8db453c copy AllowCONNECT Japanese translation from mod_proxy.xml.ja and some updates.
147c51b Doxygen fix + alignment + typo
f176f5d Fix typo spotted on online doc by Louise Hope. #comment_2558
d3eac27 Create DH parameters from OpenSSL at module init, avoiding (very minor) race and leaks:
6bf7e3d xform
a24fae2 fix typo -- comment 2561
04737f0 Rename module name in doxygen + partly revert r832442 which skipped doxygen doc generation for 'mod_watchdog.h'
ae73522 Doxygen fix + reorg to match how other header files are built
66dc61a mod_cache: try to use the key of a possible open but stale cache entry if we have one in cache_try_lock(). PR 50317
a902bda * Give ap_proxy_post_request as chance to act correctly on the status code   by setting r->status temporarily to access_status. r->status might be   different than access_status e.g. r->status could be HTTP_OK if e.g. we   override the error page on the proxy or if the error was not generated   by the backend itself but by the proxy e.g. a bad gateway.
3adb3b8 * Hand out the same DH structure in ssl_callback_TmpDH set by   SSL_CTX_set_tmp_dh_callback though once generated as we leak   memory otherwise and freeing the structure up after use would be   hard to track and in fact is not needed at all as it is safe to   use the same parameters over and over again security wise (in   contrast to the keys itself) and code safe as the returned structure   is duplicated by OpenSSL anyway. Hence no modification happens   to our copy.
95e5bb2 update transformations
eb0f579 update Japanese translation for r1597021.
58dedee Save a few bytes of memory. This can be done in temp_pool.
d2ac399 Rebuil.
2c985ff HTML updates.
06d17a3 XML Update.
30aedee XML Updates.
ce5d847 follow up r1387612: All current windows have functionality of windows service, so remove the redundant phrase.
f1e916c merge r1537109 from 2.4(!):
d0edc26 the fixup hook should log (what is expected to be) local path just like the translate name hook, for a small hint when debugging 400 errors set just below
be214c0 Fix typo spotted on online doc by Gerard H. Pille.
ff891df update transformations
154be17 update Japanese translations
c92b3ce update Japanese translations
3f5cac5 update Japanese translations
9e2fee2 I don't know why, but the revision refernce is wrong. fixed.
41f3d93 Updates.
c337ba0 Update.
d4f8263 rebuild
4292178 Add version number in <title> as proposed by Louise Hope in online doc.
8a9812f Fix typo spotted on online doc by Markie.
2d01df1 Fix duplicate APLOGNO
d7cbd98 update transformation
e73268d xforms
048df00 Follow-up to r1588987:
02d9ad3 Second try adding mod_dumpio.html.fr.
f5bdae7 Rebuild.
819d369 Readding french translated mod_dumpio.xml.fr file.
7984959 Deleting htmlonly mod_dumpio.html.fr file
cf355d5 Rebuild.
f841fba mod_dumpio.html.fr is not registered, so rebuild from zero
8ca86c4 Rebuild.
d77613c Update.
7b7b7b5 New french translated html file.
519f6f3 Update.
b9f5e30 Rebuild.
d0e3aa9 New french translated xml file.
405a3ab fix transformation (dumpio.fr is not there (yet?))
110e9bb HTML build.
b4853bd Update.
3c62f65 Update.
aca76e8 Update.
17b0708 Updates.
cda1d2e Update.
6bd17d8 Fix typo as spotted in a comment in online doc by JPKole
16d0a0f Update.
f8b6c9a Update.
acd1570 mod_socache_shmcb: Correct counting of expirations for status display. Expirations happening during retrieval were not counted.
799c4a1 Add missing variables: Introduced in r1132494    CONTEXT_PREFIX    CONTEXT_DOCUMENT_ROOT and since the beginning of util_expr_eval.c  for    HTTP_COOKIE
80e41b5 Tweak a AP_DEBUG_ASSERT condition. Valid index to use 'req_header_var_names' are 0...6
f17e7e5 * Correctly escape user provided data.
56da5cb Ensure that min/max valid timestamps (milliseconds since the epoch) make sense:  no negative numbers, and require an input of "-" instead of "0" to indicate that the timestamp isn't being provided.
be383e6 mod_cache: follow up to r1594643.
baf4f92 mod_cache: follow up to r1591328.
f063241 mod_proxy_wstunnel: Fix the use of SSL connections with the "wss:" scheme.                     PR55320.
cdbefd7 Updates.
9fab2b2 Remove entry for r1583175 and r1593745, now in 2.4.x branch
ebd3ed2 Fix some comment typos
23f7d1f Updates.
16bd7d0 Based on report from Ken Zalewski, on online doc.
fba6779 PR56333: Add an API to resume a connection that a handler has previously suspended.
d758951 Extend the socket callbacks in event to allow a timeout on the I/O callback. When a socket callback has a timeout, an associated timer event is used to remove the sockets from the pollset and call a timeout function.
8b7d9aa stop setting context info for AliasMatch. These concepts do not really map well/reliably to AliasMatch.
c8c7b7b Minor visual improvement. Remove useless link.
e415edb - Add missing links - Fix extra ] spotted in online doc by emigas. - Remove another ] introduced in Hearder syntax in r1588244 - s/variable/varname/ to match the text below it. - Turn the syntax of both Header and RequestHeader to be:    header [value [replacement [early|env=[!]variable|expr=expression]]] in order to match the code. This removes the ambiguity of expr=<something> which can now be used in 2 different places in the syntax. - Also remove the space in 'expr= value' in compatibility note, to help distinguish between the two
e8b1943 remove some entries for backported improvements
fb5675a mod_dav: Fix invalid Location header when a resource is created by passing an absolute URI on the request line.
094e748 fix Doxygen markup error
65341f9 Follow-up to r1592529:
dafc97a mod_proxy_scgi: Support Unix sockets.
a306773 Clarify an existing requirement of the server_portstr parameter to ap_proxy_determine_connection(): it must be a buffer of at least one byte in size.
19b5b85 reformat only (get rid of unnecessary block scope)
c857194 now understood why users haven't reported the segfault (yet) when mod_proxy_fcgi can't connect to the application
8d404fb rebuild
22bdf46 Fill in various blurry areas reported on the certificate-transparency forum.
89d29d4 rebuild docs
a8b72c1 mod_proxy_fcgi: Fix occasional high CPU when handling request bodies.
31dab16 better diagnostics for failures during dispatch()
6943aaa Now in https://svn.apache.org/repos/asf/httpd/mod_spdy
1d75760 fix LastChangedRevision
5dac70c mod_proxy_fcgi: Support iobuffersize parameter.
cc065db Axe unnecessary memset() calls and allocating an extra byte in an I/O buffer for '\0', which hasn't been needed since a strstr("\r\n\r\n") was removed in r371428.
54f9353 mod_ssl: follow up to r1583191.
308f061 mod_cache: follow up to r1591390
f33d682 mod_cache: follow up to r1591322
4d2d2c5 mod_cache: Preserve non-cacheable headers forwarded from an origin 304            response. PR 55547.
0e28401 mod_cache: follow up to r1591320.
75e24df mod_cache: Don't add cached/revalidated entity headers to a 304 response.            PR 55547.
241c1c3 Revert r1591312 (again) to commit the 2 fixes separately.
676b474 mod_cache: Don't add cached/revalidated entity headers to a 304 response.            PR 55547.
6eaa07d Rollback r1591302, wrong file commited.
f3ec657 mod_cache: Don't add cached/revalidated entity headers to a 304 response.            PR 55547.
c9c010f Updates.
0553f1a Add missing links
498767f Correct typo as spoted in a comment in online doc
e7e04ce Correct typo as spoted in a comment in online doc
5a9869a Correct typo as spoted in a comment in online doc
e14c0e4 mod_cache: Retry unconditional request with the full URL (including the            query-string) when the origin server's 304 response does not            match the conditions used to revalidate the stale entry.
1a64790 Properly escape the < and >.
6154377 Correct typo as spoted in a comment in online doc
9376a82 mod_authnz_ldap: Fail explicitly when the filter is too long. Remove unnecessary apr_pstrdup() and strlen().
ecec06f Correct typo as spoted in a comment in online doc
a488934 Correct case as spoted in a comment in online doc
e7b2b05 Fold in mod_spdy source NOTE: THIS IS THE INITIAL LOAD OF THE SRC AS-IS AND AS DONATED
640b58a Correct according to the comments in online doc
f96bc81 mod_deflate: follow up to r1587639. Don't break the looped brigade when moving the FLUSH bucket to the returned bb and continue reading.
eb9b6af mod_proxy_fcgi: Don't segfault when failing to connect to the backend.
889b57e Correct port number in example as spoted in comment in online doc
b469a3d Updates.
ed0952e Correct links as spooted in comment in online doc
d9b0683 s/=/==/ as spotted in comment in online doc
d0e4987 Updates.
1c88c53 Only include the ldap escaping if present within APR.
84358db Add the ldap-search option to mod_authnz_ldap, allowing authorization to be based on arbitrary expressions that do not include the username.
7c05d5e Add the ldap function to the expression API, allowing LDAP filters and distinguished names based on expressions to be escaped correctly to guard against LDAP injection.
a5d7939 Follow-up to r1587607: Export new mod_ssl APIs when using traditional Windows build mechanism
0503410 minor improvements
075cd89 Follow up to r1384924 .
e617863 tweaks to grammar and markup
4921c23 allow operation without any logs configured or without the log client tool configured
d4515e5 ensure that the post-config hook runs after that of mod_ssl
6c157b5 rebuild CT docs
7ed8da4 more Certificate Transparency docs
df6572d rebuild docs (add mod_ssl_ct & ctlogconfig)
66ebfff fixes for validate-xml, fix properties
828ae2e follow-up to r1588987: Support build of mod_ssl_ct on Windows
06189fe back to c89
c51e4d9 Add module mod_ssl_ct, which provides an implementation of Certificate Transparency (RFC 6962) for httpd.
723c099 rebuild
108cef1 Updates.
4af211f Initialize post_handshake_rc for case where a failure has already occurred (doesn't change execution but avoids warning with some levels of gcc).
4ed59c4 Typo in comment
6f1eb11 in 2.4.x as of r1588496
afe9fee ssl_stapling_init_cert: do not return success when no responder URI is found stapling_renew_response: abort early (before apr_uri_parse) if ocspuri is empty
053a9e5 Better self document code
eced8a0 ssl_callback_TmpDH: for OpenSSL 1.0.2 and later, set the current cert to the one actually used for the connection before calling SSL_get_privatekey(ssl)
3a7ef57 mod_lua: stop complaining
360c8f3 r1494157 from eventopt for event, per sf's review comments.
e1f073c mod_lua: Use binary strstr for finding endpoints of a multipart object. (How did this EVER work?! *sigh*)
7b95131 expr=value updates:  update RequestHeader syntax,  add compat to Header and RequestHeader
e31a8d2 Fix errors with CacheLock on Windows:
2aa898b strncmp(r->filename, "proxy:", 6) is faster than a note. Plus, allows for checking even if not due to rewrite.
9ba346e mod_proxy: Preserve original request headers even if they differ            from the ones to be forwarded to the backend. PR 45387.
d0659aa mod_proxy: follow up to r1588519: CHANGE.
987c973 mod_proxy: When ping/pong is configured for a worker, don't send or forward            "100 Continue" (interim) response to the client if it does not            expect one.
a3dca55 Move two variable assignments off the fast path.
0fca81d Also clear the error queue before calling SSL_CTX_use_certificate[_chain]_file (workaround for OpenSSL versions before 0.9.8h, see https://rt.openssl.org/Ticket/Display.html?user=guest&pass=guest&id=1513).
0c66e69 Merge r1585090 from trunk:
e081066 Grammar
af0cfb5 Prevent an external proxy from presenting an internal proxy in mod_remoteip.c. PR 55962.
cb0e087 axe entries for changes that are in 2.4.10-dev
c04bbf3 rebuild docs
94df4f4 tiny doc/Doxygen improvements
e95e03f Add hint about RequestHeader
15a2798 s/two/three/
dab01ee add change to makefile.win missing from r1588054
8b5e1ad Add mod_authnz_fcgi to traditional Win build
2cba644 whitespace changes only
7fd2491 followup to r1587036.
b7dc732 mod_deflate: Don't return gzip-ed data when reading FLUSH bucket in INFLATE              input filter, forward the FLUSH but keep reading should EOS/more              follow (should not happen, but mod_deflate won't fix it).
7c00e38 Follow up to r1587607:
f82af68 mod_ssl: Add hooks to allow other modules to perform processing at several stages of initialization and connection handling.  See mod_ssl_openssl.h.
59efbca mod_deflate: Delay INFLATE input filter's self removal until all the buffered              buckets are out (including EOS). PR 46146.
b4fd93a Add <compatibility> notes for changes made in version 2.4.5 (and one forgotten in 2.4.8)
b7d63d4 * support/rotatelogs.c (main): Prevent creation of zombies from   post-rotate programs.
6a3b9e1 renamed
88bcccd s/asynch/async
e6e6544 typo
17eb917 Add <compatibility> notes for changes made in version 2.4.7 + synch formating with 2.4.x
4becd93 several related mod_proxy_wstunnel changes that are tough to pull apart:
e255101 stop leaking websockets backend connections (trunk only)
4a3fe3b cleanup wstunnel error handling
a8b534d actually remove mod_reqtimeout, since the util_filter functions involved only manipulate c->input_filters no matter what we pass. We need to make copies of c->input_filters after, not before, it skips over reqtimeout.
5ab3364   *) mod_proxy_wstunnel: Don't pool backend websockets connections,      because we need to handshake every time. PR 55890.      [Eric Covener]
f1ea9af Add <compatibility> notes for changes made in version 2.4.8 + synch formating with 2.4.x
b01b9ff Updates.
ebcf0f3 Fix layout
3ee747a mod_deflate: update empty log tags.
f5ec1f9 remove stray character in comment
5512fa1 mod_proxy_http: Add detach_backend hook.
2cd0b69 be explicit, for now the 0 val is the default, but it's a likely candidate for someone to flip later.
0eb1b00 Attempt to make progress on PR39727/PR45023 blocking migration to 2.4.  Provide DeflateAlterETag directive to choose between 2.2 behavior, 2.4 behavior, or dropping ETag from the compressed representation.
bff3909 Add <compatibility> notes for changes made in version 2.4.4 + synch formating with 2.4.x
ae29713 Synch trunk with more detailed description in 2.4.4
1e9468c xforms
c8de84d Add <compatibility> notes for changes made in version 2.4.3 + fix some formating
4216292 This C-T: limitation was removed in 2.2.12 and retconned into CHANGES much later.
b65275e Reverse the order when merging global and vhost-level config arrays. Putting the vhost-level elements last allows overriding global settings (for the deprecated SSLRequire directive, the order is irrelevant, all of them must be met, cf. ssl_engine_kernel.c:ssl_hook_Access).
50ebf35 Only read "active" values from the key_files array. PR 56306.
cfd1eb1 Add <compatibility> notes for changes made in version 2.4.2
7775249 mod_proxy_fcgi: Fix sending of response without some HTTP headers that might be set by filters.
c26062e Fix our documentation to not show the expression in Require expr as quoted.
cb78bad Allow Require expr to work when the expression is quoted.
80d149d Fix PCRE_DUPNAMES check to find the header file for PCRE when PCRE isn't in the default includes path.
08346fc mod_auth_form: update empty log tags.
42e7a43 mod_auth_form: revert r1585431 (don't crash when no AuthFormProvider is configured). This cannot happen in trunk, 2.4.x needs authenticate_form_post_config() to be merged (r1531672).
c36332b mod_auth_form: don't crash when no AuthFormProvider is configured. PR 56351
ebe8d2a xforms
dd2cf7b trailing space doesn't work in a rewrite flag value
12563c4 bld break
911f522 add BNP flag to give control to the user on whether a space ' ' in an escaped backrefernece is decoded to a + (default) or %20. Useful if your backreference isn't going into the query string.
3cec311 Updates.
cbba0db Bring SNI behavior into better conformance with RFC 6066:
edbbc1a move a temporary table from r->pool to a temporary pool we've already allocated in order to avoid a longer lifetime than necessary for the table memory
fa91c90 axe unnecessary preparation for some other module using [ap_]connect_to_peer() and passing in its own module identifier
31c7aa3 Update SSLPassPhraseDialog directive docs to properly describe the new argument structure for "exec"-type programs, as introduced with r1553824.
678b982 Do not perform a p+= 7 that could go past the end of the buffer in case we find a 'content' without a corresponding '='.
ac219af Do not scan past the end of the buffer. If no terminating delimiter is found, just leave things as it is
a90035f Do not delete the wrong data from HTML code when a "http-equiv" meta tag specifies a Content-Type behind any other "http-equiv" meta tag. PR 56287 [Micha Lenk <micha lenk info>]
1f7ba7d Follup to r1584572: AcceptFilter was wrongly turned into a Windows specific feature.
34203dd Remove SSLOCSPUseRequestNonce OpenSSL-0.9.7 requirement (0.9.8 already required by httpd-2.4) and set availability to 2.5-dev until further notice.
8d70db3 SSLOpenSSLConfCmd is available since httpd 2.4.8.
deb7a70 Remerge r1584555 but without the changes on (un-backportable) SSLOCSPUseRequestNonce.
a4199b0 Revert r1584555 for the time being.
c62d927 Remove compatibility references to httpd < 2.4.
449ec5e Remove compatibility references to httpd < 2.4 and OpenSSL < 0.9.8
5fdbe79 Move entry already backported to 2.4.8.
28d1738 Follow up to r1584430.
df97e14 mod_expires: don't add Expires header to error responses (4xx/5xx),              be they generated or forwarded. PR 55669.
43fbd8b leave a warning about cc_out
ac734ce add CHANGES for r1584417
0bfd724 allow users to workaround the over-agressive backreference escaping by selecting the characters to escape.
0e37047 mod_ssl: follow up to r1583191.
df389cd provide an expression parser example that can control based on http status code, rather than just excluding locally generated errors.
7f73f8d try to clarify that "onsuccess" is for anything but locally-generated errors, the module behavior and the doc are equally painful for users.
6508ac1 mod_ssl: send OCSP request's nonce according to SSLOCSPUseRequestNonce on/off. PR 56233.
8ac4515 Fix segfault in mod_alias introduced in r1132494.
8db4e52 Describe issue with multiple OpenSSL installs
9f59d4c Update.
322ae11 s/comment/self-documenting/
e19c8aa don't log bogus rv
ccaaf93 Report OpenSSL directories in configuration summary
b689945 Add a note on t->r checking, as per Rüdiger's email.
29e243b mod_lua: Since c->notes is the only place where r will be NULL, we don't need to check a second time, since we'll never meddle with tables named 'notes'
d38e1b6 mod_lua: Redesign the table construction/access mechanism, so we pass on a struct with the request_rec, the table pointer and the table name instead of just the table pointer. This allows us to use the request_rec for logging/editing purposes, as well as inform the user which exact table in the request_rec was modified.
8ae663b mod_lua: Prevent HTTP Response Splitting by not allowing tables in the request_rec to be set with values containing newlines. This is a semi-ugly hack, but it will have to do until we find another way of setting these values.
2514105 mod_lua: escape key/value pairs when setting cookies to prevent header splitting with tainted cookies.
8ad0011 mod_lua: Reformat and escape script error output.
13c6e50 Rebuild
bee607f It does more than just a ProxyPass, but also looks at the HOST header, so this gives somewhat deeper insight into what the end result looks like.
e9630d9 rebuild
252dcdc * support/ab.c: Revert accidental version bump in r1580928.   (Although it seems likely this *should* have been bumped sometime    since 2006?)
31badda * support/ab.c (write_request): Avoid redundant write(,,0) preceding   the write() of the request.
4b7726b Suggest the 'require expr' syntax as an alternate way to do something.
575f6be mod_reqtimeout: Resolve unexpected timeouts on keepalive requests under the Event MPM. PR56216.
8feaa1f And use #error if we get past configure...
a0529d9 Check if PCRE_DUPNAMES exists at configure time
a9467ff typo fix
266b5a6 fix message number
8ae204c mod_lua: Actually check whether interpreting the base structure of a file works or not, don't just assume it works.
31ad0e2 mod_lua: be a bit more verbose in error logging.
6e69b3c Use 'apr_table_setn' instead of 'apr_table_set' when possible in order to save memory.
e2643b3 Use 'apr_table_setn' instead of 'apr_table_set' when possible in order to save memory.
845a77b Use 'apr_table_setn' instead of 'apr_table_set' when possible in order to save memory.
61c6390 Updates.
a42beba backported
5b3f22a backported
82e4ee7 mod_lua: Add a fixups hook that checks if the original request is intended for LuaMapHandler. This fixes a bug where FallbackResource invalidates the LuaMapHandler directive in certain cases by changing the URI before the map handler code executes.
7e88b3f Rebuild
231c982 Link AddHandler, SetHandler to docs
bcb01b6 Rebuild
1ce4ce9 Fixes weird syntax in example, and removes superfluos quote
b082ab8 Use the simpler Files syntax rather than FilesMatch
72889d1 A bug in some older versions of OpenSSL will cause a crash in SSL_get_certificate for servers where the certificate hasn't been sent.
cf78476 * This one is backported
98271b1 Rebuild
fb7eb09 Ensure that .lua.foo files aren't affected
d47b1c4 These are in 2.4.x
7c077f5 mod_authn_socache.c: fix creation of default socache_instance.
67a7eb9 update transformation
d50ebf1 fix spelling
43b91c5 make it clear that B is for backreferences
5587a2c update transformation
1b5312e Updates.
fe68360 Rebuild HTML
5021856 As per comment, removing quotes makes the example work
c82ccc8 Module identification
0559370 CVE-2014-0098 (reported by Rainer Canavan <rainer-apache 7val com>) Segfaults w/ truncated cookie logging.
577eaf2 Revert r1574518 to get 2.2/2.4/2.x all back in sync for a single fix
2a0f699 Add =~ and !~ to the table of comparison operators
30eb86f Add =~ and !~ to the table of comparison operators
82756fe ensure cookies have name/value
1598eac follow-up to r1562472, 1561262, and 1561923:
bbb35ff update transformation
dc969c7 xforms
2241e33 typo
cd304f4 Allow reverse-proxy to be set via explicit handler
fcdb670 update transformation
1e9f5c9 mod_proxy: Add comment and avoid ternary operator as condition (no functional change).
146a8d0 mod_deflate: when consuming zlibs flags, APR_INCOMPLETE implies no more bytes available.
e387e13 backported
9cd82a6 Update.
d29ce4b mod_proxy: follows up r1572630. Don't reuse a SSL backend connection with no SNI for a request requiring SNI.
bd82e79 mod_deflate: follows up r1572896. Be safe from successive or post end-of-stream flush buckets.
14f9156 core: avoid a double apr_time_now() call on the first succeeding read.
6175046 mod_deflate: Don't fail when asked to flush inflated data to the user-agent and that coincides with the end of stream ("Zlib error flushing inflate buffer"). PR 56196.
9dcfbbf this wasn't supposed to be a pointer, thanks Yann!
78f93a7 Remove bad line that snuck into the commit
760d584 mod_lua: Only read up to whatever the user defines as max size when using r:parsebody() - if content length is greater, return an error.
a656878 Commit 6 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
a915ff1 Commit 5 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
e3171b7 Commit 4 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
50c0de8 Commit 3 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
c273acc Commit 2 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
3f8a64e Commit 1 on 6 to fix reentrance (incomplete Zlib header or validation bytes) in mod_deflate's output and input filters. PR 46146 (patches from duplicated PR 55666)
fb3ff3e Redo what was reverted in r1572627. Don't reuse a SSL backend connection whose SNI differs. PR 55782. This may happen when ProxyPreserveHost is on and the proxy-worker handles connections to different Hosts.
0ab0ee5 Move newly added proxy_conn_rec's uds_path field to the end of the struct like in 2.4.x.
dc560db Revert r1572606 for the time being since backport would conflict with 2.4.x's proxy_conn_rec. The uds_path field is at the end of the struct in 2.4.x but not in trunk. Fix that first, then recommit.
6a9b769 Follows up r1572606. MMN minor bump required by proxy_conn_rec change.
93a607e Don't reuse a SSL backend connection whose SNI differs. PR 55782. This may happen when ProxyPreserveHost is on and the proxy-worker handles connections to different Hosts.
739dc00 Avoid useless functions calls.
42b7765 Cleanup the client to backend brigade before returning an error (if any) to avoid buckets lifetime issues (backend connection's pool destroyed before request's one). PR 50335. Suggested by rpluem.
29db729 update transformation
b15aa00 * Put a note in CHANGES about r1553204
82f9072 mod_deflate: fix decompression of files larger than 4GB. According to RFC1952, Input SIZE (compLen) contains the size of the original input data modulo 2^32.
667cc76 xforms
b30590b fix compatibility info for "setifempty".
e280cf4 normalize an ugly construct which somehow manages to return the correct value
f63c145 fix spelling error in comment
5c38fc3 stabilize directive sort for latex build as well
70a8103 update transformation
1a2824e handle duplicate directives by sorting directive lists additionally by module name
62950fe Updates.
93e272f Rebuild
221d3ed update transformation
accfcf7 Log an error in mod_proxy_http when reading the request body fails. Follow-up to r1538776 where incomplete bodies are detected and an error returned through the input filters.
f48eab6 backported in r1570530
dde9e0e Allow mod_lua to supply a database result with named rows instead of only numeric indexes.
5c9c72c remove more backported fixes
4ef49e1   *) mod_rewrite: Add RewriteOptions InheritDown, InheritDownBefore,      and IgnoreInherit to allow RewriteRules to be pushed from parent scopes      to child scopes without explicitly configuring each child scope.      PR56153.
1d7f6ab update transformation
c92f2cf mod_lua: Add r:wspeek for checking if data is available to be read.
1859859 this was backported too.
ed0542b backported
e3b4308 mod_lua: Slight null-check fix on setcookie.
22f03d9 Remove embarrassing stuck-in-the-past recipe.
ad7d437 message ids used in r1569615
33f7dba handle POLLERR/POLLHUP during poll() to avoid high CPU busy loop.
0e0d0af Rebuild
b1cb017 Flipped links, L and END flags
aab5746 Alpha-ordering
e96fe8a Insert missing space.
04d69ef update transformation
fe4f20e xform
506d424 linkify internal <directive> tags
dbe1254 Update.
ffdab77 mod_proxy_http: don't recycle backend connections known to be closed (eg. EOS by close). This saves a useless ap_is_socket_connected() call when reused.
1d91506 use err_headers_out for setting cookies instead of headers_out, so they persist on non-2xx/3xx statuses (Thanks to Joe Schaefer for this)
eec546c xforms
5ed3e10 mod_lua: Upgrade r:setcookie to accept a table of arguments, and add domain, path and HttpOnly to the list of options available for setting. PR 56128
92be81f mod_lua: Fix r:setcookie() to add, rather than replace, the Set-Cookie header. PR56105
790889c update transformation
d165c70 Quick spelling fix
d647d32 typo in comments
0fd83e6 Updates.
ebfa4e2 Follow-up to r1512819:
abb4760 typo
68c37e1 Updates.
ea4859b Oops... missed this when I switched slaves to their own struct (for ease of use w/ arrays)
e451f92 follow-up to r1096569:
b122567 Add in the concept of "slave" connections... Allows for several "connections" all resulting in a single real connection that talks to the network. Right now, nothing uses this though.
cbf68b7 update transformation
39f9dc1 update german translation
f69444d update transformation
d4952ed add example containers
9a77140 update transformation
b9f08fd indentation fixup for multinode <pre> container
ba0d111 update APLOGNO for r1564760
f2bc49c update transformation
0a4b4dd left-trim one-liner-<pre>s or -<highlight>s completely. The indentation is usually an accident.
8f29eda move the <pre> trimming code into its own module and use it both for html and latex output
4d2c947 move string-reverse function into its own file and share it.
cc5367e update transformation
e40704c this is not a quote.
e76da58 improve output by trimming spaces from <pre> and <highlight> output. - strip the initial empty lines, but keep initial indentation - strip trailing whitespace completely.
5174824 <pre> does not accept a class attribute.
74aaf86 rename zh-cn html files and update transformation
c0b3ad3 build bootstrap
d8dee52 zh-cn documents missing utf8 extension. d'oh.
3957e92 fix tr docs charset
1f3cc51 With OpenSSL 1.0.2 or later, enable OCSP stapling in a loop based on SSL_CTX_set_current_cert(), near the end of ssl_init_server_ctx.
304da56 mod_proxy_fcgi: Fix error message when an unexpected protocol version number is received from the application.
40c8487 Fix support for uploading files by using pushlstring instead of pushstring when pushing binary data.
18dedf6 Use the correct IP addresses to populate the proxy_ips field in mod_remoteip.c.  PR 55972.
8bc7022 update transformation
a5ce43e update German translation (low hanging fruit)
fea2479 * Only use PCRE_DUPNAMES if it is present (only in more recent versions of PCRE)
82bb21b * Do not parse URL in case of regular expression as they likely do not follow   the URL syntax.
14b0446 build bootstrap
459a6f3 activate chm.
3d7c43a fix links
1ef8c38 Correct the trusted proxy match test in mod_remoteip. PR 54651.\n\nSubmitted By: Yoshinori Ehara <yoshinori ehara gmail com>\nEndorsed By: Eugene L <eugenel amazon com>\nCommited By: mrumph
8ebc324 improve pdf TOC output
66b8feb fix a few spelling errors
7efba79 put indexes in pdf where they were planned.
abc67c9 Testing SVN commit
5618d98 update transformation
971dcc8 grab some low-hanging fruit and update some German translations.
a6cc3fa ignore external references in the sitemap
ca8364b update transformation
6c73c03 use minified prettify script
267eedd add minified prettify script version
49f3679 remove trailing comma, avoiding syntax errors in older browsers - and chm viewers.
e3aa544 update chinese chm settings
ecf4c29 disable da chm build (too less files)
cc4b378 update chm settings for danish.
7909fd1 update chm toc font info
1db3dfd hmm. same directive in different modules? sorting is undefined...
abfd749 build bootstrap with new xalan
2d68c86 update transformation
26fb6e4 prepare for upcoming xalan update
f407bbf Testing SVN commit.
289dab5 Updates.
9355f52 msdn url change
8216b82 update transformation
30c21cb build bootstrap
5539d79 port retirement styles from 2.0 to trunk
55f9574 enable auto curve selection for ephemeral ECDH keys when compiled against OpenSSL 1.0.2 or later
c1ae372 Add %{CONN_REMOTE_ADDR} to mod_rewrite. PR56094
b83efdb Followup fix for r1553824:
1b6e2b3 s/apr_pstrndup/apr_pstrmemdup/ when applicable
dfa5c28 Use %pm in order to save 8k of stack in 'ap_pcfg_strerror'
b826c7c add the URI to DEBUG message 00765 (and drop an exclamation point):
4781c9c oops.
0027e12 More debugging
0846829 - treat highlight sections in latex output identically to pre sections. - trim whitespaces from pre and highligh sections.
d2cc689 update transformation
17f75d1 noxml.fr property is no longer correct
db67336 - fix various internal links, directive and module references - add missing documents to the sitemap (if it's not in the sitemap, it's not   going into any of the offline formats) - fix a few metafile references (d'oh) - fix some typos along the way
456dab3 fix links relative to the current directory
24dc9da restore directive output without module attribute
5cd27dc update transformation
6ebc534 copy/paste errors
8308f88 c89 fix
b4081d2 - fix a few missing references in latex output by adding module and directive   index and dict pages. The simple directive list (/mod/directives.html) won't   be included. The link points to the quick reference instead. - use &lf; for newline output along the way.
c9acc73 r->filename should maintain the proxy: prefix for PHP-FPM
097f0aa update transformation
1bd6445 fix another source of invalid links: too much space.
9bb90f4 update transformation
33c28c4 fix comment
318936f fix various invalid module references
f00d070 - avoid duplicate inclusion of module files in latex source
a02a4a9 evaluate the new dtd attributes.
3aafeb5 doc dtd changes:
5a1062d Skip DirectoryIndex execution unless method is GET or POST, restoring 2.2 behavior when using mod_dav. PR 54914.
ff4338d recognize ftp: as remote link
4255fbc update transformation
54094c9 - remove link to a different doc version (not suitable for any other viewing than online) - fix directory link
6395a92 update transformation
075465f Remove wonky and unneeded code. We have access cross forks, so child processes have access.
5e3b075 remove some recent backports
e4beacb backported before 2.4.7
92827e8 backported
5d6fe97 Updates.
53531e0 fixups to quiet the latex build
e26a349 latex build was also broken by multiline syntax descriptions (which are bad on their own, but anyway...).
b6bc90c More debug messaging... useful for tracking down if we used attach or create
7f11f97 not needed any longer
315cd74 Revert to assuming APR uses ftok(..,1)
b985278 Avoid APR check.
3da00d3 just put up w/ the error message... no real way to do this :/
0311d6a Use simple macro ifdef rather than APR versioning...
ee7cbba handle leak. thx to Y^2
f725b1e If we try to set this on a UDS socket, don't log the error.
0662e2e Reflow logic... pull UDS stuff out
48ebde6 mod_session: When we have a session we were unable to decode, behave as if there was no session at all.
c635b12 update transformation
c030e07 table fixes.
1e69a66 rewrap for readability
5ddb130 update transformation
1c700ce - add png image, which is missing in latex build - fix strange html causing tex to stop processing
bbac282 fix urls, spelling; point to definitive support info
8ed9a41 remove some broken links, point to better resources
e614823 Tuck away UDS path in request-rec, since worker isn't thread-safe. Protect from NULL refs.
6f663c3 a comma leaked onto the page
9a8e3d1 httpd allocates separate AF_INET/AF_INET6 sockets automatically when v4-mapped addresses are disabled
e8db26e add more escaping for urls
9a36952 update transformation
7651045 Adjust url as required, following what we did to r->filename. Save some cycles when searching...
a74c357 Note that the hostname is passed in the Host: header of the proxied request.
3508158 doxygen improvements
e277b40 Docco change re using UDS with rewriteRule
72df6b3 make mod_rewrite and mod_proxy UDS work together...
7d473bf mod_proxy_ajp: remove AJP_EBAD_METHOD, it is not used since r1435178
328ea37 mod_lua: Also check for 5.2 headers/libraries, we support both 5.1 and 5.2 nowadays.
6f4c6b8 only include local pages.
2ab66dc mod_session: Fix problems interpreting the SessionInclude and SessionExclude configuration.
43f16c4 update transformation
f4a13fa avoid non-ascii quotes. Sometimes they're just wrong. Sometimes they simply break the current latex build
d631f23 update transformation
955dffd svn:eol-style = native
3c8e6bb no make depend in sandbox, fix bld break from r1559394
99ca421 followups to r1557641 suggested by nd -- add prefix to both the macro and the handler name itself.
2e3c664 Updates.
4719522 No need to test for NULL, apr_pstrndup already handles it.
cc94935 mod_ssl: Do not print content of SSL CA directories during -DDUMP_CA_CERTS, make -DDUMP_CERTS and -DDUMP_CA_CERTS mutually exclusive and document them.
379c6db follow-up to r1554161, r1554168, r1554170, r1554175, r1554188, and r1554195:
dcf1014 the rewrite-ism is now handled separately.
6d582e8 don't search for directory indexes/directoryslashes if a URL is in the middle of being rewritten [in per-dir context]. PR53929
ae42779 restore http://svn.apache.org/viewvc?view=revision&revision=233369 under a configurable option: don't run mod_dir if r->handler is already set.
1914219 mod_dir: rename the on/off/unset enum so it doesn't look so funny if used by other flags.
74bed4a make reference to <If > a link
409bc62 - Rename variable - Remove #define WANT_BASENAME_MATCH and define a new option 'CheckBasenameMatch' to control this behaviour - Remove outdated comments
ab13d26 Updates.
f8afa5b Style, indentation. No functional change.
60c4756 Oops (fix r1556912)
68b018c Add missing break in 'dav_generic_do_refresh' to avoid useless computation.
c98522e Add missing break.
58af80a As in 'dav_generic_do_refresh', add missing break in 'dav_fs_do_refresh' to avoid useless computation.
7f2edaa * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLCompression): Fail if   enabled *and* if OpenSSL does not make any compression methods   available.  Tweak wording for failure without SSL_OP_NO_COMPRESSION.
02780d5 SECURITY: CVE-2013-6438 (cve.mitre.org) mod_dav: Keep track of length of cdata properly when removing leading spaces.
be6ef33 avoid a tight busy loop with memory allocations when the [N] flag isn't making progress.
993ff2d add some information about setenvif vs. subrequests for PR55957
3cfc231 Fix a few typo in doc  that have only been corrected on 2.4.x
626de78 use authz_core instead of access_compat in example
0503738 PR 55833 fix is in 2.4.x now
e8b12bd Backport r1421323, r1534754, r1546693, r1555464 from trunk:
739706c no more "Covnener"
924e07c Fix config merging of SSLOCSPEnable and SSLOCSPOverrideResponder.
44165fd Sync a few doc with 2.4.x branch (!)
f2de5b6 adjust compat info for named capturing groups
68c9883 in 2.4
57c651b xforms
a74d3bf axe one more case of digest auth being described as secure
4c079f6 make the ppcb_arg initialization a bit more uniform and easier to read
43c947e update transformations for SSLOpenSSLConfCmd
a84af8f More finishing touches for SSLOpenSSLConfCmd: - add documentation - clear the error queue before executing the next SSL_CONF_cmd - if needed, configure OCSP stapling after a "Certificate" command - ifdef ssl_cmd_SSLOpenSSLConfCmd in ssl_private.h
c0e4f86 Remove per-certificate chain handling code (obsoleted by https://git.openssl.org/gitweb/?p=openssl.git;a=commitdiff;h=b9fa413a08d436d6b522749b5e808fcd931fd943)
8355586 Some wordsmithing and hopefully this will close our outstanding github issues. Closes #2 and also resolves #3
5d09925 make docs transformations
0b3d153 document on/off parameter in the usual manner and show defaults for SSLHonorCipherOrder, SSLOCSPEnable, SSLOCSPOverrideResponder, and SSLInsecureRenegotiation
fcf66e6 fix typo in error message
889ef54 Updates.
d3a364b Update transformation.
4fecd08 Add a "MATCH_" prefix to variables set within LocationMatch/DirectoryMatch/FilesMatch.
fef0c66 Allocate correct size for the array to avoid useless memory allocation and copy
df2bbb7 * Update comment. No functional change.
255d3a5 emphasize that this is mostly just AAA checks and not the status code of the handler. PR21828 and various dups.
1ae03d3 mod_lua: Detect "All" or "None" before putting together a potentially blank (or static) string.
eb7516d Providers defined in <AuthnProviderAlias have not been usable under in virtual hosts since migrating from mod_authn_alias to mod_authn_core. PR 55622.
758cf25 c89 fix
b016779 Oops, missed one. s/2013/2014/
162dc67 s/2013/2014/
5b9d950 s/2013/2014/
e61ef97 s/2013/2014/
ce7663a Add BitNami to binaries
a595e4f Add BitNami to binaries list
2391d18 [trunk][doc] Introducing .fr translation for a couple of module docs
a20df5d new logno
089a77c update transformation
e933bd9 properties.
0eb116a [trunk][doc] Introducing .fr translation for mod/mod_dialup.xml
5c00b6f [trunk][doc] Introducing .fr translation for mod/mod_dbd.xml
bb04e89 * CHANGES: Consolidate for humans who have to read this file.
93143eb Add directives to control two protocol options:
5527717 Update transformation.
7853659 Documentation for the support of named groups and backreferences.
43e022f core: Support named groups and backreferences within the LocationMatch, DirectoryMatch, FilesMatch and ProxyMatch directives.
0f27b53 xforms
87b3a31 mention insecure password storage as pointed out by Graham
4e3658b xforms
7c241ce digest auth is only marginally more secure than basic auth. Adjust the docs to today's reality.
73fbb69 fixes for validate-xml, fix properties
9b59542 [trunk][doc] Introducing .fr translation for mod_dav_lock.xml & mod_dav.xml
e89f80e [trunk][doc] Introduction .fr translation for mod/mod_dav_fs.xml
2fa2025 [trunk][doc] Introducing .fr translation for mod/mod_data.xml
ef68a95 [trunk][doc] .fr translation for r1554199
acd8159 [trunk][doc] Fix CacheSocache description string
d578011 Update transformation.
d377e1d mod_authz_user: Support the expression parser within the require directives.
1621537 CodeWarrior compiler doesnt allow vars as struct inits.
b9058e1 [trunk][doc] Introducing .fr translation for mod/mod_charset_lite.xml
be8ea07 mod_authnz_host: Support the expression parser within the require directives.
a738704 Pass the correct pointer that made it past the test suite.
defc95a Pass the correct pointer that made it past the test suite.
546919a Added missing proxy export symbols.
d3a32a3 Pass the correct pointer that made it past the test suite.
5e6723c mod_authnz_groupfile: Support the expression parser within the require directives.
48fc161 [trunl][doc] Introducing .fr translation for mod/mod_cgi.xml
c8258c2 mod_authnz_dbm: Support the expression parser within the require directives.
dc98889 Update transformation.
133bf49 mod_authnz_dbd: Support the expression parser within the require directives.
6a2bfeb Update transformation.
cd7dfa6 mod_authnz_ldap: Support the expression parser within the require directives.
6d5b99e update transformation
1e80b68 Remove the hardcoded algorithm-type dependency for the SSLCertificateFile and SSLCertificateKeyFile directives, and deprecate SSLCertificateChainFile
f4d9c8d [trunk][doc] Introducing .fr translation for mod/mod_cgid.xml
42b29df [trunk][doc] Introducing .fr translation for mod/mod_cern_meta.xml
b77a033 [trunk][doc] Introducing .fr translation for mod/mod_cache_socache.xml
1e41d4a rpm spec file: Ensure that apr-util-ldap is installed when mod_authnz_ldap is installed.
0955a3d [trunk][doc] .fr translation for r1553502
da5a4e7 [trunk][doc] mod_dir.xml : Added missing details about DirectoryIndexRedirect
2b9b68b property fixes.
8014765 update transformation
e3aa416 [trunk][doc] Introducing .fr translation for mod/mod_authz_groupfile.xml
1c70973 [trunk][doc] Introducing .fr translation for mod/mod_authz_dbm.xml
6590c7c emphasize that these directives only apply to authn
66c5435 update comments for two r->user related directives.
dd7c066 [trunk][doc] mod/mod_authz_dbd.xml.fr - uptodate with r1553482
e1ee7ae [trunk][doc] mod/mod_authz_dbd.xml - Section title improvment
e4e03fd [trunk][doc] One more <p> for better readability
80ef5a5 [trunk][doc] Introducing .fr translation for mod/mod_authz_dbd.xml
568821c [trunk][doc] Bringing .fr translation up to match r1553469
3198873 [trunk][doc] mod/mod_authz_core : Re-ordering sections so the essential is stated first
8a82372 [trunk][doc] Introducing .fr translation for mod/mod_authz_core.xml
b594fa3 [trunk][doc] Introducing .fr translation for mod/mod_authn_socache.xml
e2395c1 [trunk][doc] Introducing .fr translation for mod/mod_authn_dbm.xml
91cd8c8 [trunk][doc] Introducing .fr translation for mod/mod_authn_dbd.xml
31fd58d [trunk][doc] Introducing .fr translation for mod/mod_authn_anon.xml
ac93401 [trunk][doc] Introducing french translation for mod/mod_allowmethods.xml
ff1c40b [trunk][doc] Introducing french translatation for mod/directive-dict.xml
3a32d9a [trunk][doc] Introducing .fr translation for mod/directives.xml
72e2b10 * Do not perform SNI / Host header comparison in case of a forward proxy request as   in case of a forward proxy request the host header can not be used for virtual   host selection in our webserver.
1a75000 Just in case the Makefile is incompatible, remove the fluff when we rebuild
9e645ff we need to remove this fluff as well
6afe8c8 Allow user to explicitly determine whether or not BSD syntax makefiles should be created... The default is NO unless we are on a *BSD* system, in which case we actually see if 'make' is gmake or not.
ae4d88b Oops... revert
d6e91af For *bsd* systems, see if we are using BSD make and, if so, then use that format for include/ifdef/else/endif
d7dd87b Remove <Proxy ~ wildcard-url> syntax which:    - is equivalent to <ProxyMatch wildcard-url>    - has never been documented    - incorrectly checks parameters (!cmd->path should be !cmd->path[0])    - is buggy (! is missing in front of strncasecmp)
5a63e12 This is annoying to see in a casual "LogLevel debug foo:traceX ..."
c3e08f9 get arpa/inet.h from apr_want.h for htons where applicable
0fa5a34 Remove useless \t and blank line that were not backported into 2.4.x in r1542557
8905440 change r1500483 to only be enabled when building against the MS LDAP SDK.
ac4f08f Avoid sending back uninitialized memory, use 'ftpmessage' in order to have something meaningful instead.
f5c08d3 FreeBSD: Disable IPv4-mapped listening sockets by default for versions 5+ instead of just for FreeBSD 5.
9247116 Log a warning when the LDAP authn provider is configured but an AuthLDAPURL isn't -- IOW, avoid silently skipping a misconfigured [or buggy?] LDAP provider.
b8215bb Use 'apr_pstrmemdup' instead of 'apr_pstrndup' when applicable
6ae5c8f Remove redundant check (already performed the line before)
616caec 'ap_getword_conf' can not return NULL
3f96d99 'ap_getword_conf' can not return NULL
9bda8db Ease logic around 'ap_getword_conf' and drop useless line of code.
6625c31 'ap_getword_conf' does not return NULL but an empty string if nothing could be got. So the message 02173 can never trigger.
6304ea9 Update.
af7096d s/equivalant/equivalent/ in comments
d704224 s/password/pass/
8249d9b Use a better example for a connection string (one with both username and password)
7c7861d Remove redundant check
b867906 s/ip/IP/ in comments
c7ec3ec mod_session_crypto: Make sure we try to initialise twice, so we don't succeed in configtest but fail on restart.
dfd46c2 mod_auth_form: Make the trace logging consistent through the notes, session and form authentication steps.
e8907b1 mod_auth_form: Add a debug message when the fields on a form are not recognised.
d9c2352 Cleanup the bb brigade, because buckets inserted to it can be created from scpool and this pool can be freed before this brigade. POSSIBLE (but as yet unconfirmed) fix for crashes seen with threaded servers, e.g. PR 50335.
bdad52f mod_ssl: Add -t -DDUMP_CA_CERTS option which dumps the filenames of all configured SSL CA certificates to stdout the same way as DUMP_CERTS does.
a0164c6 Use apr_pstrmemdup instead of apr_pstrndup when this is safe.
a95a9fc Use apr_pstrmemdup instead of apr_pstrndup when this is safe.
fe746c4 Update.
d40eaa2 Only close hdrs.fd when returning non-OK from cache_select(), because it will be read from in the very next mod_cache callback recall_headers().  Problem masked on unix by buffering.
f496d57 Fix module id in log messages issued from main.c
553054d Fix missing spaces in messages
58f5ac2 avoid duplication of APR_HOOK_LINK invocations
a135988 Follow-up to r1546759: Fix compilation when exception hooks aren't enabled.
36578aa SGC became dead in January 2000, effectively (http://www.gpo.gov/fdsys/pkg/FR-2000-01-14/pdf/00-983.pdf) Almost 14 years later, there's certainly no longer any need to spit out some fancy log message.
59d1836 Throw away the myCtxVar{Set,Get} abomination and introduce a pphrase_cb_arg_t struct instead, for passing stuff between ssl_pphrase_Handle and ssl_pphrase_Handle_CB. Prefer struct members instead of using additional local variables, to make the data flow more transparent. (Doesn't "vastly simplify" the code yet, but hopefully we'll get there when further stripping down ssl_pphrase_Handle.)
d5174b9 If the "value" argument is prefixed with expr=, parse it with ap_expr rather than mod_headers' built-in format strings.
83444a4 2.4.x CHANGES was updated in r1546547 to cover these entries
5b41781 follow-up to r1546759: remove an inadvertently committed testcase
540be85 Add suspend_connection and resume_connection hooks to notify modules when the thread/connection relationship changes.  (Currently implemented only for the Event MPM; should be implemented for all async MPMs.)
fb0ce27 Updates.
2571d1f fix whitespace in a debug message
5289285 Tweaks for SSLOpenSSLConfCmd: - use cfgMergeArray, and reduce the size of the initial array - move SSL_CONF_cmd calls from ssl_init_ctx_protocol to   ssl_init_server_ctx (so they are applied after ssl_init_server_certs) - add APLOG_DEBUG-level logging for the SSL_CONF_cmd success case - call SSL_CONF_CTX_free(cctx) when done in ssl_init_server_ctx
6cabf7d Axe dead code: It wouldn't have been needed ever since httpd 2.0.35 was released in April 2002... it was fixed in the [unreleased] SSLeay 0.9.1b, which was the basis for the initial OpenSSL 0.9.1c release in December 1998 (specifically, it's this change to ssl_set_pkey(): https://cvs.openssl.org/filediff?f=openssl/ssl/ssl_rsa.c&v1=1.1.1.2&v2=1.1.1.3)
a028889 Remove obsolete TODOs for mod_ssl:
b4a5f63 update transformations
2a49842 fix XML validation error on r1543907
ba2c42c fix XML validation error on r1546534
2e6aaf6 compat note for AuthLDAPBindPassword exec:
54c8734 List all APR dependencies PR 54739
88e5f7c Follow-up to r1538490:
aab3f8a Fix error
18070dd Consistent types (2nd commit for future backport ease)
a6b32ed Consistent types
d21042e naming suggestion re: trawick
4362509 Use offset which is smack dab in the middle.
cc4921e Use correct type...
6eb75cf r1545286 for eventopt
7e75c89 Use a normalized offset point for idlers... still need to worry that atomics work as "expected", in this case that a add32 of a -1 is the "same" as dec32 (as far as effect on idlers)
320f4d3 revert 1544876
9a1048e drop a caveat with an outdated example, there is now "reallyall" documented above.
ab81fdf Just critically warn people... but keep pushing through.
b101b9a Updates.
dc0ff62 mod_lua: Fix compiler warning by using correct APR_SIZE_T_FMT and APR_OFF_T_FMT format macro in debug logging.
ec13db2 Followup to r1544774: do not ignore failures from ssl_server_import_{cert,key} in ssl_init_server_certs
e7dc6dd Remove SSLPKCS7CertificateFile support:
7d402a2 Address a todo listed in https://mail-archives.apache.org/mod_mbox/httpd-dev/200205.mbox/%3CPine.LNX.4.33.0205292300380.27841-100000%40mako.covalent.net%3E "init functions should return status code rather than ssl_die()"
54b7484 give a hint about the requirements for <If
cbb160a include <if> in the list of things that are directory contexts before clicking through to the sections.html
269ec5b no more fcgi_protocol.h
f978691 Follow-up to r1541029:
d26fb3d Follow-up to r1539988:
51828da remove some new-ish entries for changes now in the 2.4.x branch
71b655f xforms
228d28a doc behavior change in r821333, CacheEnable foo / does not apply to forward proxy.
b19837c Stringify ICON_FILE, like other values passed in via -Dxx=yy
0315a2d Correct logic... if this is a UDS socket, then bypass all this.
720de50 Workaround issue with defining a preprocessor symbol to a string value with embedded blanks.
7f49ef4 fix versioninfo fields for abs.exe
1a3a8da follow-up to r1542533:
baa588a Remove useless spaces that are not in 2.4.x
917e984 [trunk][doc] Introducing .fr translation for mod_auth_form.xml
c6dca72 [trunk][doc] Introducing .fr translation for relevant-standards.xml
40d06cf [trunk][doc] Introducing .fr translation for socache.xml
f03b735 [trunk][doc] Introducing .fr translation for getting-started.xml
59294fb reword windows binaries text so it's clear that you may or may not see binaries for a given release.  Remove a "HTTPd" term that looked funny.
ec1e7e9 Handle the gugz fix in APR 1.5.1 regarding duplicate keys.
5c02313 Explicitly list in which directories to look for config*.m4 files.
bb76893 We were not being consistent between http and others if we added the default port or not during the canonizing phase... Baseline the http method (don't add unless the port provided isn't the default).
6aafe58 mod_ssl: Don't flush when an EOS is received. Prepares mod_ssl to support write completion.
b792a83 Check all memory allocations and abort on failure
ea49f2b Update.
11e5f75 Completing r1542515, where accents were not converted
19ed1b7 [trunk][doc] Introducing .fr translation for compliance.xml
b374da8 apr_file_write_full() simplification (like r1542413 and r1542416)
30f8aa6 more apr_file_write_full() simplification (like r1542413)
a26a8b2 Follow-up to r1540161:
62bb83d PR: 54852. Only use a dummy_connection for idle processes
0bafec0 [Doc][trunk] Introducing french translation for misc/password_encryption
111af11 [trunk][doc] Introducing the howto/index french translation
c4e1c56 CGI is no longer the most common way to provide dynamic content, is it?
2ab496b Fix potential rejection of valid MaxMemFree and ThreadStackSize directives.
b8ecefc cmake build support for Windows is now in the 2.4.x branch; remove support for building that branch
6c8aff7 Use a distinguishing APLOGNO for unk t-e with read-until-close behavior
a194875 80 rule
9a8af6d Wrap at 80 still, here at httpd project
59d2f01 At least one authorizer that doesn't use libfcgi directly or indirectly does not like getting an empty FCGI_STDIN block.  Don't send it.  (Other mods for httpd didn't send it to authorizers either.)
452c223 Add parse_errorlog_arg callback to ap_errorlog_provider to allow providers to check the ErrorLog argument. Implement this check in mod_syslog.
2327313 [trunk][doc] Introducing .fr translation for howto/access
5e49fdb Update.
61a09af Expand some of these fields... mostlt it's the workers that we need to expand due to them mapping to actual hostnames
7a0c59f Avoid the confusion... the digests are NOT strings. Add some debug logging
51875ad If apr_file_read did return APR_EOF, then ensure that, as long as we read the right number of bytes, we return APR_SUCCESS
33ea79e Allow for backwards compatibility for the md5 check... if we've read the slotmem data and we are at EOF, then don't bother checking the md5 and assume all is OK.
39591a0 whitespace
48c9ad2 Error detection and a quick validity check when restoring... Designed to address errors, not nefarious changes.
7634e2e UDS urls need to be desockified when configuring...
beb2c2e Ensure that the file-based shm file is removed...
75525b8 Do not lose log messages with NULL server_rec when error log provider is used.
a95d847 PR 55475: Detect incomplete body in HTTP input filter and return APR_INCOMPLETE
b6e7d2d c->sbh can be unexpectedly NULL when the thread that pulls the ready keepalive connection out of the queue laps the thread that put it on the queue.
534f207 Remove useless apr_pstrdup as done for other mod_auth modules in r1026660
0502363 xforms
51c1c40 Fixes to the modguide, courtesy of Petter Berntsen (sluggr)
00cf2289 * support/rotatelogs.c: Introduce an adjusted_time_t type to store the   weird "adjusted time since epoch" type returned by get_now().   Switch from int to long to fix an unnecessary Y2K38 issue.  Adjust   use throughout and clean up other type issues.  No functional change   intended apart from fixing Y2K38.
ba43a87 For better compatibility with mod_nss:
adfa366 Transforms.
0fe26d6 * docs/manual/upgrading.xml: Note 2.4 backwards-compat break for   some piped logging configurations.
e2618c0 this was backported to 2.2, so not an upgrade issue.
8351cb2 /. Initialisations 	if (! laCouleurFond) setCouleurFond(MENU_POPUP_COULEUR_FOND); else setCouleurFond(laCouleurFond);
ffdb1b5 Allow for format specifiers to be used in the base substitution string for Header edit
9f238af Remove unused APXS setting from template for generated Makefile
41488e8 SECURITY (CVE-2014-0231): Fix for DoS due to hang waiting for CGI script. Patch one of two.
d084899 axe some useless assignments (clang scan-build)
a8fbe8c don't ignore some apr_procattr failures (clang scan-build)
386cb9c rotatelogs: Remove last constant length error buffer.
1eb6352 rotatelogs: Remove another use of a consant length buffer for errors.
e2e2cd9 rotatelogs: Use apr_psprintf() with %pm instead of a constant length buffer for errors.
11a39fb don't pass uninitialized rv passed to ap_log_rerror()   (rv wasn't interesting / follow an existing example)
f015322 axe attempt to close a previously-closed apr socket (clang scan-build says "uninitialized", but it doesn't know how apr_sockaddr_info_get() reports errors)
504d337 axe unused autodata+heap (clang scan-build)
049b1d2 SSL_CONF support for files and directories.
817b1ea * modules/proxy/mod_proxy_http.c (ap_proxy_http_request): Use the same   brigade lifetime for the header brigade as the other brigades.   POSSIBLE (but as yet unconfirmed) fix for crashes seen with threaded   servers, e.g. PR 50335; appears correct or at least not harmful.
5485c45 Fix r1533728.  Not a great idea to dereference process after pool destroy!
66dbf61 update transformation
9839cc9 property fix.
93ff092 Followup to r1533810: Put the rotatelogs docs in the right place.
779bd67 Add an option to autocreate directories to rotatelogs.
c41f930 Updates.
9cc659e Like r1532122: Axe needless string duplication in                setup for call to apr_proc_create().
332c08a Remove erroneous space reported in pr55676
f5df0de PR 55670 Don't risk failing silently at startup when running in a tty.
69bc7d5 * Fix logical flaw introduced in r1531340. We checked for the opposite.
d897f09 Rüdiger and Yann suggestions
7fa552c xforms
fefa443 So, Fix pet-peeve!
c161119 Fix typos and grammar.
c418702 another suggestion by Yann... use a shorter lifetime pool
a4ef54f Grammar
10476aa s/sometimes maybe not what/sometimes may not be what/
6e94c23 Rebuild doc.
81ab5bd Broken markup in example
b71b312 typo
0b4520d from an idea by Yann Ylavic <ylavic.dev@gmail.com>
3d76743 docco update now that we can support URL paths
27b314b move pool creation to the single instance when we need it... but be pool aware anyway, just in case.
d152f38 Only assume localhost in the special case where the person just has the lone scheme after the |
81e827c ap_proxy_strncpy should correctly handle src being NULL. Actually, apr_cpystrn() should as well...
347c75b Put the uds path in its own field, and adjust the logic to look for an empty string rather than a flag.
43fb7fa Eclipse code analysis warning
81254be axe svn:mime-type, add svn:eol-style
a0a6b45 add generated files
2fc962a generated files
9db7c35 Interpolation worked within the scheme portion of URLs for ProxyPass and ProxyPassReverse until a fix to apr_uri_parse() in APR-Util 1.5.2 closed the hole that had previously allowed the necessary {} characters within the scheme.
a91c47c No more magic numbers.
a00a928 don't use what could have been freed...
bfa6d07 Update LOGNO
5639798 in 2.4.7
c4a8285 docco userland change
6c23d13 xforms update
9b6fb3d Standardize on:
86014a1 Follow-up to r1525597:
ce61f94 * support/rotatelogs.c (get_now): Fix the NULL ptr dereferences   added in r1532281.
fd4ae8e * support/rotatelogs.c (get_now): Return the offset applied to the   Unix time as a parameter.   (doRotate): When exploding the time for strtfime formatting, iff in   -l mode, subtract the offset and explode the real Unix time as a   local time so %Z etc works correctly.
4073515 avoid needless apr_pstrdup()
e8d701a check that we have a pool...
3af21fb Just use the def global... consistency is important
c984a2e Ensure that userland format of UDS is the same as how it is configured, no matter how we store and use it internally.
cc4c936 Support optional initialization arguments for socache providers in mod_authn_socache.
5f17fef xforms
0b40dda IDE typo error
935f822 Update doccos about UDS
76927e7 clean up socket definition... just the sock: path matters, and we adjust relative to DefaultRuntimeDir
c8b1ad8 mod_session: Reset the max-age on session save. PR 47476.
0d9b5c8 mod_session: After parsing the value of the header specified by the SessionHeader directive, remove the value from the response. PR 55279.
6330b05 mod_auth_form: Make sure the optional functions are loaded even when the AuthFormProvider isn't specified.
ce430a6 Updates.
31a3eab Followup to r1529559: mod_dav_fs: Fix encoding of hrefs in PROPFIND response.
0605393 syntax sugar... if the worker is associated w/ a UDS, then make sure the log reporting has a visual clue.
e40e0a7 Reformat the UDS support inline with a new naming structure. Use a flag for speed for testing.
13af104 save a possible lookup
b299ff2 core: Don't truncate output when sending is interrupted by a signal,       such as from an exiting CGI process.
ec6996c follow-up to r1530603: fix typo/syntax error
6284650 ping tuning via Yann Ylavic <ylavic.dev@gmail.com>
b7924d7 Break long lines. Add missing <code></code>
6dd580a Add no's
fb96dea Fix typo
151a95a Correct typo in comments for ap_map_http_request_error().
3f86421 Correct typo in comments for ap_map_http_request_error().
4de0b69 Fix PR 55397: dav_resource->uri treated as an unparsed uri.
bc8495d When building modules with prereqs, search httpd include dirs before prereq include dirs in case httpd is installed to the same place as the prereq, in which case we might be using an older httpd .h file.
1ce3115 ap_rputs() silently truncated size_t to int, resulting in 130+ warnings when building httpd and a rich set of modules on Windows.
c2c75f9 Update.
2bd6226 Disable event/eventopt if apr skiplist isn't available
6fb8a4a skiplist is gone
bd643bd WebSocket support requires Winsock2
6a76621 core: Add missing Reason-Phrase in HTTP response headers. PR 54946.
0483023 Remove backported items from CHANGES.
3c6d475 mod_dav: Fix PR 55306.
ef35779   *) mod_rewrite: Make rewrite websocket aware to allow proxying.      PR 55598. [Chris Harris <chris.harris kitware com>]
898365f skiplist is now in apr 1.5 and above
22ac3c3 add attribution
650526b Don't use a hardcoded cn=* in case the subgroup has no CN.
1cefd42 in 2.4.x
db365dc * build/config_vars.sh.in: Trim more stuff from installed config_vars.mk.
c19caf3 Don't link support/* against systemd libs.
f6f568d * configure.in: Simplify/fix systemd detection: move later to fix   autoconf warnings; define HAVE_SYSTEMD rather than using CPPFLAGS.
2aa439b PR 55616 (add missing APLOGNO), part 2
31156ac PR 55616 (add missing APLOGNO), part 1
c43ffe3 Follow up to r1527295:
79f7013 mod_dav: set r->status_line in dav_error_response. It's used as argument in next ap_rvputs call. PR 55426.
59f9038 update transformations for mod_ssl and ssl_faq
169f992 Improve ephemeral key handling (companion to r1526168):
725978c Increase minimum required OpenSSL version to 0.9.8a (in preparation for the next mod_ssl commit, which will rely on the get_rfcX_prime_Y functions added in that release):
056e10b Follow-up fixes for r1526168:
df246e1 Follow up to r1526666:
fe34103 Updates.
85e297e Axe the README a bit, add fuankg as contributor. This will need a complete rewrite at some point.
a8ad7b0 r1526906 followup:
86b710b Fix the null device name on Windows so that stderr can be sent to the bit bucket.  (This logic is always hit when using an error log provider.)
f89aa5c When adding APR_EOL_STR in the error log record before calling the writer, include that trailer in the length.
528855d Error log providers need to be able to trigger a startup error from their init() function.  A NULL return code is the trigger.
5a2ba0a mod_lua: Use a (new) global pool/mutex setup for IVM rather than a per-process pool.
9028977 WinNT MPM: Exit the child if the parent process crashes or is terminated.
c4b92f3 allow building mod_authnz_fcgi with 2.4.x branch
1333941 util_fcgi.c now in 2.4.x branch too
3fbdbdf arrange previous fix.
c833f43 Follow-up to r1526436: Fix compilation error
2c6402d remove entry for r1525931 (APLOG_STARTUP with ErrorLogFormat), now in 2.4.x branch
407826c minor edits
29a0aff Fix for PR 54626.
d7a099b  worker MPM: Don't forcibly kill worker threads if the child process is  exiting gracefully.
d79b9a0 mod_proxy: Add ap_connection_reusable() for checking if a connection is reusable as of this point in processing.
d6c3186 meanwhile in 2.4.6 and 2.2.25, respectively
a6a324f Streamline ephemeral key handling:
6a062fc Suppress formatting of startup messages written to the console when ErrorLogFormat is used.
b15541f Change the default value of AuthLDAPMaxSubGroupDepth, so sub-group searching is opt-in.  Not intended for 2.4 backport.
904b3f8 Add AP_ERRORLOG_PROVIDER_ADD_EOL_STR flag for ap_errorlog_provider, bump MMN.
84d106d allow the provider to decide whether or not APLOG_NOTICE messages should be logged
a4330cc mod_syslog: New module implementing syslog ap_error_log provider. Previously, this code was part of core, now it's in separate module.
59bb557 Add ap_errorlog_provider to make ErrorLog logging modular. Move syslog support from core to new mod_syslog.
96fd500 add a note about sub-group searching and large groups.
c4b63bf Remove grossly outdated browser compatibility column
8f317a3 Various rebuilds
cb934d6 Missing '$' in variable.
819a5e5 Correct XMl error. Rebuild docs/
1a283d5 Clearer explanation of undefining a macro.
76960e9 various other rebuilds
8ae9a28 Renames the 'tips' section.
7c8cd7e Rename: This is more a "tips" section than technical details.
9e1074c Rebuild mod_macro docs
7ac5375 Restructure the mod_macro doc a little, with a 'usage', 'details', and 'examples' section. More examples to come.
4144c3b install libhttpd.exp
2809f49 Use ap_log_rdata() to dump the FastCGI header, axing a bunch of custom data dumping code.
76dc5d2 Borrow a fix from mod_authnz_fcgi:
6a64fad Bring some envvar flexibility from mod_authnz_fcgi to mod_proxy_fcgi:
e0676bc Updates.
26b5cfd rename EXTRA_INCLUDE_DIRS to EXTRA_INCLUDES, add EXTRA_COMPILE_FLAGS and EXTRA_LIBS
f889cb9 name-based vhosts listed twice with apachectl -S
63e7600 typo
5e6a9de draft-ietf-httpbis-p1-messaging-23 fixes regarding interactions between TE and content-length in the same req/resp.
b9ce55c Use apr_socket_timeout_get instead of hard-coded 30 seconds timeout.
40538bb Use apr_socket_timeout_get instead of hard-coded 30 seconds timeout.
e9ed2c0 mod_lua: ap_ntoh64 endianess test
671803f rebuild
f3d1e3d subject/verb
21bfe0f Update rationale
b18fa49 revert 1524161 for the time being
a10a893 RFC2616 issue
f443750 More cool info ;)
d3a30a0 Add note to balancer manager whether changes will/will not survive a restart
90f9939 Add exec: callout support for mod_session_crypto
619866c fill in missing message numbers in APLOGNO() invocations
b94df9a mod_lua: Adjust documentation for r:wsread()
5929a20 mod_lua: Figure out a way to read from SSL connections with WebSockets. Brigades ain't my strong side, so if someone could adjust it a bit, that'd be swell. It _works_, but I'm sure it could be improved upon. Also make r:wsclose() work properly with SSL.
b2e9d12 remove some recently backported fixes.
a9297bf In 2.4, the MPM leaves a copy of the non-disconnected FD sitting in context->accept_socket. This FD will be closed a second time, often shortly after a worker picks it up in this same FD being reused.  The first recv fails with WSAENOTSOCK since the same FD was closed in the listener thread while the worker was pulling it off the queue
845a820 doc change=no
67b1aa4 Switch from private FastCGI protocol handling to util_fcgi API.
ec6b4e3 skiplist.c now in 2.4.x
4b7e438 mod_auth_digest: Be more specific when the realm mismatches because the realm has not been specified.
735a131 Updates.
e62246a SECURITY (CVE-2013-4352): Fix a NULL pointer deference which allowed untrusted origin servers to crash mod_cache in a forward proxy configuration.
69637df Use APR type; rename var.
83ead14 Fixed mod_lua NetWare build.
7c12fd5 Fixed ap_ntoh64 argument.
e9a77cf fix broken link
bc9bc4c that line was obviously wrong.
ee5444e works with (Strawberry) Perl 5.010 from 2009, so require that version; move to older File::Path interface
c1ffa92 set binary attributes for remaining binaries via httpd.rc, fix the missing feather (icon) on httpd.exe
4c593a4 specify base addresses for libhttpd.dll and modules; mention an issue about Perl compatibility of a support script
86335b8 BaseAddr.ref: . Update sizes as necessary based on a 64-bit debug build with Visual Studio   2012. . Add missing modules mod_apreq, mod_authnz_fcgi, mod_dialup,   mod_optional_fn_export, mod_optional_fn_import, mod_optional_hook_export,   mod_optional_hook_import, and mod_policy.   (The example mods aren't important, but adding them avoids having to   treat those as exceptions in any sort of automatic update mechanism.   Potential issues with the several modules that aren't currently buildable   with the cmake-based solution have not been addressed.)
731d18d mod_lua: Add rudimentary WebSocket support. This is a WIP (emphasis on the W, I and P) and subject to change as the idea surrounding it evolves into something meaningful. But for now, WebSockets, yay! Please do review this!
751b6e7 revert comments in r1521973, may be more misleadin then good.
7ae58cc comments only, before I task switch.
c2e05df make docs xforms
a4212a3 fix tagging problems that break validation
2fae813 Add "default user id" capability for authorizers that handle check_authn and return success but don't have a specific user id to assign (e.g., guest users).
b278839 install .pdb files when available
2e94f44 Forgot to add getcookie/setcookie to CHANGES. Hereby done.
aa4d5d5 Drag the example into this decade.
dcd7f48 correct path
0cc2ba4 Rebuild
9dafb17 Replaces some awkward phrasing
d374952 Add ProxyExpressEnable directive to example
3c6ff10 wordsmithing
550b738 Add a global ENABLE_MODULES setting to make it easy to build and/or activate all possible modules.
90daf71 Since a couple of modules have module names that don't match their source file name, don't try to declare modules using the source name, but instead list them as simply
46d9700 add "Header note" which was the solution for two users this week on IRC.
8166200 install cache_common.h; add notes on other files that aren't installed
06e4f5d add apreq and skiplist to libhttpd, support mod_apreq
ff6ed25 fix odd bug that prevented the manual from being installed
7df7f00 elaborate on fastcgistarer, which is a) not yet supported on windows and b) only needed when the frameworker doesn't have something built-in.
ef7ab2d Added missing export for proxy module.
db5efab support mod_lua; add some tweaks/disclaimers to the README
3ad8be3 handle mod_ldap/mod_authnz_ldap, along with tiny infrastructure for modules whose main source doesn't match the module name (i.e., util_ldap.c vs. mod_ldap)
5215408 Add macro for checking apr/apu defines like APR_HAS_feature, and for now use it to detect APR_HAS_XLATE and APU_HAVE_CRYPTO.
a4d716b Update.
5fb59d2 style consistency in winnt's worker_main
b663bd4 Add a warning if protocol given in SSLProtocol  or SSLProxyProtocol will override other parameters given in the same directive. This could be a missing + or - prefix.
dedba68 Mistakenly try to use a line comment to the end of your Listen directive on Windows => crash-o-matic
478d3dc mod_lua: init cookie as NULL.
63c46e2 remove an unneeded variable I just added, oops.
a952d56 mod_lua: Use ap_cookie_read for reading cookie values, since it's already there.
2578063 Set LONG_NAME and BIN_NAME to something reasonable for httpd.rc, which otherwise sets the properties to "LONG_NAME" and "BIN_NAME".
38024c1 Add r:setcookie(key, val, secure, expires) and r:getcookie(key) to the request_rec table.
1b52eab Update related to r1519556
b8e0469 Add missing space
1ce3b9a mod_status, mod_echo: Fix the display of client addresses. They were truncated to 31 characters which is not enough for IPv6 addresses.
227ffd6 mod_lua: If the first yield() of a LuaOutputFilter returns a string, it should be prefixed to the response as documented.
918ccd0 mention some trickyness with mod_lua + mod_filter.
31fa28d avoid non-continous ranges in EBCDIC in the scanner, important characters like '{' come between alphas in IBM1047.
6ed59c7 forgot my name
8582560 mod_lua: Remove ETAG, Content-Length, and Content-MD5 when a LuaOutputFilter is configured without mod_filter. [Eric Covener]
bc12f5c register LuaOutputFilters with  AP_FILTER_PROTO_CHANGE|AP_FILTER_PROTO_CHANGE_LENGTH
e5e62d9   *) mod_filter: Add "change=no" as a proto-flag to FilterProtocol      to remove a providers initial flags set at registration time.      [Eric Covener]
d7aa057 Return a 500 error instead of DECLINED when LuaHook* script does not return a numeric value.
20996af trace4 logging of return codes from LuaHook* functions.
d9ff913 Removed comment which should never have been committed. (thanks Eric!)
0c8d0cc some xforms
1ad63fb Adding a simple logging hook for mod_lua, which allows users to create their own logs or bypass the generic logging on a per-request basis.
659017c Let the location of APR[-Util] and PCRE libs and includes default to the same prefix where this package is installed, generally eliminating four required settings for users.
728ec10 add some log messages and AP_DEBUG_ASSERTs for functions that should never be called
1384d80 Updates.
0b20132 remove c++ comment
1ca9848 Simplify -DENABLE_MOD_foo to -DENABLE_FOO
f606e22 add option EXTRA_INCLUDE_DIRS for pointing to outside directories for .h files (sometimes needed with statically linked, third-party modules)
949aa7b adjust default module enablement to kinda-sorta sync with autoconf-based build (see commentary added as part of this revision
3e38b0b mention the PATH issue
c8364df move cmake howto/buglist to a separate file, README.cmake add license text to CMakeLists.txt
bf23ece Only minor adjustments were required to support 2.4.x too, so look at AP_SERVER_MINORVERSION_NUMBER and adjust the lists of available modules and libhttpd sources.
96f14dd Fix source path to error documents and icons.
75f281b Don't forget to disable an optional module if the prerequisite wasn't found.
4cd73aa Support new configuration feature
1830b6b Generate and install .conf files   (with heavy lifting from tdonovan!).
397bdd8 Expires in a 304 is not a contradiction in terms of r1487118:
3c60771 remove <var> from the literal parm options
43c2d37 add "default" option to LDAPReferrals, to allow "off" to really mean "off".
0dd42d2 Handle the libxml2 prereq of some modules, including its possible dependency on iconv.  With that in place, build mod_proxy_html and mod_xml2enc if libxml2 is found.
fafc97c Follow up to r1518041: zlib is found, deflate build is working
e3df325 Add mod_deflate build support, along with module enablement options "a" and "i" which are ignored with a warning if a prerequisite is not found.
cc4d1d9 xforms
4a7cc05 Mention how "satisfy any" affects AAA hooks run after access_checker (access_checker_ex, check_user_id, auth_checker)
4b5e010 Forward-port a typo corrected in 2.4.x
1a1c13d Add experimental cmake-based build system for Windows.
0d09867 add a warning about BREACH to the first two sample configurations.
b1a451f fix whitespace in example config
59aa86e remove cache-busting workarounds for ancient browsers.  Add more mimetypes to the "simple" example.
1fcec4b PR55352: mention in the <Proxy> manual that the matching is a prefix only, not the same context-root / segment-aware matching done by <Location>.
52841f9 fix markup
d6a9a12 fix email ID
ccd82e5 "LDAPReferrals off" does not disable LDAPReferrals feature. Default OpenLDAP value for LDAP_OPT_REFERRALS is ON and the current code does not set it to OFF even when there is "LDAPReferrals off" directive in the config file.
4a9b30d Use %S instead of %C which already in use
9f4b3a8 Don't log AUTHZ_DENIED failures at ERROR level in authz providers
87769b6 In event's process_lingering_close, close the socket and remove it from the ring as soon as we see any status that isn't APR_EAGAIN or APR_SUCCESS, instead of waiting specifically for EOF.
239cea0 Add "URI Mapping" to the list of limitations
46d8830 Save a few cycles
f41df07 No need to lower the string before removing the path, it is just a waste of time.
058ebfc typo
d6f236f Change docs... will likely also need to change when we formalize a better "encoding" for paths, but...
357828f Allow for a simple socket check in addition to the higher level protocol-level checks for backends...
66eaba9 Save some cycles...
0ebedd5 elaborate on the early/late vs "Authorization" header (vs. other forms of authorization)
f75be9a drop the repeated phrase about Authorization, since it only applies to the default value of CacheQuickHandler.  Other pieces of the manual refer to authorization and caching.
62ce967 s/authorisation/authorization/ for consistency with the rest of this doc and manual
be39786 update transformation
ff28f04 property fixes.
a51f7c8 pre_htaccess hook is gone
98423d4 'make docs' xforms, adding new mod_authnz_fcgi files
f26cf1c whitespace tweaks
ebd112c follow up to r1515403: fix eol-style on new files
f10c6dc fix validation problem
1a42d8a tweak xml to satisfy 'make docs'
c52d757 mod_authnz_fcgi: New module to enable FastCGI authorizer applications to authenticate and/or authorize clients.
e7f945c merged to 2.4.x
968a898 merged to 2.4.x
e0e7bda PR 55447: Elaborate on how a type map foo.html.var can be found when requesting foo.html (this was automatic in 1.3)
e7bb7d0 Limit SHMCB_MAX_SIZE to min(UINT_MAX, APR_SIZE_MAX) to match the current code
3c93046 fcgistarter: Specify SO_REUSEADDR to allow starting a server with old connections in TIME_WAIT.
168c1b8 Updates.
38160d1 Doxygen fix
64a22f8 adjust log level
51c091b Make the statement about the poll sense change less strong
63617dc tweak syntax strings for ServerTokens
f593f2a follow-up to r813376:
4d09db3 xforms
6344a4f fix typo in include guard
89801f1 Try to document the current behavior of MPM event with filters like mod_ssl, mod_deflate, or mod_include
b06b572 Update transformations.
785201b Add AuthBasicUseDigestAlgorithm directive to allow migration of passwords from digest to basic authentication.
bcc3cad xforms
c433d64 Mention the DumpIOLogLevel change
e24e368 Updates.
1ac1fb2 UDS subsequent request on a connection fix
5ec0d34 follow up to r1513454: fill in missing log number
aa4d08e fix Doxygen warnings/comments
c66c301 fix Doxygen warnings/comments
8f3558b Add util_fcgi.h and associated definitions and support routines for FastCGI, based largely on mod_proxy_fcgi.
0d02cd5 Add ap_log_data(), ap_log_rdata(), etc. for logging buffers.
3387fde restore.
88d17ae Rebuilds other older changes.
e7e9dd5 Rebuild
ea48b7f Link to wiki for more detail on troubleshooting this.
693c93a access_checker_ex runs immediately after access_checker, which both must run well before auth_checker. No other contrast is possible so assuming this doc is just a typo.
658ec13 mention the change of default value for AllowOverride
ba9ab90 Add support for systemd socket activation to listener sockets.
505bdb0 tweak indentation
7a50efc * remove "... and port" references added in http://svn.apache.org/viewvc?rev=1208753&view=rev while trying to account for mod_remoteip.
71672c7 ab: Fix potential buffer overflows when processing the T and X     command-line options.
0d7c911 fix broken indentation
ca1a4a8 fix odd wording
b747d7f add high trace level log messages for debugging buffering and write completion
c8b4bfe Fix logging of SSL session cache timeout value (at TRACE2 level). Inadvertent side effect of r907918, where the timeout calculation in ssl_callback_NewSessionCacheEntry was slightly modified.
db3fd78 remove nested retry loop, uldap_connection_open retries.
ea3ec24 add TRACE5 messages around each LDAP retry
c2f7286 retry during a timeout in uldap_cache_checkuserid(), like other paths that check server down and TIMEOUT together.
9d2e831 don't retry if uldap_connection_open() fails, because it has already retried internally
5f4229a SSLCompression help text: add missing space between directive description and syntax
2afcf60 Mention ECC support
e0e002a Rebuilds recent changes
cf212a0 fix a couple of grammar problems
7fd8cfb RFC 6961 (TLS Multiple Certificate Status Extension) has been published in June 2013; replace obsolete I-D reference.
15a1d8a s/seperate/separate/g
6dd95ae remove pre_htaccess/open_htaccess noise now that open_htaccess hook is in 2.4.x branch
afc2d41 Updates.
df87ea7 xforms
56a993a add a note that proxy environment variables are either set or unset, unless specific values are listed.
afc0593 1-arg SetEnv is valid
b95a5db Fix bug #55304 with the provided patch, slightly reformatted.
ecedd50 use IANA registered mime type application/font-woff for woff fonts
55a3f5c * server/core.c (set_document_root): Improve error message for   inaccessible docroot.
d7d4afa not valid in htaccess,  http://httpd.apache.org/docs/2.4/mod/mod_cache.html#comment_1510
0b0ea71 Correct the behaviour of CheckCaseOnly in mod_speling, according to the doc. PR 44221 [Rainer Perske <perske uni-muenster de>]
143d9b6 Increase stack size for mod_cache and mod_ldap and readdress VC11 reporting image size exceeds specified maximum
da98887 Updates.
c2e20c5 Install proper pcre DLL filename for debug build PR 55235 Submitted by Ben Reser <ben reser org>
3be3824 Fix some spaces
60a18ff Fix some spaces
5b59b08 Unlikely potential memory leak. Point 12 of PR 54936
a4b8cb7 Potential use of uninitialized memory. Point 3 of PR 54936
1f1501d Have static analyser tool happy. Point 2 of PR 54936
b315d5d Fix command line parsing. This was introduced in r1395253 when refactoring the code. Untested PR 55264 <jrhett netconsonance com>
9a78212 maintainer-mode should auto-enable mod_bucketeer
1ca0c3f Updates.
c86f6fc Improve error detection when decompressing request bodies with trailing garbage: - handle case where trailing bytes are in   the same bucket.
39ebf1b reflow a very long line, no functional change
97acaa1 address comment
e3df8f4 In 2.4.x
cebc770 Note about new UDS support
b672817 * modules/metadata/mod_unique_id.c: Replace use of hostname + pid with   PRNG output.
80475f6 fix whitespace in AH00766 warning: s/all of theinput/all of the input/
7467487 We are no longer pre-grabbing.
bd166fa Ensure balancer runs after proxy for mutex creation
0623d61 restore "core_output_filter: writing data to the network" message when c->aborted is set in the core output filter, but now at TRACE1.
9a3bcd7 Killed another warning.
d560c4b Fixed some Windows warnings.
662838d Remove backported items.
17e19c0 conf->mutex is not used... Also, ensure that pool use is protected
3400ec7 Fix some compiler warnings.
3b905a6 Fix some compiler warnings.
8c17029 Fixed type.
f5c5d69 xforms
935f44c add note when default algorithm has been changed
bdd2d95 Updates.
2d2faa8 Update.
9ecd677 xform
5503d2f address comment http://httpd.apache.org/docs/2.4/vhosts/examples.html#comment_1441 by explicitly mentioning that ServerName may be calculated and inherited.
824492e Avoid including apr_general.h. The MSVC Resource Compiler truncates macro names at char 31. Since apr_general.h includes apr.h which in turn includes system headers we get warnings or errors with the Resource Compiler with newer system headers (VC10 and later) which have macro names defined with more than 31 chars.
e45b79e style fix (no code change)
3b0c69e Transforms.
7fbc93e Restore support for the AUTH_HANDLED return code in AUTHN providers, like in 2.2, which allows authn provider to return their own status in r->status (custom error code, or return a redirect)
e4e1533 include util_charset.h in ebcdic builds
f43fb7a Fix: (long should be *plenty*!)
a011e2a Replace pre_htaccess hook with more flexible open_htaccess hook
d00c010 Regenerate.
cf99cf4 Fix "and and" in suexec man page.
ee439ed gratuitous 8-bit char in a comment
245b3c6 drop a stray 8-bit char at end of line in comment
9b3df70 Update.
9d4128b Fix r.mpm_query().
52eaebd Simplify example.
6529433 Remove mod_lua items. Those are part of 2.4 now.
8048aba Remove backported items. Reduction by 1/3.
5dde0f7 Fix indentation (plus now needed line-wrap). Followup to r1470940.
9e7ff1c possibly improve the description of <code>none</code> added in r1497371
22e3325 minor readability tweak to r1497371
23af045 authnzldap: support "none" as a filter to suppress using a search filter, which is required by some mainframe security products serving native registry over LDAP.
8f96791 * Make code C89 compatible again
7df09b6 recognize the "defualt handler name" in r->handler, which is used when no SetHandler/AddHandler and no matching mimetype during type_checker.
cd33172 factor out DEFAULT_HANDLER_NAME
e44c118 Update doccu.
fdafc9e core: Support the SINGLE_LISTEN_UNSERIALIZED_ACCEPT optimization on Linux kernel versions 3.x and above.
08a7288 avoid "mixed declarations and code"
7cf845c correct CHANGES for r1496339, confused myself.  Normal merge from global config to vhost.
286e82c   *) core: merge AllowEncodedSlashes from the base configuration into      (non-default) name-based virtual hosts. [Eric Covener]
1c34274 provide a simple (no <If>) way to set a header only if it's not already there.
1cc32d2 Use cp on AIX too.  /usr/bin/install isn't compatible on recent systems and it's a pain to install and force /opt/freeware/bin.
8d7c386 re-try LDAP connections in a few authz paths.
d2b57d3 revert r1496183, leave at DEBUG. This not a subgroup message.
7439853 attribute and error reason reversed
482a662 Drop severity from DEBUG to trace4: "... didn't match with attr DN failed group verification."
b62a407 Drop severity of "LDAP: Setting referrals to ON" from DEBUG to TRACE4
f12c832 uldap_simple_bind was subsequently rewritten to use the op_timeout with ldap_result() which is portable, which means LDAPTimeout is used for bind & search regardless of this LDAP options availability.
4e9b551 prevent excessive delays retrying new connections that timed out.
961dcb9 update transformation
d0b9d09 xform
650d3d8 doc another moved directive, also mentioned in an old comment.
231d3a9 protect 'AP_DECLARE_MODULE(deflate)' from expansion to 'AP_DECLARE_MODULE(z_deflate)' if zlib has been built with -DZ_PREFIX.
fe5b2c6 Update.
7c89f70 Fixed touch function docu.
b006aec Added new mod_lua functions.
f8f79e1 update transformation
ba26c19 fix properties.
cfb752e fix doc for ap_pregsub_ex() return code
35012f8 Added new r:touch() function.
d157706 Document apxs -p paramter.
0632971 Update the log message number.
472f2a4 Fix "variable 'rv' may be used uninitialized in this function" warning.
aa4befc Fix "unused variable" warning.
67e9e54 Fix "unused variable" warning.
80f0769 use a simple allocation list to enable re-use of "freed" chunks. If not using pools, we assume malloc/free is sane.
e169772 Make MSVC compilers happy.
b8f4137 Fix for stupid CodeWarrior compiler.
a3aff5b subpool
67615cc make opaque
e25ca71 Update transformations.
8bad51f Correct the use of the printf formatter.
96d4951 mod_socache_shmcb.c: Remove arbitrary restriction on shared memory size previously limited to 64MB.
f632ed1 Fold in Eric Covener's socket callback
93b2998 update auto-generated code
5c39db5 The new bison version now also includes the uppercased builddir in a preprocessor symbol. Remove it to avoid spurious diffs.
73b15db Describe mod_auth_digest changes more accurately
2da3e9b Update auto-generated source
96131fd Provide better token names for error messages
2e581fd Correct typo in error message
4b8ed77 Move initialization of the secret to the pre_config hook. Use ap_retained_data_*() because we don't have access to process->pool there.
d014ead Added new funtions to mod_lua docu.
9c63be9 better descript
1003800 xforms
51951f6 Add
1dbe136 mod_cache_socache: Make sure the CacheSocacheMaxSize directive is merged correctly.
1351960 Actually use the secret when generating nonces.
fd457b6 update transformation
9c20188 Reduce stack usage by 3k
ce60943 Added missing bump.
8e247b6 According to comment in 'magic_rsl_add' and to the way 'magic_rsl_printf' manages its buffer, I think that this memory should be apr_pstrdup'ed.
ce89a22 fix typo
7e7f76f const goodness with nasty strrchr and strchr functions (resolve warning in maintainer mode)
431eeb1 Reduce stack usage, 32 bytes are enough here, no need to take 8k in the stack. (19 would be enough, but be safe...) Use the size of the buffer as opposed to MAX_STRING_LEN.
5ac83f0 Use the size of the buffer as opposed to MAX_STRING_LEN.
c0d199e mod_cache_socache: Use the name of the socache implementation when performing a lookup rather than using the raw arguments.
23b15cc Close file in error path.
9710c62 Reduce stack usage, 32 bytes are enough here, no need to take 8k in the stack. (19 would be enough, but be safe...)
4109a45 document params
fe32420 Allow use of strtoul()
0c098bd Update.
34e2152 NULL terminate the right buffer
b0cd5f2 Typo
95f4bd5 Typo, as per comment on doc.
65f9d99 don't truncate the very first file opened (unless the truncate flag is there too)
aada4d0 Minor typo fix
14c3a09 speling, pointed out by sluggr on freenode.
c6971bf Fixed signed<->unsigned compiler warning.
51cd620 Return with error if we dont support an algorithm. Modified error message slightly.
099561a Fix commit 1465115. truncpw was allocated from a pool and not via malloc
dab3bc1 rotatelogs: add -n number-of-files option to roate through a number of fixed-name logfiles.
e8bbbe9 PR55069 include line number in 'AH00113: cannot use a full URL in a 401 ErrorDocument'
5a0308b Adding ApacheHaus. Reorder alpha so that we don't appear to be endorsing one over the others.
75f4638 Forgot to mention Apache Lounge.
bfd7cb4 Various other rebuilds.
8f22eb6 Rebuild
7de7beb Adds links to wamp, xampp, to answer frequent complaint that we don't tell people where to obtain httpd for MSWin
1fabe43 Note that the function will be available in APR.
65e4ae7 Note the given functions will be available in APR.
3777092 * truncpw was allocated from a pool and not via malloc
67048bf bump
a43dd91 tolerate LuaMapHandler scripts that don't return anything
7ef3b67 xforms
b5eb0dc make the example a bit more instructive about the nuances of returning OK w/ r.status set vs. returning a HTTP error code.
2b9ce00 xform
c302729 add proper return values to example.
2deddb7 Follow-up to r1488773 for configure builds.
0a910d8 Added new function r.date_parse_rfc() to mod_lua.
98d5602 Fixed crash condition when r.module_info() is called for modules which dont have directives. Bug found and fix submitted by gsmith, slightly modified by fuankg.
5982f16 Added new functions r:mkdir(), r:mkrdir(), r:rmdir() to mod_lua.
5dbd367 Added new function r:htpassword() to mod_lua.
288ff9e Add a new -l parameter in order not to check the length of the responses. This can be usefull with dynamic pages. PR9945, PR27888, PR42040
284e76d Update.
67c7acc Added header protection.
10bcdb2 Check if malloc succeeded PR54344 [Bill Parker, wp02855 gmail com]
069bd37 Added optional parameter wanted to r:stat().
49082c94 3rd patch from PR45355
0c3d563 * modules/ssl/ssl_util_ocsp.c (read_response): Ignore empty buckets in   the brigade, which can be left over from line splitting.  Fixes case   where the OCSP response was only partially read from the wire.
54b2a69 mod_session_dbd: Update the sql query for sessions updates.
3eed634 CVE-2013-2249
57c76a1 cosmetics.
586e050 Remove unneeded exports from mod_lua - part 2.
37ea781 Add missing LoadModule line for mod_auth_form
4e7640b Remove unneeded exports from mod_lua.
4c35482 Remove unnecessary global declarations of optional function implementations:
b3ce136 mod_ssl: Redesign NPN (Next Protocol Negotiation) API to avoid use of hooks API and inter-module hard linkage:
7557b60 Provide proper module extension.
ec3b92d Removed non-existent funcions from header.
463a796 Removed non-existent funcion from header.
9d61001 * modules/filters/mod_ratelimit.c (rate_limit_filter): Log the error   code.
c0bfdbf * server/protocol.c (r_flush): Use int return type as per declaration   of apr_vformatter(); no functional change.
cf98593 'make docs' xforms
984f87f s/proxy image/proxy/
095a44e Use proper type to kill compiler warning.
85ede33 Inform MSVC compiler there is a Lexical target so the compiler is not confused which causes it to absorb some properties of the Lexical target into the Debug target.
1529e18 link to win_compiling from Install doc.
750cf0b Whoops - one empty line too much.
b5d55cf Removed a bunch of empty lines.
3406c33 Changed r.sleep(s) to r.usleep(ms).
c340f7e Clarify the existing behavior.
0d1d509 Reverting as per veto in http://svn.apache.org/r1486021.
98552db Ensure that any meta buckets are stripped while parsing a chunk.
8736764 CVE-2013-1896
111f35f Be more clever when allocating memory for log item to be escaped. This should be faster and save about 70-100 bytes in the request pool with the default config.
7af3897 Revert change in order to apply a better solution.
e71d636 Removed obsolete define (already exists in mod_lua.h).
8d09295 Removed obsolete header include.
be4fefc core: Use a matching counter type.
2a72943 core: Make sure we allow unconstrained bodies from a proxy.
02046df mod_deflate: Make sure we process any EOS bucket in our brigade and save going the long way round.
d9e659b mod_logio: new format-specifier %C (combined) which is the sum of received and sent byte counts. PR54015
d0dccd8 core: Remove apr_brigade_flatten(), buffering and duplicated code from the HTTP_IN filter, parse chunks in a single pass with zero copy. Reduce memory usage by 48 bytes per request.
2453581 Update log message tags.
44b8351 mod_deflate: Remove assumptions as to when an EOS bucket might arrive. Gracefully step aside if the body size is zero.
fdb6d62 eol-style = native
13dbce7 update transformation.
393374e eol-style
252811e Updates.
e19ada4 Fix PR 54463 by removing an optional 'standard' parameter. It has been no-une for more than 10 years and is not documented. This also makes the code more consistent with other mod_auth modules.
62ff581 Add in logno's
7f43bac Update.
10bf2c1 Updates.
1cdf795 NetWare build: dont make the svn revision file a dependency.
2acdfd8 Cast uint16 return value to int. This fixes a crash on Windows when compiled with MSVC9.
530d55c Fixed Lua type.
0b3f100 Fixed compiler warning; sorted includes.
debb1f9 Moved header protection to the top.
374bf1d add in child_init which is needed
66b3e65 revert... we are good
3919a40 update comments
88a8e9f force subpool
8f1c51a Typo in comment
1ab831f mod_proxy_http: Make the proxy-interim-response environment variable effective by formally overriding origin server behaviour.
370e4a5 Avoid over allocation when dealing with the common case. As stated in the comment above : "We'll assume the common case where one bucket is enough".
715ac06 core: Use the proper macro for HTTP/1.1.
324994c core: Stop ap_finalize_request_protocol() and ap_get_client_block() from silently swallowing errors from the filter stack, create error buckets and return them appropriately.
ad63927 mod_serf: Add a FIXME, we are using ap_get_client_block() incorrectly.
e81ec38 mod_proxy: Use a global mutex for handling workers.
d21bdf4 mod_proxy: Make sure we skip empty tokens when parsing the Connection header.
9bc9d79 core: Stop the HTTP_IN filter from attempting to write error buckets to the output filters, which is bogus in the proxy case. Create a clean mapping from APR codes to HTTP status codes, and use it where needed.
e929fb1 hunk 1: C89 please; hunk 2: optional functions are usually declared static.
4783ccc NetWare build: make use of SVN revision optional.
c3a459a Use SVN revision for NetWare dev builds version info.
d2e6782 mod_proxy, mod_proxy_http: Connection headers must be stripped on the way in and out, support an optional function to handle this.
c7fb34d MSVC 7, 8 & 9 use the .vcproj extension MSVC 10 & 11 use the .vcxproj extension Apache.sln is common to all above versions
969e215 Make AP_SERVER_ADD_STRING define-able from CFLAGS.
e4c442a mod_proxy: Ensure we don't attempt to amend a table we are iterating through, ensuring that all headers listed by Connection are removed.
728bc90 Fixed include for Windows.
b67b4ae Adjust format string
ca2948e update log tags
1203b74 Rebuild
9db6991 The use of "might" can leave some confusion as to whether it *is*.
b1ed348 Rebuild
e2c33ac Use a more definitive tense.
b5dae5e Encourage best practice of putting complex arguments in quotes.
75d64ce PR54948: wildcard name-based vhosts printed twice in apachectl -S
9a80dab mod_proxy: Reject invalid values for Max-Forwards.
a6d1be9 mod_cache: If a 304 response indicates an entity not currently cached, then the cache MUST disregard the response and repeat the request without the conditional.
6d9b26c Fixed NetWare default versions.
1ef0978 Kill some NetWare build warnings.
ed7053e xforms (coincidentally, this is my 1111th commit, yay for palindromes!)
5a55051 some more typos
2923447 typo and grammar fixes
6f5127e s/uppser/upper/
f14a001 Revert part of r1476482 which disabled fractions of seconds with r.sleep().
d7c8ba3 Mod_proxy used the global pool w/o mutex. fix.
5c93801 Ensure that Warning headers are correctly handled as per RFC2616.
a7fc0f0 mod_proxy: Ensure network errors detected by the proxy are returned as 504 Gateway Timout as opposed to 502 Bad Gateway, in order to be compliant with RFC2616 14.9.4 Cache Revalidation and Reload Controls.
61f014b Fix spelling mistake, no code change.
e225273 mod_cache: Ensure that we don't attempt to replace a cached response with an older response as per RFC2616 13.12.
6194962 core, mod_cache: Ensure RFC2616 compliance in ap_meets_conditions() with weak validation combined with If-Range and Range headers. Break out explicit conditional header checks to be useable elsewhere in the server. Ensure weak validation RFC compliance in the byteranges filter. Ensure RFC validation compliance when serving cached entities. PR 16142
56d0b5d update french translation to reflect the current auth syntax
a7ba13c bring perf scaling into the 21st century (s/allow from all/require all granted/).
f317cdc xforms
c488610 Catch up with the actual modern way of allowing/denying access
9313a18 xforms
8f4fece mod_macro is no longer a third party module.
1042392 lua header update part 1: EDOESNOTBUILD.
997e0f6 core: Add the ability to do explicit matching on weak and strong ETags as per RFC2616 Section 13.3.3.
e362111 mod_cache: Ensure that updated responses to HEAD requests don't get mistakenly paired with a previously cached body. Ensure that any existing body is removed when a HEAD request is cached.
1398f30 typo fix
98740ff s/deliminator/delimiter/, let's stick to non-Perl jargon here.
40b5e47 xforms
a3ce120 typo fix
1e50cc4 xforms
4bfe479 Remove all the stuff that has been ported to mod_lua, and add an example load balancer.
0eb8aa4 mod_cache: Honour Cache-Control: no-store in a request.
4d2b3c1 mod_cache: RFC2616 14.9.3 The s-maxage directive also implies the semantics of the proxy-revalidate directive.
d161203 mod_cache: Make sure that contradictory entity headers present in a 304 Not Modified response are caught and cause the entity to be removed.
168eacc Change GIF icons to use a different palette, for more smoothness.
5cdd5b8 * Minor bump as documented (missed in r1478140)
99a323a Silent no-prototype compiler warning.
0ef0994 mod_cache: Make sure Vary processing handles multivalued Vary headers and multivalued headers referred to via Vary.
f18afbf mod_cache: When serving from cache, only the last header of a multivalued header was taken into account. Fixed.
9f68cf2 mod_cache: Ignore response headers specified by no-cache=header and private=header as specified by RFC2616 14.9.1 What is Cacheable. Ensure that these headers are still processed when multiple Cache-Control headers are present in the response. PR 54706
d32086b Apply log message tags to messages.
6e77e5b mod_cache: Invalidate cached entities in response to RFC2616 Section 13.10 Invalidation After Updates or Deletions. PR 15868
0b109d0 Updates.
26548fe mod_dav: mod_dav overrides dav_fs response on PUT failure. PR 35981.
42f0d9d mod_dav: Make sure the URI length is calculated correctly.
b6029cb Update the docs to note that SSL now works with the event MPM as per r1470679.
85b2373 xforms
954c6cb Note that parseargs and parsebody actually returns two tables, not one.
5b8d14f xforms
ed8334e Expand on how to set context specific directives.
804c203 Fixed the base64 functions.
19f1469 Updates.
2628ea4 mod_proxy: Clarify the usage suggestion for BalancerInherit and ProxyPassInherit.
fd0dbd8 Note that the buffer size is set to a maximum of 65536 when AJP is used as per http://www.mail-archive.com/dev@httpd.apache.org/msg41843.html.
767bded mod_dav: Do not segfault on PROPFIND with a zero length DBM. PR 52559 Submitted by: Diego Santa Cruz <diego.santaCruz spinetix.com> Tested by William Lewis <wiml omnigroup com>
206e02d mod_dav: Do not fail PROPPATCH when prop namespace is not known. PR 52559 Submitted by: Diego Santa Cruz <diego.santaCruz spinetix.com> Tested by William Lewis <wiml omnigroup com>
24356db mod_dav: When a PROPPATCH attempts to remove a non-existent dead property on a resource for which there is no dead property in the same namespace httpd segfaults. PR 52559 Submitted by Diego Santa Cruz <diego.santaCruz spinetix.com> Tested by William Lewis <wiml omnigroup com>
0baf2d9 mod_dav: PROPPATCH delete (svn propdel) silently discards errors. PR 53525 Submitted by Arwin Arni <arwin collab.net>
455a86c mod_dav: Ensure URI is correctly uriencoded on return. PR 54611 Patch submitted by Timothy Wood <tjw omnigroup com> Tested by William Lewis <wiml omnigroup com>
b953a0a mod_dav: Sending an If or If-Match header with an invalid ETag doesn't result in a 412 Precondition Failed for a COPY operation.
8f652c1 Added function to get all entries of a directory.
8f77665 fix comment
f231cd4 Reduce compiler warnings. Fixed some types, added casts, or changed to proper function.
4ee48c1 Update.
0ae4b08 * Backported
28b2cfc Done.
c17b0f8 Rebuild
3b9f397 Rebuild urlmapping doc
57d0b1d Mention DirectoryIndex and mod_autoindex
e6a4c07 htdigest: Fix buffer overflow when reading digest password file with very long lines.
f95173a Updates.
edec19f xforms
dc676ef Note that ProxyPass[Match] doesn't work within a <Directory> context.
5f4c783 * Fix null pointer dereference in case SetEnvif and SetEnvIfExpr are used   together.
1416de6 mod_dav: Make sure that when we prepare an If URL for Etag comparison, we compare unencoded paths. PR 53910 Patch submitted by Timothy Wood <tjw omnigroup com> Tested by William Lewis <wiml omnigroup com>
0aacd9b simple MPM: Lift the restriction that prevents mod_ssl taking full advantage of the event MPM. Enable the ability for a module to reverse the sense of a poll event from a read to a write or vice versa.
a47569f core, mod_ssl: Lift the restriction that prevents mod_ssl taking full advantage of the event MPM. Enable the ability for a module to reverse the sense of a poll event from a read to a write or vice versa.
c2460ee Rebiuld
195dbf7 Adds note about enclosing arguments in quotes, as per https://issues.apache.org/bugzilla/show_bug.cgi?id=54866
16c5c09 elaborate a bit about what ivm does, and add an example script
63b276e remove backported item
7f40d2e Add workaround for gcc bug on sparc/64bit
2146bbd Updates.
4bab3cc fix typos, expand on how r:flush works
bda0a28 Fixed r.started value to return seconds.
98ebff2 Use a mutex to control read/write for IVM values, so we can reuse the existing structures without running into race conditions. This should get rid of the need to have MaxConnectionsPerChild set to > 0.
35f9ad9 use ap_varbuf instead of allocating new strings each time we override an old one. This uses leaks less memory, but it's still not perfect (but it's a start - maybe I need to use a mutex for this, to override the original object without running into race conditions)
ad1f224 xforms
6c50f38 typo fixes
3d9abf5 scrap r:started from the list of functions, as it's just a variable.
9f39d24 r.started already exists as a built in variable, so let's not make it a function as well.
cf9c1bc xforms
be784a1 minor bug in a C example.
01cd146 s/r:/r./
64d04da Adds an anchor on LA-U for convenience.
4f2c8ea s/r:/r./
5d652f6 exists_config_define should return a boolean, not a number, or it will always evaluate to true.
a433e37 remove redundant code
8049067 Remove lua_ap_banner, as it's no longer being used. Add ivm_get/ivm_set for Inter-VM data transfer. This allows multiple VMs across a process to share data without having to resort to external databases or filesystems. This is a work in progress, and I have yet to work out a proper way of resetting a variable without causing a memory leak (this could be done by allocating a new pool for each object, but I'm trying to see if there's a more efficient way). Comments, ideas etc are most welcome.
d3b7df4 xforms
dfbf00d fix typo
b3421f1 Rebuild
db1a6d5 Rebuild
6ae3cff Rearranges the sections so that 'int' is first, where it makes more sense, so that types progress in order of complexity, rather than some other arbitrary order.
6928090 mod_auth_basic: Allow AuthBasicFake to be switched off for an URL space.
c59ebd8 Changed @exp_sysconfdir@ / @exp_logfiledir@ to relative paths.
1c780f1 revert r1352596, for the reasons explained in https://mail-archives.apache.org/mod_mbox/httpd-dev/201304.mbox/%3C515FED7C.5010009%40velox.ch%3E
4ffceed Turn a int into a apr_size_t for a variabe used to compute a string length
166548f in 2.4.5-dev
b8fc478 Only ask for the stat info we really use.
8c101df Part two of r1467523
9d0208a Fix crash in mod_log_config when logging request end time for a failed request (LogFormat contains %{end}t).
3a0847f xforms
fd5d95a fix regex documentation for mod_lua
abc30cf Return early with an error instead of returning an incomplete match table.
0e18686 Whoops, one AP_MAX_REG_MATCH not caught.
97e8153 Decouple mod_lua max regex matches from AP_MAX_REG_MATCH. Bumped the default to 25 matches; this default can be overwritten with a CLFAGS define.
9e2cdef Updstes.
0ad1774 Extend check for encrypted private keys: with OpenSSL versions prior to 1.0.0, inf->x_pkey->dec_pkey is always non-NULL, so also look at inf->enc_data.
258491d xforms
e1ae43e silly me
336d9f3 fix some bugs reported by fuankg on Windows release builds.
5ae71d6 whitespace/escape fix
cbd6cd2 xforms
90ec3f0 temporarily change a comment so the function can be commented out in the xml
e38b304 remove r:banner and r:port from docs, they are built in variables
0601424 fix up r.banner and r.port so they work like variables and not functions (seems to have already been put in there), duplicate??
df8901e fix docs on regex matching, change the actual ordering of arguments to match the docs, and enforce AP_MAX_REG_MATCH in the function, should it somehow return more matches than we have allocated
ee3815b Static var not neccessary here
160cff8 MOdified r:stat() to return finer time granularity. the atime, mtime, ctime, size values ar now in mod_lua 64bit as received from apr_stat().
07142db Fixed typo; followup to r1467188.
b610081 Added optional parameter flags to lua_ap_regex(). This enables to call r:regex() with a flag to do case-insensitive matches.
acf05d4 Increased stacksize for mod_lua on NetWare.
1083ba8 Comment out feature that we don't have yet.
29b9f3f Fixed Lua r:stat() time values.
cba031c Align comments in examples
894a2b1 xforms
01f4c82 Updating lua docs with examples of how to use the built-in functions
d31632f Add failontimeout to allow server admin to mark balancer member in err if IO timeout occurs.
086da9d PR54813 authz_dbm used to respond to 'Require group ...'
dd85401 xforms
7e68466 Add example use case to doc
318ce8d Make the "default" parameter of the "ErrorDocument " option case insensitive. PR 54419 reported by Tianyin Xu [tixu cs ucsd edu]
1ed5edd update xforms
b02101b htpasswd: Add -v option to verify a password
e84335b fix htpasswd/htdbm brown paper bag bugs
52b2202 remove unused variables
48c6af9 make the "ProxyHTMLFixups" options case insensitive in mod_proxy_html PR 54420 reported by Tianyin Xu [tixu cs ucsd edu]
aa6112d Make option "CacheDisable" in mod_cache case insensitive. PR 54462 reported by Tianyin Xu [tixu cs ucsd edu]
cfab5af align comment
2a21371 Use apr_file_printf(... "%pm"...) instead of explicit call to apr_strerror + add some spaces to improve formatting
2b20153 Use apr_file_printf(... "%pm"...) instead of explicit call to apr_strerror + add some spaces to improve formatting
4149fb8 mod_dav: Improve error handling in dav_method_put(), add new dav_join_error() function.
162ecca Use apr_psprintf(... "%pm"...) instead of explicit call to apr_strerror
ae8de8d Use apr_file_printf(... "%pm"...) instead of explicit call to apr_strerror
a9f8426 Use apr_snprintf(... "%pm"...) instead of explicit call to apr_strerror
f707141 * Always try to reuse the address looked up for the worker if we are allowed to   reuse the address. This saves DNS lookups.
e00688f Use %pm available since apr 1.3 instead of an extra call to apr_strerror
a68ec08 use ap_log_error's facility to print the apr error string instead of calling apr_strerror() explicitly
0c973e5 Remove partial non-working implementation of MD5-sess and qop=auth-int.
770dc35 if shm initialization fails, reset client_list to avoid crashes
3742c77 Remove some useless declarations that were shadowing other local variables of the same name.
979cd47 ap_log_error already logs the error string, no need to log it twice
16ae8a1 use apr_array for an array
c9ddf49 Name pool + concat string at compile time when possible
ce934ed Update.
43fdfc9 * Improve reusage of already resolved addresses to avoid unnecessary DNS lookups.
b8d1cc6 * Inherit providers during merging
8608776 Be more clever when allocating memory for log item to be escaped. This should save about 70-100 bytes in the request pool with the default config.
9c53441 update w/ correct patch level
0aaaa75 Typo
e9a7fd7 Updates.
76e9a1d disable pool alloc poisoning if APR_POOL_DEBUG is enabled because it uses conflicting defines
adc3604 Add another URL for the "removing the first connection filter in chain" bug. The other site seems dead.
4396a46 Fixed proxy exports list; renamed wstunnel module.
1c78758 xforms
c240e7d typo fix as per comment #983 on site
4282973 Useful extensions...
44319eb Keep mod_req clear. Simply scan thru input filters and remove it within the ws submodule. Nasty, but it keeps mod_req untouched (for now ;) )
2495e8e allow bypass and removal.
1d34680 temp work-around... better ways to do this, but let's use the websocket tunnel feedback to determine what we need.
8a47ad9 bypass reqtimeout for websockets
3e131b9 Allow modules to pro-actively bypass the reqtimeout filter (by connection)
3fb6e09 Actually, there's just the one example.
510c078 "Will be" is weak. Replace with something that indicates that we're sure of ourselves.
ea79dca more simplification with ap_bin2hex()
19592d8 update xforms
2f358e7 add md5 function, too
bbf4902 simplify code by using ap_bin2hex()
bc61255 sha1 now does hex encoding
3140d79 Expression parser: use hex encoding for the sha1 hash.
3a6bde0 RPM spec file: we depend on libuuid-devel to build.
5d47953 Remove the comment, this is done.
dcd48f3 Remove the Authorization header should either the username or the password resolve to an empty string.
ae9fe2f Rebuild transformations.
6f91fe5 mod_auth_basic: Add a generic mechanism to fake basic authentication using the ap_expr parser. This allows the administrator to construct their own username and password for basic authentication based on their needs. Alternative fix for PR52616.
c0c5f9d Expression parser: Add the ability to apply a SHA1 hash to strings within the parser.
cc78b31 Expression parser: Add the ability to base64 encode and base64 decode strings within the parser.
10bafdd Updates
d6c996a axe unused variable dconf (since r1453875)
f8d6fac spelling
19a1180 PR54687:  note that REQUEST_FILENAME is influenced by AcceptPathInfo
740a2d1 rebuild
4672868 Phrasing tweak
a680acf xforms
500d9e5 typo fix
8fe57f0 Typo
15fb0ef Add mod_proxy_wstunnel to the RPM spec file.
569fe44 Updates.
e5d0f97 Final rename per r1454386, we hope Set eol style of mod_proxy_wstunnel.dsp to native for easy editing on any OS
236519b streamline
2cac651 don't strip these, ensure that they exist.
a54621a "final" rename :)
e87a822 message tag for dom sock
723bba5 finish up mod_proxy_websocket/tunnel rename on Windows
16d02bd log nums
99b9928 rename extension module... tunnel is more accurate
2bea7fb Pull out duplicated code to proxy_util...
c946792 Use the same word as in the syntax below.
320fb1f fix merge of min/max file size by setting corresponding _set
0d61e66 And now pass the initial request to the backend...
60efc02 Add mod_proxy_websocket to Windows
1c1e0a8 Added mod_proxy_websocket to NetWare build.
2f876d8 Work around blocking issues...
4ff6e86 We need to ensure a conn_rec
c0bdcfb force correct scheme info
7930e87 Rough start for simple, tunneling websocket proxy support. Compiles at this stage and that's all I know :)
086ee45 xform
6a74a78 for now, mention that the TTL isn't tracking to the last I/O on the LDAP conn.
03d781e xforms
b864483 Separate data structure and built in functions, so you can more easily navigate to whichever you want to read about.
0dbb42e I do DECLARE
7036650 PR54587: LDAP connections used for authn were not respecting LDAPConnectionPoolTimeout due to confusion over what "bound" means.
523996f cache_storage: remove useless test + update function name in debug log + skip as soon as we know headers do not match
b6cdb03 apr trunk-able
ebb48e5 Fix indent
bb69ec6 Remove useless tests.
1ea14da rv uninitialized -- the failing checks don't set rv, so don't pass it to ap_log_error.
f9b2fed Follow-up to r1451905 to fix NetWare/Windows compilation.
a641aa2 Make AF_UNIX aware... fix Windows/Netware??
973d661 Update.
b1976f8 The 2 first patches from PR45355 have been ported
1b9fc3e Use define for serverroot with Windows conf files.
d748071 Some windows install.log output cosmetics.
b14d591 As long as we have skiplist, use it.
5df427d aboid NULL refs
f5f921a Add in rough uds support (Bugx 54101) from Blaise Tarr <blaise.tarr@gmail.com>
9c4a880 And now make aware... compile/build again :)
a06c6b0 Move skiplist to core
78f3153 sync
18ad475 1st phase of moving into httpd "core"
de1f4ca streamline TZ check
fdee075 sync w/ current event bug-fixes
fdce96c SSL_SESSION_id2sz is only used for logging, having it in lowercase shouldn't be an issue.
85ed636 Avoid some memory allocation on error path in 'http2env' if TRACE1 logging is not activated. Avoid a function call to 'apr_filepath_name_get' which ends up to a strrchr call, if TRACE1 logging is not activated.
2588cf8 fix the wording of a line, as per comment 909 on the site.
1a39234 Use define for serverroot with NetWare conf files.
8b3b94f Removed tabs.
441cc2c this is broken... pull out
f3c29bf better handling of overflow
ad908d7 hopefully fixing the <pre> overflow bug as reported by mike rumph
bbb5689 Update to be consistent with the rest of the document
5c178ce Apply to trunk doc, things done on 2.4 branch
d10bdbf .fr doc update
7e16276 Fix typo in doc which is only on trunk
595055d xforms
8a18a47 fix various typos, thanks to mike rumph as per comment #872
551f079 More updates to the STATUS/TODO list
127f1eb Done
5bd9264 spelling fix
cda8fbe Rebuild
9c91cef That's a separate doc now.
ec81466 bug 54548 - use new expr parser with 'elif', like 'if'
1333e97 Fixed NetWare makefile for serf 1.2.
23026db Updates.
317eca4 realign and fix logic
d146f3b xforms
f174f1e add SSL_TLS_SNI to the list of variables
7c25f50 xforms
4747006 Hard coded ThreadLimit for event is 100,000.
6696023 Fix link to the END flag detailed docs.
894e7bd Correct some spelling.
f9ec3e7 This is useful info for mod_status ;)
0e9846c resync w/ some event fixes
16a8e81     mod_ssl: Quiet FIPS mode weak keys disabled and FIPS not selected emits     in the error log to debug level.  [William Rowe]
a7a919a The days of 9x, Win2K are long gone.  No more need of a stub
dd8bdc0 ye gods what have I done
bec1cf0 Remove redundant 'directives' list, and use the more-useful quickreference doc instead.
0006419 xforms
b7f024a typo fixes
8fee539 typos
72f579f ensure positive
2cb0518 Has been backported.
08b292c Unbreak default case of RewriteBase not being set after r1410681
8f5bc36 Fix the authn_socache example, as per users@ discussion and Ben Johnson's comment on the page itself @apache.org..
688c17e Updates.
f24ffba ap_rgetline_core() now pulls from r->proto_input_filters for better input filtering behavior during chunked trailer processing by ap_http_filter().
de8b145 Stuff I want to do
9c12e42 Stuff I want to do
80a1a46 typo
5e19168 Typo
71134a9 Rebuild
e1d3895 Missing trailing slash
3c25f31 Rebuild
7aa0725 Reconcile contradictory statements.
2aa8e5e r:regex was not returning the last captured group, as we were one off on how many captures to push to the table.
bf4e43b Fixed a potential NULL pointer deference. This was brought up on dev list by Christophe Jaillet.
3798f3b Style fixes - no code changes.
7962e62 in 2.4.x
048f9a7 In 2.4.4-dev
54c9816 Change bzero/bcopy into memset/memcpy
3f42fb8 Can't figure out why we allocate len+2 bytes here. Len+1 should be enough.
b6b3e8e Chop inappropriate detail from my recent CHANGES entry
78d5fbc Fix  incomplete filename in ErrorLog when trying to access files in non existing directories PR39944
a93d90a mod_proxy_html: bugfixes and introduce HTML5 doctype
fd1695f Improve httxt2dbm doc as proposed in PR51372. Please backport if usefull.
d5a372f Fix valgrind warning about uninitialized memory in argument to semctl
4b36695 Don't keepalive the connection to the client if the backend closes the connection.
2ed0578 fix valgrind warnings about uninitialized memory in syscall arguments
8736e6a Avoid valgrind warnings in mod_ssl random number generator
7db3307 xforms
de0b883 fill in the dots for http://httpd.apache.org/docs/2.4/platform/windows.html#comment_802
b3c747c Updates.
57eb463 Rebuild
1acee8f Typo
c51c859 Rebuild
a281c14 Rebuild
95ee9ab "A few hours last week" is kind of strange in a howto that has been around for most of a decade. Need to scrap this entire example eventually.
0f468ef MSIE Mac example is stupid
7f9b56d Note that v is a shortcut for reqenv
4aecaa5 Fix error because of negative rate-limit PR : 52964 Submitted by: Tianyin Xu <tixu cs ucsd edu>
0d13f60 ProxyPassInherit directive
6360d96 apr dbd and mod dbd have been mixed up in the handle closing function, so let's sort it out.
fddcc9c rpm: Bump the epoch on mod_proxy_html so that older separately packaged versions of mod_proxy_html don't take precedence over us.
813931f Add mod_macro to the RPM spec file.
a8535b9 Update transformations.
a56d88d Clarify more clearly in the examples which configurations are limited to CacheQuickHandler off and which support both.
2b74167 Update.
dba4500 Cache does no longer send Content-Type header for fresh content.
62980ad fix r1439000 per rjung remarks http://marc.info/?l=apache-httpd-dev&m=135925949528376&w=2
3fb478d mod_lua image size has surpassed 0x00010000, step it up a notch
17b861a Updates.
6f4f32a try to emphasize that ErrorDocument nnn /foo doesn't send a HTTP redirect.
96a911c http://httpd.apache.org/docs/2.4/platform/windows.html#comment_760
54f8228 typo
45de01a install httpd-macro.conf
5b569de Spelling: s/provilèges/privilèges/
f319aab Rebuild
ccdbd28 Impose a little consistency in the <description> field, as discussed briefly on docs@httpd.a.o
7e11a35 Rebuild
7ea4d3b Emphasize that the output of #printenv is plain text so that it doesn't dump a bunch of unformatted text in an HTML doc.
88f44fa Tweak phrasing to more closely match what we say in the include section
ba54391 Adds examples for fsize and clarifies the difference between file and virtual
e89b922 Rebuild.
34cb711 Adds example to echo
4e0211b Added httpd-macro.conf to NetWare install.
e879151 backported
46c9392 macro parameter definitions and uses must match exactly
32cf456 Mention mod_macro in the mass vhosts doc.
3e74859 Rebuild
b4e2433 Update to 2.4 authz syntax
bef1447 * This one is backported to 2.4.x
3bd54f8 * Ensure that is_v6literal is always initialized
5b1b533 Adds vhost example from http://people.apache.org/~fabien/mod_macro/
4742c5b Rebuild
fa3b44b Adds English Revision tag.
8e20bb9 Fixes weird indentation. Fixes markup on mention of <Macro>. Other minor tweaks.
59649c4 2.4 style access control
ad19fa5 Update to 2.4-style Require syntax.
4b2fd1c * support/htcacheclean.c (main): Ensure -p was used before attempting   to process URL arguments.
e2edd5a Replace usage of 'apache' with 'apache httpd' where appropriate
4027c56 Adds a stub starter file for mod_macro usage, to make people aware that it's there.
b6339c1 update transformation
902aaec update props
49b7a12 Adds mod_macro french and resolves svn (minor) svn conflicts.
1a79c3d update transformation
9e670b7 validation errors
15a3b66 Update syntax highlighter to match mod_macro definitions
c48b1b0 Adds mod_macro (english) to docs.
ea8245f Tweaks to make the xml validate and build
8e0c2d9 Add mod_macro to Windows build.
8126c66 Added mod_policy to NetWare build.
2028b7c Added mod_macro to NetWare build.
cecc389c Add "mod_macro" as a standard module, compiled in with "most".
0b54d4d Rebuild
f8a5c32 ErrorLogFormat has different defaults on different MPMs
fbee215 xforms
afeba00 fix "missing" example
6128f87 mod_proxy_ajp: Support unknown HTTP methods. BZ 54416
064707e Updates.
7ed2c19 xforms
0743cde fix one more link
f165c3e fix links
89d8188 If r:regex does not match, only return 'false', don't try to create error messages, because there should not be any - it's either match or no match here at this point.
3611dfe * A limit of zero means unlimited for LimitRequestBody.
49fcd96 Using the traditional way of declaring Lua functions does not seem to work with NetWare (and possibly Windows too?) Thus, at least until we find a smarter way, we have to move the r:* functions into lua_request.c and connect them from there. The only functional change is that the transferred functions are now called through the request object instead of the apache2 package. The distinction between what merited it to be in either structure seems very vague, so for now, we'll keep the HTTP return codes in the apache2 table, and the request/server functions in the request object.
8cb08a6 Make documentation reflect reality of what the code does - in that LoadModule and LoadFile can be declared inside a vhost configuration.
9031ad9 Rebuild/test
15c895b Typo
8635c70 Adds examples to the various <!--#config attributes.
b138454 The word 'Basic' is not meaningful here. These are all of the available elements.
9648bfe Rebuild
942f8e4 Replaces the term 'element' with the term 'function' so that it's clearer what we're talking about. (I'm aware that `element` is an SGML term, but I think that the goal here is communication, rather than necessarily using the right jargon.
79695f0 Rebuild SSI change.
3f8606d Oh, look, we overlooked another instance of 'Apache' where it should be 'Apache httpd'
97899a1 rebuild
41eb17e Provide an example in the introduction in order to motivate the lengthy setup process.
08b6d16 Log a warning if ThreadStackSize has an inappropriate value. PR : 54311 Submitted by: Tianyin Xu <tixu cs ucsd edu>
1731e8c Improve error message PR 54384
023e47c Add helper function to execute command w args and get one line of output. Allow AuthLDAPBindPassword to have exec: argument like SSLPassPhraseDialog
b502150 fix mysql connection string in example
0f7fb45 Fix htcacheclean list options "-a" and "-A".
234523f The pool and db object to be used should be created before trying to acquire a driver handle.
05bcfb4 revert r1432881 - t'wasn't a bug after all.
3c72b3c mod_lua/dbd: Only 2 arguments are passed, so let's tell Lua to only return 2, not 3.
9e0d89e Updates.
e76a216 add default
4a2c2ab Shamelessly add some people to the contributors list (I hope they're okay with that)
4bf0916 This stuff is now in trunk.
ba7f623 Debian doesn't like pushing statically defined functions into tables, so we'll declare them in lua_dbd.h and just make them regular functions instead.
b5ecd6a mod_ssl: Allow the SSLUserName to be used to control the username passed by the FakeBasicAuth option. PR52616.
880c7a6 Fix a typo.
60e2bf1 Since functions are now pushed solely in lua_dbd.c, there's no need to declare them in lua_dbd.h Hopefully, this solves the Windows compiler issues.
f6551d4 inform compiler where mod_dbd.h is located
cff3f7f Added include path for mod_dbd.h.
e582add CodeWarrior workaround for lua_dbd
fdce7c3 Fix mistaken reset of num_free with restored shm
2684cd0 these are in 2.4.x
8b02376 xforms.
b18c64f Remove reference to RequireNone, which is no longer used in the example since r1341749.
7b6fc85 Nothing to see here. (Fixes annoying indentation in doc example.)
bc9f603 Rebuild - includes the update to the copyright date.
0573b3b Fix xml validation
37c65fd4 Adds a seealso for the logging doc.
8395f83 Naming
a8d7e19 Rephrasing a bit of the database docs for mod_lua
af01078 Add lua_dbd features to CHANGES
27fc694 Fix typo in comment, as per bugzilla #54388
0e04ce5 Add database features for mod_lua (apr_dbd + mod_dbd). See documentation update for API and examples.
1a572ff rpm spec: Ensure we are prioritised above mod_ssl on Redhat derivatives.
ee99c0c According to my testing, one special case of 'log_xlate_error', i.e. EES_INCOMPLETE_CHAR,  is 13x (!!!) faster with the use 'ap_bin2hex' instead of apr_snprintf(..., "%02X" + srlen for each character.
b3f29e2 Use ap_bin2hex instead of sprintf(..., "%02x". It gives the same output and is faster.
67246c4 According top my testing 'socache_mc_id2key' is 6x faster with the use 'ap_bin2hex' instead of apr_snprintf(..., "%02X" for each character. Output is *not* exactly the same. It was uppercase, now it is lowercase.
5c23f52 Security notes about SQL injection.
f77c0f8 According top my testing 'SSL_SESSION_id2sz' is 4x faster with the use 'ap_bin2hex' instead of apr_snprintf(..., "%02X" for each character. Output is the same.
ea88d00 Updates.
dfcb39b Happy new year.
f363122 Update.
9c396d2 mod_ssl/ab: only use "--static" for pkg-config when explicity requested (by adding an "--enable-ssl-staticlib-deps" option to configure)
7deeb87 fix typo: || not |
5d4ab41 Updates.
d8a752e non-existance of byrequests is not an immediate error
de37404 Updates.
1e7cba9 * modules/proxy/mod_proxy_ftp.c (proxy_ftp_handler): Remove   unnecessary APLOGNO() for trace logging per dev@ discussion.
78096fe Improve pkg-config usage for mod_ssl/ab:
2eb1a07 Stupid CodeWarrior compiler cant take vars with struct inits.
40431c8 Add some caching for password hash validation.
c6984df remove unneeded include statements
d47f71f Remove support for Request-Range header sent by Navigator 2-3 and MSIE 3
8dcffbf abort if BIO_new fails due to lack of memory
8515b16 Adding security related information
01e13c5 say what I meant to say
39e31f5 change protocol number parsing in strict mode according to HTTPbis draft
4b5fd51 remove comment; empty host headers can happen in proxy requests
c94c4a0 Widen strip pattern to also match MOD_XML2ENC_LDADD.
c9617c8 What happened to serf in the IDE builds? For consistency sake with the other optional dependencies, get serf in there too.
8283707 add log tags missing in r1426877
f726113 Add an option to enforce stricter HTTP conformance
304f1d0 Fix warning about discarding 'const' qualifier from pointer
33a2fbf Correctly parse an IPv6 literal host specification in an absolute URL in the request line.
5dd7769 extend description of r->hostname
3c106a2 Rebuild various transformations.
3fbeb6f Add links to programs docs.
5f6a3a6 Add links to the relevant docs.
662cfcd Add notes about compiling from Unix sources
1aa2b07 transformations
50eb694 mod_ssl: add support for subjectAltName-based host name checking in proxy mode (PR 54030)
7e37427 Check that AsyncRequestWorkerFactor is not negative
93d5365 htdbm, htpasswd: print error message if out of memory
6a1c04e Exit with error message if out of mem
8ee1c0a Replace strdup by ap_malloc to ensure a proper error message if out-of-memory. While there, only allocate memory for the string part we actually use.
72ba836 Fix example code
0d8cc36 Update.
3d8bdb7 Style tweaks, remove add_version_component and fix up some sloppy code. Many thanks to sfritsch for the pointers! And a merry christmas everyone :)
4e76070 GNU make somtimes has problems determining that $(builddir)/test_char.h and test_char.h are actually the same files. Fix 'make depends' to only generate the latter.
25f0a51 add some nonnull fn attributes
b5c0966 Change HttpProtocol to again only allow to enable/disable 0.9
8a94c4a style fixes, add comment
90746d6 caution about merging Location settings on top of directory/files authz config
c99f8c4 Removed now obsolete function skip from NetWare export list generating script.
1050577 Style tweaks, no functional change.
6459776 xform
7c96a66 hint about API and module usage.
c1f9c75 - return NULL if apr_reslist_acquire fails, so we don't end up possibly referencing a null-object - initialize cache_info as NULL
d9e3aa7 Remove reference to top secret project! You did not see this commit message ;)
8767ad9 mod_lua: Fix multipart post parsing, so it doesn't include random bytes at the end.
005c140 On NetWare skip these unsupported function prototypes.
a685d6a * modules/proxy/mod_proxy_ftp.c: Fill in APLOGNO.
f1e3cd4 Added a warning that these scripts leak information.
81f9d80 xforms
375b0c2 Some minor tweaks to the wording of the windows page.
ccb302a xforms
bc947af The ASF does not provide official binary packages for 2.4/2.5, so let's not pretend we do. We can always revert this if/when someone steps up and provides convenience packages again.
f0d7081 update xforms
26ecd7b Redfine - we are just worried about balancers and workers, so have the directive clear about that.
26036be restrict inherit control to those fields that "require" it...
844012a ab: add the possibility to define a socket timeout (-s timeout) [Guido Serra <zeph fsfe org>]
befef13 Follow-up to r1422855 for NetWare and Windows.
854a0eb backported
6005430 Added missing exports for NetWare.
0299d57 backported
c5e77d9 Install cache_common.h as required by mod_cache.h. Allows external modules to use mod_cache. Submitted by Niklas Edmundsson.
91c6296 remove unnecessary cast
6789743 Xforms.
dff7cc1 Backported.
82c7566 Add a version compatibility section to the expression parser docs page.
118372c Updates.
a70974b use ap_bin2hex() to simplify md5/sha1 code
c39c616 add new ap_bin2hex() utility function
4cd818b remove unused variable
999476f mod_lua: Fix unitialized variable in lua_ap_send_interim_response.
b40ee6c xforms
3b2115a PR54308: aliasmatch ^/foo matches requests for ////foo
5a3e2e4 mod_lua: If a regex fails, return false plus an error message as second return value. Also fix some functions who weren't always returning a value.
98dd7b8 not unique to leading slashes.
1db7749 PR54307, Alias and leading slashes
d743bc4 Updates.
f19f43a fix r1416889 a different way -- the referer should be const too.
f6949cc const fixes for mod_imagemap, fatal on old xlc due to returning apr_table_get result from non const function.
eca56ae httxt2dbm: Correct length computation for the 'value' stored in the DBM file  PR 47650
ff81e58 mod_lua: Fix Windows compatibility issues and remove an unused variable. Thanks, Gregg!
74708ea Allow for searching w/i shm slots for a specific worker and balancer
ae3f320 Backported in r1420827.
b636568 Use inherit_set to let the global server set the default for all vhosts.
f5e8f66 xforms.
755fc20 be consistent
bdafd4e Anticipate ordering for 2.4 backport
ab4ce36 Fix use of trailing slashes in proxy balancer and member URLs and add a little explanation.
e1c3c79 Archaelogy.
96a8fb8 Drop pre-2.3 compatibility notes from trunk docs.
b849415 mod_lua: Oops, there was a stray 'int i' in the middle of lua_ap_regex.
df178d1 mod_lua: Fix signedness/other small bugs as per cjaillet/fuankg's emails - thanks guys :)
9875cc5 Add note about _fixshebang target in comments
2f58146 Add support for OpenSSL configuration commands.
2fb0965 Avoid use of deprecated functions for OpenSSL version >= 1.0
e196d0d inherit inherit
c8e999d Added copying of .swf CGI to Windows install target. Moved fixing of shebang to separate target so that it is no longer executed by default and CGIs remain inactive.
d559055 Fix various clone/edit and search/replace errors in MSVC project files
ea38445 Docs xforms.
902fbd0 Docs update concerning recent htpasswd and htdbm additions.
2902c73 Fix validation error.
93bcb9c htdbm:  - Add vxl to getopt  - Remove "-C" from usage for -x and -l  - Add space between -C and "cost"  - Usage reorder and sync with htpasswd htpasswd:  - Usage reorder and sync with htdbm
3b6cdb0 mod_lua: Add a lot of core httpd/apr functionality to mod_lua (such as regex matching, expr evaluation, changing/fetching server configuration/info - see docs for a complete list). This also includes a bunch of automatically scraped functions, which may or may not be super useful. Comments appreciated as always, especially on the more hacky bits.
1a50285 lua_request.c: Add support for parsing multipart form data via r:parsebody. This is a bit RFC-centric, suggestions are most welcome.
c945772 * modules/proxy/mod_proxy_ftp.c (proxy_ftp_handler): Simplify EPSV   address handling to avoid overhead of unnecessary   binary->text->binary conversion, and ensuring the socket family   really matches the address used.
ca24cf9 * modules/aaa/mod_authz_owner.h: Add header file with optional hook   declaration for "authz_owner_get_file_group".
ef9056a lua_vmprep.c: Additional check to see if the resource list was successfully created, so we don't end up trying to fetch a non-existent resource list when we use the 'server' option for the LuaScope directive.
c36aeb0 mod_lua/lua_request.c: Make r:write return the return value of ap_rwrite, so mod_lua can check for success/failure in writing.
acd00f0 Fix typo dbd -> dbm and add htdbm to dbmmanage note.
ce9b646 rjung's suggestions...
b7a0c5d PR 54269 Tidy up mod_proxy_html docs
a4a3b53 - Remove backported items from CHANGES. - Add eventopt to CHANGES - Remove obsolete compatibility note form SRP docs   (has been backported).
1fc2289 mod_proxy_balancer: It's totally unclear what Drn, Dis, Ign, Stby means. PR 52478
a0cc738 Use 'apr_is_empty_table()' instead of testing against 'apr_table_elts(...)->nelts'
af32fbe Avoid unnecessary %s substitution
6fa9d10 cppCheck: same expression on both side of '|'. Fix it the same way other messages are managed in the function.
b225052 No need to clear memory that is fully initialized just the line after.
5031799 remove two more items that have been backported to 2.4
24b572a Remove some backported items
5ed48d6 mod_allowmethods is not required for Apache to run, do not load it in default minimal config
e7c434b fix unresolved external symbol __imp__UuidCreate error
c3e1af4 remove items backported to 2.4.x
3e8254f Add mod_allowhandlers to Windows build
792ada0 add missing space for paragraph alignment.
40b6f3d Tell CHANGES about added 'Warning' directive.
2369b0e Fix a few 'too many arguments for format' warnings
b521b14 xforms
d04d01c Add LogLevelOverride directive that allows to override the loglevel for clients from certain IPs
8b22033 make ssl_io_data_dump respect per-conn loglevel
14f1654 rename variables: s should be the server_rec
7b8a5d3 Don't claim "BIO dump follows" if it is not logged due to log level config.
d5b414c CVE-2012-3499
310a097 remove C99 features from 'Warning' directive handling
9b6daee mod_auth_form: Make sure 500 Internal Server Error is returned should an error occur while parsing an expression.
a7eecbc rpm: Add the mod_allowhandlers and mod_mpm_eventopt modules to the spec file.
4ff409c rpm: Remove stray references to the epoch variable.
0886d3f Add minor 'Warning' directive as defined in current mod_macro.
48a3a92 mod_session_crypto: Protect ourselves against underlying libraries who fail to load without providing an error message of their own.
869a9b6 mod_cache_socache: Don't clean up too soon. If we do, revalidated requests lose their bodies.
d275f85 Add some __attribute__ for automatic format checking. Correct one catch in sed0.c.
e5e91f8 Use ap_rputs instead of ap_rvputs where applicable.
59bc7bc API sync... not crucial for trunk
6b24eb5 fixed types since MSVC doesnt have uint*_t.
17bce02 Userland change
97b4169 Add useful mod_status info... try to determine last time a specific vhost was accessed/used.
e3f74a2 save a apr_time_now() call for every request.
f3ed71c cppCheck: kill a unread variable warning
2e2939b Fixed type mismatch.
bcb6dc0 * modules/ssl/ssl_engine_io.c (ssl_io_filter_error): Use the correct   response status in the 502 error bucket; fortuitously this error   bucket is currently ignored so this bug was not user-visible.
09f24e3 Avoid processing some files twice if APR_INCLUDEDIR and APU_INCLUDEDIR containin the same path but differing in doubled slashes.
8a6add5 Sort error message for ServerTokens by increasing verbosity. Add missing 'OS' variant.
c53f52c error[120] is already defined in this function. Just use it instead of shadowing.
1292cbc Updates.
e12e3a8 xforms
cee74c4 axe warnings about MSIE 5 and other dead browsers
4e11083 Fix peek
ddd2f25 xforms
6f591d1 analogous to r1415075
39fd811 xforms
e4bbdef than -> then
031ea03 add PR's in for recent commits
03c3591 PR54223: 2.4 generates AH00554 when Include points to a directory with no wildcard.
ddabe66 PR54222: catch invalid ServerTokens args
8c14fad Zombie translations
f27297e xforms
4cb4eba as reported by comments
18cc8e8 CVE-2012-3499 and CVE-2012-4558
87eaa05 mod_dumpio: Correctly log large messages + style issues PR 54179
baf137d Sometimes we miss the last few items in the Q due to time fuzzyness. Force the full Q by adding an extra 2sec fudge factor
a5ba916 Use apr_is_empty_table() instead of getting a table and checking the value of the 'nelts' field.
ab9803f Bug from not using pools by default :)
faa04cb Force even malloc'ed mem to be 0ed. And pull out wasted cycles that did the nulling.
96ed42a Some formatting and a bugfix
7d4ff82 The compiler *should* do this, but just in case
5f30e9a skiplist_destroy() is new-ish
91ffb02 Remove from API
2b73635 Merge branch 'skiplist'
68bf694 s/;;/;/
53c102c add attribute nonnull to a few functions
6d5f732 Be nice and ignore some KDevelopment4 files
974a15e Copy svn:ignore from server/mpm/event
882f822 Don't log a spurious "-" if a request has been rejected before mod_log_forensic could attach its id to it.
f054d3c Updates.
baae6f3 Document the check in open_logs()
7213dc6 xforms
2fe77a8 Fix cut'n'paste error
4aad88e Add SERVER_PROTOCOL_VERSION, SERVER_PROTOCOL_VERSION_MAJOR, SERVER_PROTOCOL_VERSION_MINOR ap_expr variables.
80a7416 xform
5d16310 PR53963: don't merge the rewritebase down w/o an opt-in
46ea0fc fdq expects a certain behavior from atomics... ensure that the event mpms check this.
e46152c Fold in a missing optimization...
1d0042a missed one
93194d6 Update and sync
4c78035 Prefer higher-mode polling, but allow for drop down to default
544bf73 * support/rotatelogs.c: Cleanups, no functional change.  Drop revision   history, "svn log" works; use APR_PATH_MAX; constify more.
ffef831 * support/rotatelogs.c (post_rotate): Really omit the second arg when   invoking a post-rotate program, rather than passing an empty arg.   (Fixes to code match desired&documented behaviour.)
6a25b57 Give the opportunity to the compiler to compute at compile time the strlen of the given string. Most of the calls to ap_fputs are done with constant strings.
d8ba1cb required by eventopt
3452941 no longer needed
a24b851 Pull out the "extended" pod functions used by event and worker to core, since it will be used by Simple and Lean and likely other MPMs. Avoid duplication.
5a6d76e Axed C++ comments.
1070bb2 formatting: space vs tab
b40d4dc mod_session_dbd: fix a segmentation fault in the function dbd_remove. The segmentation fault is caused by an uninitialized function pointer session_dbd_acquire_fn. PR 53452
0c13e0f followup to r1348036, MSSDK's WinLdap.h uses an enum for LDAP_* status codes, so the block is not included
e2ab2c1 ignore auto-generated docs/log-message-tags/list
7870e22 xforms
b605258 Remove SSLv2 stuff that is no longer supported. Add a few newer algorithms and cipher aliases. This is incomplete, but the openssl 1.0.1c man pages don't have the complete list either :-(
e4a8666 Replace an incorrect #if by the correct corresponding #if defined(...)
9eb44f8 cppCheck:  Suspicious condition.
5e77c85 Updates.
b5a7699 Make HttpProtocol accept a range of allowed versions. Bump MMN
655875e xforms
f9d96c8 Expose ap_method_register() to the admin with a new RegisterHttpMethod directive.
7c3e75b Pull the event optimization MPM back into trunk. This provides more eyes and allows work to continue on it...
393a2f2 remove obsolete comment from 1.3 days
ee1f762 fix comment typo
ec42540 Remove warnings mod_speling.c:400:41: warning: data argument not used by format string [-Wformat-extra-args]                           r->uri, nuri, ref);                                                                                                                         mod_speling.c:508:53: warning: data argument not used by format string [-Wformat-extra-args]                           r->uri, candidates->nelts, ref);
4199004 remove warning: mod_remoteip.c:404:38: warning: data argument not used by format string [-Wformat-extra-args] It's a hack, but maintain the orig hack ;)
381f28c fix a comment to match the r1299718/r1370225 changes...
85ec79e The following now respects DefaultRuntimeDir/DEFAULT_REL_RUNTIMEDIR:
9e0df91   *) mod_xml2enc: Fix problems with charset conversion altering the      Content-Length. [Micha Lenk <micha lenk info>]
3c40c42 remove some more old unused code
4916496 better logging for re-use/use of shm
e6f724a Added mod_allowhandlers to NetWare build.
a686e26 log client error at level debug, log broken Host header value
4919ad9 Remove unused code. "Next week" hasn't happened in the last 10 years or so.
db7ba71 s/Options/AllowOverride/ in comment describing the syntax of AllowOverride.
cb1d5f4 * Ensure that nkey is initialized.
c083c06 New directive HttpProtocol which allows to disable HTTP/0.9 support.
84a9a68 make docs
697e5bb user-defined needs the hyphen
043b765 update xforms
9707ff9 mod_allowhandlers: New module to forbid specific handlers for specific directories.
8db5bcb comment spelling fix
289ead8 Make ap_check_cmd_context() treat <If> sections like <File> sections. This is necessary to properly disallow directives that don't work in <If>.
0d73475 Make <If> sections in virtual host context fill in cmd->path so that other directive notice that they are in a config section.
bd3e23a try to catch up if docs/log-message-tags/next-number is out of date
146f570 Replace duplicate log tags
9b82e82 cppCheck: kill two warnings about incorrect printf parameters. 'worker_thread_count' is unsigned
e149d2f * fd is no member of disk_cache_object_t. Instead it is a member of   disk_cache_file_t. Close all fd's (fd, tempfd) for all cache elements   (hdrs, data, vary) if they are present.
d635855 Updates.
2f2def7 Update auto-generated code
7e127cc Properly log flex fatal errors and abort(), instead of the default of fprintf(stderr, ...) and exit(2)
43f03d9   *) mod_cache_disk: Resolve errors while revalidating disk-cached files on      Windows ("...rename tempfile to datafile failed..."). PR 38827      [Eric Covener]
766eabd revert r1401448 and add a comment on why there's a bewildering copy of args passed to apr_socket_accept_filter()
6ec40f4 Allow for setting of sticky session split char... Bugz 53893
4e312c7   *) mod_proxy_ftp: Fix segfaults on IPv4 requests to hosts with DNS AAAA records.      PR  40841. [Andrew Rucker Jones <arjones simultan dyndns org>,      <ast domdv de>, Jim Jagielski]
eca44e8 fix cut'n'paste error
d4a55d6 xforms
6c8ea86 ap_expr: Add req_novary function that allows HTTP header lookups without adding the name to the Vary header
65f5b0a xforms
e37fd92 Mention string-valued expression in the BNF. Clarify when header names are added to the Vary header.
c2aeddf partially reverting r1403043: Titled xforms but modifying a config5.m4
dedbe01 xforms
27fc1c8 Fixing according to comment.
7eb8fbe also copy r->invoke_mtx when creating a subrequest
36e572d Update.
349bb76 No need to apr_pstrdup things here, 'apr_socket_accept_filter' already makes it own copy.
4ae8d21 Typo
c53e59d Define the document root once, and then use the variable elsewhere, so that if it gets changed one place it inherits it everywhere. Also, a practical example of `Define` in action.
80233cc Define example
9d21a36 Add an example of the ${VAR} syntax alluded to.
c2f9d83 xforms
f55dd48 Change default for SSLCompression to off, as compression causes security issues in most setups
0b12da4 Updates.
1af221f NOTE TO SELF
a98a262 typo
9429e7b only write the first len chars to syslog, as the buffer may have additional text added speculatively
f4eac06 style tweak
81185b2 Export mod_xml2enc.h so that others can use the module.
1948bf5 Use 'ap_strcasestr' instead of a strdup/str_tolower/strstr sequence
3d4922c cppCheck: unreadVariable - 'serviceFlag' is not used in the function, so remove it
0def67c cppcheck: arrayIndexThenCheck - change the order of the tests in order to avoid a potential out-of-bound access. I think that this module is obsolete, but doing so reduces the noise in cppcheck output...
2bf89ab ccpcheck: duplicateExpression -  'vary_by_language' is tested twice
6dd8e07 * If we face a timeout during receiving the response from the backend and if   we pinged it successfully before don't assume the whole backend has failed.   Assume that only the request has failed and return a gateway timeout then.
a23f2ef Documenting the 'disabled' argument to FallbackResource
df9bff2 FallbackResource : Support for the 'disabled' argument
b5eb633 No need it apr_pcalloc here, the memory is fully initialized the line just after
940259c No need to test for NULL before calling apr_pstrdup.
5913c39 Updates.
bb05337 ignore modules.mk
af3f141 follow-up to r1389481: find/use getloadavg() prototype on Solaris
24ec4af follow up to r1390564: we just need scope, not control structure
710f0e5 configure: Fix processing of --disable-FEATURE for various features.
c3ea3e0 PR53998, stray mod_access reference in mod_info
2cf5acd s/;;/;/
5e46d67 Example improvement courtesy of Mario Brandt
f0d65ac [Test] First try : remove extra ';'
df3f06b "Iterate" directives: Report an error if no arguments are provided.
363e145 fix typo in r1396878
6002d89 Example
4bd6783 Trivial typo
66a52ff rebuild
5fcb06a Adds example
864d3d0 Follow on to r1393976 and r1396424:
1e4dc5d Follow up r1393976: Fix typo in enablement of mod_systemd that caused it to be enabled on non-Unix
1de0d80 Removed __func__ usage which is c99.
d0adb61 "AllowOverride Indexes" also controls FallbackResource availability in .htaccess, so let's write that.
659c78c Rebuild HTML and translations
71bbbb6 Thanks to Daniel, further enhance the explanation of the decision of the default MPM.
2a1859c Adds some clarification to the statement that the default MPM is selected based on platform capabilities.
566312f Optionally read passwords from stdin
c2eb43d add support for bcrypt
65d07ff Add passwd_common.c build support for Windows and Netware
7d8882b Start refactoring of htpasswd and htdbm
67fde08 Fix usage of MOD_* variables for MPM modules
c2b7802 Allow forced setting of TLS1.1 and TLS1.2 protocols with the -f command-line switch, and adapt the output to more accurately report what SSL/TLS protocol was negotiated (use SSL_get_version() instead of SSL_CIPHER_get_version()).
64cd96f xforms
4d3a6a2 Updates.
7875486 xforms
ec5b986 German translation: Note that AllowOverride changed its default value to None in 2.3.9 As per comment #264 on site.
221ebf8 xforms
0541590 Also note that RewriteCond directives have to match for the skip flag to work. Reported at http://httpd.apache.org/docs/2.2/rewrite/flags.html#comment_322
281cef9 Updating powered-by images to reflect the consensus on dev@ ML. Please do review and say if this is what we want, and I'll backport if so.
250323f update xforms
46ccd26 update doccos
ca9bd8e * modules/arch/unix/mod_systemd.c (systemd_pre_mpm): Simplify code   slightly; no functional change.   Use AP_DECLARE_MODULE.
7414006 * modules/arch/unix/mod_systemd.c: New module.
c6ebb22 property fix.
871fe17 update transformation
05a6240 Fix spelling mistakes.
80604ab Getting rid of the animated PB icon that spells out "2.2", times they are a'changin'
44cb002 Extract some more data through the server load API:
3fcc044 mod_auth_form: Make sure that get_notes_auth() sets the user as does get_form_auth() and get_session_auth(). Makes sure that REMOTE_USER does not vanish during mod_include driven subrequests.
dcdc124 mod_include: When an include file or virtual path fails, include the result code that tells us why.
53dfcf7 mod_include: When +Includes is not set and we disable mod_include, tell the administrator where this happened.
5c75fe9 Updating the 'powered by' icons to both say 2.4 as well as use Apache 2.0 licensed fonts only. SVG version also added, in case someone wants to use/change/reproduce the icons.
f5584db follow up to r1387633: use the right exit code depending on the error scenario
9840fde core: ErrorDocument now works for requests without a Host header.
1c493b3 and allow the xml param
aaaca4d Bring XML output up to snuff for balancer-manager
6ae33e7 Added mod_cache_socache to NetWare build.
82af8fd --with-module: Fix failure to integrate them into some existing module directories.
cfb26e4 fix bug in r1392120: replace ALL commas
db3b8aa Fix shell errors when trying to AC_MSG_RESULT() for --with-module. (The change to IFS hosed any AC_MSG_foo() invocations.)
0e682d6 Update.
cdaa83e Updates.
3caba87 Add CGI sample to show how JScript can be used (BZ51359).
d5a3cb2 Changed WScript.Echo to WScript.StdOut.WriteLine because WScript.Echo seems to mess up output with Locale; avoid Split() usage since it seems not consistent with all versions.
1dab1d0 Fixed comment.
dd0f4c2 RPM: Add mod_cache_socache to the RPM spec file.
c764558 Apply proper APLOGNO codes for mod_cache_socache.
22c2623 Fix the return values on mod_cache_socache's store_headers() implementation to return APR errors codes and not DECLINED. We are committed to using this implementation by this point, and any error should force us to stand down. Submitted by: trawick Reviewed by: minfrin
ade3b53 wrap var inits in the macro w/ a do-while.
b633191 More accurate counts of busy and ready/idle
92f1d14 xforms
250b628 mod_header changes
176e7b8 Document these new funcs and make it API aware
66b958c Document new mod_headers params: %l, %i, %b
769f9a4 Might as well show 'em all
25b64e9 Allow for exposure of loadavg and server load via mod_headers
1722688 Break out loadavg from Apache load.... one is quick, the other isn't so much, and so why load things up when wanting just the server loadavg?
1b69b60 minor name change, but I expect most will just want/need/use the current load average, so simplify the name
1134cfb Would be nice to have some sort of canonical definition of server loading for Apache. So create a struct that holds some useful data. The hope is that for those platforms that lack getloadavg(), people will write replacements.
dfc4862 add pre_htaccess hook; in conjunction with earlier dirwalk_stat and post_perdir_config hooks, this should allow mpm-itk to be used without patches to httpd core
d22e888 WinNT MPM logging:
bb9aa9e Fixing some typos...again - there must be gnomes hiding in the machinery, somewhere.
3204162 xforms
a1bd06f Fixing a Spanish typo (as per comment #308 on site)
f6f4d49 whitespace fix
d5eedd1 consolidate hints/instructions about using APR (and maybe APR-util) with httpd
f696d24 Windows build for mod_cache_socache added in r1388660
8eb1d72 Keep this in, but commented out: also provide a little more background/rationale. This, hopefully, satisfies both ends of the debate: we don't "assume" that everyone who uses this browser didn't make the specific choice, but we allow for admins who care about DNT and want to either   1. Make a statement   2. Force adherence to the standard to easily do so.
d067254 Updates.
55c799d mod_cache_socache: New cache implementation backed by mod_socache that replaces mod_mem_cache removed from httpd v2.2.
cdf2e58 Rebuild docs.
b122eb1 mod_auth_form: Support the expr parser in the AuthFormLoginRequiredLocation, AuthFormLoginSuccessLocation and AuthFormLogoutLocation directives.
04954af force these
9105fe3 add dirwalk_stat hook, for use by mpm-itk
dcc6591 axe unused variable
14833e4 fix BalancerInherit command processing from r1388029 (still not tested)
6ffdd7a whitespace fixes
d583615 Make printenv.vbs inactive by default.
812d94b xforms for BalancerInherit
b360fcb OK, enable/allow previous broken, bad behavior iff the user really, really wants it. And warn that b-m isn't recommended in those cases.
d4e2929 Install the new printenv.vbs file in cgi-bin on Windows
63fd4b0 fix clang warning (dead initialization)
fdf7c1d and this one as well... persist isn't inherited
f5f36c3 Oops... didn't mean to commit that.
38f3c64 Re-instate balancer merge (for the time being) but force persistence if the top-level server has it defined....
15b4ec2 xforms
009db1d s/2.3/2.5/ and s/2.5/2.&httpd.minor;/ where applicable (assuming it works) also note that a specific issue with mod_authn_dbd also applies to 2.4, so as to not confuse readers.
ca557ac * server/mpm/prefork/prefork.c (child_main): Don't log errors for an   apr_pollset_add() failure if a graceful-stop has been signalled.
9ccfcfc This is httpd 2.5, not 2.3, and we do not support Windows 9x/ME anymore, so let's just drop the reference to them.
1bd6ade switch back to MOD_SSL_LDADD, as suggested by jorton
252eb96 Log whether or not the restore from shm actually resulted in a match of shm data, or whether it was stale.
2619a53 wtf are we doing merging in these from the parent?? These are server specific!
ebe03ff * APR-UTIL trunk is dead. Point to the latest stable branch.
1c55455 Use identifying server_rec info when we know we have unique and useful data :)
3ad7279 Added VBScript CGI sample for Windows.
0ffd554 Whoups?!
31cb066 xforms
9636d50 no longer valid since r1387287
53bf5b2 By using a consistent naming structure, we can persist across stop/starts (assuming people don't change such basics as scheme, hostname, etc...)
664dd95 Persist local balancer-manager changes across restart/graceful.
1acd622 Document new provider function fgrab()
bbc1e87 Add in new type CLEARINUSE which allows the inuse table to be cleared upon storage. This may be expected/wanted/required by some applications
9026f9f Use our private function and just allow for conditonal concat of .persist suffix
03a0702 Windows: Fix output of -M, -L, and similar command-line options which display information about the server configuration (backport r1374428). Submitted by: trawick Reviewed/backported by: gsmith, fuankg
5d491ab Revert r1371878 --  default configuration changes that drop the DNT header from IE10.
1100ba4 Additional entry to slotmem struct requires minor bump
6e77cfc Allow for a forced grab of a slotmem slot.
95a7b9f More consistent return errors...
43d5fec Revert weird "import" into httpd-trunk from 1386788. Thanks Xcode!
4a172df Importing httpd-trunk
f217b59 Add debug output when slotmem is persisting shm
6e35236 Don't just willy nilly slurp double slashes... just handle the end-case where a '//' is not intended (due to how PPR is stored)
df145fa When concatting for PPR, avoid cases where we concat ".../" and "/..." to create "...//..."
089f0eb Spin off module-specific build options into separate build vars. [second try, supersedes r1385214]
5eb4537 revert r1385214, as I inadvertently left out acinclude.m4.
3aaa037 Spin off module-specific build options into separate build vars.
5b09bf5 revert r1358167, in preparation of the next commit (will give a more meaningful diff)
6ca0f59 Updates.
ec5abc7 ap_sub_req_lookup_dirent() depends on the over-allocation done by ap_make_full_path and ap_escape_uri, so let's document it so that it is not accidentally removed.
5a3782a Add a few AP_DEBUG_ASSERT()s for the benefit of clang
a6ec33f xforms
da923cc s/Location/LocationMatch/
26cd07b xforms
9b6e803 Best practice
e5297c2 Updates.
896d9e7 update transformation
b28cfc7 fix properties.
beba00d Avoid the overhead of creating and grabbing a uuid for the balancer nonce if we're never going to use it.
29e93a9 another style fix
5eddb6d more coding style (no logic change)
7f15aa7 coding style
77e7551 Fix warnings about unused variable and (false positive) "'mkey' may be used uninitialized in this function"
533878b Replace duplicate log msg numbers
7afd66d Updates.
5dc05fa Updates.
3402942 xforms
a0564b6 Google has a way of finding everything, so let's update this guide just a bit (fix errors, expand on descriptions)
b8a0349 xforms
140436f Make the html examples highlighted.
ab1bc8d s/dependant/dependent/
3b98048 A dependant is depentent on a dependency (note the subtle difference in spelling)
88445a6 xforms
715c755 Forgot one more 2.2-style rule that needed fixing
0a20542 Replacing 2.2-style IP check with 2.4-style.
d358388 Typo fixes
557bcbb Updates.
0e6c65e more typo fixes
61edb2f misc typo fixes
aa8906c Updates.
8d68579 some xforms that I missed earlier
1782b03 xforms
eb0c83d Add Redirect* to the list of directives that are controlled by AllowOverride FileInfo
f41ef39 Note that using rewrites with a file-path substitution in a .htaccess file will look for files relative to your document root, not relative to your file system root.
528e764 Add a notion that, for a skip flag to be used, the rewrite rule has to first match (as per comment #211 on site)
4dc189a various xforms
6540790 Note that AuthDBDUserRealmQuery is for Digest auth requests, not Basic auth.
7cb009c xforms
8f76eb6 Fixing a copypasto as per comment #225 on the site.
c7721a9 remove an unnecessary check in a nest loop of ap_create_environment()
5ee40b9 Trying to tie up some loose ends: - Return immediately if the return val of ap_pass_brigade != APR_SUCCESS - Return a bit earlier when dealing with input filters, so as to not build up a huge backlog.
b947d24 Fix some style issues, use a more persistent bucket for passing along data (and clean it up the right places), and remove in/out-put filters from the chain if need be.
fd1fbe7 Removing a misleading comment.
edf0f80 Rearranging a section so validate-xml will stay happy (for whatever reason)
3476c2d xforms
58e7c2a Add new directives, LuaInputFilter/LuaOutputFilter for creating content filters using Lua.
99afa83 Add 'server' to scope_to_string's list of possible suspects, as to avoid an error when LogLevel is trace
dfbe5a6 Updates.
08b22fd Catch up change log with r1376695.
56b1a71 Apply the same length limit when logging Status header values as used when logging invalid header lines.
acedbef Authz*Authoritative removed between 2.2 and 2.4
36ad46c Updates: - Authz provider is available in 2.4.3 and later - Fix whitespace issues
0a52bed elaborate on how r:parsebody() works
d41fac0 * modules/ssl/ssl_engine_io.c (ssl_io_filter_handshake): Add a   wildcard common name match.
7f27e02 * modules/ssl/ssl_engine_init.c (ssl_init_proxy_certs): Update comment,   thanks to kbrand.
cc78658 * modules/proxy/mod_proxy_connect.c (proxy_connect_handler): Fix   use of APLOGNO().
c941ec0 s/it's/its/
7feb929 Only substitute slashes if needed.
92f440b Avoid error message from del since we print already an own.
d982f9f minor tweaks: fix server version banner, forget about old SSLMutex directive
292f9e2 Fixed install.log output for SSL port.
1c374cd Removed tabs and traling spaces.
f51c575 use state query API instead of static counters to determine processing phase in check_config and post_config hooks
c35752f Add default value of PrivilegesMode to docs.
a5d3387 Clarify code comment.
325ed03 describe some interesting differences from Unix MPMs
4c5da0f Removed trailing semicolons from header also.
6f79dac Move *_DECLARE_* macros to beginning of line in headers. Patch submitted by: normw gknw net.
83006c7 Removed trailing semicolons.
fcaf040 the rest of r1374877
006ca1c minor cleanups - don't duplicate prototype for child_main() - make a few things static
df758f6 correction to r1374780:
c02f930 WinNT MPM: Fix thread-safety issue in worker_main().  All workers were allocating from pchild without holding ' child_lock.  Allocate from ptrans instead.
5497cdd fix typo in comment
aa9b7b4 WinNT MPM: Store pid and generation for each thread in scoreboard to allow tracking of threads from exiting children via mod_status or other such mechanisms.
5f9b104 Updates.
07273a0 xforms
e99bbe8 add links to AcceptFilter and Windows platform documentation
fb6a888 Windows: Fix output of -M, -L, and similar command-line options which display information about the server configuration.
4141f17 Add the missing state release to the LuaMapHandler handler as well, so we won't end in a potential deadlock when acquiring states for in the server scope.
cefab13 Another three done.
b7f2990 Add a missing release of a Lua state (when server scope is used) when a hook returns DECLINED.
e699741 Updates.
4f1e2bb * support/rotatelogs.c (truncate_and_write_error): Factor out from   doRotate, main; make error handling consistant and print the actual   error to stderr.   (doRotate, main): Use it.
22d84fa Fix CHANGES entry.
f30dd27 * modules/ssl/ssl_engine_init.c (ssl_init_proxy_certs): Fix test for   missing decrypted private keys, and ensure that the keypair matches.
ade5265 Make sure that we clean up the ldap module folder.
71ca51c mod_lua: Allow scripts handled by the lua-script handler to set a return code that will be sent to the client, such as 302, 500 etc. This will allow scripts to be able to f.x. redirect a user to another page by returning 302.
ba90b19 No rv here.
4cf751d Fix closing the back end connection in case of error. The field "closed" was changed from an int to a bit field of size one in 2.4.x. For historical reasons a close instruction was coded as an increment on the field, which in 2.4.x flips the field each time. There were mutliple code paths that would flip it several times for a single error, so effectively the connection was no longer closed in these cases.
eacb7ea Update.
212cf79 Fix crash in packet dump code of mod_proxy_ajp when logging with LogLevel trace7 or trace8.
d247f6b Wrong content type and character set when mod_cache serves stale content because of a proxy error.
e76ab18 Fix ported to 2.4.
83295d3 Fix bus error in mod_socache_shmcb due to a misalignment in some 64 bit builds, especially on Solaris Sparc.
a943ffd add back the DefaultRuntimeDir/DEFAULT_REL_RUNTIMEDIR stuff that is not in 2.4.x
3d5eb8c In 2.4.x
edb8764 Add some info on the LuaQuickHandler directive, instead of just having '...'
d1b055f Add a missing paren
01bab75 xforms
5e540ca grammar fix
c5c6e82 make the CT check in ap_parse_form_data case-insensitive
4352874 Remove backported item from trunk CHANGES.
62bdc76 Ditch the !, since that would result in the opposite of what was intended
568fe20 core: use a cheaper way of matching the content-type when parsing form data
9ef8b21 oops, sluggr -> petterb
bdc02db core: Be less strict when checking whether Content-Type is set to "application/x-www-form-urlencoded" when parsing POST data, or we risk losing data with an appended charset.
387896d xforms
f0e238d Fix mod_headers documentation: - add expr= to syntax rule - add optional replacement argument to Header syntax - add "edit*" command to Header syntax - add "edit*" explanation to Header directive
ad8644d Apache does not tolerate deliberate abuse of open standards
bad7c65 Windows: Fix SSL failures on windows with AcceptFilter https none.
9c659fe ab: Fix read failure when targeting SSL server.
9d93765 make LDAPSharedCacheFile relative to DefaultRuntimeDir
5a6681f xforms
40b25dc Remove reference to the iPlanet SDK, as it doesn't seem to exist anymore
499427d Update links that were either broken of just slightly off
7a90418 mod_auth_digest now respects DefaultRuntimeDir
1cb21c8 In 2.4.x as of revision 1371208
7814748 NetWare build tweaks. Make more use of internal makefile macros; axed now obsolete include paths. Submitted by: normw gknw net.
74250b1 xforms
5eb104f typo fixes
f089b0a typo fix
df7f603 fix subversion project URL
7f96b25 xforms
4881ce1 Updates: - Remove reference to functions that are now inside mod_lua - Remove a lot of "bla bla bla" placeholders - Add information about optimizing mod_lua for production use - Fix up the examples a bit
d80677c xforms
9ddccec fix broken module identifiers
f375bea mod_slotmem_plain: make the "filename" key relative to DefaultRuntimeDir if not absolute
ae201ce More NetWare build tweaks. Make use of CFLAGS from environment. Added default maxerrors value 1 so that the compiler breaks after 1st error; can be overwritten with CC_MAX_ERRORS var.
1b61b26 Follow-up fix needed since r1370592.
c8e6d37 mwccnlm: search directory of referencing file first for #includes.
632701d xforms
4bef1b1 fix some grammar
7393da8 There is only one global provider name space, therefore allow LuaAuthzProvider only in global scope.
d7b20ff mod_lua: Decline to serve a request if the script doesn't exist, instead of throwing an internal server error.
5b08977 Update.
32e6b8c xforms
5bf3d51 Mutex directive: finish support of DefaultRuntimeDir
a989683 mod_socache_shmcb and mod_socache_dbm: finish support of DefaultRuntimeDir
c284a64 xforms
2e9e74f mod_lua: Add r:flush, r:sendfile as well as additional request information in the request_rec structure
8010a76 Add changes entry for r1369995, r1369999
76949b5 remove now unecessary assignment
ce4178c Use apr_pcalloc for rewritemap_entry struct, to avoid uninitialized entries.
d44be5e follow-on to r1097070:
209a7b8 xforms
4850a11 xforms
b6f86b9 The Pidfile directive and ap_log_pid()/ap_remove_pid()/ap_read_pid() now respect DefaultRuntimeDir
2e5559b fix "lua_vmprep.c:29:6: warning: no previous prototype for ‘ap_lua_init_mutex’ [-Wmissing-prototypes]"
93111a7 fix "lua_vmprep.c:355:17: warning: no previous prototype for ‘copy_vm_spec’ [-Wmissing-prototypes]"
2ce23d0 add missing punctuation
ca30761 spelling
4c332bb xforms
ae21c9f LuaAuthzProvider also gets passed the args from the Require directive.
25fa9a1 Reverting r1369758
b5bcab2 xforms
179e5a5 Fix some typos, scrap some functions, change some arguments and add a new function, as per sf's email.
864e336 use the ap_mutex functions to create the mutex instead of the apr_mutex ones.
ce4b577 Fixing links in the htaccess howto - this is a port of r1369725
cc7e76d xforms
b527205 formatting, highlighting.
284dc4e Fix some typos and wordings
cf83f0d xforms
f7c358c Fix XML errors and remove an external reference which snuck into the document
ed77e82 Add some information about the thread and server values in LuaScope
122e67c Document changes to mod_lua (yes, I'm always late with these :( )
b598e86 Add a server scope for Lua states (in LuaScope), which creates a pool of  states with manageable minimum and maximum size.
7ab70fe htpasswd: Use correct file mode for checking if file is writable.
87bcd24 Revert r1367504:
9c3a143 doc fixes for r1299718:
25fd6f8 Fix docs compatibility note about SSL compression.
997f17d Remove another finished backport form trunk STATUS.
9361c45 bytes is not a unit of filename
b84c32e Remove another round of backports from trunk CHANGES.
cdc2344 xforms
37d741a core: Respect DefaultRuntimeDir/DEFAULT_REL_RUNTIMEDIR for the scoreboard (ScoreBoardFile).
0ab34c4 Remove backported items from trunk CHANGES.
ceecc71 fix documented default value of ScoreBoardFile
d23c070 fix formatting of DEFAULT_REL_RUNTIMEDIR
fcefa97 xforms
8aa7f63 r1359057 added and include to mod_ssl.h Show the compiler where to find it
9542469 mention migration from ap_requires() and to ap_runtime_dir_relative()
d89e088 fix syntax error
6bb3d69 Add some initial example scripts and function reference for what will be a lengthy discussion of various hook/action implementations in mod_lua.
1b7d27a Fix up the order of hooks and separate auth and access hooks.
d078673 xforms
4a8a0f5 Add some missing values
b234c6e Merged in 2.4.x
f2567a4 Also in 2.4.x
b8835c8 This is in 2.4.x
0d08dff xforms
1866c27 Add some more information about which request phases are available for hooking, and what they do.
abafe1b Typo fix
63ebd90 bad header info: ap_rflush does not return the number of bytes flushed, it returns 0 on success, -1 on error.
487f37f xforms
f985f4c - Add some information about the fields in the request_rec structure - Add r.is_https to the list of fields - Add r:escape_html to the list of function calls
916ee7b update xforms
cb9e6cd fix formating and some links
80d0cb1 xforms
a976756 Add some info about what LuaHookTypeChecker could be used for (other ideas are most welcome)
75723be Fix up some contradictory contexts
21f3b51 spelling fix
7479b23 core: Add post_perdir_config hook.
ea66bb3 mod_lua.c:189:13: error: ISO C90 forbids mixed declarations and code [-Werror=declaration-after-statement]
e58f4b4 xforms.
f472a9b Remove anchor with dublicate id.
a0a016f Complete docs metadata (sourcefile and identifier) for mod_unixd and mod_privileges.
e7f65d7 Add a docs link to a configuration example.
49f2bfd xforms
9c510b8 Change the external reference to mod_proxy_html to an internal one.
238af54 mod_lua: Clean up style use apr_pstrcat instead of apr_psprintf fix a bug that was causing bad string interpolations.
7f40cfd initialize the protocol field when manufacturing an apr socket lest accidential autodata contents leak into the apr_socket_t
3c0cb7d Fix typo in docs (miscomception ->misconception)
277c110 Update CHANGES
5e36abf mod_lua: Add the (missing) LuaMapHandler directive to the fold. This should work as the existing documentation describes.
c34fe57 xforms
367fcc4 Remove [max|min max] from the LuaScope syntax, since the 'server' scope is not implemented yet. Note that 'thread' only applies to threaded MPMs
c32773b xforms
ea71351 fix some xml errors
b58c0e9 Add some examples for LuaHookMapToStorage and LuaAuthzProvider
ce1213a mod_lua: The current way of getting the authz provider name doesn't seem to work. This approach should fix that.
906dbb5 update xforms
e7ca0d0 bump versions.
274b551 xforms
a270644 Missing an 'a' in the new warning.
5180c41 xforms
06908f5 b -> strong
732e6f4 Add a security notice about using mod_lua on shared hosting.
664f924 mod_lua: Remember to set cfg->codecache to AP_LUA_CACHE_UNSET when creating a config
450ebd9 Forgot to sign it
b966a9f Add LuaCodeCache to CHANGES.
c67acaa mod_lua: Pass on the request_rec to ap_lua_get_lua_state, so we can use it for allocating memory for the cache info lookup.
241fc01 update xforms
e3af1a2 Selecting an MPM in performance docs.
c0cc85a mod_lua: Fix up LuaCodeCache: - Check both mtime and size of a file when comparing with cache, in case the file is being written to while read - If LuaCodeCache is 'never', only reload it if it has been run once or more. - Never use cache if LuaScope is 'once'.
e69eb62 uncomment LuaCodeCache directive
f9b07d1 Add LuaCodeCache directive for controlling in-memory caching. This might need some tweaking on the hash key generation for the mtime lookups, ideas are welcome.
6722d47 xforms
01506da LuaQuickHandler had no syntax, which made the reference sheet look wrong.
1404817 xforms
4611926 Comment out LuaCodeCache, which hasn't been implemented yet.
c9c8dd5 Add a note about LUA_COMPAT_ALL.
759dfc8 LUA_COMPAT_ALL should be defined _before_ including lua headers
94b3a2b mod_proxy_balancer: Restore balancing after a failed worker has recovered when using lbmethod_bybusyness.
8e0f68e ap_str(case)cmp_match returns the opposite of what is advertized in the header.
6a3162f xforms
e4c48bc LuaScope also has a 'thread' value.
157e045 Remove backported item from CHANGES.
db82361 Remove backported fix.
04bebf5 These be in 2.4.x now
769ea2b * modules/proxy/proxy_util.c (ap_proxy_location_reverse_map): Fix   to skip balancer:// prefix where applicable.
f03319d xforms
38699ac Remove reference to the 'server' value in LuaScope, since it doesn't exist.
0d61ef8 Transforms.
5b9ac55 * docs/: Clarify ProxyBlock docs.
38f4263 * modules/proxy/proxy_util.c (ap_proxy_checkproxyblock): Add error   handling for apr_sockaddr_ip_getbuf(), minor code style tweaks.
1e73116 * modules/proxy/proxy_util.c (ap_proxy_checkproxyblock): Fix memory   leak/thread-unsafe use of pconf.
9fadb02 sync with 2.4.x/CHANGES (r1365003)
6c41025 Fix handling of ProxyBlock if a forward proxy is configured, and fix mod_proxy_connect to avoid an inappropriate DNS lookup:
58c1a25 mod_lbmethod_heartbeat, mod_heartmonitor: Respect DefaultRuntimeDir/ DEFAULT_REL_RUNTIMEDIR for the heartbeat storage file.
5e3bcc6 sync with 2.4.x/CHANGES
4f5b52d Follow up to r1363557:
21ecea0 xforms
5ce06e1 typo fixes
7b18e09 typo fix
b63283a xforms
15ef3dc fix a whitespace issue
30aa08f copy the context restrictions from sections.html for symlink related options
0a7d606 typo fixes
c745fd9 Remove backported items from trunk CHANGES.
2ea82f3 Remove items from trunk CHANGES that have been ported back to 2.4.
e1186c3 Correctly log the error returned by apr_dbd_pvselect()
f6a5811 Tweak a message added in r750567 so that the accept thread logs the physical address it listens on instead of hostname|*.
661d005 When -B is specified, search for a host address in the same family as the specified outbound interface.  If impossible, fail at name resolution instead of bind().
c60d190 RPM packaging: add the fcgistarter man pages to the RPM.
c39f68f RPM packaging: remove the epoch to be consistent with APR and APR-util.
1650a38 RPM packaging: The PID file goes in /var/run in the RPM layout.
3863756 RPM packaging: Remove the BuildArch from the manual package, this forces the target to "noarch" for all packages and breaks the build on CentOS5.
48854db RPM packaging: The PID file goes in /var/run in the RPM layout.
77d0cf0 Fix mod_deflate NetWare build. Submitted by: normw gknw net.
932dec8 mpm_event, mpm_worker: Remain active amidst prevalent child process resource shortages.
b8bb2d7 xforms
94a1f3e Remove .* from the equation in the "<Directory ~ ..." example. Submitted by: Daniel (comment #143 on site)
7b1e88d mpm_event, mpm_worker: Fix cases where the spawn rate wasn't reduced after child process resource shortages.
beb4b39 forward(?)-port some changes that were made in 2.4 instead of trunk
aaa5d45 Follow the MS docs on AcceptEx/GetAcceptExSockaddrs by loading the function pointers dynamically.
7d5023d xforms
b199557 Add a link to the RFC explaining what 'realm' denotes.
0d7da8d 2009 -> 2012
e773de1 xforms
2232665 old/new -> foo/bar in example, so it matches the description (and the following examples)
fb20665 modernize some commentary on APEXIT_foo values
391e8e1 fix child exit status in prefork after certain errors in the child so that the parent resets the spawn rate to the minimum
952186c avoid decls for some Unix-specific functions on Win32 too
4e20b1e fix APREQ declarations for MinGW builds
2d6e6d1 Fix compile break when SIGPIPE is not defined
eb2a059 Fix typo in docs, s/mod_ext-filter/mod_ext_filter/.
36ab7eb Log the value of Status header lines in script responses rather than than just the fixed header name of "Status".
1d539ed xforms
f237f60 Use integer operators when comparing to TIME_HOUR Reported by Florian in comment #124
de0b120 Use integer operators when comparing to TIME_HOUR
b528e604 s/2.3/2.5/g in Makefile.win.
f024134 xforms
4de1cdd Add missing highlighting
da40d75 Bump it up because of r1361784.
1405e13 xforms
5f3ce5f Add information about the possible values of ProxyExpressDBMType
8ec0c56 Code clean up (remove useless memory allocation)
8c960a8 Various code clean up
9c6e2a2 Remove some checking for out-of-mem conditions that cannot be hit because apr_pcalloc/apr_pool_create will call abort() anyway.
b010e7e Fix indentation. No functional change.
bfbbc81 Add missing HTTP status codes taken from
773c6e2 Don't count connections in lingering close state when calculating how many additional connections may be accepted
83f8f90 Keep track of the number of clogged, lingering, and suspended connections
7482abb Simplify handling of MaxConnectionsPerChild
f0a21e1 Updates.
f921f8c - Define LUA_COMPAT_ALL so mod_lua will be compatible with Lua 5.2 - Add an optional integer argument for parsebody, specifying the maximum size of POST that will be accepted.
52510a7 xforms
2ca68b5 Add printf as a known function in Perl.
57bba86 whitespace issue
5539a48 xforms
9ea7de4 Add missing highlighting
4233709 * Set content type in case we return stale content.
c52d7d0 update transformation
f576e91 update bootstrap stylesheets to reflect manual lang-targets changes.
821323c set svnmailer:content-charset
4e21f39 r1052419 changed the default value of Options to FollowSymlinks, but inadvertently made "AllowOverride Options" behave like "AllowOverride Options=FollowSymLinks".
0d77ab6 make varbuf functions treat AP_VARBUF_UNKNOWN consistently, improve docs
3b55add style in the neighborhood of a bug
1eea823 style fix
f0e99ae Make mod_deflate skip compression if compression is enabled at SSL level.
c56ae57 xforms
fcc05f9 Fix some more whitespace issues with anchors.
3d7957b xforms
2479217 Fix whitespace issue in links.
32f9031 Revert accidental commit.
bb1777a Work correctly with a development version of OpenSSL. I suspect something similar is needed when there are two OpenSSL installations, one in a default location.
7ba4b2b * modules/ssl/ssl_util_ocsp.c (get_line): Don't set line[-1] to 0   when len == 0.
dc1f51b xforms ad libitum
685cfb0 comments.apache.org is live! Changing URL of the javascript to reflect this.
76b780e * modules/filters/mod_ext_filter.c (ef_unified_filter): Set hit_eos   flag on hitting EOS.   (ef_input_filter): Give back EOS if filter is invoked after hitting   EOS, rather than attempting (and failing) to read from the closed   pipe to the child.
a2d97f6 zap recent backports
0942ddf xforms
9487668 Fix XML error.
ee54554 Add examples of <Files ...> that don't involve regex.
e10a9c6 add a pointer to 'rewriteoptions', without giving away the option name, if someone happens to have rewrite trace on when mod_rewrite declines a non URL-path.
26f0659 Transforms.
83acd75 * modules/mappers/mod_rewrite.c (cmd_rewriteoptions, hook_uri2file):   Add "AllowAnyURI" flag which disables the strict URL-path input   string check introduced to fix CVE-2011-3368/CVE-2011-4317.
cce01a6 xforms
1c530de Add 'require' as a keyword for Lua scripts
cd9edaa Fix titles of examples
031b4f8 xforms
018a00f Re-add r:parsebody() as a valid function
a5cf704 Add LuaAuthzProvider as a valid Directive.
aead8d0 bump CVE to the top of CHANGES
414135f Updates.
2af4367 re-emphasize this paragraph in ProxyRequests is for fwd proxy
2c5656e Fixes to XML. rebuild.
d94b31a Applies patch from PR 53201, from Walter (wgoulet)
5bf9b05 xforms
9a2392e Updates
8b146bc xforms
78fe5dc Move SSLCACertificate* into the correct (allowed) context in the examples.
2ed6a31 xforms
d36c0d8 Fix the wording of r1353263 a bit.
916373a xforms
c897935 Add a link to sections.html and change the example to accomodate suggestions in PR20414.
1b4d501 Updates.
899c4e3 xforms
b48be12 Add a note about DirectoryIndex adding resources instead of replacing them when called twice or more within the same context.
b61a335 xforms
625107b The compiled in limit has been removed in r149269, as noted by Bojan
83701ac Make sure that a triggering LimitRequestFieldSize is always logged, even if the first read already exeeds the limit and ap_rgetline does not return a header name.
6367f6a note more prominently that SHA and crypt are insecure
46afd8f improve dump_allocator, add dump_one_pool
d79a70a RFC 5878 support.
17c0d7a Updates.
381ac02 * modules/cache/cache_util.c (write_write_order): Remove redundant   double assignment, caught by Coverity.  No functional change.
e55222e xforms
e86fe7d Update (fix) the POST data retrieval example.
40e7c22 add a warning in the LDAP AuthnProviderAlias and expecting to have a configured LDAP authorization provider.
2c9eb0c xforms
377ab6e Add back the parsebody reference in the handler example.
68bbfde Add the missing parsebody function to mod_lua, for parsing POST data. PR 53064.
076532d xforms
d6f93cf Fix a whitespace issue
6c85d01 * support/ab.c (test, start_connect): Only bind the local end of the   socket (and look up an address for it) if -B is specified.
430ab1d Updates.
8f21cf3 Log the actual problem if parsing of 'Require expr' fails
f04d0c8 xforms
d49f5e2 If an expression in "Require expr" returns denied and references %{REMOTE_USER}, trigger authentication and retry
d19eea8 Log error if 'Require expr' fails
5498e37 xforms
99d37b2 Add new directive LuaAuthzProvider to allow implementing an authorization provider in lua
2385ef2 use macro to make definition of integer fields more compact
d7ed5d0 factor common code into utility function
cbb93c6 change various strings from char * to const char *
cb0cf2c pass the provider name to parse_require_line as pool userdata
de4242a Adjust log message: Condition can be caused by configuration error not only by bugs
32f5f54 mod_lua: Add a few missing request_rec fields. Rename remote_ip to client_ip to match conn_rec
eca6d64 allow tail call optimization in log methods, remove foo method
ca02d62 Change prototype of vm_construct, to work around gcc bug which causes a segfault.
36dc44a Expand the SRP reference documentation
885e76b SECURITY: CVE-2012-2687 (cve.mitre.org):
80ab7f9 Pass the server_rec to ssl_die() and use it to log a message to the main error log, pointing to the appropriate virtual host error log
88d5d9d If OPENSSL_NO_COMP is defined, omit merging the compression flag. Also make some code more compact, as suggested by kbrand.
6dd8ce1 Add some improvements as suggested by Kaspar
1a175cc Updates.
10cc536 Remove some backported or reverted items
df25685 * include/util_ldap.h: Treat LDAP_UNAVAILABLE as a transient error   with non-MS LDAP SDKs; seen with OpenLDAP against Novell eDirectory.
48b3435 * configure.in: Enforce 1.4.0 as minimum APR version requirement.
3d961d1 xforms
ccf77a8 Add support for TLS-SRP (Secure Remote Password key exchange for TLS, RFC 5054).
3676b7c xforms
211279f Fix a broken link
4cd8be0 xforms
fd32fe1 Add a note that VirtualDocumentRoot will override DocumentRoot in the current scope (and thus also in all virtual hosts if defined in the global server scope)
658147f * support/htpasswd.c (mkrecord): Handle crypt() failure.
9bb7875 Sorry about that. Broke the comments stuff in that last commit. Fixed.
61b5a7c rebuild docs
a258c48 Rebuild authz_host edit.
f229189 Adds a security remark regarding proxied content and the host address, and reference to mod_remoteip, as per comment added by Allard Hoeve to doc.
6223db5 xforms
b00ea37 Use HTTPS for the comments instead of HTTP (and yay for commit number 500)
7252dfe xforms
1518c0f Fix up the wording, so it leaves no doubt that status codes outside the 300-399 range are also perfectly fine.
e9eb002 xforms
675c033 Comment out unsupported function calls.
d875556 rebuild everything
73d706b Change references in version.ent from disqus to the new comment system. Set version to 'trunk' instead of 2.4 in the comments_idenfitier variable Disregard translations (use same comments thread for all languages)
41cd334 Avoid buffer overflow if one protocol string is too long, but at least one is not.
ea690c5 remove obsolete comment (PROXY_MAGIC_TYPE is not used anywhere anymore)
2639f0b xforms
510d3f9 Add new directive SSLCompression to disable SSL-level compression.
bd4d8fd * configure.in: Correct handling of --with-suexec-logfile in r1341905,   thanks to rpluem.
19e13fb Tweak wording.
63b24c3 * support/suexec.c: Define AP_LOG_FACILITY.   (err_output): Use AP_LOG_FACILITY for syslog facility.
d548108 xforms
7dd6439 PR5334, leave a hint about VirtualHost args acting like serveralias for people who don't read details.html
1116fb9 PR53334, restore info about VirtualHost args used for comparison in name-based vhosts
1fe7ef2 xforms
7ec8540 be more verbose about what -DDUMP_CONFIG does not
1ca0606 add PR reference
4cd01c5 xforms
348117b Adding some additional security considerations. Thanks to Daniel Shahaf for these pointers.
a1b0be3 Make ap_regcomp() return AP_REG_ESPACE if out of memory.  Make ap_pregcomp() abort if out of memory.
f25013b Compile the regex used by is_header_regex() only once during startup This should save some memory, especially with .htaccess
2e53429 xforms
49efa82 Make apxs use LDFLAGS from config_vars.mk in addition to CFLAGS and CPPFLAGS
be27630 Add a small hack to preserve newlines and still retain the links to the doxygen stuff. (presumably this should later be fixed in the highlighter)
c30fd06 Fix MaxConnectionsPerChild
700e30b rename requests_this_child to conns_this_child, which is more accurate
006acaf Updates.
ee85940 Updates.
8c151fb rebuild
43ccb0b Add newlines to example output
f467e61 * docs/manual/: Commit XML for suexec changes + re-transform; thanks to nd@.
beaee8f suexec: Support use of setgid/setuid capability bits on Linux, a weaker set of privileges than the full setuid/setgid root binary.
c82d3e4 * docs/manual/suexec.html.en: Update for syslog logging.
976fd1e * configure.in: Use AC_MSG_NOTICE so passing --silent works as advertised.
0eb81d4 * acinclude.m4: Use AC_MSG_NOTICE.
cc9eab4 suexec: Add support for logging to syslog as an alternative to a logfile.
17cf457 rebuild
9bdd0c6 simplifying example
7f763ed xforms
8f52612 Replacing disqus references with $newstuff
02cb668 rebuild
4692ae0 Should be "Require not host gov" instead of "Require not gov"
73122ea Trying out the new commentary system on a portion of trunk.
d6746a1 Updates.
aeff28f rebuild
74ae76b Let's see if this works on-site.
853fc50 Disabling the Disqus system until we have a proper resolution about this.
39b278c Updates.
05bd09a Updates.
10f1855 Updates.
7bb0825 Reverting back.
32e457e Testing out some analytics software on a teensy-weensy bit of the trunk docs.
606cbf5 rebuild
d1aab0c Small inconsistency fix
b0ac4e9 rebuild
478842e Tidy up examples
94261f6 rebuild
2506e1b %{lowercase:key} should be ${lowercase:key}
d0adb9e rebuild
5b0d8e3 Fix up some examples and make the Options arguments case-insensitive when highlighting.
188697a rebuild
48890a8 Fix a missing whitespace in an example
4674c37 rebuild
fa95349 Add the notion that negated values cannot stand alone as a requirement for access.
63545b5 Update.
b5310f8 rebuild various
ab68460 Update access control examples to use 2.4 syntax.
3182653 * support/suexec.c: Add gcc format-string attributes to logging   functions.   (main): Always print uid/gid as unsigned long, and cast to avoid   warnings (which somewhat defeats the point of the format string   attrs, but is necessary since the size of gid/uid varies).
ec04219 rebuild
fdf5241 Added a portion about using the %-2.0.%-1.0 combination for managing virtual document roots.
abe14d2 Rebuild
1dc7828 Fix up a badly styled example and a wrongly named directive.
679f2e9 Rebuild
5dc0c4f Put that example in the wrong part of the doc. Moving it.
d46fc11 Rebuild a few things.
d8ca6eb Add the FilesMatch example for .php files.
7e7ed67 s/sinlge/single as per tid 53216. Via Christophe JAILLET
545c6a6 A small broken link snuck past me.
9ccba1d Rebuild
e3e988a Fix broken links
1c950b0 Rebuild some files
7c54c6b Fix up some examples
da6beff Fix up an example that was missing highlighting
33a0019 Remove AuthzProviderAlias from the regular list of directives, so it doesn't clash with the section directives list.
16265a1 rebuild
8e39721 Fix up examples
2836ae3 Add AuthzProviderAlias/AuthnProviderAlias as section directives
14717cc Update.
c5f91da Revert last night's change, as per nd's recommendation.
9489315 rebuild
0a95210 Remove some more old formatting and extra newlines
4765e4f xforms
dc6c8bf xforms (and my 400th commit, yaay)
fb2bc2d A negated requirement cannot stand alone in an implied RequireAny section.
0f7e394 Might as well be pedantic while we're at it.
b59019d Rebuild
d46ae95 Encourage best practice, even though it's a trivial example.
62ac0b8 Encourage best practice, even though it's a trivial example.
7c99e63 Rebuild
86a5c6e 2.4 authz syntax.
35d82cd update transformation
86d35f0 - simplify and cleanup comment integration script - make comment version tag configurable
8858c68 Make server variables (like %{REMOTE_ADDR}) stand out more.
880c4f6 Rebuild
1e22964 More superfluous markup.
7a15daf Rebuild
3d6416a Remove extra HTML markup that was hosing the syntax highlighting.
6ed51f4 xforms
fb4841e Reverting to the old style with a static div, until a working solution can be found.
a35ae7b Is this a proper fix? :\
3957fea Updates.
f85d8f2 That should be !=, not == :\ moar rebuilding inc!
f1c4329 xforms
4ed4fb7 Add something between <div> and </div> so the same thing doesn't happen again. bleh.
132c26c placeholder for disqus thread is now created using javascript.
848a728 Testing nd's suggestion on using document.write
e212ea7 xforms
98eb086 Small hack so the XSLT process won't turn <div></div> into <div/>, thus messing up the DOM tree.
9dc1a79 Updates.
ea40fea xforms
a94b045 XSL changes needed to add comments to our docs.
3a3f2d9 https and http should both translate to http in the disqus identifier, so topics aren't split up by protocol.
48972c4 Retesting with support for both http/https discussions, as per igalic's suggestion
636dbfe xforms
b113862 Fix indentation
fa6476a xforms
b00022f Update
8d0220e Updates.
6225f5f xforms
2e1e6ff Fix some whitespace issues and a missing newline
4e64410 xforms (typo fix)
198ee4e Updates.
d84942d whitespace in xformed doc wrong
f23a12f Use short lived pool to avoid memory leaks
3df43f9 manual rebuild (this file is affected by the commentary test)
58056db Fix a whitespace issue
b5d8f91 xforms
8496148 Update syntax highlighting for French translation
6e090ab Update syntax highlighting for French translation
ebeb7cc Reverting change, as what I changed it to wasn't technically accurate.
94065a5 Update phrasing as requested by https://issues.apache.org/bugzilla/show_bug.cgi?id=53152
181ae76 Typo fix
96cc34e * Use the the same hostname for SNI as for the HTTP request when forwarding   to SSL backends.
4d4bfe2 Add a note that the comment feature is experimental
66ab8e9 Fix the position of the 'lang' variable in the Disqus script.
98c3fd3 Rolling out a test of the commentary system in the rewrite/ section of trunk. This may or may not work, I won't know till I've committed it :)
458dc9e Add translations of "Comments"
11f3230 xforms
315a8f7 Change RemoteIPTrustedProxy to RemoteIPInternalProxy. Thanks to Ken Dreyer for this fix.
70e2ba2 Fixes the 'FAQ' link in the header and footer.
6b7f540 Link to the new getting-started document, just to get a few more eyeballs on it in trunk.
652eeb8 Mention that authnprovideralias isn't in mod_authn_alias any more.
c5b0948 update transformation
5b7eb4c xforms
e1e71b2 xforms
5722ffe Add a notion on the event mpm alongside the other general mpm types
a1b1d23 Typo in page anchor.
92fdce9 Fixed NetWare mod_serf build. Submitted by: normw gknw net
6a13032 NetWare build system: fixed var names. Renamed wrong and misleading var names in makefiles. No functional change.
7a4e37f Rebuild
4b88499 Rebuild
39d230f These docs have moved into their own space. Link to the new doc, for now. Not sure if it's useful to keep this here indefinitely.
4e94c4c Missing highlighting
dd5f55c Add support for TLS Next Protocol Negotiation:
6d378e8 Updates.
c93d331 xforms
b08b1b1 Fix broken link (point to the new wiki site instead of FAQ.html)
1fbc528 Add syntax highlighting to this doc as well
e33f1a0 Try to clarify what is matched in a rewrite rule as per bug #53080.
4084b7d Fix whitespace issues and anchor patterns when needed in flags.xml Fix double-escaped characters in advanced.xml
5d72285 Fix last example so it's actually a valid expression and change RedirectMatch to Redirect for optimal performance
df6601d Forgot to add a few new links.
ed6eeb3 Update DA translation to match latest English version
0eff518 Add PHP as a possible highlighted language if needed. Fix up the lexer so that when httpdComments is true, httpd style comments are not parsed as such unless the hash character is at the beginning of a line (disregarding spaces)
5d010bf If a filename without slashes is specified for LoadFile or LoadModule and the file cannot be found in the server root directory, try to use the standard dlopen() search path.
fecfcee Add quotation marks to error messages
5119aad grammer tweak
58957f0 Typo fixes in the description of output values
00c0a6f Typo fix
e768683 Updates.
2979abc xforms
53736c4 Fix a plethora of typos in core Some nitpicking on the indenting in some example configs
7e4881e bug here in that the hook ptr fu is busted so we need to ensure only the first matching param sets ctx->param
205dba9 Allow the lexer loop to run a little longer. Recognize "else" as a Perl keyword (d'uh)
3f39775 Updates.
468c550 Fix a word jumble
0bc8c6f Cosmetic fixes to core
f7eafd4 Add AuthConfig as a valid Options argument Treat "foo-bar" as plain text, regardless of whether "foo" or "bar" alone is a keyword. Treat foo_module as a valid LoadModule argument
cc40378 Missed a FilesMatch section, meh.
543afc4 xforms
59e07ea Insist that when we open a section in an example, we close it again.
27aefb6 Another typo fix
64bf117 typo fix (/w+ should be \w+)
f2e1701 Stop being case-insensitive with section directives. This fixes the highlighting issue with mod_proxy and others, although a longer lasting solution might have to be worked on.
48c2974 Update syntax highlight for content-neg
c9756c2 Missed highlighting two examples
780abe5 border doesn't validate.
3d7e2c4 Update syntax highlighting
cadc3c1 update transformation
74e931e properly enclose inline javascript in HTML output.
d51fb32 fix properties.
03cc6f7 update transformation
879334e - style - fix example -> highlight nesting - enclose inline javascript in cdata
b80406e update transformation
df33bf7 Add IfVersion as a known section directive, change the css for literals and identify Options arguments as literals
161f431 Missed a spot in ssi.xml
ee65092 Missed an example in authn_anon
451fcb6 Missed one.
2d5b466 Make XML valid and fix up the other titles.
508d923 Fix a title that had gone AWOL
bba23cd Fix a missing newline in an example
8fa5733 Even more xforms that somehow didn't trigger earlier. I wonder if they're silently revolting against me.
a2b5351 xforms that somehow snuck past the build system
c147c38 xforms, again
1513f8d Add AuthzProviderAlias as a valid section directive
103d4dc Rebuild mod_ssl doc
c6965b8 Update
f7ba122 Small whitespace fix
1036562 add a boundary check to type highlighting in C
8fc73d3 Update syntax for expr.xml
22651f7 add PR reference
30d1e85 Some final tweaks to the mod_lua doc
d08bbb3 xforms
1ae3e9d Update keywords for shell scripts
d0337a6 Syntax updates for mod_ssl.xml (yes, everything is a freaky carnival tent now)
7be3715 Syntax updates for mod_x*.xml and mpm_common.xml
0f80b69 Syntax updates for mod_v*.xml
5754bd4 Syntax updates for mod_u*.xml
77bd109 Syntax updates for mod_s*.xml (sans mod_ssl.xml)
90a77e5 Syntax updates for mod_r*.xml
3c1d85b Syntax updates for mod_p*.xml
adb243e Syntax updates for mod_n*.xml
b174959 Syntax updates for mod_m*.xml
04906c7 Try to clarify what client_ip/client_addr means and point to useragent_ip
342a51c fixup for r1331110: pass correct argument
fe4f925 Replace use of apr_file_write() with apr_file_write_full() to prevent incomplete writes.
5e39d4b Syntax updates for mod_l*.xml
1baf5c7 Syntax updates for mod_h*.xml, mod_i*.xml
037f22e Syntax fixups for mod_f*.xml
c239093 Prevent infinite looping in case of borked spans or code.
628eec6 Fix typo as per https://issues.apache.org/bugzilla/show_bug.cgi?id=53152
25486e2 Syntaxe updates for mod_e*.xml
bb712b8 Fix typo, as per https://issues.apache.org/bugzilla/show_bug.cgi?id=53152
9f63deb Syntax updates for mod_d*.xml
c8f77a5 syntax for mod_b*.xml and mod_c*.xml
f19a613 Accept AuthLDAPUrl as a keyword
cd1694d ./build.sh all
3be0a16 fix XML validation. Revert some of the hilighting to use <example><pre>, for instance: ldiffs Make some of the lines that were artifically broken > 40char.
a3d2bba Syntax for mod_a*.xml and MPMs
2e5d9d5 Rebuild Humbedooh's changes.
74e009c Syntax for files in /
bbe7712 syntax for misc/ and platform/
14e7630 Syntax and formatting fixings
96a04ae syntax updates
1c5fbce Allow for multiple newlines to be ignored at start and finish
e85f6a0 Fix title issues
e37b053 Add links to some seealso tags and change 2.4.1 to 2.4.2 some places
6f3fe67 Update transforms.
0fbe07f Remove trailing and leading newlines and spaces caused by xml formatting styles
507f71d Remove a botched title from a vhost example
8e44ec3 Remove some newlines and white-spaces
c02a1b0 Recognize IPv6 addresses as literals, update comment colors so they don't clash with section directives.
18cbb56 Formatting error, sorry.
00fb489 Fix some whitespace issues
ad147e5 xforms
8a5341c Use highlighter in rewrite/
f1a7740 fixup examples in core.xml with syntax highlighting
bf7cc05 highlight config in misc/
cf9bd0c add LastChangedRevision as svn properties as well
a74b9e5 Fix eol style and rebuild.
bf55523 Fix eol style and rebuild.
d730bcf svn propset svn:eol-style native
b6058ee Recognize Require(Any|All|None) as enclosure
331c0f5 Seems I wasn't quite done editing these files after all.
b18f4f9 s/FilesETag/FileETag/ in example.
e8c29d9 Add highlighting for howto/
56f06b5 Make httpd directives bold in highlighting
87ad54f Update examples to new highlight syntax.
c66a72e update STATUS
ad8b1a4 catch up to highlighting in the translations
61b5b88 fix FAQ link, everywhere.
4c7a210 Make the lexer only highlight enclosures in config syntax if they are whole words, and update to also recognize FilesMatch, LocationMatch, Limit etc.
b92b224 make validate-xml a target of "all" make it *fail* when the XML doesn't validate.
9f10d68 Fix XML validation
7fa1a7c Fixed position of the NEED_ENHANCED_ESCAPES define.
500c1d0 Update CSS to have a perl style as well. Update CGI howto doc to highlight code
eeee759 Highlight code
6246448 Update CSS. Add recognition of Directory, Location, VirtualHost, If/Else and Proxy as enclosures in httpd configurations
e2c5c42 Identify Apache specific functions and constants in C. Treat true and false as boolean types (not keywords) in Lua.
3128e82 nil in Lua should be a type, not a keyword in highlighting
6f118da Highlight Lua source code
cef9d59 Add Lua syntax support
d84d3e8 Change remaining <example> tags to <highlight>
e1cd63a Recognize NULL as a number
77d28d5 Separate config and c source styles a bit, set up proper distinction between types and keywords
d9018f8 Support for config highlighting (if anyone ever dares to do so)
a015503 rebuild eeeverything
340d410 Changing javascript as per nd's suggestion
61aa760 Changing to the new syntax highlighting WRT C source code
667c0b2 highlight C source code
d87d888 Testing the new syntax highlighting for perl scripts
cc88e7c stupid, stupid svn made a booboo
c325a46 Changing to <highlight> tags for syntax highlighting
4d986da Rebuilding with new CSS/JS syntax highlighting stuff turned on.
ca43447 Trying out the new build commands. If anything fails, blame rbowen for pushing me to do this :( *sob*
c6e64da Deleting the GPL versioned highlighter
c693d92 Adding another syntax highlighting test subject (this time it's ASL, yay)
30888cb Removed all manual styling, prepping for dynamic SH instead
06f3cea Initial add of files for syntax highlighting tests
9ddc631 1.3 is dead. Long live..uhm.. $current
7540383 Remove more mentionds of the EBCDIC document.
7ad51b7 Rebuild
7033561 Remove ebcdic doc from other language sitemaps.
b28e2f4 Remove EBCDIC document from the sitemap.
674d91a Remove EBCDIC document, and links to it, as per discussion on docs mailing list.
99039b0 Fixed nesting issues with <p> and <section>, changed style tags to class tags, pending a reference to a style sheet.
07d44a6 Fix segfault in logging if r->useragent_addr or c->client_addr is unset
2f54bf7 Try to fix up some of the XML errors
ced4bfd Added entry for cross-compile fix.
47f57ff Final step to make cross compilation working.
0767959 Updates.
0ac25d1 Update.
289d4e6 Update.
46f309e xforms
912fb9b More typo fixes
cc9c35b update xforms
b444122 update references, culling dead links and the dead SSLv2 protocol. Pending: update of the actual content. The text reads like it's ten years old, like certificate chaining is the hot new shit. It's not, people still get it wrong. We should address that. Among other things..
3af0553 Avoid AC_TRY_RUN break with cross-compile.
46b607a Next step to make cross compilation a bit easier.
ea400b7 Rebuild transformations. Will move the EBCDIC files to the developer docs later, if nobody beats me to it.
0cf3742 Reverting my last few changes. Not certain that these need to be nuked, rather than just updated.
9d38d22 Remove references to the EBCDIC document.
17c0ab5 Rebuild
1c6fd3a Remove the EBCDIC document, which mentions mod_php3 and mod_log_agent, among other things, and hasn't been updated in a decade.
daeb71c update transforms
1533906 Add indentation
1031f19 Grammatical tweak.
e96c47b Link to the docs project, for folks who want to play along.
a86974e Rebuild getting started doc.
7131d34 * server/main.c (main): Bail out *before* signalling the server   if the config is bad. (as per the claim in the docs!)
b9b733f Remove dead link, add link to mod guide
707ee0d Rebuild more transformations.
5ff9ad1 This is a very brief document for people who are so new to this that they're not sure what to ask. It covers the bare minimum for getting a web server running, and then points to other resources. Feedback welcomed.
57a1557 fix some comments
fb7d43f Last of the typos
315dd30 Access control is documented separately. Remove from the title of this doc.
a5b1737 rebuild various
52c1fef typo fix
6e47cb0 typo fix
1054c76 fix typos
63066f7 Similiar? Never hoid of such.
aaa0d67 Remove the link in the speaking-http-on-https error message.
43d54ae When receiving http on https, send the error response with http 1.0
51504f8 xforms
6cb1bd3 typo fix
74f55f2 xforms
3778281 Fix some more typos
6c21e82 xforms
7e88ceb Fixing some typos
3882e19 xforms
c33dd07 As a healthy starting point, remove the Tanenbaum quote. SSL is bad enough, no need to intimidate folks before they even set out. Remove out-dated references to books and authors.
3efdae2 xforms
84c2e04 SSLv2 is dead. Pease leave it at that.
ecf48a5 Generated files added.
4235e04 Here's a little more of it.
4ec1bbd To quote humbedooh: remove the usual unwanted adulations
9cb316b Skeleton "getting started" document. Should this go in the howto/ directory instead?
456c7d6 PR 53104 - %{abc}C truncates cookies whose values contain '='
2d9c613 First step to make cross compilation a bit easier.
c1600f6 For a local variable in a macro, use a name that is less likely to clash with other variable names.
f88ed08 xforms
27d9243 Tidy up XML
4e05b1a Add a first draft of performance scaling wiki, by now outdated by a year or three.
ff0917b rebuild various
00df143 Update
b6ec8a0 Fix the horrible horrible translation
ce7fd84 * server/mpm_unix.c (dummy_connection): Fix spello.
0e7c900 xforms
b2171ac Fix some typos and grammatical errors and remove the usual unwanted adulations
172439f * server/mpm_unix.c (dummy_connection): Use a TLS 1.0 close_notify   alert if the chosen listener is configured for https; not perfect   but better than sending an HTTP request.  Adjust comments.
dc6d784 * modules/filters/config.m4: Prevent libsed internals from polluting   the global symbol namespace.
87309c7 * modules/filters/sed1.c: Mark private globals as static const.   (command): Change p3 pointer to const.
99c2e21 * modules/loggers/mod_log_debug.c: Mark private globals as static.
9b37846 rebuild various
f6c3e25 typo fix
4c3bf43 conditons -> conditions
b7e991e reprecussions -> repercussions
2f49951 xforms
c52c5f6 fixing some typos
632c44b xforms
10ba488 Be consistent in the use of URL-path instead of url-path
f138804 Typo fix
4b95669 Typo fix
1a0f13f xforms
9f4c02c It's spelled "occurring", not "occuring".
529610f xforms
698164e Be consistent when using abbreviations
ab6d314 Updates.
b2c0756 Trivial typo.
37935d2 xforms
2dd74ec Replace instances of "Apache" with the full software name or a simple reference to "the server".
12dcca5 Replace 'Apache' with more correct names for the server.
1ab9336 Rebuild.
3d29c30 Rebuild various
1397e3a update title and references
fc094b2b Fix up title and references to httpd
473cd5d Update
119df47 Change title
3fc9148 rebuild various
95aadc2 Change references to "Apache" to either "Apache HTTP Server" or "major.minor"
69a3a9b use strict; use warnings;
afa5c31 xforms
d669182 Add a notion about the difference between matching in a per-host or a per-directory context.
787278b xforms
d665d75 fix grammatical error
33beb69 Introduce Slackware layout. patch: Frank Gingras
dd2ecce Rebuild various
98bcbd3 Use the new flow chart instead
cca1661 New chart on the flow of rewrites
c25ea6d xforms
e5dc219 Separate post-2.4 and pre-2.4 documents in a "development" and an "upgrading" section.
e53f2c3 xforms
7e72194 It's 2.4, not 2.0 nowadays, and title should reflect that we're documenting the code, not Apache itself.
0f8cc55 Rebuild various.
77d6298 Add generated files (splig_logfile, log_server_status)
27da71c Corrected sample log path in comment. Rebuild transforms.
dad9e8d Move split-logfile and log_server_status into their own doc file, rather than having "other". Update index accordingly.
56f70ae Missing slash
81937e8 Replace hard-coded example paths with config_vars templates. (with assitance from Igor)
50e5ebc With further assistance from Daniel Gruno - style changes, removes use of `hostname`, uses IO::Socket instead of a custom tcp_connect function, and uses HTTP/1.1.
aa9e9ad Removes calls to `date`.
02e5574 Updates patch provided by Dave Brondsema (brondsem AT apache org) four years ago, makes the script strict/warnings compliant, and updates to current output format of server-status. Partially fixes https://issues.apache.org/bugzilla/show_bug.cgi?id=45424 The script now actually produces output.
2df4a6f xforms
e1625cf Fix up some ambiguity
629e13b xforms
f3e676b Fix up some wordings and grammar.
7ce5b54 Change "URI" to "URL-path".
2322b78 xforms
e87264b Fix a bad function declaration
40defd4 Cast config vars as (example_config*) in examples.
0099a1c It's "return cfg;", not "return dir;".
03c9315 Your APR does not include SSL/EVP support. Yes, but how do I enable it? --with-crypto
56158e3 transforms
7fc3fa3 remove misleading information about mod_ssl behaviour on FreeBSD.
4121652 pr#51958 : mod_ssl documentation is confusing re. SSLCipherSuite Directive
d163262 Be consistent with *s' usage. Thank you, the oatmeal.
93ca524 Fix some typos
8fc7cbf Fix some C conformity (declare variables before function calls, silly humbedooh)
5adb5da Trying to iron out the confusion about the location of the back-reference section.
f448750 Use new back-reference diagram instead of the rule processing chart
eaae128 Add a diagram on how back-references work in mod_rewrite
b9e78ba Rebuild
217e512 Describe the syntax of the [S] flag.
f86b848 Rebuild
8a25bd1 Remove some commas Wrap lines to 80 character limit where applicable Fix broken links to the C examples
f92ed74 Rebuild
e21875d Update APR references to APR 1.4.x Add mention of apr_psprintf
5a4900a Fix a "typo" and add a link to the request_rec structure defs.
adca973 Update
1d500ab Rebuild
1bd4b45 Typo fix
5242e8c Add missing documentation for ProxyHTMLMeta directive.
bd6e766 fixup properties
d1e00be update transformation
1d72ca1 Added a link to the new guide
e4a5590 Added an introduction to building modules for Apache 2.4
b8d1e6d Adding some images to go along with a new document
a00f9b1 Fix parsing of Require arguments in <AuthzProviderAlias>. Add some logging and an assert for a case that should not happen.
165e11e Fix error handling in ap_scan_script_header_err_brigade() if there is no EOS bucket in the brigade:
555c897 If there is an error reading the headers from the backend, send an error to the client
f0404b4 Update
0dec39d xforms
420a6cc Describe DBDInitSQL
79b9700 fix style, no code change.
904ffa7 update transformations.
a11e122 update for sync with English docs.
0f4d5de update transformations.
ced8ae5 update for sync with English docs.
1a06e36 fix typo.
876303b Updates.
888550e update for sync with English docs.
d04fa88 fix typo.
85bce79 update transformations.
cb1918e update for sync with English docs.
f832e87 update transformations.
44ae9f9 update for sync with English docs.
9b2a06f update transformations.
d0785bc update for sync with English docs.
a6b17d7 mod_rewrite: Fix RewriteCond integer checks to be parsed correctly.
275799f static scope for rewritemap_mutex_type.
ac4c275 update convmap
a11c89f fix various property issues
01a7b32 fix English Revision
772ed2f update transformations.
16dacf0 update for sync with English docs.
afa640b fix build
704e163 fix typo.
3203bce xform
b7eb896 PR50662: reword the hint about sslrequire expressions being parsed in htaccess so it doesn't apply non-perdir config.
1243317 Condense the LaTeX/PDF stuff into a single bullet point, referencing the now-closed ticket.
a2eae6f rebuild
697b31c Typo fix. Can someone rebuild this? My build system seems to be broken.
fc6d3aa Rebuild
1f3ce0f Added a note about MySQL's reconnect option and its effects on prepared statements
aab303c Rebuild
776571a Add five little words to clear up that we mean in a .htaccess context
56ce41d Rebuild
0d97006 Adjust the output section since the example output is no longer present.
d8179a2 Fix typo (Thanks to Daniel Shahaf)
b1287ac rebuild
28af6ca Replace weird UTF-8 thingy with - (blame Wikipedia)
8bef424 xforms
6a00bcf remove the example output because <pre> and <note> cause fatal XSLT when creating the manpage version of apxs.  This seems to not run for some other folks.  (also, move new decsription stuff so it precedes bugs)
159875a PR51969: one more try at explaining RewriteBase, simplify the example and show how missing rewritebase altogether would go wrong.
175bfb2 Updates.
8364021 Rebuild ab
b8b9aaa Add example ab output
ce468d7 Rebuild
21b5309 Note that the <If> directive may be a better solution to this scenario.
557652c Fix a broken link to mod_auth_dbm and rebuild
8e8de3b Rebuild
50eb147 Clarify the [Skip] flag and add an if-then-else example
0325c1c Rebuild
dd82c75 Note that some browsers may erroneously convert POST into GET on redirect.
649b143 Correct SSLCipherSuite + documentation (move rather than add)
acea053 PR37194: give a hint about capturing something more like "initial" header values when a %{foo}i might have been set or changed by a module.
3a199d1 Rebuild
92757e8 Missed one.
25df202 Rebuild
23fe127 Use more standard options syntax, as per https://issues.apache.org/bugzilla/show_bug.cgi?id=52112
3e28c4d Rebuild
52408a0 Add some examples of how expressions might be used. This should probably be extended at some point.
6b2c9a3 Rebuild.
99caf3e It's not very nice to tell me all about how to use it, and *then* tell me it's deprecated.
4942a55 Fix treatment of regex backreferences.
28a9c0d Updated event mpm configuration to match the defaults in documentation and header definitions. Updated prefork defaults to better match documentation and header definition.
998fb0b Rebuild various.
cfc67d8 Remove reference to RewriteLog and RewriteLogLevel. I would have done this to the other languages, too, but don't wish to infer that they are up to the current English version.
5dc724c Update worker mpm defaults to match documentation and built-in defaults. As per https://issues.apache.org/bugzilla/show_bug.cgi?id=52102
e948002 * Add the forcerecovery balancer parameter that determines if recovery for   balancer workers without considering the retry value of workers is enforced.   There might be cases where an already overloaded backend can get into deeper   trouble if the recovery of all workers is enforced without considering the   retry parameter of each worker
77fddfd Adapt Timeout to be the same as DEFAULT_TIMEOUT. After all it's localted in a file called extra/httpd-default.conf
2f96e21 Fix link: Require belongs to mod_authz_core, not core.
7b8c246 Be more verbose when logging syntax errors
6ade43e remove backported entries
53302ff Update transformations.
dbe930d Document use of the DefaultRuntimeDir directive.
e03cdf1 backported
13a76fc Mention SSL certificate checks are now enabled by default, as opposed to disabled in 2.2. Submitted by: Petter Berntsen (petterb@gmail.com)
cd017af CHANGES entry for r1304874
5f176ca Remove the hack from r806010 that mis-uses the pointer to the per-directory config for other things. This breaks with MPMs that do have a per-directory config.
3d98368 Downgrade log message about adjusted IP address to trace1
5b0c084 Fix merging of AllowOverrideList and ContentDigest. Remove some useless code. Pointed out by covener
d662050 Updates.
5b4b11a Fixed bad link (again)
2fa4a0f Fix broken link: Should point to 2.0 docs instead of current branch
54254f9 Fixed 19 broken references.
9f5c2e6 Typo fix: mod_authnnz_ldap -> mod_authnz_ldap
6bc4fff Fix references to the new auth modules
6704973 PR52981: mod_request: fix check for bad KeptBodySize argument
34b8bdc Removed outdated question about Netscape Navigator 3 (re English version) I need to remember the right order to do this in.
75ee539 Don't define PATH_MAX, we use APR_PATH_MAX anyway. This broke compilation on GNU hurd.
5697e1f rebuild html for fr translation
3334710 Fix reference for fr translation: Require belongs to mod_authz_core, not core.
b794edf * Partly revert r1303435 and rename pconf back to in_pconf to avoid shadowing   the global variable with the same name and create a bogus assignment.
d70a27a rebuild html.
bd5c567 Remove link to outdated (and deleted) question about ssl errors in old browsers.
b19d8e9 fix french translation and rebuild.
10b80a8 Point to mod_autoindex instead of autoindex.
2ee3547 * Fix changes in parameter names in function definitions done in r1303201
2e728d6 Revert r1294936 (Jeff's revert) and fix NetWare / Win32 build. Added the missing AP_DECLARE* decorations for the function implementations and variables.
a78e502 xforms
7cd6f80 Note that TRACE is not a vuln
8328016 Revert r1299786, which is already covered elsewhere in the same document:
285bd50 Disallow directives in AllowOverrideList which are only allowed in VirtualHost or server context. These are usually not prepared to be called in .htaccess files.
c9fa20f In AllowOverrideList, do not allow 'None' together with other directives. While there, improve log messages and save some memory by allocating correct size for table.
0dc16bb * Readd the reverse assignment to avoid segfaults in ap_proxy_initialize_worker
b5bd03b * Correctly save the reverse proxy worker in all virtual host proxy configs.
f3c6861 Rebuild
67efe11 Updates.
ef71a89 Updates.
a53c9e3 Unregistered media types in common use, according to Wikipedia and MS
795da50 new IANA media types as of 2012 Mar 16 18:55 PDT
7ad0b89 Various typos and broken links. Daniel Gruno. rumble at cord dot dk
8f1eaa6 Rebuild
76a2794 Broken link correction. Daniel Gruno (rumble at cord dk)
7993195 Typos and broken links in docs. Daniel Gruno (rumble at cord dk)
d9ee23c Update xforms, add fcgistarter.8
e325d76 Build fcgistarter.8
6ece254 Rebuild various.
d3a0269 Answer the "what flavor of regex" question.
c5ce231 add filesystem paths to some common error messages.
92a7bf3 remove backported items
3812e76 xforms
c2f29ee fix a misleading example that implies ServerName has precedence over a ServerAlias.
86ed503 Fixed broken *_DECLARE_DATA section. Seems our preprocessor is some crazy and inserts a blank after replacing a define which made the awk script fail. Patch submitted by: normw gknw net.
7f74a62 revert r1294936, which fixed MPM DSO load failures on AIX
273f078 Fixed Netware builds for PCRE 8.30.
879c654 Return an error code from a previous input filter
9365cd7 Rebuild
e41092a Broken link fixes. Daniel Gruno again (rumble at cord dot dk)
74ace39 Rebuild
40a9cce Patches from Daniel Gruno (rumble at cord dot dk) for broken links in docs.
9f47057 Adding a few quick notes to the docs STATUS file. Error codes and broken LaTeX output.
ba4c36d Rebuild
e6c3691 Links and typos. Daniel Gruno (rumble at cord dot dk)
0f48555 rebuild
478a1c4 Typo and link breakage patches for mod_rewrite docs. via Daniel Gruno (rumble at cord dk)
485239b Rebuild
78a3fe3 Apply various patches from Daniel Gruno (rumble at cord dot dk). Typos and broken links.
311f951 Rebuild
5ab83cc More patches from Daniel Gruno (rumble at cord dot dk) for references to directives that have moved around since 2.2
7d334a6 Rebuild
a332884 Allow/Deny now in mod_acess_compat rather than authz_host (via Daniel Gruno - rumble at cord dk)
e89b5da Rebuild
a60273d Various patches from Daniel Gruno (rumble at cord dot dk) for incorrect references, typos.
03a8b1b Fix some typos
2cbae5d rebuild
d7ebe41 Thanks goes to Daniel Gruno < rumble  cord dk >
3a53586 * server/mpm_unix.c (dummy_connection): Destroy temp pool and return   on connect() failure.
d51735b Rebuids various transformations.
19b4867 rebuild xhtml
9dba921 Adds an example from authz_host. We already mentioned it, but it's a pretty common example, and good to mention here.
b180d99 documented
e341f0a document LDAPRetries and LDAPRetryDelay knobs
1e8f02f update xforms
39b8dc4 document that ap_mpm_query is available only after register hooks
4a60b16 some more trace logging for AddOutputFilterByType
b0a6483 Stray/confusing "recovery" in this failonstatus=XXX error message seems to be a copy/paste error.
5caa336 Move away from DEFAULT_REL_RUNTIMEDIR and use ap_runtime_dir_relative() API
6563860 xform
171c293 PR52878: broken links to unixd directives
8f6bb1e PR52877, MaxMemFree text no longer matches 2.4.x+ default of 2048.
0906bac Update.
c1d310a Updates.
d07cd29 Rebuild.
5bbb2cc Correct link to sed docs. Via Daniel Gruno
9d312d3 Rebuild various
8753743 Fix broken link to sed docs. via Daniel Gruno <rumble AT cord DOT dk>
e7fdd87 Use new ap_runtime_dir_relative() API
deab2b5 Bump
5bb6406 pr#52852 remove Require all granted from example, it breaks otherwise.
c6c2b6b Outdated translations
c058932 mod_proxy_html is no longer a third-party module.
29d868d docco updates w/ xfrms
25c27c5 Docs (and minor comment change) for DefaultRuntimeDir directive
7ab4cfe PR52845: "DirectoryIndex disabled" should blow away the DirectoryIndex settings in the current config section, not just override previous config sections.
4be5546 Revert... wtf did this come from??
fc1b444 Fold on Jeff's DefaultRuntimeDir impl... docs on the way
5f54514 Trivial s/a/an/ typo correction.
04ed749 Allow for DEFAULT_REL_RUNTIMEDIR ala socache... prevent perm issues with some configs
738605a Rebuild variant files.
4a5264e rebuild transformations
810e72f Fix link for User/Group. Credit: Humbedooh
3ef652f Rebuild a bunch of transformations
60ad842 Modules get installed to ./modules not ./libexec (https://issues.apache.org/bugzilla/show_bug.cgi?id=52454)
226a8a6 Note that with wildcard certs, or serverAltName certs, no special workarounds are needed. (viz https://issues.apache.org/bugzilla/show_bug.cgi?id=51746 )
87d5ae2 The referenced Makefile no longer exists, since mod_ssl is no longer a separate distribution. If someone would like to provide more detail here, that would be great. This is in response to https://issues.apache.org/bugzilla/show_bug.cgi?id=49562
5f084ed Merge note about now-external APR dependency from 2.4 branch, and add note about PCRE
5bd958d Rebuild transformations.
9df5dcc Updates.
5d9207c Fix insecure handling of LD_LIBRARY_PATH that could lead to the current working directory to be searched for DSOs
77d9a99 Correct the statement of how query string ordering works with the QSA flag. Change via nathan.deklepper AT objectconsulting.com.au, https://issues.apache.org/bugzilla/show_bug.cgi?id=52689
b3813c0 Adds Korean index page for FAQs, and links to it from other languages. From 윤병조 <yunbj AT naver DOT com>
940236f Rename file and fix markup errors.
1236fa1 Adds Korean translation of FAQ index. Contributed by 윤병조 <yunbj AT naver DOT com>
012c3fa Rebuild
848955a Fix directive name in doc as per https://issues.apache.org/bugzilla/show_bug.cgi?id=52798
a1f372e Fix MPM DSO load failure on AIX.
ec3dcc1 properly free the GENERAL_NAMEs, as pointed out in PR 32652
e06efbc AIX: Add missing build scripts. Submitted by: Michael Felt <mamfelt gmail com>
59abd5d AIX: Update the build to support AIX packages.
d6e62d6 Add the port number to the vhost's name in the scoreboard
7a8f5c8 Take care not to call ap_start_lingering_close from the listener thread, because it may block when flushing data to the client.
44e8350 Prevent listener thread from ever updating a worker's scoreboard slot
960f0a6 Initialize EC temporary key on server startup, as for DH and RSA. This fixes a race condition that could lead to a crash with threaded MPMs.
ac4effd Pass the EOS bucket down the filter chain
a1cbd5d Enable per-module loglevel for mod_xml2enc and mod_proxy_html
5965fdd Add a section to the mod_session documentation that better describes how to integrate applications with mod_session.
720f5f4 mod_session: Sessions are encoded as application/x-www-form-urlencoded strings, however we do not handle the encoding of spaces properly. Fixed.
710038a Updates.
cba7493 Fix another compiler warning
ea8cd42 Fix compiler warning
f36eefc Fix MMN in comment
f6cf165 Revert Paul's lock free circular queue changes done on MPM-event. The changes have been moved to branches/mpm-event-optimization.
401b5be In maintainer mode, replace apr_palloc with a version that initializes the allocated memory with non-zero values, except if AP_DEBUG_NO_ALLOC_POISON is defined.
3c92125 Fix AddOutputFilterByType brown paper bag crash bug
c1c832b Internal link to the right section.
94379bf Adding .fr translation for mod_lua
cf345c4 Add AP_HAVE_C99 to make correct check for C99 less onerous Using __STDC_VERSION__ without checking if it is defined causes warnings on C89.
8a9eab9 Fix a link in the caching guide.
7c8d47e Mention the rewritten Caching Guide.
687517d Mention the CACHE filter.
b2a5606 Rebuild html
2e0d258 Highlight some of the improvements in the documentation in the 2.4 version.
8005b40 generated files from r1291766
cb61715 apply insufficient TLC, making some improvements to wording and typography
8d9be85 Reordering: Put related changes next to each other Put modules that only provide services for other modules last Try to put important changes first
88814c3 Mention AllowOverrideList, Define, EC keys, rotatelogs improvements. Syntax fixes.
0d2b85c xforms
a52366b Mention mod_heartmonitor/mod_lbmethod_heartbeat, mod_sed, mod_auth_form, mod_session. Remove mod_reqtimeout (already in 2.2), mark mod_lua as experimental. Mention more mod_rewrite improvements.
e9ac8dd Make sure the getsfunc_*() functions used by ap_scan_script_header_err*() NUL-terminate the resulting string, even in case of an error. mod_cgi and mod_cgid try to log incomplete output from CGI scripts.
2b47c1d To early, not enough drugs, sorry for the noise.
969762d Fix out of tree build with srclib apr. Fix error message for included apr flag.
8b2ec33 Rebuilds.
7d0723a Removes references to how things used to be in 2.0.x, and makes necessary rephrasings to compensate for those references.
cfccfe5 Check during config test that directories for access logs exist
c0d2110 missing modules/ folders in lbmethod modules
c2cfaa7 Update.
d4f379f Updates.
4060b48 Fix regression introduced in r1222917: in ssl_find_vhost(), we must use the *new* SSL_CTX settings for the SSL_set_options/SSL_set_verify calls.
0415804 BZ 52623: Fix building against PCRE 8.30.
9a0981b Fix spelling.
3a302a4 add manpage list
f9f8fbb update transformation
ecae3bf fix validation error
9bba315 update transformation
bc67810 fixup properties
e16536b * modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response):   Treat EAGAIN as an error for a blocking read from the input filter   stack.
ebbfee6 Remove duplicated word
e6859b2 Rebuild xdoc
94fae9a Replaces more occurences of 'Apache' with 'Apache httpd'
e7753ea Replaces uses of 'Apache' with 'Apache httpd'
e425486 Trivial typo
c79188a xforms
732f60d Handle cases, esp when using mod_proxy_fcgi, when we do not want SCRIPT_FILENAME to include the query string.
104e5a4 Add cleanup for SSLProxyMachineCertificateChainFile during init
cf0345a Based on feedback from Vincent from the docs team, change the examples to ones that correspond with our default values.
65b2deb Bah. The word is "whereas", not "where as"
2cf18f4 Fixes issue 52604. Depending on the value of @rel_logfiledir@ the example may or may not start with a "/", rendering the example wrong in some cases, as described in that bugzilla issue. Changes the example to literal strings so there can be no ambiguity.
4e5fbbb aix: Add a set of build scripts that make packages suitable for installp on the AIX platform. Submitted by: Michael Felt <mamfelt gmail com>
1bbff8f Replace ap_create_core_ctx()/ap_core_ctx_get_bb() with a hook
d4da55a Note some directives that are lacking documenation
d79b3c1 Fix various filter functions to return apr_status_t instead of int
9f1045e Fix PR52402. Check if the shared memory was already created for this proxy_server_conf
a631bc9 oops, this got forgotten when copy/paste from dev branch
7fac084 C/C++ 101 on how to traverse the array of pointers ;). Fix core
e4704a6 Typo correction. Rebuild xhtml transformation
1f26a18 Typo correction - s/Availabe/Available/
4ad80a8 xforms
23c2112 revert "overloaded" recent additions to mod_rewrite
b4611f9 xforms
f08c226 document a small trunk-only mod_rewrite indulgence
b795b3b bump
67ffac7 add an internal sleep map function that expands to an empty string.
3898267 treat a rewriterule substitution that expands to "-" as if the rule had a literal "-".
2c9e71f Rebuilds various other modifications from the last few days.
9a55965 Rebuild html
b8a7f7e Typo fix, courtesy of humbedooh AT humbedooh.com - Daniel Gruno
f5a79c0 Add a configuration layout for the AIX platform. Submitted by: Michael Felt <mamfelt gmail com>
5ab582b Document AllowOverride Nonfatal option
0b237a9 Fix parallel installation for static modules builds. When "$(shared)" was empty, instdso.sh complained with a Usage message.
ab76ab0 Forgot to bump MMN when advancing the MODULE_MAGIC_COOKIE for trunk.
dbb41e9 No need for multi-version compatibility. Broke trunk, because the COOKIE was advanced to "AP25".
00d8386 Note a TODO for Lua 5.2.0 compatibility.
7b167c6 Remove luaL_reg macro definition no longer needed and simplify lua_load compatibility macro.
d0257e2 luaL_reg was already deprecated in Lua 5.1.4. It is gone in Lua 5.2.0 and was replaced by luaL_Reg which already existed in 5.1.4. So use that one..
11ffbb5 Minor fixes for firehose and mod_policy: - err.h does not exist in Solaris. Judging   from the expected content of err.h we don't   use it at all, so remove inclusion of it. - The name DEFAULT_TYPE is to generic. Use   POLICY_DEFAULT_TYPE instead. - Include apr header files from configured   path instead of system path.
6464c34 Addition to r1237447: "for arg ; do" is not sh standard. It seems its a shortcut for "for arg in "$@" ; do".
b9ca9aa Add a few placeholders to CHANGES for items which are currrently trunk only.
e989202 Sorry about that. Wasnt looking in the right place.
9b76588 Make apachectl -h aware of status, fullstatus, and configtest.
c62f4af Fixed c&p error.
6702d1e Revert r1202255 to restore same behavior as in 2.4:
29cd807 Note some things that should be considered, but not shortly before a release
1b4e6be Remove changes from trunk CHANGES that have already been backported to 2.4.x.
48b9f4e Fix typo which was already fixed in 2.4.x.
5eb53da Remove unwanted tanslation leftover. Was introduced in r1210120.
b008850 update for sync with English docs.
9438280 update for sync with English docs.
13fd08d Sync docs with 2.4.x.
51e64c5 Some doc updates
d9e586b xforms
7b54660 c/p error
916ae59 Docco r1229021
2f24671 Fix copy&paste error in comment.
d8e782e I guess that makes sense.
b91dd1a Add event MPM description.
e71a05c iThese deserve their place in httpd.conf on Windows
6f9bc21 Update copyrights for externally visible and changed code
4fca50f Install multiple files per install.sh invocation
95fba12 s/insure/ensure/
9f81404 Update.
d052a53 https also needs QS
556939e * Don't typedef twice (in .c and .h file).
e499c6e Make the core input/output filter contexts private and provide accessor APIs for mpm_winnt and mod_ftp.
b6f6f96 * server/core_filters.c (send_brigade_nonblocking): Use a non-blocking   bucket read, allowing any pending data to be flushed before trying a   (potentially slow) blocking read.
60eb4d2 Document how Include should behave. The present inconsistencies are now subject of PR 52505 instead.
bf40995 * server/core_filters.c (ap_core_output_filter): Don't read the entire   output of a morphing bucket into RAM.
76aa413 CVE-2012-0053: Fix an issue in error responses that could expose "httpOnly" cookies when no custom ErrorDocument is specified for status code 400.
7cc2917 update xforms
29bd6ba Fix docs for Include, add docs for IncludeOptional
bbf60bf Add a validate-xml target
95bfe99 ctx->bytes_in is never used. Remove a useless iteration through the brigade
c6e601b Improve indentation, no code change
fc71b2b Update.
b26606a Document the rather surprising code path on Windows
f21ee09 More configure time dependencies: mod_cache_disk depends on mod_cache mod_heartbeat depends on mod_watchdog
21cc07a Make APACHE_MODULE() accept an optional prerequisite module for configure.
bcd0179 * server/core_filters.c (ap_core_input_filter): Only treat EAGAIN as   success if a non-blocking read was requested; for a blocking read,   it is an error condition.
6635e5a Adjust CVE-2011-3368/CVE-2011-4317 fixes to rely solely on core's translate-name to fail unsupported URIs.
bad70dd configure: Move the --with-included-apr check so that srcdir!=builddir builds aren't broken by it.
46ea51c Anticipate win32+win64
5153ca5 Service named 2.x on trunk
6df305d Further win32 edits anticipating 1.0.1-final is soon
58dd721 Reword the paragraph about --with-included-apr to mention the -deps tarball.
5a05949 Trunk is at 2.5
a093081 configure: Improve the error message when --with-included-apr is specified but either APR or APR-Util is not included.
a94da6f RPM: Add mod_bucketeer, mod_case_filter and mod_case_filter_in to the RPM spec file.
3d7c32f Update xforms
00e489f generated files and revision numbers
ae5d1f3 fix syntax errors in Mutex examples
ba8bc09 fix const warning with strchr->ap_strchr mapping
89c2286 remove unused function
01ee0e4 Updates.
7086a4b Updates.
e96c833 Update.
f6cfbf8 Update.
9a429c5 Fix the request/response header error
f0120a8 Add svn:keywords LastChangedRevision
5a295bf whitespace only: shift a block refactored in r1231255 over 8 spaces.
a9a720a   *) mod_authnz_ldap: Don't try a potentially expensive nested groups      search before exhausting all AuthLDAPGroupAttribute checks on the      current group. PR52464
1d98b89 add compat info to CacheQuickHandler
65718cf SECURITY (CVE-2012-0031): Fix possible crash on shutdown if a child changes the sb_type field in the scoreboard.  Since unprivileged children should not be able to affect the parent in this way, this is treated as a Low severity security issue.
036e552 More registered media types
dae01b6 Update transformations
d8edde6 Fix English Revisions.
3b2b67b Fix cut'n'paster error
75dad9d Rename ap_func_attr_* macros to AP_FN_ATTR_* Add macro for attribute alloc_size on newer gcc's
d00d15a Add <glossary> to nroff.xsl and revert r1222335 partially.
832c1ab Fix XML validation error.
abd7071 Sync with 2.2 branch
e1187cb Changes to mod_heart* docs upon review by rjung
e0ddfe0 Core configuration: add AllowOverride option to treat syntax errors in .htaccess as non-fatal. PR 52439
29bf1ac rewrite guesses URL or Filesystem in server context, but treats everything as a URL in per-dir context.
a595ac1 fix signedness issue with SSL_X509_NAME_to_string()'s maxlen argument
2232c2c optimize this... Do strlen() ONLY if we need to check for overflow.
81cd9d7 Update heartbeat module documentation, add documentation for mod_watchdog
2aa21a6 Clean up size_t abuse, part 2.  ap_malloc/calloc/realloc are explicitly excluded from this cleanup as they must be signature identical to the clib functions, and although the definition of size_t has been flakey, the definition of those functions appears to be generally clean since ANSI C.
23b6c75 Simple edit, when 'saved' this will always alphasort anyways
33d94f3 Cure size_t abuse, curse some recent code [recommit good bits from r1227852]
07e32f2 Revert a whole mess that was not ment to be committed
0d1f9f6 Cure size_t abuse, curse some recent code
be417c2 Update the comment and checks around address/connection reusability in mod_proxy.
2293ff1 restore the generic proxy workers to not being address-reusable.
ea2437c xforms
a2d8ba3 add heartbeat to list of lb methods living in other modules.
d3c30b9 fill in the heartbeat modules' documentation.
5d3d7c8 s/2011/2012/g
3098f24 add/enhance some hints about configuration section merging (or lack of it in the case of mod_access_compat) PR52406
277ee6b Add a bit of debug logging
c77318c Avoid using C++ reserved word 'new' in arg name in header Doc tweaks
bb6cc59 Display registered providers
caa0647 Add new ap_list_provider_groups() API for mod_info
13a94b2 Sort list of modules
92696d1 Display all those shiny new hooks that we have in 2.4
a30532d Fix another case of #ifdef-within-a-macro (which was inadvertently introduced a few days ago).
2e6a62f Document the unfortunate side effect of converting ap_log_*error into macros with respect to #ifdef.
a97bec2 Don't use #ifdef inside macro calls
066712a SECURITY: CVE-2012-0021 (cve.mitre.org)
7f18892 Fix handling of piped, syslog, or inherited ErrorLog entries
4a62372 Check during configtest that the directories for error logs exist
70cfa8d Fix -DDUMP_RUN_CFG output for piped and syslog loggers
2ea507b Adapt loglevel of config errors during second pass
6898560 Adjust the translations to  r1223048 (Apache Tomcat link)
4e40fc1 Fix link to Apache Tomcat.
b020069 add missing #ifdef in ssl_cmd_protocol_parse (should have been in r1222921)
b2a91b7 update transformations
1af61df SSLProtocol: allow explicit control of TLSv1.1 and TLSv1.2 flavors when compiled against OpenSSL 1.0.1 or later. Update documentation.
9900465 Set OPENSSL_NO_SSL_INTERN when compiling against OpenSSL 1.0.1 or later, so that mod_ssl retains binary compatibility with future versions when internal structures are changed. Use API functions where available, and fall back to direct access for OpenSSL up to 1.0.0, where needed.
da4b2f4 REMOTE_ADDR is now r->useragent_ip, which is not/never available at SSL_CB_HANDSHAKE_DONE time. ap_log_cerror() already logs c->client_ip for us, however, so we can simply drop REMOTE_ADDR from the message.
b34a75e Update transformation.
5fa6dd9 Clarify how the filters are merged when defined using the AddOuputFilter directive.
e666d3a mod_mime: Don't arbitrarily bypass AddOutputFilter during a ProxyPass, but then allow AddOutputFilter during a RewriteRule [P]. Make mod_mime behave identically in both cases. PR52342.
5a58dee Update transformations.
ba28d5d Add a link to the general HTTP compliance instructions.
691e58c Update transformations.
50e9523 Build the man page for httxt2dbm.
85ecf33 RPM: Add mod_policy to the RPM spec file.
b162b93 Update transformations.
18b3666 Add documentation for mod_policy, as well as explanatory documentation for developers or end users affected by each policy.
a03bcce mod_policy: Add a new testing module to help server administrators enforce a configurable level of protocol compliance on their servers and application servers behind theirs.
7ddddd9 Move ab, logresolve, httxt2dbm and apxs to bin from sbin, along with corresponding man pages.
f180dc5 Added mod_firehose and firehose to NetWare build.
94f1766 Some cosmetic NetWare makefile tweaks.
3db3bf5 Make mod_lua compile with lua 5.2.x.
3f12b41 Fix the case where AP_DEBUG is unset.
2cb5dbf Distinguish properly between the bindir and sbindir directories when installing binaries. Previously all binaries were silently installed to sbindir, whether they were system administration commands or not.
e46cdfc Fix warning: variable 'rv' set but not used.
275ef9c Fix warning: 'nlen' may be used uninitialized in this function.
833f909 RPM: Remove fiddling with installbuilddir, this is correct by default through the use of config.layout.
74a2aac Update transformations.
bcedbc9 Clarify which tarballs we are talking about.
38f71bb Update transformations.
ee24143 Add further explanation on RPM packaging.
fd7fd59 Update transformations.
a5b1971 Document the RPM platform.
76f782e Various code cleanup to avoid compiler, cppcheck, or clang warnings:
42c9e0b Avoid segfault if url->hostname is NULL and filter->hostname is "*" or ".". Found by clang.
b9dacea remove some dead code found by clang statical analyzer
5923de8 mod_firehose: Ensure directives are defined global only.
0baba28 Update transformations.
0e22384 mod_firehose: Support portable non blocking support, and make non blocking support optional.
8ef69a4 Remove unused variable.
a4a2e8d Fix the test for APR_HAVE_SYS_SYSLIMITS_H.
f704894 RPM: add firehose and mod_firehose to the RPM.
1d0b69f Update transformations.
d7d34da Add a seealso section to link mod_firehose to the firehose tool.
9ad07e7 Update transformations.
9ad824e mod_firehose: Add a new debugging module able to record traffic passing through the server in such a way that connections and/or requests be reconstructed and replayed.
0a91425 Update.
9675b74 Allow for changing of string more easily...
2a321cd update transformations.
7afff97 New Turkish translation
e6fff50 update for sync with English doc.
075c44f Update transformations.
cb21a0d Further clarify the naming of the entity that directly connects to us by calling that entity a client instead of a peer.
8cea5c4 Update transformations.
ad489c1 Further clarify the naming of the entity that originates the request by calling that entity a useragent instead of a client.
2af2fa4 Further clarify the naming of the entity that originates the request by calling that entity a useragent instead of a client.
a4e7bcc update translation
e6d1031 Explicitly cast function pointer, to remove 'const'. Hopefully this makes the NetWare compiler happy.
627e535 logging adjustments: - consistently call ssl_log_ssl_error after ap_log_error etc. - ssl_init_ConfigureServer: add vhost_id to log message
10baccb zap an unhelpful, out of date comment from httpd 1.2
47b58a4 definAtely
8d37f73 Streamline TLS session ticket key handling (added in r1200040): - drop the SSLTicketKeyDefault directive, and only support a single   ticket key per server/vhost - rename the SSLTicketKeyFile directive to SSLSessionTicketKeyFile,   remove the keyname parameter - move ticket key parameters from SSLSrvConfigRec to modssl_ctx_t - configure the tlsext_ticket_key_cb only when in server mode - add documentation for SSLSessionTicketKeyFile
91ce790 Limit length of lines in .htaccess to 8K again, to reduce DoS potential.
e0a5a78 Fix names of unary operators like '-s' being compared case insensitively. Improve error message if op or function is not found. Document '-s' operator.
0aaf659 Typos
c878a5c RPM: Update the spec file to require at least apr-util v1.4.x.
786ef4c Typo correction.
53164d2 Various fixes for log message tags:
0ecd2fe Remove usage of APLOG_NOERRNO. It has been a no-op since at least 2.0.x
408b681 Remove unused variable
cdda948 Add reference to the mod_socache modules in the mod_ssl docs.
3ca08c4 * modules/: More doxy group fixes.
fd967ea * include/httpd.h, server/mpm/*/*.h: Tidy up doxygen tree view by moving   private interfaces into a separate group.
f3b2a30 Removed some proxy imports from NetWare build.
8b1ee43 Removed import file since now dynamically generated.
0071b62 * include/: Various doxy markup tweaks.
e371a53 Adjust the OpenSSL session id context for SNI configurations, so that sessions are tied to the proper vhost (subset of a patch I originally proposed in November 2009, cf. message with ID <4AF85A18.1000205@velox.ch>).
abeba69 * include/util_varbuf.h: Doxygen tweaks.
8491aff The mod_socache* modules now have basic documentation.
417eda8 Update xforms
980f934 Update transformations.
3775da2 Create initial documentation for mod_socache_shmcb, mod_socache_dc, mod_socache_dbm and mod_socache_memcache.
6c8d447 NetWare build fixes.
00f036e mod_cache: Remove dead code from the legacy mod_mem_cache module.
86598d3 Fix my typo
86b13b8 Update transformations.
cf7a851 Overhaul the caching guide in an effort to clearly distinguish between the mod_cache caching, the socache caching, and other caching we do, such as mod_file_cache.
8238529 No need for process.h system include since we don't use getpid() any more
f63c6e7 Axe check for second post config call. New ap_state_query(AP_SQ_MAIN_STATE) == AP_SQ_MS_CREATE_PRE_CONFIG API call does exactly that, so we were actually expecting 4 calls ending up with NULL config in child hook
0f05cbe Fix a few compiler warning reported by Steffen: - some signed/unsigned mismatches - const for a function does not make sense
ab471ad Update translation.
9701a5a Add some more log message tags
34742c3 Update xforms
9b380c9 mod_slotmem_shm: Remove the colon syntax to indicate a relative path, and make the relative path default behaviour. Remove the word "anonymous" as a filename for special treatment, what used to be "anonymous" is now "none".
26d5fb7 Add some more log message tags
7bd7e41 Add some mod_ssl macros that confuse coccinelle
252dd69 coccinelle 1.0 has changed the syntax for regexps
6f6ecbe Change the provider names to match the module names: mod_slotmem_shm: shared -> shm mod_socache_memcache: mc -> memcache
45750ca -1 to introducing new months so late in the release cycle
6874d4e Fix typos
9b79361 More pointers to mod_socache*
3073252 Partially revert r1203859: use a fixed string per module as the proxy_function instead of the macro __FUNCTION__ which is not C89.
e093c8c Updates.
c5d691a Point to mod_socache_* in the SSLSessionCache error message
6d27c3c Update Japanese translation. # Changes were white spaces in English.
f1bcbfb Update Japanese translation. # Changes were white spaces in English.
e79e017 fix typo. Submitted by: OKANO Takayoshi <kano@na.rim.or.jp>
ea4340c mod_proxy: Note that proxy_lb_workers was removed from the public API.
7d3c369 MMN bump for the removals from the public mod_proxy API.
411fcee mod_proxy: Remove dead code ap_proxy_table_unmerge().
3122ef2 mod_proxy: Move ap_proxy_strmatch_path and ap_proxy_strmatch_domain out of the public API.
166ecfc mod_proxy: Remove ap_proxy_make_fake_req() from the public API.
d404b51 mod_proxy: Remove ap_proxy_make_fake_req() from the public API.
35a6d8a mod_proxy: Remove dead PROXY_OPTIONAL_HOOK macro.
f2f321f mod_proxy: Remove dead code.
5259bb3 mod_proxy: Make the ap_proxy_is* functions private.
1a7b790 mod_proxy: Make sure we populate the client IP from the peer IP for proxy fake requests.
3ab3e5e mod_proxy: Remove ap_proxy_date_canon() from the public API.
e45341a mod_proxy: Remove ap_proxy_buckets_lifetime_transform() from the public API.
26559c2 mod_cache: Remove ap_cache_liststr(), it duplicates ap_find_token().
9abaf84 mod_proxy: Remove ap_proxy_liststr(), it duplicates ap_find_token().
a81bd8f mod_proxy: Move ap_proxy_string_read() out of the public API into mod_proxy_ftp.
daea1ba update MMN, not only the comment
92e3660 Add lots of unique tags to error log messages
0182b16 mod_proxy: Make ap_proxy_retry_worker() into an optional function. Allows mod_lbmethod_bybusyness, mod_lbmethod_byrequests, mod_lbmethod_bytraffic and mod_lbmethod_heartbeat to be loaded without mod_proxy yet being present, which happens when modules are loaded in alphabetical order.
b3cde50 Add APLOGNO() macro for unique tags for every log message. Add some scripts to make adding these tags easier.
2a12b17 Fix apr_status_t being passed as loglevel
794c090 mod_auth_form: Use apr_status_t for the mod_session API.
7d139ae mod_session_dbd: Use apr_status_t as a return code across the mod_session API.
45eb1cd mod_session: Use apr_status_t as a return code across the mod_session API, clarify where we ignore errors and why.
bc84971 Fix segfault with Solaris LDAP SDK when enabling ldaps.
4a98590 Clarify the crypto notice for mod_session_crypto.
3ef5d03 Update the crypto notices for apr_crypto. apr_ssl is long gone.
efcf8a9 mod_session_crypto: Fix a pool lifetime problem when reading from SessionCryptoPassphraseFile.
14fef5a Fix for additional cases of URL rewriting with ProxyPassMatch or RewriteRule, where particular request-URIs could result in undesired backend network exposure in some configurations. (CVE-2011-4317)
9175f3a * server/listen.c (open_listeners): Fix logic error caught by   Coverity; possible NULL pointer deref at startup with a   particular (and unlikely) listener/system config.
1a1da88 Bring Windows httpd.conf up to date with documented or required modules
09da58d Update transformation.
b3910b4 Changes to v2.4 APIs.
db67b6f Update transformations.
36c25f8 mod_rewrite: Add the AllowNoSlash RewriteOption, which makes it possible for RewriteRules to be placed in .htaccess files that match the directory with no trailing slash. PR 48304.
c7f1896 Wish came true: CacheEnable works within LocationMatch, giving us mod_cache regexes for no additional cost.
1eeb516 Use 2 sep hashing functions to account for collisions... Safe enough
4554d33 Remove some getpid() logging, this is now also included in the error log format.
d0d00b5 mod_cache: Apply the API change that allows future mod_cache providers to invalidate cache entries, which will fix PR15868.
7ecccc1 Remove some more now redundant log prefixes
8c8f815 Clarify the peer IP of the connection and the client IP of the request within the docs.
d6821dc RPM: Make it possible to build mod_socache_dc against distcache.
dec6ef2 Added missing proxy import to Netware build.
862faad Fixed compilation for non-*nix platforms.
8f46969 mod_session_crypto: Add a SessionCryptoPassphraseFile directive so that the administrator can hide the keys from the configuration.
9846e4b use a style sheet... ideally we would pull one off the filesystem, but for now...
b4ec041 Remove more log message prefixes that are now redundant as the the error log format includes the module name.
7896eac mod_dbd: The dbd_prepared_init() function reported the result of the last prepared statement, obscuring earlier errors. Fixed.
619f36b Ensure casing doesn't matter... (we know balancer->s->name is lc)
e13a723 Some optimization... we have a hash, use it. Quicker than all these string comparisons.
cde53e7 whitespace
3273379 RPM: Add support for mod_lua.
43147da RPM: Introduce a proper layout for RPM, removing the need for script gymnastics and replacement configuration files in order to get the configuration paths to match up correctly.
d2e320f Logic which makes the balancer "active" or not... so we can turn them off and on as needed.
a46b040 RPM: Introduce an httpd-tools package, containing all the userland support tools, aligned with Fedora's RPM.
e362aa3 RPM: Align the requires and buildrequires lines with those of the Fedora RPM in order to remove unnecessary dependencies.
109bd13 Instead of running thru all kinds of logic paths, just add in a on/off bit... No need for other balancer statuses(sp)?
db83909 RPM: Split the LDAP and proxy_html modules into dedicated RPMs, so that the httpd RPM doesn't depend on LDAP libraries or libxml2.
3b63a01 RPM: Remove stray configure options that are covered by --enable-mods-shared=all.
ba324d5 RPM: Support shared mpms with the event mpm as default. Remove all the legacy plumbing that supported the static mpm builds, reverting back to a simple RPM spec file.
e14945e RPM: Include configuration for mod_proxy_html.
ab0f6f4 RPM: The default httpd mpm is now worker instead of prefork.
71f487a Expose the path that the balancer handles...
ef5be92 Pull this out as a sep function to allow for full vhosting adjustment between get and define balancers...
c4ec235 "Final" (I hope) proxy struct/API changes in order to support dynamic balancer allocation AND dynamic vhost-balancers
b896aba Error-check.
f0ded03 fix typo
8e991c5 fix typo. Submitted by: OKANO Takayoshi <kano@na.rim.or.jp>
a19f125 - Add some error handling for writing to the output filter chain. - Add some ap_assert()s for error cases that probably should not happen (and   the following code would break).   These fix some compiler warnings about "variable 'rv' set but not used". - Prevent a leak of a bucket in one error case.
3c0136a Fix some warn_unused_result compiler warnings by checking the return code of chown and logging an error if the error was not ENOENT.
c882475 thx sf
b90d1bb mention IndexIgnore limitation in DirectoryMatch and friends as currently documented only in bugzilla (PR51471)
2823cef remove punctuation from example
403192a Replace unusable/fringe absolute path example for AddDescription and list some weird AddDescription semantics related to directories.
900f5ca Replace a missed version of remote_addr with the new peer_addr.
002e2ee Updates.
6e13224 Remove unused variables.
2463460 Remove unused variable.
394e559 Introduce a per connection "peer_ip" and a per request "client_ip" to distinguish between the raw IP address of the connection and the effective IP address of the request.
984c3a3 Move useful and shared balancer stuff to the shm slot... Provide hooks for post-config/runtime addition of balancers.
fa862b3 Allow compile time changes of field sizes and be more "clear" regarding the diff between balancer and worker slots...
74aafc6 Comment reason for NULL parameter
f66d79b Use varargs...
fae7207 update xforms
2c7c819 Pr#52239: clarify Event MPM's behaviour with strictly synchronous libraries.
b147ccf document userland change
5930da7 add util.regex.c to MPM, had been unneeded untill r1200055
ea54b8b fix comment
d94f4fa mod_ratelimit has an output filter, not a handler.  Also took a quick pass through the other text.
419c40c update xforms
4a25728 The expression parser is not only a developer change. Mention reduced memory usage.
7aecef7 Make it more explicit that mod_lua may change in 2.4.x
fc15445 specify limited context list for ModemStandard
bf2fc8e Use ap_pass_brigade_fchk()
d234246 Add ap_pass_brigade_fchk() which does a Filter CHecK on the brigade pass.
00225ba rebuild markup
11c0bea mod_session: document overrides.
57b8535 mod_negotiation: don't return non-AP_FILTER_ERROR filter return values to ap_run_handler() when sending a body directly from a type-map.
e681056 Update the documentation for the %a and %{c}a logging format strings, and update the mod-remoteip documentation in line with the new API.
d98a314 Align the format variable for the raw IP between the error_log and the access_log.
f94cf9a Hello. Let's compile again.
7df4fb3 Add the ability to access the connection level remote IP address from the expression parser.
4ee7eea Introduce a per request version of the remote IP address, which can be optionally modified by a module when the effective IP of the client is not the same as the real IP of the client (such as a load balancer).
e68738b Partial cleanup of trunk STATUS.
2bffeda Downgrade some more error messages about broken client behavior to level info.
e0184da Pass ap_errorlog_info to error_log hook.
78e6574 mod_cache_disk: Make sure we check return codes on all writes and attempts to close, and clean up after ourselves in these cases. PR43589.
add3418 Fix logic when to call error_log hook
99ca5c4 value never used: dead assignment
f16552a check return status
0871cc7 value never used: dead assignment
f785889 value never used : dead assignment
846dd30 Never used.
04d5492 roll back pair of recent autoindex changes (1204355:1204306)
a109706 PR51471: IndexIgnore doesn't work in DirectoryMatch.
99d2c7f upgrading/compat notes on some unexpected AddDescription behavior
6c2475f PR39923: Allow AddDescription to work with absolute filesystem paths, by not adding "*/" to their prefix (intended for relative paths)
90f47f6 mod_include: The SSIAccessEnable directive existed to ensure the addition of the "-A" syntax would not break existing configurations in v2.2. Remove the directive for v2.4, defaulting the behaviour to enabled.
ab7b448 Fix segfault caused by r1204104 on non-async mpms.
40ac38f Remove MPM-private stuff from conn_state_t
4ed1b41 mod_cache_disk: Remove the unnecessary intermediate brigade while writing to disk. Fixes a problem where mod_disk_cache was leaving buckets in the intermediate brigade and not passing them to out on exit.
294efcb clarify comment remove broken recursion counting bits
92663b1 Limit recursion in ap_expr evaluation to avoid unbounded stack usage * evaluate chains of ||, &&, and string concatenation non-recursively * limit other types of recursion to 20 levels * avoid some string copies if concatenating more than 2 strings
045be68 Update.
1a3e837 Build mod_allowmethods on Windows project file exists
b56ba5a More ap_log_rerror() usage and axe some more AJP: prefixes
5a19e40 Style fixes, no functional change.
2bd6f96 Log fatal errors at level CRIT, not at some random level from DEBUG to EMERG
8ec7f5c great proxy logging cleanup:
ecd6cdf follow up to r1202257 -- perform normal wakeup processing when APR_EINTR is seen from apr_pollset_poll(), with expectation that it was triggered by apr_pollset_wakeup()
fc08292 * Actually change the defines and not only the comment.
c0d91dd update transformations
96746b9 Change the SSLCipherSuite default to a shorter, whitelist oriented definition, and add an example for a speed-optimized configuration (commented out by default).
78b9f50 Updates.
e677824 garbage C's in server-status and extra child processes with async lingering close support in Event.  these are set by the listener due to a residual c->sbh for a worker thread no longer associated with the connection.
2ae75ae no 2.5 alphas yet, so drop the entries for changes also in 2.4.x branch
7cc67a8 add conn_rec to error log hook
582674a remove lingering reslist cruft
304e9c4 drop SSLv2 support (set SSL_OP_NO_SSLv2 for any new SSL_CTX)
d83de18 event no longer requires APR_POLLSET_THREADSAFE, or any other non-standard feature (all but OS/2 have APR_POLLSET_WAKEABLE)
34c9456 silly indentation fix
20c036f s/WATCHODG/WATCHDOG/
2c5b2e5 Avoid one apr_time_now() call in the fast path
324946a Fix typo
249d524 Add mod_data project file missing from r1202365
05fe1b1 add new ldap features, make ap_expr entry more verbose
65d256c Fix xml
2178681 spellcheck r1202258
4cb6f6b Add mod_data to Windown build
5dcb2aa Calculate the power of two size of the buffer before allocating it.
df99e8e Fix comment style
15fe279 update transformation
b7af3e6 update version
328240b We're now on 2.5.0 ...
e3844f2 Use apr_pollset_wakeup to ensure that the listener thread will process most enqueue'd events quickly
42b4817 Because the pollset is now only mutated from the event thread, we no longer need the APR_POLLSET_THREADSAFE flag for the event_pollset
bde1699 Create a new lock free circular queue, and use it in the EventMPM to remove the timeout mutex that was wrapping both timeout queue operations and pollset operations.
985c6fe Instead of disabling the listening sockets from the pollset when under load, just stop calling the accept call, but leave the sockets in the pollset.
a3fff95 disable mod_reqtimeout if not configured
f380e0c ap_core_translate: factor out duplicate code.  no functional change.
40f0fde Added another module load statement to NetWare config.
82ad357 Added some module load statements to NetWare config.
9a3f923 Fixed typo.
8b3dbbc Added mod_data to NetWare build.
e1557da Fixed NetWare install.
ed588c6 Since we have branched 2.4.x we are now at 2.5.0 in trunk.
69218cb Added apreq to NetWare build.
4d4bf43 Fixed broken NWGNUmakefile introduced with r1201194, r1201195.
9794a72 Added comment to clarify for which module this directive is.
a26722b followups on PR52175
d4300ec update transformation
6d807ad PR52175: RewriteBase is what applies to relative substitutions, not the stripping of the per-directory prefix.
f2a7fff add some todos from my apachecon notes
0beede0 clarify looping issue for PR52171.
fa60fda Updates.
7a7c0d0 speling fix
b53e38b add per-dir config merging to mod_lua so LuaHook* in multiple per-dir sections behaves as expected instead of discarding previous sections.
7cbe53f set svn:ignores
0205c83 libapreq is not a bunch of C files now, no special configure magic required
396751b remove leftovers from initial libapreq import
4472a86 As discussed at AC NA 2011
0d121a8 Server directive display (-L): Include directives of DSOs.
d4780b8 mod_cache: Make sure we merge headers correctly when we handle a non cacheable conditional response. PR52120.
0ef5418 Set --enable-load-all-modules implicitely in maintainer mode unless disabled explicitely.
99bf95d Folloup on r1201158: New MaxMemFree was meant to be 2048, not 4096.
afa92d3 Move the examples README from experimental to examples. Correct some basic errors in the file.
63f6c2c Choose consistent comments and remove explicit module names, because those references easily get outdated.
253d865 Set MaxMemFree 2048 by default
e6efd62 Fix assertion failure during very high load by preventing race condition between appending to the timeout queues and adding to the pollset. We don't add additional locking calls but only extend the present calls to include the apr_pollset_add. Therefore this hopefully should not cause too much performance regression.
cd94ba9 Change module sets and default activation status:
24b66f8 Use the right lua scope when used as a hook.
aa574a2 Make doxygen generate (useful) graphs
6ca4144 Axes links to many grossly outdated resources. Adds more visible warning about the state of the developer documentstion.
22aa703 replace most of the literal 2.2's with the major version entity
b6093e1 We're not 2.0 any more
727cca9 don't let thread-scope be selected in a server w/o threads
45b5bfb C99 and unused variable warnings
1d52997 Rebuild doc transforms.
0d2049f A little clarification about variable interpolation, as requested in bug #51125
a879bb1 Rebuild doc transforms.
d8c39d1 Clarify docs for LimitRequestLine, as per bug #51665.
8617402 Rebuild xdoc transform
bdd0af1 Patch from Luke Meyer, clarifies usage of ProxyPassReverseCookiePath directive. As per bug #51126
80765aa A stab at libapreq build integration, still disabled by default.
283d57c Formatting, no functional change.
67b5ac9 Fix installation of conf/extra/proxy-html.conf.
02d9398 disable libapreq stuff until it works generically
bed1f11 use a sub-pool for scope_once
bc7ecfd replace server scope with thread scope
49ac1fb remove lingering reslist references before killing server scope
1278d68 remove ability to set min and max pool sizes for server scope in prep for removing server scope
db8040e remove some debug logging which snuck in
eade195 update xforms
0513255 * buildconf: Pass through APR source dir to apreq's buildconf.
afeaa44 have libapreq install honor the top level layout options
83b7b31 hook up srclib/libapreq to the build system
48a5e03 * modules/lua/mod_lua.c (ap_lua_ssl_is_https): New function.   (lua_post_config): Pick up ssl_is_https optional function.
e854d63 add Makefile.in for apreq
ab9323a relocate the .h files to play nice with the srclib setup
1c0a9e7 * modules/filters/mod_proxy_html.c: Fix various code style issues.  Use   apr_is* ctype macro wrappers.
a630b6d Rebuilds quickreference docs to reflect removal of htaccess context.
1b2d4f0 * modules/proxy/mod_proxy_html.c (comp_urlmap): Fix const-ness warning.
e3118b5 Rebuild luaquickhandler doc.
e625d65 Make the contextlist agree with the comment in the doc itself.
5eb6753 remove last traces of the code cache
1a71a61 Rebuild Nick's change to mod_proxy_html doc.
933c83b Document configure change
f4a5d66 Only load the really imporant modules (i.e. those enabled by the 'few' selection) by default. Don't handle modules enabled with --enable-foo specially.
de5161b * modules/ssl/ssl_private.h, modules/ssl/ssl_engine_kernel.c   (ssl_callback_tlsext_tickets): Use unsigned char * to fix gcc   -Wpointer-sign warnings.
b8cb50f Default to not allowing htaccess in /, instead of just the documentroot, which gets a nice 10% performance boost by default for me.
1cedf45 fix issue with incorrect munging of the lua package path -- LuaPackagePath directives were not working
1bdcf2c drop automake stuff move apr-build-system build files over from apreq
9493bf6 move build system files over from apr-build-system branch in apreq
972764a relocate some files to match the apr-build-system apreq branch
e9806ab import apreq include files
008ccc8 import apache 2.x module portion of apreq
c373001 Fix spelling
9ba9dfc drop tests and automake code for now
c1902d9 relocate apreq/library as a srclib
5405226 end-generation hook: Fix false notification of end-of-generation for temporary intervals with no active MPM children.
e66f481 expose r:trace1-8
a195310 Remove unneeded memcpy.
c44e619 Apply ap_server_root_relative to the path used for the ticket secrets file.
2fb4d8c ap_check_cmd_context checks don't work on the block forms of the lua directives.
239e4c0 config generation # (reported by ap_state_query(AP_SQ_CONFIG_GEN):
00b4adb revert accidental commit 1200129
3c7b587 clean up unused ap_my_generation variable   (presence is odd, since this variable as an API was supposedly removed   long ago, and a similarly named static variable was removed in r1078286)
e4f5c71 clean up unused ap_my_generation variable   (presence is odd, since this variable as an API was supposedly removed   long ago, and a similarly named static variable was removed in r1078286)
10a47f5 Remove work-sketch cruft that went nowhere before getting ifdefed out
6f00541 proxy-html.conf needs to be included automatically if mod_proxy_html is loaded.  Otherwise it's a big gotcha when mod_proxy_html just does nothing at all!
9209ff1 Fix selection of loaded modules on AIX because its grep doesn't understand \< and \>
ff0b37a mod_proxy_html: Add ProxyHTMLURLMap conditions to docs. Seems they got lost in the initial docs drop!
da6343c Add default proxy-html.conf file (defines links to be rewritten according to W3C HTML 4 and XHTML 1).
2cb0473 mod_proxy_html: use ap_expr to evaluate conditional URLMaps
6b88493 Found a bug in mpm_event, investigating
4935d31 Whitespace fixes for r1200040
8b2e0e5 Add support for RFC 5077 TLS Session tickets.  This adds two new directives:
1bc9c90 since mod_ssl.h is now included, tell compiler where to find it
bfe8097 Fixed NetWare build.
3095a74 Downgrade log message which is triggered when client disconnects
ee574da As per bug #43710, mention that SSLLog isn't available any more. Also remove several long-dead links from the intro paragraph.
29a8aa5 Use random value instead of remote IP address in cookie value. This has the advantage that we don't leak internal IP addresses in reverse proxy setups. Also, use hex to make the cookie shorter.
b7ca077 update transformation
b568fa2 examples are block elements and cannot occur within <p> elements.
3db0ad2 update transformation
2553e32 use non-'const char *' while building string to avoid warnings
4a69a84 Fix per-request / per-conn logging, probably broken by r1041140
4a7015e rebuild xdoc
9c698e9 Further clarification to address bug #30021
6d78e38 mod_authn_socache: tidy up r1199565. And we don't need that separator in the namespacing string - it's not for human consumption.
565f842 mod_authn_socache: fix namespacing issue http://marc.info/?l=apache-httpd-dev&m=131823772714741&w=2
736ff9c Applies patch provided by Luke Meyer in https://issues.apache.org/bugzilla/show_bug.cgi?id=51131 - Adds usage example to mod_proxy_ajp docs.
402dbba Update transformations.
a3ffb7e Remove some ap_add_version_component() calls that don't provide any information because the modules don't have separate version numbers anymore
44cd571 fix typo
baa51e6 mod_dumpio: s/ap_log_error/ap_log_cerror/
7ce4868 And we are at 2.3.16-dev
4cab24c Getting ready to tag 2.3.15-dev
b4ca82b Update docs for default TimeOut value for other languages.
a90ae45 Update transformations.
6a40f71 Fix invalid XHTML: duplicate id "apr".
8905b8b Update xml transformations.
9558c7e Regenerate convenience.map.
d6d64dd Update xml meta files after fixing simplified chinese.
136ab9e Regenerated style files after simplified chinese fix.
59066a3 Change def timeout from a nasty 5 mins to a more reasonable 1min
750c2f6 Add "reallyall" and --enable-load-all-modules to docs. Clarify LoadModule activation status.
8df576d Fix XML validation errors. Order matters.
cd2834e Fix docs generation for simplified chinese.
fc2ea41 Load all modules in the generated default configuration when using --enable-load-all-modules with configure.
0d628a6 update xforms
5f666a2 mod_reqtimeout: Change the default to set some reasonable timeout values if loaded
ebfb6ac Don't send a 500 if there is a timeout
219333e Silence compiler warning about signedness differences.
573dd37 Fix make variable reference.
296c624 Fix up some length limit calculation
3c2235b update xforms
ccc76d4 Change default FileETag to be "size mtime", i.e. remove the inode. Adjust the etag generation in mod_dav_fs to the new default.
35525c0 Point to list of undocumented modules in the docs subdirectory
89f9bdb add info about new early/late arguments and a note about the directives whose context is limited.
0697ff3 Add some comments and another line length check
2af550c mod_lua: Expose SSL variables via r:ssl_var_lookup()
bd5efb0 We still have to pass the dependency check to APACHE_MODULE to ensure that mod_session_crypto is disabled with --enable-mods-shared=reallyall
d63996c allow some lua hooks to be run in "early" or "late" mode
eaffe60 correct return val, the char* is pushed on the lua stack.
4a36c5b By default, only load those modules that are either required or explicitly selected by a configure --enable-foo argument. The LoadModule statements for modules enabled by --enable-mods-shared=most and friends will be commented out.
63a4102 Solaris doesn't support "test -e" in combination with "sh". We use "-f" in all other places.
650b90f Link the modules that use it against the XML library so the server will start.
93819be Remove ProxyHTMLLogVerbose in favor of trace loglevels
3097e85 if mod_session_crypto prereq isn't available, don't bail if the module was enabled implicitly
75c8dfd More error checking for ap_pregsub
2ea97b1 auto var verbose not used
873d3e1 remove solved Windows AcceptFilter blocker add mod_lua blocker
ca96890 More ap_pregsub error checking/logging
1356548 More checks of ap_pregsub return values
646971c Check return value of ap_pregsub()
fd96222 Fix integer overflow in ap_pregsub. This can be triggered e.g. with mod_setenvif via a malicious .htaccess
05eb254 No need to zero memory that we will overwrite anyway
b791885 Only init the RNG once at startup. This saves some entropy and works around the APR bug fixed in r1198921
b46ba1c Also do length check if the last line is not LF terminated
1e4910c s/IP6/IPv6/
7c5a4c2 Call apr_random_after_fork() manually in the child processes because the MPMs use plain fork() and not apr_proc_fork(). Also add some workaround for APR not changing the RNG state in the parent.
629d907 quick handlers and translate_name in lua can't be keyed off Directory/Filename/htaccess
9143f29 provide ap_escape_html as r:escape_html()
8ef2858 remove unneeded dependency to mod_proxy_html
509026b re-add apr_pool_clear accidentally removed in r1197405
d525938 Remove some copy and paste remnants, no libaprutil in APR2
bb2c798 get the hello world of Handlers working again
6c47106 Update transforms
6c57e61 Unify syntax of config directives taking an expression as optional contition argument
18e11cb To prevent overboarding memory usage, limit line length to 1MB
30fb5f0 Improve detection of libxml2
8da8c26 Modify placement of PROXY_DECLARE_DATA to fix build problems with MSVC, reported by Gregg L. Smith
6811c60 Somehow missed in r1196876
4708643 Added proxy_html and xml2enc to Windows build
18e5fd0 add new properties/constants
214b8e8 make r.handler and r.proxyreq readable too
1abbc00 add constants for PROXYREQ_* to the apache2 global, allow r.proxyreq and r.handler to be writable.
89b6555 alphabetize writable lua properties and use strcmp() for the oddball that's just testing quality of "user".
2fb5d95 Updates.
8a7658d Reverted r1194896.
e4b44df r.args can be written
70ebce9 make r.args read/write for rewrite refugees.
7163bcd Some NetWare build tweaks.
9e3448f Removed prototype which had no implementation.
aeedd02 Fixed NetWare build check for APU_HAVE_CRYPTO.
aae60cd Added check for APU_HAVE_CRYPTO to NetWare build.
95ced96 Remove magic numbers; ensure that an invalid nmatch is corrected tagged
eef2ced Some NetWare build tweaks: generate proxy import list.
2b26aee Some NetWare build tweaks: removed obsolete include paths.
3edf145 Added proxy_html and xml2enc to NetWare build.
df8729c Update transformations.
b84938b mod_include: Add support for application/x-www-form-urlencoded encoding and decoding.
308d06f Improve handling of maxlen = APR_SIZE_MAX, noticed by Jim. Use apr_pregsub_ex() and maxlen = 0 for unlimited in mod_substitute.
47da694 XSLT transformation
84e14f0 Applies patch from Tomas Pospisek <tpo2 sourcepole ch> improving SSL FAQ on the topic of intermediate certs.
97e947f Add new modules to CHANGES
f54873d mod_proxy_html and mod_xml2enc: part 4 References in non-auto-generated general docs
b566eda mod_xml2enc/mod_proxy_html drop Part 3: Introduce them to autoconf I expect this'll want further attention, but not tonight
a45cbef * support/rotatelogs.c (usage, main): Add support for -c option.
3403759 Add comment why the code is disabled
04ca93e Limit ap_pregsub() to 64K, add ap_pregsub_ex() for longer strings and with better error reporting. Modify ap_varbuf_regsub() to be similar to ap_pregsub_ex().
1211292 Remove spurious parsing of the cipher parameter.
d1919f9 Update transformations.
848139b mod_session_crypto: Refactor to support the new apr_crypto API.
71fefb6 * Correctly return a 400 (Bad request) in case of a HTTP/0.9 request like   GET @example.org/foo
20c734c Adds border, zebra striping, to IndexStyleSheet table.
b019b9b Rebuild HTML
8b1ba1f Makes the 'canonical hostname' example a tiny bit more useful, in that it now works for any number of hostnames, rather than just one.
2632f03 update transformation
78efcd9 props
ebc2fd4 Mention mod_reqtimeout in the DoS mitigation section
ff24538 Add missing line break
f7e2ea6 Make loop more efficient as pointed out by Roy
8cf4c65 eol-style native for new files
3971360 Unbreak AddOutputFilterByType for content types of the form
24c8f2c Log reason for not deflating at level trace1
ede1b2f Update transforms
369db0d Clarify how ErrorDocument interprets argument
4db7179 Fix 3xx responses with local URLs as ErrorDocument
d6ce9b2 mod_buffer: Make sure we step down for subrequests, but not for internal redirects triggered by mod_rewrite.
d396d2f mod_proxy_html/mod_xml2enc code drop Part 2: mod_proxy_html code + skeleton docs page with Apache license, coding and documentation standards, less some rough edges.
4475880 mod_proxy_html/mod_xml2enc code drop Part 1: mod_xml2enc code + docs with Apache license, coding and documentation standards, less some rough edges.
4c2f2a4 r.subprocess_env is available and writable
562c9d7 quick handler in an external file is already enabled, quick handler in block form seems to work just as well.
10c800b expose ap_construct_url to lua scripts
eececab Comment out some incomplete code that does nothing but produce a compiler warning
64ea7a2 Don't return a pointer to a stack variable Found by cppcheck
b077fe2 add missing 'static'
02302c9 regex related cleanups: - use AP_MAX_REG_MATCH where appropriate - in mod_proxy_ftp, compile the "ls -s1" regex only once instead of once per request - add some coments
b9196c6 Replace literal constant with AP_MAX_REG_MATCH
1596edb Fix configuration of internal proxies
c75f86b Downgrade some more log messages indicating client errors from level error to info. Add log messages for various reasons to return HTTP_BAD_REQUEST.
4e0a7dc Increase the max line length from 2k to 128k and allocate the buffer on the heap.
5c88cbe the correct property is r.filename as used elsewhere
8ee73a5 Updates.
40b2bb8 There is absolutely no reason to have two 4k-sized constant strmatch patterns in each per-dir config.
95457d4 flip operator in comment for r1182887 and add some whitespace to highlight the restriction on nmatch.
2632a97 Force the honoring of AP_MAX_REG_MATCH
0888c43 Rebuild xdocs.
ba50aba Missing linebreaks in examples.
c135e74 xforms
7e91850 Give a hint about old multi-language error documents
fb256af Update multilang error documents to ap_expr
f6982bf Update autogenerated code. Now generated with bison 2.5 instead of 2.4.1
f64bd9f Improve error message by removing 'unexpected T_ERROR' in one case.
4d6a412 Downgrade to DEBUG level several messages which were all redundant to these NOTICE level messages;
e1d2cba   Resolve server and remote IP's in the AcceptFilter 'none' path.
52a0aaf Corrects another typo.
553f870 Rebuild HTML transform.
64e1098 Fixes numerous typos.
fa21062 Adds a recommendation that rewrite logging be consulted for more details on how rewrite is looking at URIs. refs https://issues.apache.org/bugzilla/show_bug.cgi?id=30021
0511ab7 Rebuilds varions transformation.
6f3913b Rewrites the 'API Phases' section to give a brief intro to what an API Phase is, and how mod_rewrite handles rewrite rules in two different phases. Removes some of the condescending tone. References https://issues.apache.org/bugzilla/show_bug.cgi?id=30021
39b57b6 Not sure what this note was referring to. The xslt assembles the directives in alpha order, regardless of how they are in the xml source. I can't find a single example of a module doc being out of alpha order.
9e12e17 Further clarifications of the rewrite process, as per ticket #52000
fe0ac45 Remove OID match which was never in a GA releas and is obsoleted by SetEnvIfExpr with PeerExtList()
7d0348c If a child is created just before graceful restart and then exits because of a missing lock file, don't shutdown the whole server.
be61728 Check the return value from ap_run_create_connection in mpm_event. Add a todo in mpm_simple
8ce7c89 Clarify behavior of multiple rewrite rules in the same scope. refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51968
0b26b48 mod_mime_magic: Add signatures for PNG and SWF to the example config.
ae84319 Only dump User/Group if DUMP_RUN_CFG is defined
86926f6 s/perl/Perl/
69be927 Force base 10 when parsing the Content-Length. It doesn't matter in this case, but in general using strto*(..., 0) for parsing HTTP headers is a bug.
b5aafab Consistently use base 10 for numbers when parsing config options. It may be confusing to the user if some directives treat a number with leading zero as octal while most don't.
0ddfb3e Add -D DUMP_RUN_CFG option to dump some configuration items from the parsed (or default) config. This is useful for init scripts that need to setup temporary directories and permissions, for example if those temporary directories are located on a ram disk.
cd17cd2 Consistenly use apr_file_* API instead of libc when dumping config because mixing the two can give strange results due to buffering.
14db767 Remove ap_proxy_removestr(). It has been unused for a decade and has quadratic memory usage.
58bcd79 Rebuild various xdocs
03729e2 Rebuild various xdocs
c8711a4 Note that hostname lookups will be performed for 'require from hostname' directives, regardless of the setting of HostnameLookups. refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51967
c8c04b8 refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51967 Mention that %h will sometimes log the IP address, and sometimes the hostname, depending on HostNameLookup setting and the use of hostname-based authorization directives.
7b28193 mod_authn_socache: fix it to enable initialisation to work if configured only in .htaccess context, and provide a toggle for that. PR 51991
b6e4985 Updates.
caf0908 Shut up gcc/glibc warning about ignoring write()'s return value.
45cbf99 Fix format string bugs in mod_lua. Found by gcc and pointed out by Igor Galic.
03227ed Add some CFLAGS in maintainer mode if supported by gcc:
0886568 Add another AP_DEBUG_ASSERT to document some assumptions in the code, for the benefit of code analyzers.
5c00526 Fix a potential NULL pointer dereference found by clang. Add a AP_DEBUG_ASSERT to quiet a clang false positive.
a216c43 Downgrade error log messages which accompany a 404 request status from loglevel error to info.
a861cc3 Sort hooks twice, once before pre_config, once after ap_process_config_tree. This fixes a regression with perl modules introduced by r1032002
a57a946 Rebuild doc transformations.
97144cc Refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51967 Clarify that %h logs the IP address when HostnameLookup is set Off.
e325580 re-add "extern" accidentally removed by r1179448
4881b7b Rebuild doc transform
3140489 Patch from Description Mathijs Schmittmann - Corrected syntax for && (vs &) expression. Refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51976
6327f51 Export ap_max_mem_free, needed by r1178079, as pointed out by Gregg L. Smith
f607ef5 - `build.sh all`
31d8524 - add note here in light of CVE-2011-3368
ffce0a3 - add a security warning, and tweak the example, in light of CVE-2011-3368
3371c66 SECURITY (CVE-2011-3368): Prevent unintended pattern expansion in some reverse proxy configurations by strictly validating the request-URI:
f85baf6 Rebuild html.
5a343ef Fix link to Friedl's book. (refs https://issues.apache.org/bugzilla/show_bug.cgi?id=51959)
574bda6 Add SSLCARevocationCheck directive to default mod_ssl config
1d7e112 fix indentation
a4092c7 Enforce LimitRequestFieldSize after multiple headers with the same name have been merged.
88659be TODO note regarding the LimitInternalRecursion error message.
a83284e update xforms
f184e25 grammar fix point to SSLRequire docs
fb5cf8f If MaxMemFree is set, set SSL_MODE_RELEASE_BUFFERS in mod_ssl. Always set SSL_MODE_RELEASE_BUFFERS in ab.
3bc7336 Remove trailing comma on last enum member for authz_status
37581e8 Clarify configuration comment.
2160d85 In ssl_check_public_cert(), also take dNSNames in the subjectAltName extension into account when checking the cert against the configured ServerName. PR 32652, PR 47051.
9b5b43c Some NetWare ssl module build tweaks.
dca1577 Make mod_substitute more efficient: - Use varbuf resizable buffer instead of constantly allocating pool   memory and copying data around. This changes the memory requirement from   quadratic in ((number of substitutions in line) * (length of line)) to   linear in (length of line). - Instead of copying buckets just to append a \0, use new ap_regexec_len()   function
e1fc6f9 Some varbuf enhancements: - Introduce new ap_varbuf_pdup() and ap_varbuf_regsub() functions. - Fix some bugs in ap_varbuf_strmemcat(). - Make ap_varbuf.buf point to an empty string if no buffer has been allocated,   yet.
a524f44 Adjust log message to reflect changed behaviour
a7433ea Put 0- on the fast-track
2d56c9a No longer do double duty...
c4736a5 Final update to SSLProxyMachineCertificateChainFile
8a52dc2 replace another occurence of X509_NAME_oneline by SSL_X509_NAME_to_string
9567e5f enable the SNI extension for proxy connections to TLS backends (but avoid for pure SSLv2/SSLv3)
2fbdbce Updates.
c1dd84b Update.
374a42b More style fixes, no func changes
1951a03 More cleanup: Expand tabs and some more indentation fixes No functional change
427c85b Cleanup effort in prep for GA push: Trim trailing whitespace... no func change
103f776 Cleanup effort in prep for GA push: Trim trailing whitespace... no func change
69c1a5c Cleanup effort in prep for GA push: Trim trailing whitespace... no func change
ecba518 docco xforms
4bdba40 some docco updates
f40a38b Pulls the examples out of the paragraph text and into a table so that they are more visually distinct.
6411f1d Bring error messages for TLS stapling related options in sync with their directive names.
58e0f77 update transformations
a149280 mod_ssl: - document the SSLStapling* directives (code committed in   r829619 for 2.2.3, see PR 43822) - add SSLCARevocationCheck to the list of configuration changes   in the 2.4 upgrade notes.
f81846b update xforms
6b546a5 %L works without mod_unique_id, too
037e42f Save one call of ap_escape_html on the uri. Reflow code to be more readable.
827743e Adds brief introduction to the table to address initial confusion when I showed this doc to someone unfamiliar with the directive.
8fe9577 Rebuilds translation generated docs.
c8de086 Replace log example with one that matches 2.4 logging.
f346896 Rebuild HTML transformations.
96a5aeb Adds some examples of using the ErrorLogFormat token handlers. Standardizes the spelling of behavio(u)r to be consistent throughout the file.
693aab2 Add ssl_log_xerror() and ssl_log_rxerror(), modeled after ssl_log_cxerror(). Add SSL_X509_NAME_to_string(), which converts an X509 distinguished name to an RFC 2253 formatted string. Adapt ssl_log_*error() to make use of SSL_X509_NAME_to_string().
62441a7 Fix issues found by PVS-Studio static analyzer:
0a332fd Remove from documentation STATUS things that have already been done.
01ed21a Add wrappers for malloc, calloc, realloc that check for out of memory situations.  Use them in most places where malloc, and friends are used. This results in clean error messages in an out of memory situation instead of segfaulting or silently malfunctioning. In some places, it just allows to remove some logging code.
e49dceb Punctuation error.
8c4a431 Removes CookieLog from ja, ko, and tr documentation.
923bbf3 Rebuild docs mentioning CookieLog
0084dd7 Removes the CookieLog directive, which has been documented as deprecated for more than a decade.
73bfae1 Rebuild HTML.
14afd62 Removes the promise if more documentation to come. These docs are probably sufficient as is.
f1937c9 Style cleanup
f868cec Give a slightly more direct hint when no global ServerName is set. I still think this buries the lead, but it's hard to rewrite to change the emphasis yet maintain googleability.
5e9aaa4 Rebuild mod_log_config grammar changes.
2245716 Additional grammatical nits.
48ab8da Rebuilding other new French translations.
504c9a7 Rebuilds French translation updates.
a12d7a0 Rebuild transformations.
77b585d Nitpick - Be consistent with ending each format description with a fullstop.
8e08427 Updates.
b19a70c Fix cut'n'paste error: ErrorLog -> ErrorLogFormat
5aa285f Trying to make it slightly clearer that 'name' in these examples is a variable to be replaced.
753d2588 Altering the "somewhat similar" to default example to actually be the default format.
f08932b PR51371: cross-compile issues with cgi and apr_procattr_limit_*.
362f424 Log better information and prevent leak of an X509 structure for SSLProxyMachineCertificateChainFile
cfe0a63 * Correctly obey ServerName / ServerAlias if the Host header from the   request matches the VirtualHost address.
026b641 Fix cut'n'paste errors: APR_DECLARE -> AP_DECLARE / part2.
ef94761 fix spelling error in a couple of log messages
e80ada7 Continue if the platform doesnt support file perms.
6ea465f Add comment that the check for empty brigade at the start of the function is essential.
817a209 Fix cut'n'paste errors: APR_DECLARE -> AP_DECLARE
d45bc29 update xforms
a8451b7 Un-deprecate AddOutputFilterByType and update docs. Its limitations have been fixed by the move to mod_filter.
b19bb37 Implement AddOutputFilterByType by doing strcmp()s instead of creating lots of ap_expr's. This is more efficient and fixes string escaping issues in the old code.
4ce184a replace non-threadsafe use of srand() and rand() with ap_random_pick()
b279698 use random value as multipart range boundary to prevent leaking information about the used MPM
19e1453 initialize counter with random number
2d4e23d Create wrapper API for apr_random; use in mod_lbmethod_heartbeat and mod_serf to - replace some needles use of apr_generate_random_bytes - remove code duplication
7f59e98 - start definitive list of modules not to be included in 2.4 - mod_fcgid not a blocker - install of beta on www.a.o done thanks to pquerna/infra
aec65ac GA plan
47cf15b Modify SSLProxyMachineCertificateChainFile to use X509 instead of X509_INFO and use openssl to construct the chain
63e02b3 Properly fill in the SSL_{CLIENT,SERVER}_V_{START,END} and SSL_CLIENT_V_REMAIN variables for certs whose notBefore or notAfter fields use GeneralizedTime encodings.
6231d5a ssl_callback_proxy_cert(): take advantage of ssl_log_cxerror() when logging proxy client cert information
6ee9362 mention mod_deflate optimization; ap_expr is based on mod_ssl
54fbfc8 Fix 'Content-Encoding: gzip' missing if the first brigade passed to deflate_out_buffer contained zero data bytes but no EOS bucket.
1c47c33 xforms
4f9f6f7 Some more 2.4 goodness and notes
05ee312 Xforms again post mod_proxy.xml update
ff9469c List worker flags in a more useful manner and note Drain
a6f26af Implement draining capability for proxy workers... only accept sticky on these puppies.
9b5b28f Xforms changes... using SVN this time ;)
fd407bc Updates one of the "advanced" recipes and rewrites description.
625b89a Add in MaxRangeOverlaps and MaxRangeReversals to accomodate more control over acceptable Range headers:
0eeeb59 Fixed MaxRanges config block.
17d8f0a unixfy
386f5f4 RM warning text
f79ee4d Updates.
2e4dc1e * Update xforms
0693a70 Save creation of merged until we know we will actually need and use it.
c34f001 return some range params admins may want to control (overlaps and reversals)
9cbc0b6 Remove function so we can grab over core_conf elements easily
2ab6b78 Reorg so we don't need forward def...
dc5a598 Update docco xforms
fe74b5b Reset
92e6b28 No reason for the advanced def... Open hook for other conf factors (number of overlaps, etc)... Return some range params...
4de9afa Reflect user-visible behavior change
efe1f81 Non-releases don't have user-visible regressions; now a contributor to the fix
72d4ba4 What getpid()?  No backport of this edit is needed.
93e4796 no termination of the loop in 1166823.
81097d5 mod_ldap: Optional function uldap_ssl_supported(r) always returned false if called from a virtual host with mod_ldap directives in it.  Did not affect mod_authnz_ldap's usage of mod_ldap.  [Eric Covener]
5de00b4 typo in comment
2b98711 Set Accept-Rangs: none instead of unsetting the Accept-Range header when we have a filter that doesn't like byteranges.
c45e14b refactor to pull setting of Accept-Ranges header into http_protocol.c which had been copied to other handlers.
c2236c7 The default timeout value of 10s lives in two places, the per-server config and in this initialization. Drop the latter and check to see if a timeout is requested in the per-server config.
17d779b Use HTTP_NOT_IMPLEMENTED instead of HTTP_BAD_REQUEST.
7fa4862 AJP_EBAD_METHOD is also a bad request so return HTTP_BAD_REQUEST
189a8b1 add AP_ prefix to recently added DEFAULT_MAX_RANGES
fe5f7b5 take care of some MaxRanges feedback:  * allow "none" to be expressed in config  * send Accept-Ranges: none with MaxRanges none  * stop accepting confusing/ambiguous "0", start accepting "unlimited".
de33f8c ssl_var_lookup_ssl_cert_dn_oneline(): properly deal with empty DNs (BIO_read might return -1 in such a case)
671fe79 bump SECURITY issue to top of in-development 2.3.15 section.
571b036 * modules/http/byterange_filter.c (ap_byterange_filter): Don't reveal   the pid in the boundary delimiter (part of CVE-2003-1418).
b4db4c2 * Silence compiler warning
e166fc0 * Fix compiler warning by removing unused variable
af536f0 update xforms
5c6cb21 be explicit that REQUEST_URI is the path component only
474cdce be explicit that REQUEST_URI is the path component only (like r->uri)
464bddc Revert r1163833:
036e37c we might also see GeneralizedTimes in certs nowadays
2c24630 Revamp CRL checking for client and remote servers: - completely delegate CRL processing to OpenSSL - introduce a new [Proxy]CARevocationCheck directive - drop ssl_callback_SSLVerify_CRL from ssl_engine_kernel.c - remove X509_STORE from modssl_ctx_t - drop CRL store helper functions from ssl_util_ssl.c - avoid sending "certificate_expired" SSL alerts to peers   when the nextUpdate field of a CRL is in the past
eaa9b29 Added MaxRanges to httpd.conf.
975bdc6 * Buckets of known length should be always splitable. So we don't need to care   about the APR_ENOTIMPL case.
c7c14f4 * Fix a regression in the CVE-2011-3192 byterange fix:   Range: bytes=-1
3652b5b Remove log message left over from debugging.
f3ac51a * Fix error message
701c4d3 * Whitespace police. No functional change
191278d * Ranges like --2 or -0 are invalid
da2c874 Fix some RFC 2616 14.35.1 compliance issues: - If there is at least one syntactically invalid byte-range-spec,   we must ignore the whole header. - If all ranges are unsatisfiable, send 416.
c1e78e7 Send a 206 response for a "Range: bytes=0-" request, even if 200 would be more efficient.
6b7fd6d * Silence compiler warning
a70ccca Typo correction.
0d91fd2 Remove some unused code that was included in r1162131 by accident or merge error.
33dc927 * We don't need a copy of the original range as we don't change it. A pointer to it is sufficient
547ed3b * Bit operators should be more efficient then the modulo operator (provided the compiler does not optimize on its own)
ecf3d3c Unset Content-Length if we call ap_pass_brigade several times
937a107 simple doc for MaxRanges.
1aaea94 add MaxRanges directive institute a default limit of 200 (post-merge where applicable) Ranges before returning the complete resource.
abb8830 Fix iteration over string
ccd0312 Every 32 ranges, pass the prepared ranges down the filter chain.
884647f * Do a better estimation on how elements we should allocate:
18edf9f * Silence compiler warning
602f731 * Damm it. Missed another superflous whitespace.
4de7e4d * More style police. No functional changes
cbbeb9e * Style police. No functional changes
ddcd7b6 Better safe than sorry: with OpenSSL 1.0, X509_STORE_CTX_get_current_cert() may not always return a cert.
10f5094 Fix the default OCSP responder timeout for client cert validation - 10 µsec is a tad too aggressive.
e800d3c merge some more adjacent ranges such as a-n,n+1-b, and refactor/reduce the tests on the start/end positions.
815caa5 reverting.  got feedback that maybe we don't want to merge 4-5,1-2 into 1-5
acac129 merge totally reversed ranges like 4-5,1-2 into 1-5
5b2f4b9 fix typo
24291dd remove obsolete macro
9f60c78 Updates.
4b2bb25 If the sum of all ranges in a request is not smaller than the file, fall back to 200.  This takes care of potential DoS issues from ranges like 0-100,1000-,0-100,1000-,...
25656f1 fix function name in log message
3d85576 Remove traces of byterange_ctx, it's not necessary anymore Initialize some variables to avoid (false positive) warnings with gcc 4.6.1
c2f2569 not ruby
ee038b6 Final tuneage
1524179 one off
0a15fae remove merge hit r1161778
2ee7eb9 More merge fixes...
f75ac98 Reset with latest
e63cd2c * Don't SEGFAULT if SSLProxyMachineCertificateChainFile is not set. Just skip the additional lookups in this case.
1f3ac80 Put parsed ranges into an array and perform merges on that array.
3a9879c count ranges by simply counting commas
3566b17 Remove the merging code from ap_set_byterange() again, will move it to ap_byterange_filter
d5a6a47 fix new breakage introduced by r1161767
9bf56b5 avoid inserting the same bucket into bbout twice, causing an endless loop
c9b8ead 0 is OK
1251c17 no longer used
1792900 Save a few cycles... do reason to set in_merge if we already have
b1d0fe9 Optimize...  and break if we get eg 200-100
4eddc76 Merge in byteranges
9a8aec1 * Once the comparsion is true we never return here since we break from the loop.
651bcbe * We need to use > instead of >= as if end64 is the first byte of the next   bucket we need to memorize this one and not the one before.
c02dc3e * The first condition is not needed as pos >=0. If the first one is true   the second one is true either. If the second one is false the first one is   false as well.
3ca01f7 * Adjust comment and don't get fooled by a negative end
3333252 * As reads might have morphed the bucket and its length read until we reached   the correct bucket for splitting.
96e81ce Remove some merging fun between Rüdiger and my patches ;)
fa0d225 simple name change for clarity
e554bcb More casting help...
7c66531 * Remove duplicate condition
4565c8d * Use apr_uint64_t throughout instead of mixing apr_off_t and apr_size_t
14636f3 first round of cleanups
2fe752e Fold in Stefan's initial PoC for fixing memory issues with ranges by keeping orig brigade untouched and avoiding 1byte brigades (related to CVE-2011-3192)
9d6eb90 * Style fixes. No functional change.
32f02f6 * Add missing prototype
f953d42 * Add missing ;
e5df36d Add SSLProxyMachineCertificateChainFile directive and documentation for bug 50812
840f787 Replaces rather weak example with a better one submitted by Marcus Bointon (bug ID 51669)
4612adf Adds reference to --prefix argument in ServerRoot documentation, possibly addressing some confusion for bug ID 51352
cfba9f4 Updates.
be55d0f Simplify some overly complicated code using apr_brigade_putstrs and apr_pstrcat
1d8184a mod_cache: Ensure that CacheDisable can correctly appear within a LocationMatch.
f883153 Adds TODO item so I won't forget.
c951f5e mod_cache: Fix the moving of the CACHE filter, which erroneously stood down if the original filter was not added by configuration.
4011df3 Improve ssl_log_cxerror(): Fix logic of APLOG_IS_LEVEL check. Use X509_NAME_print_ex() instead of deprecated X509_NAME_oneline(). Use i2a_ASN1_INTEGER for printing the serial number. Add notBefore and notAfter dates to log line. Check for null cert argument (addresses PR 47408).
5124ad1 s/lderrno/uldap_ld_errno, but keep it internal.
ead0bcf add a static method to retrieve the LDAP errno, and call from a few other paths that have us returning LDAP_OTHER (since only 'server down' is retryable, we want to work hard to get it returned when appropriate)
6a6c22a Enforce OpenSSL 0.9.7 or later at compile time (#error out otherwise). Remove some more unneeded defines from ssl_private.h.
5566a6b Update auto-generated code
8281a31 Do proper length checks in the expression scanner. This allows to remove the 8K length limit for expressions. Strings/Regexs in an expression are still limited to 8K, though.
17dcad4 Actually commit the header added in r1157354
f196414 Compare value instead of string pointer Remove unused label Remove unused var
84a104b Add ap_varbuf API for resizable buffers. Increase length limit of lines in the configuration file to 16MB. Increase length limit of lines in the group file to 16MB.
a68a8e4 Accept LDAP_OPT_CONNECT_TIMEOUT as an alternative to LDAP_OPT_NETWORK_TIMEOUT.
4e858e3 * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLCryptoDevice): Fix   double-free (and segfault) with bad arg to SSLCryptoDevice.
0b9228e * modules/proxy/config.m4: Avoid sh syntax error with   autoconf 2.63, where an empty "else" clause gets   generated from the args if present with only whitespace.
f5b6317 mod_ldap: remove hard-coded loops of 10 retries w/o delay with a configurable number of retries (LDAPRetries, default 3) and configurable delay between retries (LDAPRetryDelay, no delay by default).
62bc714 remove (the only) retry logic in mod_authnz_ldap's authentication path because it's causing the ample retries in mod_ldap to be multiplied by this outter loop.
293bffa Try to obtain the specific LDAP error code returned during a failed ldap_simple_bind().
5408b52 two more blockers
7c00465 xforms
6c8a526 document implicit limitation in AllowOverride Option=Foo -- this doesn't let you "lock in" any value since the non +/- syntax can zap whatever it wants.
b4c4a45 Allow to explicitly disable modules even with module selection 'reallyall'
e74e7f6 Prevent a crash if a non-existent internal RewriteMap is specified in a server context with RewiteEngine off, then later referenced.
32de9a8 Typo fix (thanks to Tom Browder on users@)
2a3d1f9 remove two obsolete or done items
2372160 PR46214: axe some misleading DEBUG messages in mod_authz_host.
2453c22 Enforce OpenSSL 0.9.7 as a minimum requirement in configure, and remove #ifdef'ed code which was relevant for earlier versions only.
7bd59fd Remove the ssl_toolkit_compat layer, which is no longer needed after support for non-OpenSSL toolkits has been dropped.
1eb8187 Drop support for the RSA BSAFE SSL-C toolkit from configure, and remove #ifdef'ed code from mod_ssl and ab where applicable.
f19d2ca PR29755: mod_usertrack gets skipped when modules return a status code from their fixup hook, and headers are also not sent on non-2xx responses.
ac5c536 TRACEN loglevels are implemented in lua scripts.
ddac678 update xforms
24e349d mod_proxy_http, mod_proxy_connect: Add 'proxy-status' and 'proxy-source-port' request notes for logging
2c2e7cf went too far -- only other APR_HOOK_MIDDLE directives that aren't aware of mod_lua.
af893df explain some of the mystery quirks of the translate_name example, and introduce one that does a more basic URI->filename.
19c8816 change the example to work with just AddHandler/SetHandler, and mention in a comment where the non-default function name can be specified.
f4468d0 add some text to the opening few sections of the mod_lua doc explaining briefly why we're here.
97abc9b Simplify dependency checking code for mod_proxy_fdpass. This also fixes mod_proxy_fdpass being built shared even with --enable-mods-static=reallyall.
9026104 Simplify mod_watchdog dependency checking code. This also fixes mod_watchdog being built shared even with --enable-mods-static=reallyall.
2d0c550 Enable ldap modules in 'all' and 'most' selections if ldap is compiled into apr-util
ab062bf * modules/ssl/ssl_engine_dh.c: Fix indent args so the code   regeneration modifies the OpenSSL output correctly.
9bd21d2 Forbid some directives in .htaccess because of AllowOverrideList:
9d2ca01 cleanups related to new AllowOverrideList functionality: - add new NOT_IN_HTACCESS flag for ap_check_cmd_context() - describe the need for this in new_api_2_4.xml - forbid Define and UnDefine in .htaccess
c1f50be Adjust some messages for <If> blocks and remove some dead code
77bd482 use temp pool for temp string
c0ac7ad * Do not even sent an empty brigade down the filter chain if the headers   have not been sent by the AJP server so far. Even an empty brigade   will trigger the headers filter to create the (in this case incomplete)   HTTP headers of the response.
37e5132 Fix compiler warning
d36a83b Restore seealso enries for AllowOverride
79a6a93 Update transforms
39f57c0 Fix xml error
a895bc4 Fix handling of offset in ap_send_fd()
25d5dd1 Fix endless loop if first bucket is metadata
db7bd57 And we are at 2.3.15-dev
3ae9c54 Get ready to tag 2.3.14
966df72 Improve logging for mod_proxy_ajp.
3c52446 Slightly reorganize previously unused dump method. Add AJP packet log method on top of dump method.
a7fe661 Make AJP trace messages a bit less cryptic.
bed1021 Move some debug log statements to trace level and improve message format consistency.
73cf5b7 mod_proxy_ajp: Respect "reuse" flag in END_REPONSE packets.
9da1f57 mod_proxy: enable absolute URLs to be rewritten with ProxyPassReverse, e.g. to reverse proxy "Location: https://other-internal-server/login" with ProxyPassReverse https://public-address/ https://other-internal-server/
5ee6103 For consistency, makes the "Loaded Modules" section of the mod_info output into a top-level section, and provides a link to it.
0d69087 Add AllowOverrideList directive and documentation
96f86d7 update xforms
51b513b document ProxySourceAddress
f0cf772 Use ap_unescape_url_keep2f() in ap_expr unescape func. ap_unescape_url() forbidding encoded slashes is not useful here. Log failures. Improve docs.
0aad1ca Use ap_document_root() in ap_core_translate() to allow modules like mod_vhost_ldap let core do the name translation
d4e7fad Install signal handlers for crashes before detaching. Previously, there was a time span where crashes would be neither visible on the console nor logged in the error log.
344dbd4 Reduce period during startup and restart where a successive signal may be lost
6376d92 Docs for mod_allowmethods: Clarify GET and HEAD are synonymous, switch example to "Location".
f90e0bc Clarify docs for mod_allowmethods: you still need to use TraceEnable to forbid TRACE.
cd122ed "Changes absolutely nothing" doesn't look like a useful directive description ...
aa7a707 mod_allowmethods: Correct Merging of "reset" and do not allow an empty parameter list for the AllowMethods directive.
ec8235d Document the weird semantics of ap_find_command_in_modules()
5e31554 This functionality is available when the module is *loaded* into the server, not *compiled* into the server.
3e075d7 Missing "}" in example.
480b79f * Make trunk compile with APR trunk again (without LDAP support of course), by   ensuring that we only include the include files of the APR / APU LDAP API if   we use 1.x. Move stuff that depends on it inside the APR_HAS_LDAP block.
d5c4768 Add a CHANGES entry for all the module selection changes
e487ff2 enable mod_lua at level 'all' if the dependencies are present
5dd473c enable mod_ssl at level 'most'
c26b0e4 adjust mod_proxy build defaults:
8919535 Enable mod_session_crypt if deps are fulfilled and mod_session is enabled
2cbb6b5 Don't fail if a module is selected for 'most' or 'all' but the dependencies are not fulfilled
5ae1ca6 Bring part some parts of r1142938 which were removed by the big ldap revert r1150179.
27c003f Merge branch revert-ap-ldap: Revert ap_ldap integration due to veto by Graham Leggett
068a678 Add change log entry, bump MMN
6027911 Revert r1129808:
9674eb3 Revert r1129886:
6e1307b Revert r1129891:
33bbd1f Revert r1129956:
97b5d74 Revert r1130186:
533704a Revert r1131393:
2d42def Revert r1140069:
2c8c92a Revert r1140075:
596a9f6 Revert r1141201:
b41c0b1 Revert r1141203:
4d88b32 Revert r1143221:
c1a5a68 Revert r1143222:
47e1374 Revert r1143225:
a8d5b71 start a branch for the revert of the ap_ldap integration
c8dd1b3 Updates.
46af6eb Rebuild transformations and various recent doc changes.
3d4f2ef "(!)" in the middle of a sentence is confusing, as it doesn't actually communicate anything.
ad3b470 Fix XML error and rebuild changes.
77bdf0d Small clarifications, as per tid 50730
9789e8e Added new proxy modules to NetWare build.
03d2437 Added forgfotten .dsp bits - my bad.
82b3855 Added new mods to Windows build system.
87d9d36 * server/vhost.c (get_addresses): For '*' and '_default_', return   address(es) for any address family, not IPv4 only.   (dump_a_vhost): Use '*' for v4 or v6 wildcard address.
ae3664d Simplify code by using apr_array_pstrcat()
481fac5 Make the SERVER_NAME variable include [ ] for literal IPv6 addresses, as mandated by RFC 3875
02e91f3 Fix parsing of Content-Length in type maps
beb3ea9 Add more (trace) logging to the ap_scan_script_header*() functions Add ap_scan_script_header*_ex() functions that take a module index for logging. Make mod_cgi, mod_cgid, mod_proxy_fcgi, mod_proxy_scgi, mod_isapi use the new functions.
255b79c improve readability of 'malformed header from script' message and simplify code
1c8ca9f Typo.
2a4cd6f Updates.
1b2cc09 xforms
78474bb zap another "myserver" hostname
b1b5e91 improve (but preserve searchable parts of) the error message when Options -Indexes is about to trigger a 403 in mod_autoindex, with a pointer to mod_dir about how the DirectoryIndex might have been the real culprit.
0b42856 s/myserver/example.com/
e896193 doc for DirectoryIndexRedirect
089fe8d Add a mod_dir option to allow the used DirectoryIndex to be externally redirected.
8def831 Invert logic for env var utf-8 fixing.
7eb1cae fix def'n of AP_SLOTMEM_PROVIDER_VERSION, use it
df11af1 Update.
8c0a034 Don't try to compress requests with a zero sized body.
527d18b Use APR_UNSPEC to allow startup on IP6-only systems.
1039437 Add some environment variables to the whitelist in suexec
32d9e32 adjustments of build priorities of modules without special dependencies
6b72d58 Fixed some more env vars which make problems.
832670d Fix regexp RewriteCond with NoCase, reported by Steffen <info apachelounge com>
a78fbca * server/mpm_common.c (ap_core_child_status): Allocate the geninfo,   unused_geninfo ring heads from the heap; fixing gcc aliasing   warnings.
7c43e70 Fixed Win32 build.
3409353 Stupid CodeWarrior compiler cant initialize structs with vars.
da7f4cc Added mod_log_debug to NetWare build.
5cbce65 Removed define which is now in ap_ldap.h.
9c55119 Added creating ap_ldap.h for NetWare.
3e0698b No tabs please.
67dd4b3 Fix a few warnings about use of uninitialized values.
a68daf2 Allow to specify module specific custom linker flags via the MOD_XXX_LDADD variables.
c1197d4 Move PCRE_LIBS from HTTPD_LDFLAGS to PROGRAM_LDADD.
9ed2afa Tolerate dependency checking failures in configure for modules that have been enabled only implicitely.
83a930d Line already contained in aclocal.m4.
1f28209 Only link the httpd binary against PCRE. No other support binary needs PCRE.
d37c52a Silence compiler warnings.
ac2d96e Reset LDFLAGS after zlib testing for mod_deflate.
e2dd8ef Respect platform specific runpath linker flag when building mod_deflate and mod_lua.
1fa2322 1) Add --with-distcache to configure for choosing the distcache installation directory.
4158d7f Support reallyall option to configure also for --enable-mods-static.
a13aaa5 eol-style native
6b31b26 One more showstopper gone
195376e Update transforms
e66fbe2 Add some docs for AsyncRequestWorkerFactor
a35be81 make example config match the description; improve wording
3b66f2b Fix build failure without HAVE_SYSLOG, e.g. on Netware
b5ebda0 Fix small docs typo.
c98f303 Initialize apr_thread_t pointer to NULL so that apr_os_thread_put() allocates a new one.  This resolves a crash seen on WinXP, caused by r1103595.
a6faa41 Updates.
06acd17 update transforms
3a2ff33 Add new non-default debugging module mod_log_debug
ef10673 Update auto-generated code
46d4791 Add string valued expressions to ap_expr, do some API cleanup
0ddae36 Add REQUEST_STATUS variable to ap_expr
07b7057 Fix logging of the log id of subrequests
be8ea90 Add some debug logging when loading server certificates
10ccd0a add ap_ldap.h to svn:ignore
7a26dac remove ap_ldap.h in make distclean
fa569e1 Fix compilation error due to missing LDAP_DECLARE definition
412b701 rebuild transforms
823ebf4 Typo pointed out by Mr Jink on IRC.
fa8dc74 And roll on to 2.3.14
c0497d6 Get ready to tag as 2.3.13-beta
1a2f66b Use APR_INLINE instead of inline, to support pre-C99 compilers
01792b6 * support/rotatelogs.c (main): Exit with success on EOF.
b3e11ef Simplify state handling in rotatelogs, fixing -L support in the case where open() fails for a new log file.
79b918f Fix breakage I introduced in r1130022, identified by Gregg L. Smith <gls@gknw.net>
66fc29c Add Sven's real name.
550078b Tweak rotatelogs -p such that the program is invoked the first time a new log file is opened as well as for rotations:
6fa2578 Pick up the license notices from the LDAP code.
559c6ae Fix load order dependencies in LDAP code by switching to use of APR optional functions for the inter-module API:
96d20ea Updates.
ccdc32e dox fix
4d00c63 Support specifying the local address to use.
ac97ede Missing linebreak in example.
4a66e33 Correct link to mod_macro.
4c61a6e Corrects link to rewrite mass vhosting doc.
4bc8885 Fix "statement not reached" warnings with sun cc
d7f847e update transforms, 2nd try :-/
1c6740a Update transforms
5169222 Various code cleanup
255f723 We already have ap_str_tolower(), so also add ap_str_toupper() function and use it where possible.
bde65f9 Add support to ErrorLogFormat for logging the system unique thread id under Linux
abb02e8 Fix build with recent apr_crypto API change
4b3f0aa Log the deprecation warning at level info, not warn
5f2cf59 Fix search'n'replace error: Actually warn if MaxClients is used
5aacc55 New AsyncRequestWorkerFactor directive to influence how many connections will be accepted per process
d85204f Remove dead assignment, as pointed out by Chris Wilson <cwilson vigilantsw com>
6d8de2f Rename MaxClients to MaxRequestWorkers which describes more accurately what it does.
0f14fc0 rotatelogs: Add support for running a custom program after a log rotation.
59c5253 Code cleanup: replace apr_table_set with non-copying apr_table_setn in a few places
c1ce191 Don't do OCSP checks for valid self-issued certs
a71d0d7 Avoid unnecessary renegotiations with SSLVerifyDepth 0.
99a601d Display information about asynchronous connections in the server-status PR: 44377
18fdb9d Some improvements for handling of many connections for MPM event:
620d391 update transformation
f66f457 remove duplicate entry / duplicate ID
e599423 update transformation
73e09fa property and xml fixes.
6fb57c9 If MaxMemFree is set, limit the number of recycled pools that is kept
ff38d95 Some logging tweaks
9d558a9 Formatting changes, reuse 'now' variable instead of declaring a new one in several blocks.
0c78be1 Rebuild a few out of date files.
04e72b9 Update.
0bb879b Fix graceful restart aborting connections
aca61ab s/seperate/separate/
2e655b0 revert this... sorry
15bce25 No mo subpool
213dda7 Revert "fix unexpected enum operation"
554b49c fix unexpected enum operation
c447143 Update redirect-carefully workaround for WebDAVFS 1.4, Konqueror 4.x
409e5bf Simplify code with ap_str_tolower()
6572b94 AFAICS, we don't have a default cipher suite but depend on openssl's default. Document the fact that this default depends on the openssl version. Recommend !aNULL over !ADH, because the former also excludes !AECDH in openssl 1.0+
b41bf3d Disable AECDH ciphers in example config by using !aNULL (which includes all ciphers without authentication.
3607f65 Remove spurious braces to fix clang warning
82ea6d0 Fix handling of cumulative system time
fba9475 Introduce new function ap_get_conn_socket() to access the socket of a connection
04d4834 Code cleanup:
032acb7 Merge repeated calls of ap_rputs.
48345b2 Avoid some memory allocations by using apr_table_setn where the string arguments are allocated from the request pool and not modified later on.
f66af00 Avoid some memory allocations by using apr_table_setn where the string arguments are const.
20633f6 Avoid "`sentinel' attribute directive ignored" warning with gcc 3.x
e97995c Updates.
4d22454 Update transformations.
48b266c Ensure variable is initialised before use.
d39848b For safety, pass trailing buckets following EOS down the stack. Pass flush buckets down the stack immediately. Move apr_brigade_partition() to be called as late as possible.
b35d62a mod_data: Introduce a filter to support RFC2397 data URLs.
c67e7d5 Log the proper module name on errors
afe7630 Log a more obvious message if apr cannot load its dbm shared library.
c405eb5 Don't return an undefined value if opening of a read-only database fails.
26f144c mod_cache: Ensure that r->content_type is set when serving stale content in response to a failed attempt to revalidate.
9e03d7e Update transforms
45066df purge some useless uses of '.*'
fcd2bae The example configuration looks good enough to me
8b4732f Make the MSIE BrowserMatch regexp fit for MSIE 10. Remove useless '.*'
a739d71 Use Require method instead of deprecated Limit/LimitExcept
c9fd262 Introduce ap_(get|set)_core_module_config() functions/macros and use them everywhere.
8b98cff TraceEnable is per-virtualhost, not just per-server.
feca55d - Introduce concept of context prefix (which is an URL prefix)   and context document root (which is the file system directory that   this URL prefix is mapped to). This generalization of the document   root makes it easier for scripts to create self-referential URLs and   to find their files. - Expose CONTEXT_DOCUMENT_ROOT and CONTEXT_PREFIX as envvars, in mod_rewrite,   and in ap_expr. - Make mod_alias and mod_userdir set the context information. - Allow to override the document root on a per-request basis. This allows   mass vhosting modules to set DOCUMENT_ROOT correctly. - Make mod_vhost_alias set the per-request document root
9362348 - Add <ElseIf> and <Else> to complement <If> sections. These are both easier   to use and more efficient than using several <If> sections. - Update <If> documentation a bit.
89ec663 Fix wrong condition that may lead to NULL being set as 'Vary' header
ec52431 Reorder members in core_dir_config to be more logical and efficient. MMN bump was already in r1131465
328e833 Add __attribute__((sentinel)) to a few functions that require a terminal NULL argument.
cdb37c5 Make ap_rputs an inline function, as it is mostly used with string constants and this allows the compiler to optimize the strlen() call away.
ae7fa44 Use define'd names for constants
639c26f Avoid using a tmpfile with fixed name when creating export_files, since this is bad for parallel builds.
1112778 Updates.
ec64e1a Several fixes for the ap_ldap build logic. This should fix compilation without --with-ldap.
02bbc38 PR51307: Fix ldap_rebind build error when ldap is enabled and APR is built without threads.
118ea1b * modules/ssl/ssl_engine_pphrase.c: Fix comment, no functional change.
ab0d68b Some small progress towards building against apr[util] 1.x or apr 2.x
fbd4b6e Fix include path relative to modules/ldap/
e8da0ff solve getpid() process.h function order
ffb3338 LDAP_DECLARE Header adjustment for nw/win32
07c1a9d Shift declaration logic of LDAP_DECLARE to ap_ldap.h from util_ldap.h
c2f135f I can't be the only person in need of this helper :)  This should untangle all of the complexities of building httpd against srclib/apr/ alone (along with a seperate copy of srclib/expat/ owing to the removal of expat from the apr tree).
87ed2f4 Missed the sortation order on rename
60b8058 This is rather irritating.
3777067 Incorporate the ap_ldap incomplete API, as there is no interest or effort at APR to make this a complete abstraction, and it was voted 'off the island' with APR 2.0.  This will allow httpd 2.3 to build against either apr-2.0 or apr+util 1.x.
e66d41d mod_ext_filter: Remove DebugLevel option in favor of per-module loglevel
f0f723b Fix cut'n'paste error
2c90919 update xforms
3dd90a2 Use the new "ap_expr" expression parser. The old parser can still be used by setting the new directive SSILegacyExprParser
a8c135f Add some features to ap_expr for use by mod_include:  * a restricted mode that does not allow to bypass request access restrictions  * new variables DOCUMENT_URI (alias for REQUEST_URI), LAST_MODIFIED  * -A as an alias for -U  * an additional data entry in ap_expr_eval_ctx_t for use by the consumer  * an extensible ap_expr_exec_ctx() API that allows to use that data entry
4895498 Fix config setting after r1128430 has changed some elements from int to char
1c39b9f properly merge directory configs in mod_include
93f7e7b Rebuild transformations of numerous files.
ea63c89 Rebuild transformations for r1127905
7ffe4b9 Mention that the error log format is now configurable.
f23aece mod_cache: Clarify which scenario we have present, quick handler on and CACHE filter present, which is an error, or the CACHE filter being present when the cache is bypassed, which is business as usual.
18f7ab6 rpm spec file: Prereq and BuildPrereq are deprecated, use Requires and BuildRequires instead.
cc6b937 mod_session_crypto: Use the apr v2.0 crypto interface, which has been backported to apr-util v1.4.
51226bd Fix various "variable 'x' set but not used" warnings.
0a95083 mod_charset_lite: Remove DebugLevel option in favour of per-module loglevel
65c04f6 Replace some "apr_p[c]alloc / memcpy" constructions into a single apr_pmemdup()s
5a225df Change the indentation to resemble the rest of the project. No code change.
63366c9 Add ap_regexec_len() function that works with non-null-terminated strings.
ff34fdf Updates.
5a69116 Some LDAP servers (wrongly) return LDAP_CONSTRAINT_VIOLATION if a user is locked due to too many password retries. This should not cause an internal server error but be treated as "auth denied".
e075565 Add in BalancerGrowth and its functionality... this lays the framework for adding additional Balancers: post-config by allowing for shm growth.
718882b xforms
3da4ecd Add in proxy-scgi-pathinfo and proxy-fcgi-pathinfo envvars to allow "best guess" calculation of PATH_INFO for backend FCGI/SCGI servers
de3a875 Oops... wrong branch. allocate from pool.
b8f7612 Correct Win64 Servername Identification
7ce70dd Who even knows what ISINDEX means any more? Well, other than people reading this commit message.
f974cdc When shutting down with worker or event with active processes which had lost their scoreboard slot during a prior graceful restart, calls to ap_unregister_extra_mpm_process() were hidden if AP_DEBUG (maintainer mode) wasn't defined.
ef3dbf5 Both lastmod and lastmods resolve to 0 when unset, but only lastmods is a pointer. Fix comparison between apr_time_t and NULL.
f60e484 fill in conn_rec::current_thread for WinNT, NetWare, and OS/2 MPMs
0598d43 fix some typos in comments
e413346 mod_cache: When content is served stale, and there is no means to revalidate the content using ETag or Last-Modified, and we have mandated no stale-on-error behaviour, stand down and don't cache. Saves a cache write that will never be read.
2014acf Improvements found by cppcheck: remove some unused variables and dead assignments, reduce the scope of some variables, add some parens to improve readability
b9474fd Remove the references to apr_crypto_t where apr_crypto_block_t is already present.
e18345a Add API protection against the deprecated v1.4 apr_crypto API.
e155f87 Reorder the parameters as per the updated apr v2.0 apr_crypto API.
2a1e8f2 Use namespace protection on mode and type constants.
6676061 Fix memory leak in mod_deflate.c when SetOutputFilter is enabled and DEFLATE is the first filter in the chain - this is seen with mod_dav + mod_deflate when the client can not do gzip and we constantly do the filter checks.
3867aa9 If chunked encoding / content-length are corrupt, we may treat parts of one request's body as the next one's headers. To be safe, we should disable keep-alive in this case.
89137ad Fix a timed out connection going into the keep-alive state after a timeout when discarding a request body.
ef8fbc9 Log messages at the various points where mod_deflate returns APR_EGENERAL. Try to use level warning if the client sent invalid data and level error if something went wrong on our side.
a2c4bb1 updates.
7817970 one ap_expr item done
a88e191 Also add the -U and -F operators for doing subrequest lookups to ap_expr.
58dbbce Update.
17651e0 Add various file existance test operators to ap_expr
39be108 One I'm signing up to finish
f30aa27 Some STATUS thoughts from the 2.4.0 barcamp session
9e15f63 Update xforms
a63ae1c Add in new mod_proxy "extension" module: mod_proxy_express.
7353c3d Fix configure error when configuring module set "reallyall".
61a0413 Use APR_STATUS_IS_... in some more cases.
d625ae4 and bump to 2.3.13
b3247b2 Ready to tag 2.3.12-beta
a4eabf5 document userland/developerland change
7eb4cae disable hook probes for our two hooks which have no args
8d38894 Silence autoconf 2.68 warnings.
2f4222c keep -DAP_HOOK_PROBES_ENABLED (--enable-hook-probes) and -DAP_DECLARE_EXPORT (MinGW builds) out of the *CPPFLAGS used for third-party module builds
0998c2e And more text
86d7dd2 allow error log formatters to peek at the message format
aca6821 rpm spec file: Remove requirement for /usr/share/magic.mime, we don't reference this file anywhere within the package.
7ee5ab0 Use AP_ instead of APR_ and move into the compile CPP flags
2aef219 Cleanup... most don't need apr_hooks.h at all...
901d35f Start of ap_hooks.h setup
6b99aba rpm spec file: Remove corrupted %changelog entry: error: bad date in %changelog: See http://www.apache.org/dist/httpd/CHANGES_2.3
e0063d0 Rebuild changes.
263080c Adds helpful comment from the 2.2 docs.
67fa31c PR51163: Resolve crashes when LDAP is used for authorization-only
5e4d8bc Updates.
7ae5a61 replace recent AJP direct comparisons to APR_TIMEUP with APR_STATUS_IS_TIMEUP.
089dcf8 use APR_STATUS_IS_TIMEUP() instead of direct comparison with APR_TIMEUP.
737a5a1 Not possible; you don't declare a variable const and then maniuplate it.
2390820 Rebuilds a bunch of changes and translations.
244b258 Add BSD-specific note about core dumping. (Via mi+apache aldan.algebra.com)
60cda84 Minor mime.types fixes:   - Change application/vnd.oasis.opendocument.text-master from otm to odm   - Comment application/vnd.ms-office.activex+xml and video/vnd.dece.mp4     because no suffixes were defined for those types.
95fd4e6 fix typo -- two periods
cbfdd4a mention mod_expires bailing out when the handler has set an Expires header.
ee445c9 avoid compiler warnings with gcc
fa3f8f5 Update.
782c711 fix some dead assignments found by the clang analyzer
6d7fe15 Follow on to 1057048:
6eaa4a5 Fix double free in out-of-mem situation
b615a1c WinNT MPM has hard-coded daemon limit of 1, not 0
cb8e467 Make sure support/check_forensic works with mod_unique_id loaded too. Author: Joes Shaefer
1dd9594 spelling fix
462c69e Add child_status hook for tracking creation/termination of MPM child processes.  Add end_generation hook for notification when the last MPM child of a generation exits.
46dc6e0 mod_ldap: Make LDAPSharedCacheSize 0 create a non-shared-memory cache per process as opposed to disabling caching completely. This allows to use the non-shared-memory cache as a workaround for the shared memory cache not being available during graceful restarts
bf07c18 Add new ap_reserve_module_slots/ap_reserve_module_slots_directive API, necessary if a module (like mod_perl) registers additional modules later than the EXEC_ON_READ phase.
3508ccf Report filename and line number in config warning
23961de avoid useless call to apr_pstrdup
af8b442 update transform
086a26b Add example for using %{msec_frac}t.
083e4c6 * server/util_pcre.c (ap_regerror): Use passed-in buffer size rather   than the size of a pointer.
b510d83 The pre_config hook should return int, not apr_status_t.
9854fa9 Fixed line length to < 80 char.
802452c Added shebang check for '! so that .vbs scripts can work as CGI.
065710a clarify comment
e1a3cc6 Miscellaneous corrections.
96f3e2c Updates.
3f51c7e via Matthew Sporleder - domain is required in the CO flag or cookies aren't set.
0035c43 The domain is not in fact optional. The cookie is not set if you don't set the domain. (via Matthew Sporleder)
da53017 Whether it's intentional or not, the hostname/domainname argument to the RewriteRule CO flag is in fact required. Cookies are not set without it. (via Matthew Sporleder)
e77a332 Prevent segfault if DYNAMIC_MODULE_LIMIT is reached
a6c5871 move -L/path/to/pcrelib -lpcre out beyond all the LDFLAGS
e35a1a0 Fixed missing struct member error introduced with r1092076.
6794d36 try to prevent a single long request marking a worker in error.
f93cae2 Axed tabs and trailing spaces.
3f64cea AP_ENABLE_V4_MAPPED with WinNT MPM
51ad225 add some debug logging to show more information about passing of sockets between parent and child
b69191e Allow apr and apr-util to be in 2 different location. Otherwise: apr_version.h is not found when apr-util is tested.
4fd1d0e axe the cast in the call to our mpm_nt_eventlog_stderr_open() by fixing the function
bd456ce match expected type of arg to StartService()
475d92c ignore generated file httpd.exe
d1638d2 Remove unused variable
ebab39c don't try to shut down child if it wasn't created (or, fix warning about reference to uninitialized variable child_exit_event)
e5c9d39 WinNT MPM: Improve robustness under heavy load.
e5d1eb3 Fix some MinGW build issues...
eb90cbf fix some logging glitches in the WinNT MPM:
ca353e4 include <stdlib.h> to ensure that the exit() prototype has been seen before the exit macro is defined (fixes compile failure on MinGW)
bdc6c0d log message fixes/tweaks
621c77a core: Support module names with colons in loglevel configuration.
ded32d4 mod_ssl, ab: Support OpenSSL compiled without SSLv2 support
53b7c75 hernan gonzalez <hgonzalez gmail.com> points out that the USER_AGENT strings were probably more accurate with the leading ^ anchor. Rebuilds a few other changes.
e372fb8 Remove more unnecessary anchors from rewrite examples.
2cc139d Remove unnecessary .* from regex.
5a71fac Remove unnecessary .* from regex, as noted in http://stackoverflow.com/questions/5587148/regex-patterns-in-apache-rewritecond-and-friends-full-or-partial-match
e871510 * server/util_expr_eval.c (req_table_func): Try r->err_headers_out for   response headers if given header is not found in r->headers_out   (e.g. as with non-standard headers from CGI scripts).
f658e4a gcc compatibility
d64db29 rework choice of cgi implementation, handling MinGW
68889a9 don't build checkgid or fcgistarter on MinGW
f97551a hide some unused code on Win32 and NetWare
fcc50d0 Remove mentions of the 1.3 generation of the server.
d4221b3 ignore generated file modules.mk
6c84112 Stop explicitly including the current pid in WinNT MPM messages, as it is part of the default log format.  (And these lines needed touching anyway since %d was the wrong format string.)
3994820 There are no versions of httpd earlier than 2.0. Oceania has always been at war with Eurasia.
3cc093e Rebuild transformations.
7e77822 Oops. Mixed file names in my example.
45e80d3 Adds an example of constructing a type-map file.
259e0db Adds an example of how one might actually construct a type-map file.
97597f6 axe a couple of unused vars, mark a function as static
209fe38 get prototype for ap_os_create_privileged_process()
09999dd axe ap_registry_get_server_root(), which seems to have been unused after httpd 1.3
f472be8 format string fixes: DWORD is unsigned long and needs %lu instead of %d or %i
2ff7ad7 HANDLE is PVOID which is reasonably formatted by %pp, but not by %d
406c2fb can't format time_t with %d; cast this small interval time to int
35aa459 Log the OS socket (int) instead of the apr_socket_t *.
7e9a95e yank some dead code and variables
d16e497 cleanups to function signatures, prototypes, visibility
544697d Abort if the MPM is changed across restart.
6da70f0 * docs/manual/rewrite/: Fix the real long form of DPI here also.
b8d498e rpm spec file: Use "service httpd graceful" rather than a hard coded HUP to rotate logs, so that we honour the end user's choice of pid file.
db4bfb3 Rebuild typo correction.
096de1b Typo
ce6b824 Fixed NWGNUversion.inc target.
1f6d272 Fixed sysinclude; removed trailing 0; fixed indent.
9645750 * add the constructed filter at TRACE1 to authn, and to existing debug authz messages.
4e65550 better error message
744556a bad links due to typo
29fc489 Yet Another Typo. (Thanks to Vincent de Lau)
96132fb Rebuilds mod_alias update from last week. Several other transformation updates.
2899287 Markup typos. Rebuild HTML.
487d918 Adds a new section for the [END] flag. This duplicates text from the [L] flag section, which should probably be summarized into a link.
d9f020d Mention the new rewrite flags as a module enhancement in 2.4
4be15ef Fixed only some proxy prototype formats.
f8aea58 Fixed NetWare build for proxy modules.
43eedc5 Updates.
b8d9a25   *) mod_proxy_ajp: Add support for 'ProxyErrorOverride on'. PR 50945.      [Peter Pramberger <peter pramberger.at>, Jim Jagielski]
d80376c   *) mod_proxy_fcgi: Add support for 'ProxyErrorOverride on' PR 50913.      [Mark Montague <mark catseye.org>, Jim Jagielski]
24cce63 More cleanups at cleanup... move to using pconf and then remove any file-based shms
c240016 wrong stash
5db8e8a Make our Windows touch silent.
1983cb2 Added TOUCH macro to kill Win32 dependency on external touch command.
42014db Fixed lib target for old PCRE.
b899957 Make the 'need to reset' more generic by extending its reach
6017c4a Better knowledge of when to adjust. More info from b-m
b405eca Implement reset() funcs for the LBmethods...
5c16039 If we change the LB method, or we take add in a new balancermember ("enable" her), then we need to have the LBmethod reset its params as required...
6967cb6 Don't kill me mister...
6bd438f Add in a configuration generation... this is independent of MPM gen, just in case we ever switch MPMs at a graceful ;)
e13e716 Cleaned up NetWare NWGNUtail.inc.
58c7ce4 Fixed NetWare version number in linker script.
a09ac11 Removed dependency on sort command for export list.
3c0476f Simplify the interface to ap_reclaim_child_processes() and ap_relieve_child_processes(): instead of requiring the MPM to implement an otherwise-useless hook, just use a callback function.
b1e1cff the mpm-note-child-killed hook was just for use by ap_{reclaim,relieve}_child_processes; those functions can invoke the hook directly; the function ap_mpm_note_child_killed() is useless
573a235 the mpm-note-child-killed hook is just for state sync between ap_{reclaim,relieve}_child_processes() and their callers
7bc1613 Clarification of pronoun - I had to read that sentence a few times to be certain what "it" referred to.
d157440 Expand the comment about APLOG_* and C++ a bit
8cdb5c3 Update xforms
2fd44ce Add PR reference and docs for -DDUMP_CONFIG
d49ccfd Add CHANGES entry for r1086756 / ap_cfg_* change Update docs for ap_cfg_getc
7b61bedb Change the ap_cfg_getline() and ap_cfg_getc() to return an error code.
d7ece73 Someone misunderstood 'dependency' here; we need not *link* to mod_session, therefore the build order doesn't matter.
562c645 change signed single-bit fields to unsigned
1eae244 Rebuild, and fix XML error. Troubleshooting using server-status
6705224 Advice regarding troubleshooting high server load with server-status - something that comes up on IRC at least once a day.
201a9eb Rebuild various transformations.
c63753b Slight tweak to example - add indentation.
ecb6376 utf-8 it is.
c44f751 Minor awk tweak.
ddc5993 Remove traling line endings with Linux builds.
50a4814 Adds Dan to this list. And why the heck is it FIRST NAME alpha? Need to fix that ...
5abb82e Correct build order.  Seems mod_session was misimplemented to require library binding rather that stubbing out proper registered functions to make it load order agnostic.
0adcfbc Always very reluctant to touch a file containing a list of names, but this brings it slightly more up to date.
f20b654 Change to a more conventional, internal 'build' target name
07eb9d7 Note util_ldap.h for convenience
01d5b49 mod_info: Dump config to stdout during startup if -DDUMP_CONFIG is specified.
cdba63f always use (via break) the LDAP connection we're looking at once it's a match, whether it's used as-is or has just been unbound.
4355155 fix incorrect type of LDAP connection pool member, fix naming fors style guidlines
d412770 Wrap at 80
4633c48 add hints for
c175d83 doc xforms
a92b9fa add event MPM to the module list where necessary (most directives documented here)
efb9ddb match docs for case of "ScoreBoardFile"
5e3ba7d mpm_common.c implements a handful of config directives; the related state has to be re-initialized to the default values at pre-config time, but that was handled inconsistently by the MPMs, resulting in unexpected behavior when some of the directives were removed across restart
534cbfe Resolve disagreement with its prototype
aac248d Pick up Jeff's layout refactoring on win32.
044e80c ap_max_requests_per_child is a global (otherwise, this local one doesn't match the one used by the OS/2 child code or the MaxConnectionsPerChild directive)
d1ac3fd some non-MPM code wants to see DEFAULT_PIDLOG, so liberate the setting from the MPM-specific mpm_default.h
7be2d26 consolidate logic to remove the pidfile in a new API, ap_remove_pid(), related to existing ap_log_pid() and ap_read_pid()
6a78588 Typo
c4f28bd Set eol-style native.
29f61e6 Added copy rule for creating include/ap_config_layout.h.
ddf0660 enable DEFAULT_REL_RUNTIMEDIR on NetWare and Windows
bc956c3 fix doxygen warnings
aef0ccf Rebuild HTML transformation - PR 50979
71b5bf3 Clarify SSL/ENV vars paragraph, as per PR 50979
51e3537 mpm_default.h is just a convenience for a specific MPM with 2.3+; it isn't installed
343f36d Newly approved types for n3 and turtle
5779c6c axe unused mpm_default definitions
cc2cf06 SCOREBOARD_MAINTENANCE_INTERVAL is gone, except for some local usage within the NetWare and OS/2 MPMs.
72456d0 use apr_time_from_sec() shortcut
df526c1 Update.
2c50305 aplog_module_index must always be set for C++, so simplify the APLOG_MODULE_INDEX macro to avoid warnings with some C++ compilers
5d351b0 Correct C++ incompatibility with http_log.h.
233d406 Add the unregistered media type for 7z
217485c Add the WebP and webfont media types (that have not been registered by the same WHATWG idiots who regularly complain about servers not being configured correctly for mime types).
6afbc55 Add the WebM media types (that have not been registered by the same WHATWG idiots who regularly complain about servers not being configured correctly for mime types).
ad28ddc Fix duplicate entry for application/vnd.stardivision.writer
2326e1d Update with IANA registered types as of 2011 Mar 25 15:08 CET
b1cfbbc Replace 'CVS' with 'svn', as per bug 50973
70c0e28 Rebuild transformation.
4d6ed12 Fixes typo in mod_rewrite flags doc.
4e3e500 Rebuild transformations.
1a898ce Fix incorrect example. (Missing slash)
30fa792 Or, perhaps that's even clearer, without getting too verbose.
7e9a6ee Attemps to clarify a rather cryptic error message.
239188a * server/mpm/prefork/prefork.c (set_signals): Ignore SIGXFSZ; have a   write() beyond 2GB fail with E2BIG rather than killing the process   in the now hopefully rare case of non-LFS file usage on LFS systems.
9a56866 Done with making the 1.3 docs point to the relevant 2.2 docs.
ff2e9d4 Drop obscure 1.3 change backrefs
a5e30cc 1.3?  nah
10b8e04 Create dav.imp dynamically from header to catch all exports.
db1cf0a Removed dav_get_limit_xml_body() from mod_dav.h.
7c1e9bf More NetWare build fixes.
8cf10de Updates.
ec1c2b4 Fixed NetWare build install dir namings.
8489ec0 Some more NetWare buildsystem tweaks.
66c61f7 transformation
5dd173a separate the issue of passing APLOG_MARK to your own functions and the sometimes-related issue of not passing APLOG_MARK to ap_log_*(), adding coverage for APLOG_MODULE_INDEX
39ea7df transformation
ecfdf9d describe the ap_log_error(...,ap_server_conf,...) idiom
888ec80 Use a var INSTALLBASE to simplify NetWare installation rules.
bab978c Use var for prelude so its possible to change it at one place.
ce13c80 Update transforms
5cd060e Add a note that mod_lua is still experimental and changing
4c477f6 GA plan
828cb46 * support/ab.c (test): Catch more calloc failures.
5be9e95 Close PR 50861 where enabling and disabling of buffered logs can cause a segfault. Patch by: Torsten Förtsch <torsten.foertsch@gmx.net>
059c3ca Added prototype for initgroups().
eb6ad4d Fix typo in RLIMIT_NPROC
7ad92c5 Add a pointer to the build instructions for the manual
b32076c Update transforms
fed0abe Fix XML so it validates again
32c4496 * modules/ssl/ssl_private.h: Drop some redundant/unused macros; pick   up stdlib.h.
fdaaf20 core: AllowEncodedSlashes new option NoDecode to allow encoded slashes in request URL path info but not decode them. Change behavior of option "On" to decode the encoded slashes as 2.0 and 2.2 do.  PR 35256, PR 46830.
7075b21 * modules/ssl/ssl_engine_kernel.c (ssl_hook_ReadReq): Compare SNI   hostname against Host header case-insensitively.
9144fec * server/main.c (main): Use the real null cleanup callback.
55fdc6f Fixed mod_lua - 2nd trial.
6dc7d31 Fixed indent.
7fda9f8 Fixed mod_lua.
4c52b0b Some more NetWare build fine tuning of tools usage.
1e33d8d Missing space.
a16b98c Rebuild various transformations.
0656aaa More professional phrasing of DirectorySlash description.
d753e73 Remove spurious comma.
2fed37e apply patch from zhiguo zhao <zhaozg@gmail.com> to significantly improve server scope handling
2e3c696 transformations
4459e70 add more module upgrade hints
85018e6 fix butchered sentence in ap_args_to_table() docs
96edec3 a bit of doc for ap_args_to_table()
685ff3f add some new sections to the API migration docs, where more detailed explanations can be provided for some of the API changes and additions
4be5710 mod_rewrite: Decline immediately if the rewrite engine is disabled, instead of making various comparatively expensive proxy checks first.
05e818b change all the negative values for LDAPConnPoolTTL into -2 (AP_LDAP_CONNPOOL_INFINITE), so we can't get confused over -1 (AP_LDAP_CONNPOOL_DEFAULT) being merged.
e3b56ec xforms
3615304 undo my inadvertent change to this file when adding a new directive.
248ea7f doc for r1081007, LDAPConnectionPoolTTL
7dbcca9  *) mod_ldap: Add LDAPConnectionPoolTTL to give control over lifetime     of bound backend LDAP connections.  PR47634 [Eric Covener]
813da4a ifdef 0-out uldap_connection_remove(), which is not part of the API and currently has no callers.
03c032b Lay some groundwork for improvements to the connection pool.
5a098dd Updates.
2d47113 whitespace-only: re-indent the blocks I wrapped in an if with r1080922
9885316 avoid apr_ldap_rebind_{add,remove} when referral chasing is turned off
6715be7 NetWare build overhaul in order to compile on Linux.
b7da078 Update transformations.
e8f8ab7 mod_cache: Make CacheEnable and CacheDisable configurable per directory in addition to per server, making them work from within a LocationMatch.
4598f1a fix some grammar mistakes, mostly in comments
d7edefb Ensure that ap_server_conf always points to valid data or is NULL.
3de06e5 I see no getpid() or other requirement for process.h here.
e7e98fa NetWare build overhaul in order to compile on Linux.
b1fda72 NetWare build overhaul in order to compile on Linux.
15c52eb Moves the DocumentRoot declaration down to immediately above the <Directory $document_root> block, so that they are clearly related to one another, rather than having to have the comment referring back up 20 lines.
a0eb6f6 igalic reminded me that AllowOverride now defaults to none, and Options now defaults to FollowSymlinks, so simplify this entire section and thus reduce the chance that people will tinker with it. Remove scary warning.
4b0ffd9 Fix brokeness... Thx Rüdiger Plüm
745c607 Warn the server admin not to relax the security of <Directory />
fa9c874 Adds the simplified chinese translation to the default manual configuration file.
e8c197f Added mod_socache_memcache to NetWare build.
cc686f4 Removed wrong imports / modules from NetWare sochache makefiles.
64ab64f NetWare build overhaul in order to compile on Linux.
10ad24b NetWare build overhaul in order to compile on Linux.
2dc89e9 NetWare build overhaul in order to compile on Linux.
e8a8bec NetWare build overhaul in order to compile on Linux.
410da19 NetWare build overhaul in order to compile on Linux.
77fda02 NetWare build overhaul in order to compile on Linux.
27a593f NetWare build overhaul in order to compile on Linux.
46b7e1d NetWare build overhaul in order to compile on Linux.
c1e2023 split the Authorization entry into separate users vs. developers sections.
1f54cc5 Fiy typo in docs.
ceba8b7 xforms for <if
4a7e9bd mention <if> in new_features for 2.3/2.4
9296d0f Note release date
f64c46e Updates.
4487fa9 worker, event, prefork: Correct several issues when built as DSOs; most notably, the scoreboard was reinitialized during graceful restart, such that processes of the previous generation were not observable.
21a628f zap needless reinitialization of is_graceful on the 2nd call of the open-logs hook
3b75c26 sanity check use of volatile in prefork, worker, and event
1bb3c4b mod_cache_disk: Prevent a segfault should we receive a further bucket after we have committed the cached entry.
a0c9958 instdso.sh: HP-UX's native 'install' apparently is not compatible enough with BSD install to use here, fall back to just using 'cp'.
bc0ae0c xform for new mod_proxy_fcgi envvar
b6debec Fix/workaround for BUGZ PR 50851. By default, mod_proxy_fcgi with not create PATH_INFO, unless specifically told to.
d35c89b mod_cache_disk: Only attempt to commit to the initialisation if the attempt to open the cache file was successful.
81386f1 spelling fix in a comment
b7c32b3 event: child_main() never returns, so remove some dead code after one of the calls
b7a8638 worker: child_main() never returns, so remove some dead code after one of the calls
a4cb9ec Build mod_authn_socache on same terms as other authn modules
60221bd prefork in ONE_PROCESS mode:
4618019 prefork: store pid in scoreboard for ONE_PROCESS mode
47f778d More new feature goodness
071e124 update transformations.
b40fad3 update for sync with English docs.
e7e30d8 And roll onto 2.3.12
32184f0 Ready to tag 2.3.11 as beta!
c465160 Update doccos and xforms
6e256e2 Remove references to modules that don't and won't have their own pages!
bf38c8e Document socache and fix the TODO in authn_socache docs.
fbe5aa4 Fix typos leading to broken links!
f63c745 axe some useless or debug-inhibiting error checking
6df9deb no docs should only be a blocker for GA
048dd49 Updates.
46bdc28 fix some logging calls to include the server_rec (and even the conn_rec in a couple of places)
abcb9e3 Axed C++ comments and tabs.
1789c23 'votes'
ae6a997 fix function name in log text
01c5600 We are going for beta
29108b1 Document mod_proxy work... userland changes
f0da266 protect one-off boundary
b4b949b captures of THE_REQUEST are still escaped however the browser sent the request, ulike most REQUEST_* variables.  PR#50758
4a9fd35 update xforms
ff06d30 Add some links and bits to the ap_expr docs
63c7cfd Be at least somewhat more RESTful... Use POST for changing stuff.
e5ace7e Updates
e74c4e4 Actually check for APU_HAVE_CRYPTO at configure time.  This fixes a compile error with apr 2 if crypto is disabled.
ec88a92 Expose "new" ap_parse_form_data() function instead of requiring mod_request for any module that may want to parse form data...
aac783b No longer depend on how fork() works when laying out segments... function pointers in shm are... nasty ;)
ce73ec0 spelling fix
0db0515 Fix link errors for crypt() with --no-add-needed/--no-copy-dt-needed-entries, which is the default for the gold linker.
da84e71 Rebuild transformations.
ec85276 I think I got the last of the "Allow from" and "Deny from" syntax, and replaced it with the new access control syntax.
1e2a219 Removes more instances of 'allow from' and 'deny from' syntax. I think that's the last of them.
5995814 Removes another instance of the "Allow from all" syntax.
2f6fe6f ap_main_state and ap_run_mode should be marked "extern"
1005216 Whitespace and small phrasing changes.
ba5023a Note of a good place to get content for overhauling the SSL howto document.
7e01509 I don't think we want to encourage people to use _default_. It's confusing, and hardly ever the right solution.
cc73883 Rebuild transformations.
a8b84e1 People come to the SSL docs primarily for advice on getting SSL working. Arrange the TOC accordingly, and remove condescending introductory quote and meaningless paragraph.
a833877 Note to self: Look through the docs for examples using Order, Deny, Allow, and convert them to the new Require syntax.
40a0a18 Rebuild quickreference file with typo fix.
dcbb9bf Fix XML error. Rebuild access howto.
04e7951 Typo correction as per tid50766
0f9de70 Remove another mention of allow, deny, and order, and add a warning about their use.
fca6a04 More transformation rebuilding.
89bbf12 Capitalization consistent with the rest of this page.
9a6d711 Rebuild html transformations.
c40612c Links to access control howto.
161b99c Expand the name of the "Binding" document, which seems frequently misunderstood or overlooked.
398e8db Rebuild html
2bd08ac Link to expr.html for more details on expression syntax.
fa39f70 Small improvements in phrasing of the access control doc.
c787a7f Rebulds transformation, adding simplified chinese translation documents.
fe35786 Adds simplified Chinese translation to httpd trunk docs. Via dongsheng@apache.org (see tid 50767)
9eacb1b Rebuild documents from xml, including new access control howto.
0543fa4 Updates the access control howto for trunk. Could use a lot more examples. The expression doc could use examples, too.
f3027cd Copies the access control howto from the 2.2 docs. However, it's going to need some work to be appropriate for trunk.
787c3ed This document exists in the 2.2 docs, but not here. Not sure why. Need to investigate.
11b2816 Don't skip the first character, as it may be a quote, which is handled by the walk below.
c329a28 typo in format string for 1070660
071085f Log a hint about the directory needing to be executable when we hit EACCESS searching for htaccess files.
d9aaafe fix compile failure in r1070616
063415f fix theoretical const issue in call to strchr()
a1960c1 Document pre_read_request and bump mmn
9175224 New hook: ap_run_pre_read_request()
ae4433b Mention ap_state_query() in the new API docs
d2b73e5 Fix two bugs introduced by r1070153
43fc2d4 mod_cache: When a request other than GET or HEAD arrives, we must invalidate existing cache entities as per RFC2616 13.10. PR 15868.
b591028 mod_cache: Make sure that the moving of the CACHE filter to another point within a subrequest is limited to affecting filters in that subrequest only.
385da96 Use ap_state_query() to fix many modules that were not correctly initializing if they were not active during server startup but got enabled later during a graceful restart (in which case they need to do all work during a single config run).
d6de9e9 Create new ap_state_query() function that allows modules to determine if the current configuration run is the initial one at server startup, and if the server is started for testing/config dumping only.
11a01ec mod_cache: When a bad Expires date is present, we need to behave as if the Expires is in the past, not as if the Expires is missing. PR 16521.
7f1d8f6 Log something nicer than "Internal error: pcfg_openfile() called with NULL filename" if no password file is configured
e0742ac * docs/manual/mod/: Play language lawyer with the SSL_*_DN_*_n variable   description.
bd9b56d mod_cache: We must ignore quoted-string values that appear in a Cache-Control header. PR 50199.
2e8f78e revert r1026746:
a35cce9 Reinstate comment.
dd0370c mod_cache: Respect s-maxage as described by RFC2616 14.9.3, which must take precedence if present. PR 35247.
91960c0 * Play safe if the notes table does not contain an SSL_connect_rv key.
fd6d4d2 * modules/ssl/ssl_engine_pphrase.c (ssl_pphrase_Handle): Fix possible   startup failure in cases where multiple vhosts share the same   "vhost-id" and private key file.  The cached-key case would   previously cause an abrupt return from the function, which could   prevent processing of configured keypairs for other vhosts.  There   is no apparent reason to check for a "cache hit" against cached keys   using *any* algorithm types; instead only check against a key with   the matching type.
d928f73 * modules/ssl/ssl_engine_pphrase.c (ssl_pphrase_Handle): Simplify to   calculate hash index only once per loop iteration; no (intended)   functional change.  Add comments and tweak a log message.
1f97575 * modules/ssl/ssl_private.h: Clarify comment on modssl_pk_server_t.
1d0800c move function...
cb8fc14 Updates.
f67eea9 Ugg... unbalanced workers *do* need a mutex as well (good catch Rüdiger!)
efc583f typo
03ab1d6 Squash error/warning about signed/unsigned comparison
820597e * Fix syntax errors and a non existing variable.
abd1692 * Make module compile by fixing some typos.
5f59927 RPM spec file: Make the httpd init script consistent with the htcacheclean init script. Multiple daemons can be started by creating symlinks to the init script.
84a5c9c Remove the thread mutex from the worker... it really should be in the balancer. Thus we have global and thread for the balancer. Use global when updating the full, shm list of workers; use thread when being local.
f863547 Expose this as part of the API. That way, other code/modules which want to overload mod_proxy's trans phase can use it to handle ProxyPass as well, without requiring monkeying with conf->aliases...
4cb4c74 * server/mpm/prefork/prefork.c (stop_listening, sig_term, restart):   Update mpm_state in the signal handlers such that it is correct in   children during a graceful stop/restart too.
c441d75 Rebuild transformations.
d8d3fc0 Custom, not Customer, error docs.
055bebe Only persist if we want it to
8935856 OK, use faster, shared version... makes sense to persist this info since it is aligned with the actual data itself.
68dcb0f Keep track of how many workers we've used so far... no need to provide field to add another if no slots exist.
dfacdb9 Save this for later to be done... recall that .free needs to exist in shm...
6897832 Slotmem now provides for the number of "free" slots available.
96af650 Mutex around adding a new worker...
aa6d4e9 test_char.h is a dependency, not a source. This seems to fix the occasional "No rule to make target `server/test_char.h'" errors when doing a parallel build.
2e8001b revert r1066944, r1067177 for now
1906ca4 Updates.
2752756 Lock around the time when we're mucking w/ balancers...
55b9f8f Here we go... we can now, via balancer-manager, add new workers to existing balancers. Still work to be done, like error checking that we aren't trying to add more than we can (right now, it fails, but it would be nice to handle it nicer), disabling and *deleting* workers we don't want anymore, the actual drain method, etc... but this is some major goodness.
85ac025 might as well allow for the sticky session to be adjusted as well...
b32f5a5 Oops.... we need to adjust sticky, which is an array now
ff3abc6 update convmap
b32eb3a And yet more balancer params that can be changed at runtime via the b-m application...
3b7deb6 Until this is fixed to link in lresolv, exclude.
9ae08fc Reload resolv.conf on graceful restarts
74d4b66 Optimize memory access pattern of ap_merge_per_dir_configs()
7665ada Raise DYNAMIC_MODULE_LIMIT to 256
42f76d8 No need to pollute the whole namespace...
841d28b Status update
ee5eda1 Optimize... create a struct to hold the worker status info (need to align w/ set_params later on) and note when we update timestamps
87e54e7 update transformations
57a654f Instead of just enabling/disabling, we can now adjust more useful worker status bits, such as whether hot stby, etc...
39bd2b1 DrBacchus sez fix-a-docs-bug PR 50396 Pedantry over description of qs-values.
40bd4b3 DrBacchus says Fix-a-docs-bug PR 50396 Historical reasons for using IP-based virtualhosting no longer deserve to be featured in our docs.
71b50ff tid 50632, specifying the default of proxy-interim-response
f2c6805 Again, abstract out the worker status magic to it's handled by funcs...
19a1fc4 bitfields should be unsigned
6c0a4fc Move the setting of flags into a func... that way there is one place to maintain as the number of flags grow...
3866ae8 We can now change lbmethod at runtime.
0084213 Forgot to encode accents in r1065768
30be715 Adding a french translation for expr.xml
d76fb1b Adding a link to the wikipedia page describing BNF.
f0e81c8 A new mode that is maintainer + O0 (for better gdb)
177e4e5 Move the lbmethod to also allow it to be adjusted runtime
7b07c38 tuck away code that lets us ensure that the id is always "unique"
12ae415 Move some "nice to be able to change" balancer stuff to shm
493c04a Setting missing LastChangedRevision to the latest "svn blame" revision I found. However the present [post] commit should override it...
baf1377 Updates.
5790ed1 Revert an old (~10yr) change to the fd Q; move back to FIFO rather than LIFO, for more consistent performance so that older requests don't suffer
edb7e79 Added mod_slotmem*.dsp files forgotten with commit r1063507.
00b0cb9 xforms
29fd7ca the comparison string has been decoded for rewriterule comparison.  PR50653
1fbdb12 point to where SERVER_NAME and SERVER_PORT get their values.  PR50655
ed79086 Added slotmem* modules to Win32 build.
4839408 Make worker the default MPM for 2.3/2.4
f67156b Update with latest info
1882214 break some very long lines, no code change
49d3707 update transforms
a2bdd5e fix typo
087fae5 mod_session_crypto is not supported by a released APR. Mark as experimental
a79ec4e adjust spelling mark mod_dialup as experimental
afca6b5 Mark some modules/directives non-experimental: - BufferedLogs and mod_substitute have been around a long time - mod_reqtimeout has stabilized as well
dc96073 Updates.
03051dc Rebuilding various recent changes.
b7b9bca Mkae gcc no longer silent when doing arith on void*...
47db013 arith on void* is not good
70901d8 Ignore leading dots when looking for mime extensions PR 50434
b12af2b Add more documentations for Define'd variables
6e108fd Make ap_pstr2_alnum accept const char dest
de9cd44 * Only unset if we have a table. This can happen if undefine occurs before define.
2fb1e99 Update docs for changed Define syntax
77ce7da Add support to set variables with the 'Define' directive. Change ap_resolve_env() to look for variables defined in this way. This allows to use the variables in the config using the ${VAR} syntax known from envvar interpolation
58f1762 Move ap_resolve_env to core.c, in preparation for adding mod_define-like variable support.
0122ad9 Rebuild transformations.
691dafb Weeding out some old references. Replacing w3.org/cgi with link to CGI RFC. Replacing hoohoo.ncsa.uiuc.edu with links to CGI RFC. This fixes PR#50622
4092815 Fix compile error
e943a5f Propagating r1060795 to the compiled doc
334ae2f Make it clear that '_' is a possible char and accepted
ceb1766 Add a patch from Vincent Deffontaines to make the adding of X-forwarded-* headers configurable: ProxyAddHeaders, defaulting to 'On'. http://www.mail-archive.com/dev@httpd.apache.org/msg49971.html
a713db0 Make the balancer shared memory slot more human readable. But we need to make it a "safe" filename, so create 2 funcs which do that.
7380ad1 update transforms
6e5b53f Briefly describe <If> sections and how they are merged.
10e4ecc Fix some warnings with Visual Studio reported by Gregg L. Smith
acc1dec xforms
89623d0 Revert "Updates."
209d890 Initialize the core_dir_config->sec_files and ->sec_if only if needed. This saves some memory and two apr_array_append()s per directory merge.
df4e164 remove some redundant NULL assignments
40f5690 Check for s->module_config before using it, as the faked server_rec from mod_cgid does not have it.
1a1c15a Align proxy_worker_shared in slotmem shm using default APR alignment.
5e981d9 mod_slotmem_shm is a predecessor of mod_proxy_balancer, not mod_proxy.
c0eeb49 Increase memory alignment for slotmem data in mod_slotmem_shm.
cafa2aa Fix segfault for loglevel >= trace2
271de81 * modules/ssl/ssl_engine_config.c, modules/ssl/ssl_private.h: Add   config hooks for OCSP response time skew, maximum age, timeout.
36a8e60 * modules/ssl/ssl_engine_io.c: Revamp output buffering: add a   "coalesce" filter which buffers the plaintext, and remove buffering   of the SSL records -- i.e. buffer before the SSL output filter,   rather than after it.  This aims to reduce the network overhead   imposed by the output of many small brigades (such as produced by   chunked HTTP response), which can now be transformed into a few   large TLS records rather than many small ones.
a38d3c9 Merge the <If> sections in a separate step ap_if_walk, after ap_location_walk.
90e46c5 Add server directory to INCLUDES.
c9ee594 Change file touching order for util_expr to be in sync with Makefile dependency.
d058fb6 Added mod_reflector to Win32 build.
dae33c3 Updates.
758824e REbuild transformations.
0cffae9 Specify the default settings, as requested in tid50417
dbab051 Rephrase comment about default ordering to clarify interaction between default ordering and client preferences. tid50417
723a15e Rebuild transformations.
6ae70ff Rebuild transformations.
121af61 Provide the IndexIgnore example that's in the httpd-autoindex config file in extras.
f533e29 Additional note about BLANKICON, as per tid50417
79c55fc As per tid50417, clarify that the icon URL can in fact be a fully-qualified remote URL.
eb8657d config: report error and exit cleanly if getaddrinfo fails at startup PR: 50592
2cbd2e5 * .gdbinit: Add dump_request_tree macro.
1b7f020 * docs/manual/mod/mod_rewrite.xml: Fix docs to match code; only   "discardpath" is accepted, not "discardpathinfo".
eb271f8 * modules/cache/mod_socache_shmcb.c: Comment tweak.
2e407da Added NetWare makefiles for slotmem modules.
a686fd5 Removed useless echo line.
4937cd2 Typo. Remove item that is done. Add new item. It never ends.
acfa13d Rebuild HTML.
8e2bb2e XML error.
b15efce Remove unnecessary <pre> tags in <example> blocks.
8cc01b7 Remove unncessary <pre> tags inside <example> blocks.
c7cd84f Remove unnecessary <pre> tags from <example> blocks.
9d62216 Rebuild HTML
9883cc1 Remove unnecessary use of <pre> in <example> blocks.
b861733 Rebuild HTML
3b34191 Adds the second virtual host to the example, so that we don't end up having to re-explain that part every time on IRC.
01e65af Rebuild transformations.
fd05d4e Provides an example of using expr in a RewriteCond for a commonly-requested recipe.
33055cd Remove NameVirtualHost, as it causes a startup warning.
5208ff9 * We can only get there if the line is too long and in this case   we should return the partial line as defined in util_filter.h.
4080f31 minor note... bunch of old, old stuff lives here
865bd25 Oops... I didn't see the test framework error here, but rpluem did. Thx!
283b511 Display number of members possible per balancer
0d3fd82 It's a change
ee3b22a Rebuild transformations.
5655789 Remove unnecessary <pre> formatting inside <example>s
ab5ae35 Remove unnecessary <pre> in <example> blocks.
a477121 Update docco xforms
a541e41 And check the nonce, taking care to ensure that the form actually specified a balancer.
31c4a9e Move nonce to balancer struct and add logic for nonce and growth. Adjust mmn and update doccos
aaf5d08 Just a note regarding these bitfields
68704e1 Set some defaults... do it here @ worker creation, not initialization
ddebc67 whitespace
fab3678 Builds and passes tests as prefork... good save state
9096c04 Adjust for conf->workers being *proxy_worker and balancer->workers being **proxy_worker
201bbd1 More movement to shared stuff...
daa5a5c OK... a good commit point (we don't quite compile yet though...)
5febbb2 Use branch now
76d9486 No, he's not in fact working on that.
0cfd4b9 Rebuild transformations and translations.
083b7c6 Tweaks to the language to make it sound less like this is a nifty new feature. Grammatical changes.
382ffa6 Updates to reflect current status of project.
3130840 generated file
df5e6d8 ttl: note that connections are closed at some unspecified point after reaching this limit
cd749c9 * Fix comment typo as noticed by jorton
774529e Save a useless check: ap_get_request_note() cannot fail unless there is a bug somewhere and if prep_walk_cache() returned NULL, we would just segfault later on.
9a9b570 mention when APLOG_USE_MODULE() and AP_DECLARE_MODULE() were added
241dca0 Use -Wdeclaration-after-statement in maintainer mode if we use a recent enough gcc.
afa7a67 revert...
9f45bf9 Update transformations.
dafa0d3 XML validation.
d514f0d xforms
5ad8698 avoid hostname in example multi-daemon Listen stmt
c847e41 typo
7dc89fc comment on where multiple headers with same name get merged
adb7fdd clarify that the displayed IP address may not be the public address, as suggested by wrowe
61a93f8 Rebuild HTML transformations.
b72b127 Display the local IP address in server-status. This can be useful for HTTPDs behind load balancers.
0235dbf warn about FAQ of trying to decrease thread stack size with ThreadStackSize on Linux.
04a7510 mod_status: Don't show slots which are disabled by MaxClients as open.
5ad5328 Fix ap_mpm_query results: AP_MPMQ_MAX_THREADS: Single threaded means one thread per child, not zero AP_MPMQ_MAX_DAEMONS: Max # daemons by config is determined by MaxClients, not                      ServerLimit
a26647d Don't log AuthMerging XXX as <RequireXXX>
4545ed5 Fix a bug in authz logic merging which caused         section->op == AUTHZ_LOGIC_AND         auth_result == AUTHZ_DENIED_NO_USER         child_result == AUTHZ_GRANTED to return AUTHZ_GRANTED instead of AUTHZ_DENIED_NO_USER.
85935ab Add rpluem's suggested warning against of loss of logging data on a crash.
bf83672 It's been 8 years, I think this directive can be considered not-experimental.
b711b51 whitespace
3edbe9d Use consistant naming and be sure to pad all shm size slots, due to char* and void* adjustments...
de3732c Rebuild Covener's changes from jan 5
de4c6ce Rebuild transformations
cd68cec Mention third-party distributions, and provide a link to the wiki page listing common layouts of these 3p distros.
b628c7f * Be ANSI C compatible
7b16396 clarify RewriteBase as action for closed PR50546
fad9208 Add some weasel language, and a warning about Windows + TransmitFile, to the SendBufferSize doc.
87171b7 typoes caught by noodl
ccb28b8 xforms
7f6e274 PR#44838: be more up front with how the per-dir RewriteRule comparison is the filesystem path minus the Directory the rules were listed in.
8c53332 Rebuild HTML. Resolves tid50545
148c678 Clarify that either both, or neither, arguments should have a slash.
62740bf fix comment
b65d514 update comment
8831c0f Fix typo from r1055506, update transforms.
03b6869 provide links back to ap_expr-aware directives/modules
29da46e Add examples using <If>.
31ec3c4 Change AuthnCacheProvider --> AuthnCacheProvideFor to deal with overloading of "provider" and likely confusion with AuthnCacheSOCache.
2c80d67 Typo fix
9e215e4 Make sure we clone the table rather than copy it, to ensure that no keys or values allocated from r->pool end up referenced in the backend request.
40a2f60 Update the comment to indicate what the backend request is really used for.
e0cf3c9 mod_proxy_http: Allocate the fake backend request from a child pool of the backend connection, instead of misusing the pool of the frontend request. Fixes a thread safety issue where buckets set aside in the backend connection leak into other threads, and then disappear when the frontend request is cleaned up, in turn causing corrupted buckets to make other threads spin.
b7e70e2 mod_proxy_http: Ensure that when the backend is closed, the final call to ap_proxy_http_cleanup() is suppressed, so that the backend is not cleaned twice. Fixes a further thread safety issue.
ddf1a42 Update copyright year.
931cdd5 Update copyright to 2011
250575a update transformation
ba34a2f update translation
381f6c6 Update transforms
86a2e13 Fix EBCDIC related cut'n'paste error
47bd8fc Added another useful NetWare start script.
8753d7e Added shebang check so that .vbs scripts can work as CGI.
3d73868 Fixed NetWare NCF script; for now removed ap2prod.ncf.
7403827 Change the format of the SSL_{CLIENT,SERVER}_{I,S}_DN variables to be RFC 2253 compatible, convert non-ASCII characters to UTF8, and escape other special characters with backslashes. The old format can still be used with the LegacyDNStringFormat argument to SSLOptions.
01755ff update transformation
0553fc6 more markup
92efba4 wording, markup
467f7e9 fix short description for usecanonicalphysicalport directive
7650e1e update transformation
fd55518 even better markup
944d5f5 update transformation
522a24e markup refinements
28c4944 update translation
b196fbc Remove obsolete and redundant log message in env auth provider
4275788 Change another variable that could be confused for conn_rec.
4a8f0cd Fix a spin should we encounter a corrupt bucket from the proxy.
cd52e0e eliminate another var named 'c' which is not a conn_rec
d489f13 Add mod_rewrite's SCRIPT_USER/SCRIPT_GROUP vars to ap_expr
6c6979e Make the REQUEST_SCHEME variable available to scripts and mod_rewrite
0ec9bd6 Add -T operator to allow easy evaluation of on/off, 1/0, ... variables
3d75620 * Silence compiler warning
abcc9f0 * Silence compiler warning about possibly uninitialized use
9975402 update transforms
95216d3 Allow to use arbitrary boolean expressions (ap_expr) in RewriteCond.
6c6d387 in struct backrefinfo: remove nsub member which is never read, make source member const
7f61065 Allow to unset environment variables using E=!VAR.
d5024cd In comments: s@ XX @ XXX: @ so they can actually be found seen.
60bad7a Typos.
404e8b8 update transformations
033d967 Fix grammar.
15c4eb2 Updates.
2eb8e09 * Fix r1039304 and make the patch similar to the one proposed for   2.2.x: If the SSL handshake to the backend fails we cannot even   sent an HTTP request. So the check needs to happen already when   we sent data not when we receive data.
e79c793 xforms
5af1334 mention my flip-flop on "Header always" to not add additional confusion to someone treading in this area, and plan to remove after GA.
ca0e91b PR50525: Header always ... doesn't really mean "always" in terms of what you can edit/merge/append/set since it only looks at r->err_headers_out and the initial value may have lived in r->headers_out.
7a76afb revert r1031670:
148af21 add a 2.3.9-era CHANGES entry that should have been noted for mod_headers defaults.
8bb29a8 update transformation
6e02a6d update translation
e38a323 update transformation
942f755 Remove some stuff that's already been done.
47fde5a Applying patch from PR 33078 (with slight changes to its return values) This patch disallows the mixing of relative (+/-) and absolute Options where insensible.
8ef0eb9 Log a trace message if we drop a header with an invalid name
2ae41fa Move duplicated code into utility functions
5071e1a Correct typo in CHANGES, as per tid50321
e5ab018 update transforms
afea2a1 When exporting request headers to HTTP_* environment variables, drop variables whose names contain invalid characters. Describe in the docs how to restore the old behaviour.
1c07bd2 readability improvements: rename w -> user, x -> prefix break some very long lines
2e0a2e3 Rename some variables for better readability: p -> alias (not a pool) r -> real  (not a request_rec) f -> fake
53e4a90 prefer exact port matches in ip-based VH lookup over wildcards.
ef81d4b Doc for r1053230, NameVirtualHost is now unnecessary and other general NVH-vs-VH improvements.
458ab7f Remove need for NameVirtualHost directive by implicitly configuring any duplicated VH addresses as name-based virtual hosts.  This also combines _default_ and * into a single type of wildcard since these presented a false dichotomy between address specs.
0af173a update transformation
1cd677e update translation
a3b7046 update transformation
6ab2c7f Update translation, bit by bit.
544fd05 provide a mod_substitute example that uses backreferences for matching as well as for substitution.
c99b708 update transformation
6fe5513 update translation
66761ab Rebuild transformations.
5e13d63 Remove unnecessary trailing / on <Directory /home> example. tid50421
073b0dc Typo and grammatical corrections for French error docs provided by Xavier Robin. tid50517
023e727 Removed define obsolete since r93260.
ac9d9d9 Update.
d136444 Rebuild transformations.
21e0a16 Changing the default Options from All to FollowSymlinks.
cbe247d * The concept of the cleaned flag is flawed: Once we returned the connection   to the pool we cannot longer rely on it as another thread could have leased   the connection in the meantime and might have modified it.   BUT: We only use this flag once we returned the connection to the pool.   So signal that we returned the connection to the pool by something that is   local to the thread, in this case set backend to NULL if we already have   returende the connection.
23bc3de * Do not fiddle around with the close field if we might have returned the   connection to the pool already. It might be already in use again by another   thread.
d37c924 The alias_set variable is set when a parent location contains a ProxyPass, so this check catches valid ProxyPasses. Remove the check.
e0c3e0b note release
74030fa rotatelogs: Add -e option to write logs through to stdout for optional further processing.
98a2ee3 * Do not drop contents of incomplete lines, but safe them for the next   round of reading.
35419d4 Text, please
956c10f Text, please
0874ec0 Update.
4766a90 Fix typos, update transforms
00366b7 add some links
734e24b a bit more documentation for ap_expr's variables
7f5c0d7 Add dependency generation for shared objects
fac3b0c update transformation
12ef485 add security warning about the new AuthzSendForbiddenOnFailure directive.
378eeb7 update transforms
e4603be Add new AuthzSendForbiddenOnFailure directive to allow sending '403 FORBIDDEN' instead of '401 UNAUTHORIZED' if authorization fails for an authenticated user
cb79d1b new localized message
d32e233 ./build.sh all
afa84eb Nobody cares about 1.2 or 1.3 compatibility.
4a268b5 Update.
e3dffb6 Removed remaining reference to CORE_PRIVATE.
589e3c1 Remove some obsolete files from obsolete and incomplete list.
befd3a1 The expression parser has moved. Move the touch rules in the Netware Makefiles too. Hope this works.
46e97b7 Removes the ":80" from the sole ServerName example of the documentation, as it is a dumb "default".
6aaf943 fix compatibility info for ChrootDir
4638eaa And roll on 2.3.11...
6bcc599 Get ready to tag 2.3.10-alpha
adc749d Update with blocker notes and indicate that 2.3.10 was never released
26350ba update transformation
a124fba remove wrong not-translated-yet section
f0baf46 update transformation
42d9341 update translations
ffc2289 update transformation
95f5cd8 Updates.
255170f fix copy/paste error
1ca3c88 update transformation
99c1dac drop now-autogenerated sections
2d92c4f fix properties file
1ca6329 update transformation
d247a86 the grammar police was here.
d66e871 translate message
e4d5a12 update transformation
9eaf196 use localized not-translated-yet message
d07c195 ./build.sh all
21a4fb6 The local uri part is *always* the whole Request_URI. Including the leading /. Otherwise we end up with a 500, for infinite recursion.
d606a76 Updates.
23f8375 doxygen improvements
adca7b4 indentation + coding style fixes
fce013d PR 50447: mod_rewrite escapes the original [escaped] query string even when you haven't modified it.
fc8954d update transformation
f3ac1d3 remove those files and enter the html transformations as orphans until it's cleaned up by the french translators
540da85 add sanity check
97312fe update metafiles
5fc76f9 add untranslated directives to the output
ca1e671 update transformation
a4e56bb The FAQ is over *there*
fa8e162 The FAQ isn't here any more.
0a218f6 The FAQ isn't here any more.
f2f2ebf Rebuild transformations.
bd8d013 Suggestion from André Malo -- use a nested section instead of putting in an arbitrary anchor.
e6e3f47 update transformation
187a766 validate-xml fix
4e9acf6 Typo correction, sent by Eduardo Tompson Pereira.
227e86d Adds Portuguese translation to error documents, from Pedro Freire. tid41433
ebeee49 Remove superfluous line from error document.
d019168 Removing unnecessary line from error doc.
a2dbfab tid43269 Improvements to the Spanish translation of the TIME OUT error doc. Alejandro Lay
3a1ea15 tid43268 Improve Spanish translation of error document. Alejandro Lay
02baacc Improve spanish translation of error doc. Alejandro Lay. tid43267
87e3dfe Improve Spanish translation of UNAUTHORIZED doc. Alejandro Lay. tid43266
79e5e2b tid 43265 - Improve Spanish translation of error document. Alejandro Lay.
313ecd4 tid43264 - Improve Spanish translation of error document. From Alenjandro Lay.
ce6e4de Fix some doxygen warnings
bb0539d use <directive> instead of <code>
70fb157 Move the description of how a name-based vhost is picked to the top instead of burying it.  Reword some other "default vhost" references.
201bd84 Improve Spanish translation of error document. tid43263
40440c6 Improve Spanish translation of NOT_IMPLEMENTED error doc. From Alejandro Lay. tid43262
d9ac629 Improve spanish translation of HTTP_NOT_FOUND error - from Alejandro Lay - tid43261
c4a60c3 update transformation
c98505d fix file encoding
6c15fb0 generated files
2ce0fcf follow up r1042758 and r1043011 with more fixes to use proper example domains
caa201c Improve "method not allowed" spanish translation - from Alejandro Lay - tid43259
650c18c tid43258 - Improvements to Spanish translation of HTTP Length Required document, from Alejandro Jay
dbff428 tid43254 - Update to Bad Request error document spanish translation - Alejandro Jay
9986b96 Improve Spanish translation of HTTP Internal Server Error document, from Alejandro Jay. Tid43257
3a51192 Improve Spanish translation of HTTP_GONE error document, from Alejandro Jay. tid43256
f6574d4 Improve Spanish translation of the HTTP FORBIDDEN error page, from Alejandro Jay. tid43255
676cc45 PR50349: Honor 'AcceptPathInfo OFF' during internal redirects, such as per-directory mod_rewrite substitutions.   This would be left floating around in the request_rec with a pcalloc'ed value, so the core fixup hook thought some module had overridden it.
7d1829a Improve spanish translation of Bad Gateway error from Alejandro Jay. tid43253
f7686a0 Improve Spanish translation - Alejandro Jay - tid43252
00a817c Improve Spanish translation - tid43270 - Alejandro Jay
1bcd9c0 Rebuild transformations.
d609f2b Use example domains, rather than real ones. Replace use of TransferLog with recommended CustomLog directive.
bcecb74 Use the developer docs on ASF hardware, instead of rcbowen.com
3e0842b Rebuild transformations.
13038e4 use example.com instead of other non-standard examples
86b9d9a update transformation
9b1275e revert the last revisions up to r1041050
62634c4 fix xml validity
164ef66 update translation
f46b6a4 add danish language
a042134 update translation
02d4706 another low-hanging-fruit. very.
f2a3617 low-hanging fruit
355a8ac update transformation
f6c6e61 add danish index.xml file
73d88fe Add danish language.
32b0fef update transformation
5609a38 Mise à jour.
47280b5 PR 39313: allow the user to configure which rules come first when RewriteRules are merged with RewriteOptions Inherit.
65e9ddf add compatability to IndexIgnoreReset
86ac699 update map
d0ce3fb update transformation
08309db PR#24243: allow some control over how IndexIgnore'd files are merged.
49bd9d3 Per the existing comment and setrlimit() behavior --  only prevent attempts to raise the hard limit, not to lower it, by nonroot users.
8f05af0 Add support for RLimit* in mod_cgid.  PR 42135.
81ba030 simplify ServerName check with apr_fnmatch_test()
6cea387 Remove useless 'const' to fix compiler warning
b93e493 Rename ap_expr's typedef names: ap_expr            ->  ap_expr_t ap_expr_parse_ctx  ->  ap_expr_parse_ctx_t ap_expr_eval_ctx   ->  ap_expr_eval_ctx_t ap_expr_lookup_fn  ->  ap_expr_lookup_fn_t ap_expr_node_op    ->  ap_expr_node_op_e
f5d3a4c core: Fail startup when the argument to ServerName looks like a glob or a regular expression instead of a hostname (*?[]).  PR 39863
232506d re-fix wording
561d44d clarify about "enable/disable".
b7902f6 add a note about merging
8270929 PR44076: allow "userdir disabled" or "userdir public_html" in global scope to be merged with lists of enabled users in virtual host context as one would expect.
bbbe953 generated files
9776cbc clearly distinguish between independent UNC path examples to prevent user confusion
2d11424 generated html
71b0e5b describe UNC paths vs mapped drive letters
e614b24 Reverted r1040177 due to Joe's objection.
4ec8b58 ./build.sh all
464cc03 mention FallbackResource in URL mapping
2be640e Translations by Iñigo Medina.
535e8a0 Escape characters. (Translator: Inigo Medina)
8ce1097 I don't think that's supposed to be there.
77f3c15 rebuild various files.
8a8b57b Spanish translations by inigo medina. Reviewed by Daniel Lopez
db6af62 Update core.xml.es to latest core.xml changes.
ba0fc79 ./build.sh all
ae42dd0 Removing compatibily note.
8e80bc4 Updates.
efa98ce Fix warning about comparing signed/unsigned
9da83e2 Updates.
8c61b30 fixing braino in r1041047, this should now fix pr#50381
0bbf5d0 Fixing a typo, closing PR#50381 and PR#50354 (again).
6c70256 Rebuild igalic's changes.
dfe435c Purging 1.3 references.
85535fd Remove refefence to 1.2. rebuild HTML.
5af8254 Remove reference to Apache 1.2. Most of our users have never used 1.2, and those that have know better.
a321222 pr#50371 whoops, missed something.
fce2218 pr#50371 no more pcre
b66112f Minor fixes in spelling/grammar/xml/versions
763dbb4 PR#50355
340a17a PR#50354
513a7c8 Adding the translated core.xml (spanish) to svn. Not adding the built html file yet, as this hasn't been reviewed yet. Translated by iñigo media, imedina at grosshat.com
be0cd65 Correct constness fix to manipulate our copy
c03ff50 PR50375: <Location> has bad example in sections.xml and never actually explains what's matched in core.xml.
09aef04 Rebuild various new doc enhancements.
922ce76 Some more casts to make MSVC calm ...
dd6a2cc PR50388: the hijacking domain needs to be first if you're going to cause a collision on the interface.
c163534 Fixed return type to silent compiler warning.
993c983 PR50382:  explain in mod_env documentation that these environment variables aren't just for CGI and SSI.
0ccdda0 Valid XML in "not yet translated" paragraphs.
02ed68b Rebuild various other recent tweaks in various languages.
3a7cf06 Rebuild directive lists, missing directives mod_speling, Korean.
08eae2d Missing directives, mod_speling Korean translation.
687a0e5 Missing directives in various translations of the mod_setenvif documentation.
6f1cd32 PR50376 clarify that <Directory> applies to the files under the Directory, not just the directories themselves.
8ac6f8e Stop warning, init should be an int.
7c4294b Use correct type, need OPENSSL_STRING for >= 1.0 which doesn't exist on 0.9.8 so #define sk_OPENSSL_STRING_pop to  sk_pop on 0.9.8
fe04f0b Removed unused var.
dbf4a86 Fixed some win32 types.
0ec3771 Supress compiler warning.
3d453b5 Rebuild change to xml.
d1720d9 Add a couple reminders for myself regarding translations.
1e19322 Move this into the build tree.
d185fd5 PR50350: When no -k option is provided on the httpd command line, the server was starting without checking for an existing pidfile.
c43460c Fix description of "note"
55cfc5c update xforms
fc7b453 update flex/bison autogenerated code
e27a3c2 - add -ipmatch, -str(c)match, -fnmatch, -R operators to ap_expr - allow lookup function to pre-parse string constant arguments   (used for subnet masks so far) - various bug fixes for binary operators - do strdup() for error messages created on the stack to avoid corruption
40a7329 Fix SetEnvIfExpr to work with expressions that do not set the regexp reference data. Add some trace logging.
7ec578b Fix segfault on parse error
3893e7f Update.
d9bf68d Build docs written by igalic
81e8af8 Updates.
2d9adc7 Starting with German translations: core/Define. German is hard.
3bc4281 Minor tweaks on the references
6adb56e Missing directives to Japanese translation of mod_proxy docs.
fa8711e Add TODO item to STATUS.
f6869da Rebuild transformations.
044ca60 Add missing directive to Korean translation of mod_log_config documentation.
d8195cb Rebuild changes.
de3ee0b Add missing directive to french translation of mod_ldap. Remove directive mistakenly added in previous revision.
44848e5 Adds missing directives to French translation of mod_ldap docs.
5fd1a4f Adds missing directives to French translation of mod_ldap docs.
72d15ec Adds a bunch of missing directives to core doc in German translation.
a89330c Get the output of -x (the xml containing the missing directives) all as one lump, rather than one directive at a time.
13108ab Bugfix: If there's only one valid context, this is a scalar, not an arrayref.
e3b5a66 Missing directive in mod_dir korean translation.
bae165c Missing mod_dir directive, ja and tr translations.
825f822 Turkish
4e46e4b missing directives from korean translation
1bb6904 improve hack to not break if a fixed version of flex is used
6166d5b Remove some unused functions for which flex forgets to add prototypes, leading to compiler warnings.
c409988 Fix another Windows build issue: Add a wrapper around ap_run_expr_lookup with the correct calling convention.
c954d61 Add missing directives to Japanese translation of mod_cache documentation.
9ae9f26 Add Korean to language listing.
7a52f16 Missing directives now in quickreference, directives listing.
f1b23ed Add missing directives to ko translation.
4c1bbdf Add missing directives to ko, ja translations.
6edeffc Adds missing IndexHeadInsert directive to Korean documentation.
0516ab2 Adds -x option to generate skeleton doc to paste into XML. Possibly alert someone that a translation is needed, and get more folks involved in the translation effort.
4146a32 Adds some languages, and the -l flag to only look at a particular language.
e913fa0 Script to evaluate translations and tell us useful things like what directives are missing.
5daa6b7 * Put a note in the connection notes that the SSL handshake to the backend   failed such that mod_proxy can put the worker in error state.
c8f912e Further trivial updates mod_disk_cache -> mod_cache_disk. No functional change.
f6816b7 Fix Windows build of mod_cache_disk which was broken after renaming the module.
9617c05 ./build.sh all
273b0fd Clarifying sub-URI behaviour of FallbackResource
3264064 Another Windows build fix
cf0e2c3 Fix some Windows build issues
3269a8b STATUS update.
2c20799 Changed english revision for consistency, precedent commit should not have been sent together for .en and .fr files.
3eda6cd suExec not allowing scripts to run as root is permanent, removing "Presently". Porting this to the .fr doc.
cabf028 Roll on .10
eb169b4 Get ready for tagging
2db7440 Fixed compile-time error message.
f017a59 update transformation
3874a4c Add a thing to do.
80f4e9c Updates.
b08d03d Fixed eol prop.
a4454cb Fix for picky compilers.
b664968 More ap_expr updates: - minor bump for ap_expr_exec_re() introduced in r1037504 - actually commit the changes to allow using backreferences in SetEnvIfExpr - automatically add the correct entries to the Vary-header if the result of   an expression evaluation depends on a request header   (can be turned off by setting the AP_EXPR_FLAGS_DONT_VARY flag) - set AP_EXPR_FLAGS_DONT_VARY in mod_log_config's conditional logging - fix various off-by-one errors in req_table_func
7e4add1 ap_expr related fixes and enhancements
6377694 Updates.
6ef1911 ap_expr related fixes/enhancements: - implement regex backreferences and make them available for setting   envvars in SetEnvIfExpr - implement nested function calls in %-syntax: %{func1:%{func2:arg}} - actually implement evaluation of concatenation operator (oops...) - Fix <If ... > treating an internal error as success
5976d44 Fix extra word
f0791ef Fixed NetWare build.
21965da Crosslinking mod_ssl.html and expr.html
eb6d3bc ./build.sh all
2faa163 Adding SetEnvIfExpr documentation, and more references to expr.html
e4f319f More fixes on Pr#50307
676435d Update transformations.
476bd51 mod_include: Add the onerror attribute to the include element, allowing an URL to be specified to include on error.
c6230cc Update status of ap_expr and Limit
b4db6dd Don't compile expr_dump_tree() by default
53d0129 Check input lenght to avoid potential overflows
78c1fad Updates.
c92832d Updates.
326483b Rename disk_cache to cache_disk within logging statements.
2f74bae Rename mod_disk_cache to mod_cache_disk within the documentation.
e0f84b1 Updated the .fr ssl howto so it matches r1035435 changes
2551c92 balise mal fermée
27637bf mod_disk_cache renamed to mod_cache_disk, to be consistent with the naming of other modules.
fdfad31 A first attempt at PR#50307 Trying to get rid of old- or un-facts. ./build.sh all
aa5d926 detab
c40fa87 Log errors/infos during expression evaluation and associate the message with the module that is calling ap_expr_exec()
44963dc Add SetEnvIfExpr directive to set env var depending on expression.
c703098 Fix a spelling mistake.
8cad24e Fix a spelling mistake.
7052a5d Fix a spelling mistake.
7b1a692 Fix 'comparison of unsigned expression < 0 is always false' warning. (There was no actual problem as id is never set to a negative value.)
91cfd21 Fix 'comparison is always false due to limited range of data type'. One-bit flags should really be unsigned
39db8e5 mod_proxy: Fix ProxyPassInterpolateEnv directive.
9e13f91 ./build.sh all
ab37fe8 Content-Length is set by mod_asis.
662633e When the proxy closes the backend connection early, force a setaside on any buckets still outstanding to ensure they've been copied out of the backend connection's pool and it is safe to release the backend connection.
807be6d Revert r1035504, this was the wrong way to do it.
3843774 Fix pool lifetime issues when the proxy backend connection is terminated early by forcing a setaside on transient buckets placed in the brigade by mod_ssl. This has the effect of extending the lifetime of buckets until the end of the request. This is a variation on the original fix for this problem, which added transient buckets to be setaside later in the process.
ec5ecdb Adds indentation. Cosmetic change only.
7962cd9 Missing newline
c288060 Updates.
ba47965 Return 400 not 503 if we have to abort due to malformed chunked encoding.
3bad5b1 Fix mod_proxy to support setting source address. PR 29404 Seems lots of users want this, and a couple of them have recenly asked nicely
f8ebfcd Updates.
0bc47ae fix MPM typo
958d7a4 Remove workaround that was only necessary when htcacheclean included httpd.h
2d5f585 update.
ba6999c More splitting as suggested by minfrin.
664481b Update.
bb72721 Updates.
c86bf43 Splitted off cache defines/structs used by htcacheclean.
9db402d Rebuild.
c9152a1 Add ProxyPassReverse to the examples in the mod_proxy_balancer docs.
f1527a3 When restarting, reset ap_server_config_defines to what was set on the command line. This makes the result more predictable for the user and resolves some string lifetime issues in the implementation of set_define/unset_define.
aafd50d Supress generation of unused yy_top_state function, to avoid a compiler warning. Regenerate the scanner code with flex.
0138554 generated xml transformations
d4d90bd suEXEC: Add Suexec directive to disable suEXEC without renaming the binary (Suexec Off), or force startup failure if suEXEC is required but not supported (Suexec On).  Change SuexecUserGroup to fail startup instead of just printing a warning if suEXEC is disabled.
3806456 * Fix parameter name as new is a reserved word in C++ which makes compiling   of http_config.h with C++ impossible.
c1eb6aa Fixed eol props.
86508e6 support error log id as variables
60d6e32 Add support for conditional logging depending on an expression. The syntax is a bit unwieldy, the quotes have to start before the 'expr=':
3037f41 use temp_pool for some temporary regexps
40bcf87 Update transforms
e62f32e Remove out-of-date details about which modules are enabled by default from the documentation, in favor of suggesting getting the up-to-date information by running ./configure -h.
d1c1f8b Rebuild docs changes.
7d4c809 Rebuild SSL FAQ.
de95fb8 Fixes PR47236  - Using : or @ in a URL already means something else, and so shouldn't be inserted into a URL for other special meaning.
48f2090 follow up to r1031659: fix a remaining reference to the old non-zero default for MaxConnectionsPerChild for most MPMs
15cc720 update transformation
bbf479b Note that CRL-querying browsers can have problems with low header timeouts. Add another expamle config.
24b82fb Thanks, everyone, for your work at ApacheCon. 54 documentation bugzilla tickets closed. That's awesome.
c6a1e99 Rebuild various files affected by the changes last week.
562d7b0 generated changes
66e4cc4 Add Error directive for aborting startup or htaccess processing with a specified error message.
3aecbb0 mod_rewrite: Fix the RewriteEngine directive to work within a location. Previously, once RewriteEngine was switched on globally, it was impossible to switch off.
24c0db6 Update transformations
b6aec76 Support %{HANDLER} in ap_expr (required for mod_filter) Update mod_filter docs
6056703 Implement "reqenv", "note", "-z", "-n" in ap_expr. Make "env" ssl_expr compatible
bbf8854 generated files
381ba31 rewrite introductory section which lists the various modules required for proxy
29d566d Port "file" function from ssl_expr
a1a3d38 mark connection for close after the return from ap_proxy_determine_connection()
025b065 Update.
909c515 Updates.
f0fb1e6 log how long worker will be disabled
c0d5e16 improve wording of some function descriptions
dbd0f3d Tweak some doxygen comments to get these functions to show up in the right places in the generated doc.
9a32688 Start some docs for the ap_expr parser. Still needs a lot of work but may be usefult for testers.
c7d76f1 axe outdated comment about FIXMEs/CHECKMEs
94c5270 More fixes for picky compilers
2c8ec34 avoid duplicate end-of-stdin header
bed4477 Implement "HTTPS" and "IPV6" vars in ap_expr
e32977e Another ooops: properly return APR_SUCCESS
0d6be91 Ooops. Forgot the minor bump for r1032167
286c862 Add a generic pool cleanup function that sets a pointer to NULL and use it to replace various pool cleanup functions.
50efd54 Netware build fixes
1f74173 add support for trace loglevels in mod_lua
35cdba6 Replace ap_expr with a parser derived from mod_ssl's parser. Make mod_ssl use the new parser. Rework ap_expr's public interface and provide hooks for modules to add variables and functions.
11185f3 Put the expression parser back into mod_include This reverts r642559 and r642978
3d27809 update transformation
26d9243 Fix hook sorting for the pre_config hook. Move modules/http/config2.m4 back to modules/http/config.m4, since this was only done as work-around in r88887 for the broken hook-sorting.
a280069 a pointer optim.
efb8c83 correction to r1031776, retain OR_UNSET with default AllowOverride None
433c97d PR49823: Make the hardcoded default for AllowOverride match the default config -- None.
6507461 PR47765: leave a hint about ProxyPass and ProxyPassReverse not working in Directory and Files sections.
b73db43 PR47765: ProxyPass and ProxyPassReverse should not be accepted in Directory or Files sections.
4a7e62c PR#48720: SSLProxyVerify is not per-directory, only per-server.
facc798 PR#40047: explain that AJP_* variables can be used to send atrributes to the backend, like JkEnvVar.
a2faa77 minor typo
c145eb7 Change the default of the Header directive to apply to responses of all types instead of just 2xx successful responses.
5398ce8 rename the mod_headers variables used to track onsuccess vs. always for clarity
aed3a05 PR47782: On trunk, the default conf and the hard-coded default are zero for MaxConnectionsPerChild
b0c950b PR#47782: compiled-in default for MaxConnectionsPerChild is 10,000 vs the recommendations in the default conf and the manual.
55f14c0 fix typo pointed out by poirier offline.
2223171 gratuitous style change
91ab958 repeat apr_poll() while EINTR
eb1c8fa link to the RFC for the list of CGI environment variables
2d08a6a PR#49152: newsgroup is dead and 'hoohoo.ncsa.uiuc.edu' is gone.  Suggest users search the web or visit the RFC.
f5c6d49 PR#29538: ErrorLog syslog facility can't be changed per-virtualhost.
9f59f39 PR#44758: document LimitRequestBody vs. proxy
b76f1b5 PR50220: keep on chugging after EINTR in mod_proxy_connect
025ffd8 PR#47766 mod_autoindex directives not merged into sections with no autoindex directives.
f19df08 PR#47348: missing "response" the ProxyBadHeader description, and drive home with  ...from the origin server.
7d1c313 PR#48474: wrong directive name in mod_proxy_scgi example
73f46d2 typo
0b65876 PR#46582 document that modules can implement internal map functions
e3c126a PR#40831: empty-valued keys behave like missing keys in a RewriteMap lookup.
476c2bc Look for a deeper clue into the existance of srclib/apr[-2.0], where we won't have apr-util in that tree.
7ce2d7a PR#49460: balancer example sets a large loadfactor on the "weak" server.
5b1c13d Correct the instructions for stopping an Apache server running in a Windows console.  Reported by jhannwong. PR47325
966c3f2 PR#48865: maxattempts=1 in balancer doc is wrong.
749058d PR#45722: if we get EACCESS in the directory walk, give the hint that's in 1.3 about search permissions on intermediate directories.  I left the prefix of the message as "denied" instead of "failed" to satisfy web searches.
952e5bd Document the default value of mod_autoindex's CharSet option on various platforms.  Reported by Toralf Forster.  PR49675
01ea19a Revert r1031167
8818730 Look for a deeper clue into the existance of srclib/apr[-2.0], where we won't have apr-util in that tree.
6f58211 Add some more cross-references related to the protocol argument for Listen and AcceptFilter, as suggested by Otmar Lendl.  PR45286
a9407a5 Clarify that the "www.example.com" is in the ServerName directive in the first example.  Reported by Charles Merriam.  PR49611
df8aa2f Note that people should not spend time on the ap_expr documentation, yet. I hope I will post something reviewable to the dev-list in the next few days.
f87cdf7 PR46916
40cbd6f Look for a deeper clue into the existance of srclib/apr[-2.0], where we won't have apr-util in that tree.
0a3409e The discussion of conditional logging is much better than I remember it being.
9870cb2 Mention the %200{var}i syntax in the conditional logging doc.
586c788 Note that the new expression language for <If> and Require expr needs documentatio.
d98fa47 Documents undocumented directive. PR42912
beab0a7 Explain that Options [+-]?Multiviews doesn't make any sense anywhere outside <Directory>
579b6d0 Mention the "Windows ^N end-of-line character" problem
ecf6f8a There's already a seealso link for Options. Added 'ExecCGI' explicitly to that link for clarity.
1f6696f Change mentions of 'Deny from' and 'Allow from' to new Require syntax.
9d918da PR#50174: don't offer 120ms as a "typical" TCP keepalive frequency.  Initial keepalive timers can be as high as 2 hours (windows/linux/solars defaults via google).
2a3b676 Be more forceful in talking about where SSLEngine On should go.
03d6bcb Error messages like "theoretically shouldn't happen" are incredibly unhelpful, particularly when they do happen with some regularity.
544b18a PR45017: document obscure GprofDir directive
cec5fed2 Note that RewriteOptions inherit causes parent rules to be applied AFTER child scope rules. PR46399
cbb3b49 Removing intro, which doesn't make sense.
6bbb926 ./build.sh all - fixed htaccess validation error.
45c1a40 PR#47935 some people think s/except/unless makes this somewhat contrived RewriteCond example clearer.
7c694d9 Removing history, because nobody cares.
353e6ad Adds an example of how to set up SSL to the SSL howto. Seems like an obvious omission.
ed06b06 More whitespace
9bef107 Whitespace commit
57f926c Removed the stuff that is ancient and embarrassing. Hopefully I didn't miss anything.
ca6caf5 Oh, look, someone beat me to the FAQ.
c81adad Fix a pool lifetime issue: Make sure we clean up our brigade before we hand the backend connection back to the connection pool.
2d9338d Followup to r1026665: reset "cleaned" flag in ap_proxy_acquire_connection().
cd474b5 Patch from jean-frederic - Port 8009 implies ajp://
34cb531 cleaning up / replacing ap_expr should be a blocker for a beta
7f7bc85 Rebuild .ja transformation for updated to example.
6465bf1 Missing linebreak in example.
e0d16cc Note for future dev....
8b659b4 mod_cache: correctly parse quoted strings in cache headers. PR 50199
4ec30b6 While I expect Bill Stoddard would be willing, he's not particularly involved any more.
9b021d7 Rebuilds various transformations
9a795f9 While "largely rubbish" was a bit of an overstatement, this is done now.
d5db011 Remove 1998-era stuff that's not true any more.
977be34 Rebuild rotatelogs man page.
b79ec57 Ok, did that.
05843bb Are the per-module links to 2.2 correct?
8743f96 timeline
4080927 Porting previous commit on 2.2 doc, with a not about why .htaccess is bad when you have access to main server config.
4485859 Remove mis-placed period.
cdbc0f2 Warning in configure -h that mod_dumpio was only for developers and testing was erroneous.
5b07a2b Fix awkward sentence reported by Gary Schnabl. PR47390
a59eff8 Warn that not only does mod_disk_cache require mod_cache, but mod_cache has to be loaded first.  Reported by Eric Covener. PR43976
4c47700 Add to modules' help text (displayed by ./configure -h) more information that will be useful in deciding whether to enable them or not.
3a166e5 Fix regex in AliasMatch example.  Thanks to Felix Schaefer for report and fix.  PR47722.
516641e Rebuild transformations.
3398d07 Rebuild HTML
e6a1398 LogLevel should specify a global log level as well as the per-module loglevel.
7564cc3 Update transformations.
7b8e034 Add documentation for mod_cache and mod_disk_cache.
745905a Point out that the format of encrypted passwords depends on whether you're using mod_authn_basic or mod_authn_digest. Reported by Josef Spillner, PR46672.
c964777 Clarify that when troubleshooting .htaccess files, you need to reload the page.  Reported by Filipus Klutiero, PR50176.
68541d8 Since rotatelogs now checks the local time offset on each rotation, no longer need to warn about unpredictable behavior with -l. Reported by Dave Brondsema, PR44917.
c0815f0 Clarify - say "suEXEC wrapper" instead of "this program". Reported by James Tanit.  PR48632.
6b80397 Fix a number of typos and misspellings.  Reported by Ville Skytta. PR48496.
cb7ffee Note that the docs aren't always clear when directives only affect requests handled by the default handler.
e2273c8 make the name-based vhost note a warning based on offline discussion with Rich
09fc976 Add a note about LimitRequest* and name-based vhosts as followup on PR#7741
a81eb0d Add an END flag to RewriteRule that acts like L=LAST but also prevents further rounds of rewrite processing due to per-directory substitutions.
7893d3f Correct context for LimitRequest*, as per bug 7741
e448aed Add link to mod_log_config and BufferedLogs, as per https://issues.apache.org/bugzilla/show_bug.cgi?id=50110
32b857f Rebuild intro doc.
8ca8c78 Makes the intro paragraph a little less jargon-y, in response to https://issues.apache.org/bugzilla/show_bug.cgi?id=49298
6455053 Add todo item to docs STATUS.
bf253ca The "rewrite guide", so called, has now been completely rewritten in trunk. The consensus is that we don't need to do anything with the 1.3, 2.0, or 2.2 version of this document, and are content to make it awesome on trunk.
c74a7b2 Remove note to myself.
6cd235c Remove a leftover note to myself.
7e11840 Introduce <If> as an alternative to mod_rewrite in the "avoiding mod_rewrite" document.
7017e25 Adding links to 1.3 docs is going to be the death of me.
01ef3d0 Stuff I'd like us to get done at ApacheCon 2010.
d5a74c6 The FAQ is now in the wiki.
7b9471c handle the ca_list == NULL case correctly (which can only happen with out of memory, anyway)
89ba443 Did the mod_usertrack docs. Would like to do a howto style writeup of the multi-daemon secure mod_dav configuration.
76769e0 Update transformations
5c1ea3d Adds examples to each directive.
4ff2ba7 Drag this doc 12 years into the future. Referring to what the module used to do in 1.2 not only helps nobody, but it also screams that the module is unmaintained.
59d4757 Make sure to always log an error if loading of CA certificates fails
d658afd Consistently use loglevel emerg before ssl_die()
52210ad Another NetWare makefile cleanup.
5e303bd Typos corrections.
21195ea Phrasing changes recommended by Jack Dozier. Bug #50145
a1662e0 If an unknown Content-* header is received for a PUT request, we must not ignore it but reply with 501 per RFC 2616 9.6.
25ef3c1 If a malformed Content-Range header is received for a PUT request, we must not use the supplied content per RFC 2616 14.16. Send 400 response instead of ignoring the Content-Range.
a8a2cd0 Improve error message if client cert verification fails
87c10fe Optimise more of the flags within proxy structures.
9d58cd6 mod_proxy: Release the backend connection as soon as EOS is detected, so the backend isn't forced to wait for the client to eventually acknowledge the data.
00f70dd more temp pool usage and remove some useless apr_pstrdup()s
00cdb46 use temp pool in some more places
f73cbb7 Clarify usage of ap_pregcomp/ap_pregfree
6f7f117 use temp_pool for version parsing, to save some memory
73ea59a Remove needless pool cleanup. ap_pregcomp already registers a cleanup for the regex.
65bb1b8 Updates.
9619a17 mod_cache: Respect the original Cache-Control header if no header arrives with a 304 Not Modified.
5aff0e2 mod_disk_cache: Make sure we step down cleanly when we've ben configured to cache but haven't set a CacheRoot.
10916d6 Take a slightly less "you broke it!!" tone in the default 500 Internal Server Error default error message. (Bug #50145)
8e5be99 Fix an inline variable declaration.
13fec74 mod_proxy: Optimise ProxyPass within a Location so that it is stored per-directory, and chosen during the location walk. Make ProxyPass work correctly from within a LocationMatch.
8de5190 Be compliant with RFC2616 14.46, revalidation failed is Warning 111, not Warning 110.
204de4f Update a per-dir example that's meant to show looping and the L flag. * add a RewriteBase * REQUEST_URI doesn't have the RewriteBase stripped from it, so fix the test comparison. * rewrite to absolute URI and use PT flag so the rule is somewhat applicable to per-vh context
49d8202 Avoid unnecessariy initialisation before we test mod_cgid's handler name.
5390992 Be extra careful to only pass the main server config to ap_find_loaded_module_symbol. Fixes a segfault when using per-module LogLevel on virtual host scope.
a68e17c Optimise the set flags in the mod_proxy structures.
84a346c mod_proxy: Move the ProxyErrorOverride directive to have per directory scope.
b4b72c0 RPM spec file: wait up to 10 seconds for httpd to kill child processes.
87c2324 Fixed c&p error.
442b0f0 NetWare build tweaks.
aa028df Removed leftover from 2.0.x.
2768a20 Added header include for getpid() prototype on Win32.
0de2a45 Some minor fixes to provide protos and build with Watcom.
4009e52 Simplify the initialisation before mod_env's fixup.
c567949 Avoid unnecessariy initialisation before we test mod_info's handler name.
69d19f6 Avoid unnecessariy initialisation before we test mod_asis's handler name.
47399a2 Avoid unnecessariy initialisation before we test mod_status's handler name.
e206531 Avoid unnecessariy initialisation before we test mod_cgi's handler name.
e6a3d2e Avoid unnecessariy initialisation before we test auth_form handler names.
7cecbab Avoid unnecessariy initialisation before we test ldap-status handler name.
1ba4520 Avoid unnecessariy initialisation before we test handler name.
8df5fda Fix spelling of the handler.
9943978 Avoid unnecessariy initialisation before we test handler name.
1a54421 Set the LogLevel of a newly initialized virtual hosts to UNSET. Otherwise it will not be correctly merged in ap_fixup_virtual_hosts().
7d339de Remind "Contributors looking for a mission" that the docs always need a lot of work.
6fc811e With rotatelogs -v, on platforms where APR_FINFO_NAME is not implemented, the verbose printf for closing the file never occurred because apr_file_info_get() always returned APR_INCOMPLETE.  Fix that so we still get a printf with the information we get back.
b7e357d Actually bump MMN for:  * 20101017.0 (2.3.9-dev)  Make ap_cache_control() public, add cache_control_t  *                         to mod_disk_cache format.
d5770e3 revert r1023227 as discussed on httpd-dev:
ba00b6b Update transforms
31c8d82 Add warning about using rotatelogs filename formats with not enough granularity.  PR46318.
2446703 Trivial typo: s/This modules/This module/
ac9bf53 Fix compiler warning in maintainer-mode
7d2ac22 member ssl_expr_node->p is unused, remove it
27f5e00 Be more efficient when handling the Expires header.
e5ac8f4 Remove the remove_url filter consistently for both the ap_die() and the mod_proxy cases.
fccb887 Fix compilation of htcacheclean with enable-maintainer-mode / AP_DEBUG
3d60754 Fixes a handful of xml validation errors.
726f4ce Add teensy clarification to the introductory paragraph for the ServerName directive.
afeb9ef Apparently we hadn't done a ./build all convmap in a while
cdb0073 Make sure OCSP Stapling Mutex is initiliased if we need it. PR 49498
2cddaea Plenty of typos, it appears
7447796 Kill xml flaw, what a nice opportunity for a precommit check :)
23202a0 AllowCONNECT has been moved from mod_proxy to mod_proxy_connect. Remove obsolete and broken link. Directive is already documented on this page.
2783b4e Fix stupid typos.
dc1fb83 Optimise the configuration structures for mod_disk_cache.
4994a28 Optimise the configuration structures for mod_cache.
25ff6f5 Avoid use of deprecated RSA_generate_key() function.
962b140 Update.
a9d1073 Update.
85b25bb Update.
cd4df9f Update.
df7a8ff Update.
5136a21 Updates.
f5d5cd3 Use ap_log_rerror() instead of ap_log_error() across mod_cache and mod_disk_cache.
3a3becf Support Cache-Control: no-cache with a header name, and private with a header name, which causes a cached entry to require revalidation (ie is always not-fresh), as per RFC2616 14.9.1.
c7194e2 Don't attempt to kill a stale entry that cannot be revalidated so early in the process, as this will happen later anyway as necessary. We may want to serve the stale entry should the backend not be available.
b4ecd74 As cache_control_t is public, make ap_cache_control() public with it. Bump the MMN for addition of ap_cache_control(), and the addition of cache_control_t to the disk format.
3b61964 Don't attempt to remove the existing conditional headers until we have committed to adding our own.
7ce9abf Support Cache-Control: only-if-cached, as per RFC2616 14.9.4.
fc79551 Fix the error cases in the cache_select() loop. On error we must loop around to the next provider, not return DECLINED too early, except for the revalidate case, where returning DECLINED is correct behaviour.
44584f6 Fix the return values in the cache_select() function, we don't return APR error codes in this case.
e0d571b Add support for proxy-revalidate as per RFC2616 section 14.9.4.
c80d38b Fix the sense of the must_revalidate comparison. Replace a further call to ap_cache_liststr() with a pre-parsed value.
7229aa2 Complete the optimisation of Cache-Control header parsing. Make the cache_control_t structure public so as to be available to mod_disk_cache.
796d4cd Begin the process of optimising the parsing of Cache-Control headers. Parse the incoming Cache-Control and Pragma headers once, instead of on each test.
7c19e49 update transformations
d261e68 new features list: - add mod_allowmethods to new features - remove mpm_simple, it won't be ready in time for 2.4
91b29bb Fix xml again
b4b834c Build mod_allowmethods (windows and netware stuff needs to be tested).
69449ed Add pquerna's mod_allowmethod plus igalic's docs from the sandbox (r1001151)
c2ab814 core: Log a warning if <Limit> or <LimitExcept> are used. They are deprecated and may go away in 2.4.
db980ab mod_ssl: Log certificate information if client cert verification fails.
8a9e6cd return early if we are not logging anyway
147ef0d Fix constness in log macro. Prevent compiler warning.
a7c1dc2 Fix description of APLOG_USE_MODULE in new API docs. The macro needs a trailing semicolon.
39fba73 Updated french translation
e77ee8a Some error messages got translated by mistake in the .fr translation - fixed
80e865c Updated the french documentation to match the new english revision.
4087ae6 Updated the .fr doc to match new .en revision
845b0b7 Updated the french translation
3eb3461 Fixing previous commit, as a <code> tag was mangled
268739e Update transformations.
6c1f4e7 Ooh look, new and shiny things in v2.4.
abf1b9d htcacheclean: Teach htcacheclean to limit cache size by number of inodes in addition to size of files. Prevents a cache disk from running out of space when many small files are cached.
37c58c9 Updated to match the new english revision
109ca9b mod_cache: Support stale-on-error behaviour for the mod_proxy case in addition to the existing case where the error was generated by ourselves.
bf69cf6 Make sure we remove the cache lock consistently as soon as we've started down the error path, so that we don't delay the next attempt to cache.
bfeead0 update transformations
5bcd082 Rename MaxRequestsPerChild to MaxConnectionsPerChild, which describes more accurately what the directive does.
d1da525 Restore the apr_brigade_insert_file() call to within recall_body(), as the function does more than add a single file bucket. Pass an empty brigade to recall_body(), and prepend the result to the existing output brigade, the next bucket being eos.
39262df info.file, info.line, and info.status should not be defined for per-request or per-conn info
8b3bdbc improve docs for ap_errorlog_handler and ap_errorlog_info
5860b7b fix description of the change for PR43857; it is a work-around for a reslist problem that isn't fixed in apr-util 1.3.x
88839d1 Update transformations.
0f267cd mod_cache: Optionally serve stale data when a revalidation returns a 5xx response, controlled by the CacheStaleOnError directive.
97b03cc Use the more popular spelling variant.
16274f6 Fix the lookup of the per-directory cache config, we were looking up the per-server config instead.
dcaef56 Tag ZLIB_DLL, to slightly optimize the run time symbol resolver.
d4c3801 Eliminate nonportable cruft
bb719ec Caution against using non-regex ProxyPass inside of a <LocationMatch> container. PR#50048
1d38c97 Mention that the required ThreadStackSize depends on the modules loaded. Instead of recommending a value, recommend not to reduce it unless necessary.
b30ed41 Document that a ThreadStackSize of 128K or lower will crash on Linux and recommend at least 200K
230e369 Fix typo concerning mod_proxy_scgi activation on Windows.
2e4a59c add %v and %V to ErrorLogFormat
5c0b079 Fix a segfault when tmpfiles are encountered while cleaning.
39a167f Renamed optarg -> opt_arg to avoid name clashes with system-own optarg; removed leftover from IDE build times.
a304385 Ensure the correct pool is passed in when listing URLs.
3de53d8 Removed leftover from IDE build times.
21f609d First undefine before define; Watcom does not redefine.
b4d6ae8 Update transformations.
0509b44 htcacheclean: Allow the listing of valid URLs within the cache, with the option to list entry metadata such as sizes and times.
fe000fb Remove (and no longer initialise) an unused variable.
38d82ba mod_cache: Don't regenerate the cache key if we have already generated it.
7a46368 Removed duplicate global; removed obsolete cast.
b59acde Fixed declaration; added return value.
d77ea5e Renamed optarg -> opt_arg to avoid name clashes with system-own optarg.
486541a Fixed NetWare PCRE build.
2c571ae RPM init script: make sure that should we be started by any of the runlevel symlinks (eg S85htcacheclean), we ignore the first character and two digits that follow.
7e03f9e Remove the attempt to pass the cache key into the lock functions, use cache->key instead for this. Fixes a segfault caused when cache->key was populated, but the passed in key was not.
3c414d1 Update transformations.
d29eacb mod_cache: Allow control over the base URL of reverse proxied requests using the CacheKeyBaseURL directive, so that the cache key can be calculated from the endpoint URL instead of the server URL.
b9ba216 Realign the cache_quick_handler() and cache_handler() to behave identically to the default_handler() when it comes to reacting to errors when writing to the filter stack. Previously the error message implied the cache had failed, when in reality, any part of the filter stack may have returned an error.
422e439 Remove FIXMEs, they have been fixed.
f21e960 Make sure the has_body flag is written to the disk cache file, so that we don't interpret subsequent bodies as empty.
1c042ea Update transformations.
5ec95ec mod_cache: CacheLastModifiedFactor, CacheStoreNoStore, CacheStorePrivate, CacheStoreExpired, CacheIgnoreNoLastMod, CacheDefaultExpire, CacheMinExpire and CacheMaxExpire can be set per directory/location.
51ada8e Update transformations.
1fea6c7 mod_disk_cache: CacheMaxFileSize, CacheMinFileSize, CacheReadSize and CacheReadTime can be set per directory/location.
5507079 merge if blocks
10e73f9 Use ptemp in some places to save some memory when parsing included config files
049ba34 core: Speed up config parsing if using a very large number of config files
d814b83 Fix CVE-2010-1623 in mod_reqtimeout, too. It includes a non-blocking variant of apr_brigade_split_line().
22916cc Oh. Never mind. That's in there already too. Perhaps we just never updated the STATUS file, hmm?
7be053b I'm really not sure what I was thinking of when I put that remark in there. It's not wrong, it's just a litte incomplete.
44b825b mod_cache: Support the caching of HEAD requests.
5b2a1ac Add a TODO item for the 1.3 docs.
ddf1f4e A possibility for a good doc to have, since modules.apache.org isn't actually useful.
583e12b dns-caveat is largely rubbish. Someone should rewrite that.
1b398e3 Adds caution about overusing IfModule, and mentions the -M flag in addition to the -l flag for determining what modules are loaded.
b2a906c add a bit of doc for the new authz providers
7e0ed8c Rebuild generated files.
57a5f53 Mention specific error message that people might come searching for.
0f20df47a Minor nitpick - We've attempted to standardize on American spelling. Don't much care one way or another, but being consistent is good.
09952ca Slight rearrangement to improve flow. Added specific error message, as people often search for these looking for the right doc.
78bd325 Add detailed information about how to use session stickyness.
5f4fe8d Fix flex and bison usage when building out of tree.
4963b03 Update transformations.
a56a9e2 htcacheclean: Allow the option to round up file sizes to a given block size, improving the accuracy of disk usage.
8afd97d Add authz providers for use with mod_authz_core and its RequireAny/RequireAll containers:
2daba6a mod_disk_cache: Instead of creating an empty data file when the body is empty, don't create a file at all, saving inodes.
f9ba292 Make the ssl expression parser thread-safe. It now requires bison instead of yacc.
8dd0a17 htcacheclean: If the cache file format is unrecognised, remove the entry from the cache.
0b57e95 Adding #logging link.
1aeb087 mod_disk_cache: Change on-disk header file format to support the link of the device/inode of the data file to the matching header file, and to support the option of not writing a data file when the data file is empty. Refactor the mod_disk_cache code so that headers are written as late as possible (on commit), allowing the device and inode of the body to be written to the header. At this point, writes to the cache are now atomic, without locks.
037096d add comment about change to ap_expr_eval()
7f69a48 Documentation for r1002415.
6ed9328 Add "IN" operator to expression parser, to evaluate membership of a list of tokens.  Couldn't resist after sf's comment on r1002363!
a10a4e4 This is just too easy to not do it: Add an 'expr' authz provider that allows arbitrary expressions in Require lines.
affc4cf save some memory by using cmd->temp_pool instead of cmd->pool in some places
b65066c Add generate_log_id hook to allow to use the ID generated by mod_unique_id as error log ID for requests.
b18ae22 A few minor nitpicks. Removal of a double negative. Alteration of example using AllowOverride All in <Directory /> to use something less awful.
71f3137 nitpick: Remove mention of obsolete directive.
e29561d update for sync with English docs.
c2414fb fix validation error
5059403 mod_cache: Make sure that we never allow a 304 Not Modified response that we asked for to leak to the client should the 304 response be uncacheable. PR45341
aa0f107 axe extra ";", fixing this messages from Sun Studio:
9130679 Allow for non-persist of shared mem
69a6715 Update doccos and explain clear/clean of shared mem as well as persist
e185955 No leakie
d9d061c Split ENV: handling between the request_rec section and the non-request_rec/conn_rec section. This makes the code fit the comments.
8c04f75 fix another null pointer dereference found by clang
a1f497d Avoid potential segfault (found by clang/scan-build).
b314480 Rebuild generated files - new mod_cache directives and changes to the env var documentation.
61b7c85 mod_cache: Add the cache_status hook to register the final cache decision hit/miss/revalidate. Add optional support for an X-Cache and/or an X-Cache-Detail header to add the cache status to the response. PR48241
2b2ea03 Rebuild generated files.
17ca535 Small cleanup and macro rename to make clearer for what it is.
107c557 In ErrorLogFormat, make it possible to log an item only if the loglevel of the message is higher than a specified value. This allows to achive the old behaviour for the source file name/line number of being only logged for debug and higher.
3fae515 Spelling errors
86c2f0c don't use data allocated from ptemp when parsing .htaccess
0da0c88 A note about per-module logging.
dbfa720 Rebuilding generated files.
bd73f43 Missed a few mentions of mod_rewrite that shouldn't be in here any more.
809cf00 RewriteLog is no more. This doc could probably do with a major overhaul, in light of the new changes to logging.
b713364 in 'ip' authz provider, parse subnets only once on startup instead of once per request
cbea02b Make a note about RewriteLog for folks that are looking for it. Probably should leave this here for a couple years until folks get used to the new stuff.
2690fbd Add 'local' authz provider that matches connections originating on the local host.  PR 19938.
351b6bc Expand authz provider entry
a8a9c06 Update transformations
3ecb593 Move all, env, and method authz providers from mod_authz_host to mod_authz_core
ade21d3 clarify wording about regexp
b3b7c99 update transformations
f8a8860 Add some more items Add section about how to handle logging changes
e5ab365 Fix crash accessing pollset on worker thread when child process is exiting.
8a840c1 Added util_regex.c to NetWare makefile. Reported by normw At gknw.net.
53ecdfd Fixed NetWare import/export list for cache modules. Reported by normw AT gknw.net.
c24acff Another user identifiable change, new behavior feature.
105594e Tag a user identifiable change.  Thanks to rbowen for docs help.
6c3b1e2 Because PATH and the library path are closely interrelated, and the cause of most confusion over cgi or fcgid failures, or even starting rotatelogs, etc, when the server binaries have been relocated, pass the library path as paired with the system PATH.
9fa6b62 fix Sun Studio type mismatch warnings
279fb73 generated files only
816c1ea follow up r956069 and r1000130 with additional corrections and clarifications
46a24e8 Remove a relic from the original error code, and fix segfaults in the process.
d621ffc Bump the MMN to take into account changes to the mod_cache API.
18a8c46 Move mod_cache-private includes and defines from the public mod_cache.h interface into the private cache_util.h interface.
fe32c35 Make cache_provider_list and cache_request_rec private by moving them out of mod_cache.h.
5c7154e Make cache_server_conf, cache_enable and cache_disable private. Remove public prefixes from ap_cache_accept_headers, ap_cache_try_lock and ap_cache_get_providers.
8a91dc4 Make ap_cache_accept_headers, ap_cache_accept_headers, ap_cache_try_lock and ap_cache_check_freshness private.
7e21537 Trim legacy structure from removed mod_mem_cache.
f427138 Remove deprecated ap_cache_cacheable_hdrs_out.
502a305 Remove the MOD_CACHE_REQUEST_REC hack, and pass the cache_request_rec structure through mod_cache's function parameters in the usual way.
148ad73 - add blocker for GA: review example config - remove old votes:   * "what to do if parent dies" went nowhere after many years   * we now have event MPM as default
1d1244f generated files only
d80663d follow up r956069 with additional clarifications about the connection pool and related parameters (yes, and fix part of those earlier "clarifications")
76e8049 One more linguistic nit
ae3c596 Remove duplicated word.
9baaf4e Revert breakage in 2.2.4 introduced in r450055, by offering a CacheStoreExpired directive to allow the user to override this questionable change.
a582b2a Add ap_rxplus to new_api docs
84e0e08 FakeBasicAuth, not FakeBasic
f3a3ac8 axe an unnecessary call to sscanf() when parsing the response line from the origin server
c8de96f Move private cache_* declarations out of the public mod_cache.h file.
20235c3 Update mod_disk_cache to comply with the new create_entity() interface.
2b0f619 Add an MMN bump for create_entity in mod_cache.h.
d8fc5d9 mod_cache: Give the cache provider the opportunity to choose to cache or not cache based on the buckets present in the brigade, such as the presence of a FILE bucket.
7ce8126 Minor MMN bump for ap_rxplus API
6c656ff Remove cruft that accidentally got into r999533
d4963ea Introduce ap_rxplus class: higher-level regexps supporting perl-style regexp operations.
1b8797e Reformat these <pre> tables as actual HTML tables
c40c509 Removes the completely unecessary .* on several examples where it only serves to slow down the match process.
4104c4c Adds the -le, -lt, -eq, -ge, and -gt test flags added by wrowe.
f69c5bd Add descriptions of the new RewriteCond test flags, -L, -h, and the new >= and <= syntax, added by wrowe in r997553.
85c753f * LimitRequestBody does not affect Proxy requests (Should it?).   Let it take effect if we decide to store the body in a   temporary file on disk.
dec3330 Removing ``FAQs'' which are *really* out of date. Updating others to remotely match current pratice (i.e.: current Ciphers used, 1024 -> 2048 bits, etc)
1d50e02 Fold in possible use of FNV if desired
1573494 simplify walking through array of returned apr_pollfd_t
a20a0ac fix one error message, eliminate another that will never be issued (since !n occurs when status != APR_SUCCESS)
e7a3226 Update transformations
f2fe603 Fix typos
ffcf2a2 Fix lots of cut'n'paste errors and an xml validation error in French translation. It would be nice if you could run './build.sh validate-xml' before commiting.
39e871f Add method authz provider as potential Limit/LimitExcept replacement.
1008c27 Allow authz providers to check args while reading the config and allow them to cache parsed args.
b661aa2 Shorten the changes entries.
7421232 mod_include: Move the request_rec within mod_include to be exposed within include_ctx_t.
6c85bf9 Updates.
9e41a80 Update transformations.
b9d8144 mod_include: Reinstate support for UTF-8 character sets by allowing a variable being echoed or set to be decoded and then encoded as separate steps. PR47686
1e11460 Explanation on how to prioritize mime-types on the serverside with AddType.
7131775 Adding svn:ignores for rewrite
ccfff95 Removing &trade; from mod_privileges, because it breaks the LaTeX build, and because nowhere else is Unix written with &trade;
e9bdc41 Introduce integer comparison support in RewriteCond
fb6d2cd Reduce complexity and fix a regex.t based on observation by rpluem;
edb04a3 No need to call the cleanup in the forked-child case.
d3f17c0 Ensure the return value is initialised.
a66f25d Fix to apidoc comments in ap_regex
1038d34 *) Accept modern bash test conventions of -h or -L for testing symlinks    (for another patch against -l yet-to-come)
ca9d2ae mod_cache: Add a discrete commit_entity() provider function within the mod_cache provider interface which is called to indicate to the provider that caching is complete, giving the provider the opportunity to commit temporary files permanently to the cache in an atomic fashion. Move all "rename" functionality of temporary files to permanent files within mod_disk_cache from ad hoc locations in the code to the commit_entity() function. Instead of reusing the same variables for temporary file handling in mod_disk_cache, introduce separate discrete structures for each of the three cache file types, the headers file, vary file and data file, so that the atomic rename of all three file types within commit_entity() becomes possible. Replace the inconsistent use of error cleanups with a formal set of pool cleanups attached to a subpool, which is destroyed on error.
721d19a Handle the case where a brigade might have buckets following the eos bucket. In this case the cache provider passes all buckets through as is once the cached entry is marked as done.
9660e33 Update transformations.
6654266 mod_cache: Change the signature of the store_body() provider function within the mod_cache provider interface to support an "in" brigade and an "out" brigade instead of just a single input brigade. This gives a cache provider the option to consume only part of the brigade passed to it, rather than the whole brigade as was required before. This fixes an out of memory and a request timeout condition that would occur when the original document was a large file. Update the mod_disk_cache provider implementation to take into account the new API. Introduce CacheReadSize and CacheReadTime directives to mod_disk_cache to control the amount of data to attempt to cache before sending the data on to the client in the "out" brigade.
aa7b4c0 Minor bump for ap_cache_check_allowed().
d0bc2d2 add errorlog formats for request notes and env vars
fb36cd8 add comment about (not) using pools in error log format handlers
fbeadc3 readability fix, as suggested by Ruediger Pluem
6ab8558 Further clarification of SuppressHTMLPreamble + ReadmeName behavior.
3f3ed35 Clarify that SuppressHTMLPreamble also suppresses the </body></html> on the output. (Thanks to "Alumin" on #httpd freenode IRC)
3ad914e - Add another check during ErrorLogFormat parsing - Simplify code (including Ruediger's suggestions)
800bdf5 update transformations
5604942 remove unused variables
70be0f7 Add ErrorLogFormat directive for configuring the error log format, including additional information that is logged once per connection or request.
a0e0e58 Disable sendfile by default, as discussed at http://mail-archives.apache.org/mod_mbox/httpd-dev/201007.mbox/<4C4355EE.2060605@rowe-clan.net>
c3084aa mod_cache: Check the request to determine whether we are allowed to return cached content at all, and respect a "Cache-Control: no-cache" header from a client. Previously, "no-cache" would behave like "max-age=0".
8991d47 mod_cache: Use a proper filter context to hold filter data instead of misusing the per-request configuration. Fixes a segfault on trunk when the normal handler is used.
651ddfa Fix a spelling mistake.
61a076a Add a TODO.
7abab79 mod_cgid: Log a warning if the ScriptSock path is truncated because it is too long.
fdfa6a9 Changed comments to C stye.
6dfc1d4 Fixed wrong comment.
973eb55 Added require prototypes conditionally to CFLAGS for NETWare; added header includes for getting protos.
62cb0bd set default pattern type using the enum value instead of integer literal (Intel C compiler groans about this)
97a59dd c isn't used after being set (Fortify)
3084223 running_gen was only set to an interesting value on a path where it wasn't used before returning from the function; axe it
77d8e03 In the upgrading document, mention the messages for virtual hosts that can now cause startup failure.
e4b94e1 Fail startup for vhost configuration problems, rather than running with a configuration with undefined behavior.
80c94d0 * - temp_sa is already the correct pointer   - use temp_sa instead of temp_sa_buff which is not a pointer
f6299b1 * temp_sa is already the correct pointer.
281d67d note a limitation on some kinds of flags in per-dir rewrite (since the current request is not long for this world and these fields are not copied on the internal redirect)
2cc331b add compat info to apachectl -T, add -T to short description of flags
c93da3d doc updates around why a few directives can't set arbitrary Content-Types for non-static responses.
636a81a remove another reference to DirectoryMatch matching unmatched subdirectories
579ab22 PR49809: Allow DirectoryMatch to match the EOL character ($). and stop applying to subdirectories (that don't also match the regex) implicitly.
ef099e0 Update transforms.
e52cfdd Docs: "Header add" doesn't need a colon after the header name.
51edb14 Fix missing line break in example.
ca8ee15 - add more comments explaining the logging macros - make the documentation more doxygen friendly, as suggested by Justin   Erenkrantz
00480d1 Adds link to main Vhosts document, for folks who don't know what a virtual host is.
e0edbeb Fix correct PR
1d42585 Update transform.
f60e345 Add link to list of 2.4 API changes.
eed7564 ap_proxy_retry_worker() only needs to spit out one debug message, and it should indicate whether or not retry will be attempted
f4dec02 Bump up for 2.3.9-dev
3972cd1 Get ready to tag
4a2b5e0 Update transormations.
11ec9b6 Add information about "||" and "|$" piped log syntax to the docs.
64e749d Remove obsolete transforms from docs.
e8cf7c2 Prevent race condition See http://www.mail-archive.com/dev@httpd.apache.org/msg47171.html
34b87f8 Update transformations.
381673c Support large log files in suexec
58570af Simplify code as noted by Jeff. arg can't be NULL and the message created by missing_container_arg() is good enough
4dbddef Add information about proxy workers to proxy docs.
8a73bd8 Change behaviour of worker sharing.
d59332d Minor style nits.
8f840cb core: Abort with sensible error message if no or more than one MPM is loaded.
105ce36 follow up r987629 with another similar issue
43ca6cc remove useless check for current == NULL; if it is NULL, a segfault will occur right before the function returns anyway (IOW, caller must not pass in NULL for that arg)
1f6b15b Remove unneeded CHANGES entry.
82d1497 Fortify falsely complained that the sprintf() result was unbounded. We may as well use apr_snprintf() though, as well as comment on the available space for "::\0" (for people like me).
6e66831 Fix broken "creationdate" property in mod_dav_fs and remove remaining uses of sprintf() in the dav modules.
5a222cf mod_proxy: Rename erroronstatus to failonstatus...
6526bae Fortify complains about an overflow of pad[], which would require a mongo argv[0].  Get the vprintf formatter to handle the padding and avoid creating the padding altogether.
f3c71f5 alert docs readers to minor gotcha
8f2f7c1 Update transforms and add some html and meta files generated from new pages
a1489b3 Overhaul the detailed doc for virtual hosts: - remove references to implementation details - re-order information to fit the order of the page - add more links to glossary and other pages
d13512c For NameVirtualHost, specify which vhost is the default if no match is found. For ServerName, copy information about how multiple occurrences are handled from the vhost doc.
cb4b4d7 Minor corrections and cleanup in the descriptions of IP-based and name-based virtual hosts.
447c171 And we are at 2.3.8-dev...
77d6dbe Bump
a50885b Prepare for tagging of 2.3.7
8e4214e update xforms
f4b1d82 Fix usage output.
73bae8d Properly check the result returned by apr_ldap_init: There may have been an error even if ldc->ldap != NULL.
7ffa5ce mod_rewrite: Log errors if rewrite map files cannot be opened
5c22b85 Remove obsolete "see error log" log messages. mod_rewrite now uses the error log.
944257a Perform NULL check before dereferencing arg, not after.
b6c87a8 Pull out "does request have a body" logic to a central canon function and use that for the 100-Continue OK check.
a8b19fb Add the same r->user == NULL check in the Satisfy Any code path as r965709 did for Satisfy all
5bccbb5 Don't log errors when we can't send to client, just debug.
864c25b Fix comment and code to be what it should have been/
55568c0 Update transformations.
a70b3c6 Fix validation error on docs xml file.
a81ca54 Fix syntax error in xml file.
ef0da39 Further checks for non-body requests...
2a204ae detab
87703dd For backends which are HTTP/1.1, do a quick test (ping) of the "connection" via 100-Continue for reverse proxies...
abda666 Updates.
633efb3 * The forward and reverse worker do not keep connections alive, so   ensure that mod_proxy_http does the correct thing   regarding the Connection header in the request.
f3906b8 Revert part of r983116: Don't break the loop if rv is EAGAIN
5e4209e oops
c55a15f Fold in some stuff to allow for matching of workers to their actual scoreboard slots, independent of slot ID.
10fc07c Missing a word.
975d427 And the html..
f191b16 [PT] is implied in per-dir context. (Also, FallbackResource is backported in 2.2.16)
81dac39 Added casts to silent compiler warnings.
430fc0f Updated copyright year.
0e33eec Changed macro for .rc in ap_release.h. MingW32 windres issued a couple of warnings, and Watcom wrc broke with this macro. This version tested with MingW32, Watcom, OpenWatcom, MSVC6, MSVC7, and all can create now a *.res warning-free.
8bfe3c4 zRC is never used before its overwritten below the while loop
879cfff rv is never used which makes the whole if useless
ff7cfbd entry is over written immediately below
b79b3b5 axe unexpected ';' after end of block
0ce133f Intel's compiler warns about assigning the non-enum value 0 to the enumeration apr_finfo_t.filetype, which is done when forgetting the previously-derived file type
291d4c6 comment fixes for "send" vs. "sent"
09e3207 With -S, show ServerAlias values that go with the virtual hosts
efb3c5f Re-add AP_DEBUG_ASSERTs that were wrongly removed in r982050
a527986 remove more unused variables revove some obsolete comments
7b3189c remove more useless use of strlen
f0fdf29 remove some useless use of strlen()
aa57607 - Remove a load of unused variables (or variables that are set but never read). - Move some declarations into the correct #ifdef scope.
f6af484 Pass the huge apr_uri_t structs by reference instead of by value
c3490c3 set free()d pointers to NULL to avoid potential use-after-free bugs
bc24e53 Now with a rebuild-all
41c2aed It seems we haven't built in some time
45709f3f Indicate this is a recent revision, didn't try to track back to the alpha rev
51b3ed8 Reduce logging noise at graceful restart
02dc2d4 Code cleanup: replace strncpy by apr_cpystrn or apr_pstrmemdup
e444411 Replace apr_palloc+memcpy by apr_memdup
e64d66b Update docs and comment: the unique id is now 24 characters, not 19
22af236 Add mod_proxy_scgi to default configuration for installation on Windows (comented).
178bb15 Update description of HTMLTable
8d17829 Update.
1780a46 Update CHANGES.
0fa11f3 Adding sub second timestamps and request end time to mod_log_config.
74c494f Updates.
3026654 Fix typo in CHANGES.
d8fc4c3 remove CHANGES entry of change reverted as part of r964156
4ace82f Merge mod_dir fixups to avoid possible ordering issues noted by trawick
12a304c expose subprocess_env on lua request object
1d25a9e r966869 required mmn bump
5e8988e Removed obsolete include paths from NetWare makefiles.
465ea01 Use temp_pool not pool for a string that's a temp
ae121d4 Update documentation for AddOutputFilterByType move
ebdf9d8 Support multiple names in reimplemented AddOutputFilterByType
ec00510 Move AddOutputFilterByType implementation from core to mod_filter.
9a824a6 Removed compiler switch -relax_pointers since no longer needed.
ad53d4d CVE-2010-1452: Fix handling of missing path segments in the parsed URI structure.
ed0c709 Rebuild new example.
4f5a41f Fixes a non-working example in the int RewriteMap section.
98b9ff5 Update SSL cipher suite and add example for SSLHonorCipherOrder.
8dfbc67 Fix omission in r894036 noted by rpluem.
9b90637 Fix up some SSL configuration, per issue #49484. IE6 had a hotfix released for this problem quite a while back (see kb 921090), so restrict the modified behavior to the old/unsupported browsers.
72fc19a Fix processing of long chunk extensions PR 49474
822088c Replace "back-slash" with "backslash" in docs.
e9f4f3f Trivial spelling fix so I can close PR 44195
f5dc2a1 Don't risk segfault in authz if r->user is not set PR 42995
344a7ac Enable SetEnv to set PATH PR 43906
f7669f7 mod_include: recognise "text/html; parameters" as text/html PR 49616 diagnosed by Andrey Chernov
ae5ef05 Add ap_find_module_short_name() to quickly get the module short name (i.e. symbol name with trailing "_module" removed) from the module_index. To be used for logging.
90572bc Added mod_authn_socache to NetWare build.
eccfb6c Added http_config.h to make APLOG_USE_MODULE macro visible.
0cda847 Added casts to make strict compilers happy.
f27014e fixed const for d2i_ASN1_type_bytes() usage. Not sure if 0.9.8 is correct, but checked that 0.9.7m doesnt have const.
8b6072b note some work in progress
28bc73a Updates.
b51a322 note prelim plan
07f5ae6 Add CHANGES entry for r964156
edbed09 Add some open issues
b24bd5d fix log messages
f14218c The approach for allowing authorization by user or IP introduced in r956387, etc. causes problems because the authentication module calls note_*_auth_failure if authentication fails. This is inappropriate if access is later allowed because of the IP.
ed67c11 Allow for modules to keep track of worker slot numbers themselves if they want, by allowing for worker create/alloc functions to take a slot number id. Done via _wid() variants of 3 proxy funcs.
f1f6c85 - add some trace logging - move comment to correct location - redirect temporarily instead of permanently to avoid potential problems   with browser caches
e842857 whitespace only
0d058b1 Improve trace logging of sent response: - log response status - log Date and Server headers
e6fcd04 follow up to r930125
a484fd7 generated docs
c9d959f fix broken stylesheet path
e0e27b9 Fix segfault
539e6fa Add a note about problem noted in PR 48652
eedf130 Introduce note_auth_failure hook to allow modules to add support for additional auth types. This makes ap_note_auth_failure() work with mod_auth_digest again.
a52fa4d Remove superfluous EOL from mod_rewrite logging.
60e8f3a Allow to set environment variables using mod_rewrite without explicitely giving a value.
ebcb688 Fix documented syntax for env var setting in mod_rewrite.
2fc7e07 Clean iterator call syntax
de541c9 Fix nasty dbm bug that wasn't expiring records; time() doesn't return apr_time_t
661afad Clean shmcb iterator call syntax and return value
a527717 actually update the MMN and not only the comment
ed451e9 re-order many struct members for better alignment on 64bit
8bce964 authn_socache: if loaded but not configured to do anything, don't go to the trouble of setting up the cache and mutex.
49b4ce8 Extra robustness check: don't segfault if no socache provider selected and there's no compile-time default.
cd6924b To save memory, make module_levels a vector of chars instead of ints.
042384c Move new_api_2_4 doc to developer docs where it belongs
f982885 spelling fix for a comment
9ec9927 Add cacheing to authn_dbd docs
856b869 Add note on cacheing to auth howto
5b6d760 Link to mod_authn_socache in relevant module docs
2127db8 Bah.  Fix usage example in r958720
bc0c666 Add usage example in docs
37ab7c9 Save some memory by allocating only the required length for conf_vectors.
8a76195 Fix syntax error
08e3fd9 Stop compressing if we are doing a HEAD request and the content-length filter can't determine the content-length anyway.
0a462a0 Missed the MINOR reset
5740b5c Introduce an socache iterator 'userctx' for the user to track the context of their own callback.
03da126 Further normalize initalization stanzas
a7206ca C99 is not a requirement, fix style violation niq refuses(?) to correct.
6782a1f Iterator implementations welcome, although mod_socache_memcache will never gain one, per documentation in the memcached FAQ.
7a6e700 Tally replacements seperately from new-stores.  Of course the actual replacement logic doesn't work terribly well right now, as discussed on list.
f1da46d Make a start on documenting mod_authn_socache
01f0dae Disallow setting cache context in .htaccess, lest it be abused for cross-site or cross-application authn attacks.
01066d3 fix svn props (hopefully)!
f877509 Fix return values from socache modules when a key is not found in cache
41959e8 expiry is a time, not an interval
6394390 Name change: fix incompleteness of r957089
7a39fbd Name change: calling it mod_authn_cache could get confusing, and the sourceforge module has a prior claim to the name.
b876918 Enable authn_cache in the main easy-to-do authn provider modules
2ecd34c New module: mod_authn_cache
57df737 Support AP_DECLARE_MODULE declaration syntax in apxs
22d2c72 OS/2: Add support for ThreadStackSize.
e137b77 OS/2 build fix: Remove use of non-portable apr_get_os_error() and just return APR_ENOMEM if apr_pcalloc() returns NULL.
43880ad OS/2: Provide a definition of AP_PLATFORM_REWRITE_ARGS_HOOK. NULL for now as ap_mpm_rewrite_args()'s -k function doesn't currently work on OS/2.
8a47421 OS/2: Fix building of more modules that depend on symbols from other modules. Affected modules are: mod_heartbeat, mod_session_cookie, mod_session_crypto, mod_session_dbd and mod_disk_cache.
c07640c Remove definition of ap_pid_fname from OS/2 MPM. It's now in mpm_common.c.
d8e9ae6 updated notes on ap_hook_check_* wrappers and AP_AUTH_INTERNAL_* flags
0909844 Update Debian layout to what is actually used
ab778a0 add -X to usage message
59b049d Note auth_checker hook change
b9cfff1 Remove comment about removal of OS/2 support from CHANGES and docs.
fb895f8 ap_note_auth_failure seems to be broken in 2.2.x, too. So this is hardly a blocker for 2.4.
391797e Update transformations
d3ddf3e Fix XML validation issue
14649dc Don't apr_pstrdup in ap_auth_type(). It returns const char *, anyway.
371657c First pass at documentation for upgrading to 2.4. Went through CHANGES and tried to pick out things that would require a 2.2 user to make changes for 2.4.
9cc65ed Don't restore r->user after authn/authz failure. Any authn module that sets r->user even if authentication failed is broken, anyway.
b561de7 Fix authorization by user or IP/ENV/... Note ap_note_auth_failure() breakage in STATUS
1b34a43 whitespace/indent fixes remove a redundant comment
56eaabb more pid logging cleanup
95fe205 - add some trace logging - stop logging the PID explicitly, this is now always done by ap_log_*error
b7936c9 More trace logging
18f23ba put the CHANGES entry under 2.3.7, where it belongs
9b851ec - Add reallyall option to configure to build everything that can be built with   the available libs. - Remove redundant --with-distcache option. Simply enable distcache if   mod_socache_dc is selected. - Enable serf support by default if serf is available in /usr.
3d5b71e Remove two blockers from the list. Fixed in r954590, r956202, r956204
0b5d299 core_output_filter improvements: - prevent more than 5 pipelined responses in the output brigade, to avoid   excessive FD usage and related DoS attacks. - if non_file_bytes_in_brigade >= THRESHOLD_MAX_BUFFER, don't send the   entire brigade non-blocking, but only up to the bucket that brought us   over THRESHOLD_MAX_BUFFER. This should allow better use of async write   completion.
6b28572 Add deferred write pool to core_output_filter to clean up file descriptors as soon as the corresponding response has been sent and not only after the connection has been closed.
f3ddf96 update doc for connection pools * reduce duplication between initial intro and parameter table * explain that pools are per-process, and limits are not   coordinated server-wide * minor clarifications & readability tweaks
53c2b55 * Ensure that we only return a non fatal error if the request is idempotent   and if we did not sent any request body so far.
d06e19b Fix typo, sorry for the noise.
3438a0e Fix Windows build when using VC6.
41a6878 xforms
80c11dc Fixing minor typo in sections.
cdc8db7 Add a configuration block for Event MPM.
f655628 Fix typos in CHANGES.
623d3cb axe 2.3.0 CHANGES entries that have been delivered in a 2.2.x release
6639073 Change log_error_core to prefer s over c->base_server for loglevel configuration.
c0ef8bc Remove unused header file from simple MPM.
fc38f7b Fix obsolete reference to 2.1 in CHANGES.
12b6997 Update comment about required modules in extra configuration files.
fb023f4 Fix IfModule in default configuration according the to new mod_unixd.
90a1269 The directives "User", "Group" and "ChrootDir" have been moved into mod_unixd.
0777091 correct stupid mistake
6da4e2a Fix some compiler warnings: - suggest braces around empty body in an 'if' statement - comparison of unsigned expression >= 0 is always true - comparison of unsigned expression < 0 is always false
0d11ddb - Introduce ap_log_cserror to allow mod_ssl to associate log messages to   different servers than c->base_server. - Adjust the scope of some mod_ssl trace logging from server to conn.
ec66a90 start a list of modules which should probably be in experimental
c1e9086 Change the eor bucket to use a pre-cleanup to run the log transaction hook. This fixes some segfaults.
ca23fa1 prevent an error message if an old autoconf without AC_PROG_CC_C99 is used but print a meaningful warning instead
ed06b71 Fix MPM event/libserf build problems: If libserf was installed during build, MPM event was picking up the headers but not linking with libserf, causing unresolved symbol errors.
67abe94 Updates.
c648dfb More linkage
e538aae Link to new API doc
6db8574 some improvements WRT logging
77ea946 Make a start on documenting API changes in a form we can publish
ee04f07 Add comment that using cur_unique_id.counter from all threads is bad for performance on SMP systems.
8aeb2e0 Use the correct loglevel checks in the wrappers for ap_log_cerror/ap_log_rerror. This fixes per-dir loglevel configuration for loglevels > notice.
e89325d mod_rewrite.c:447: warning: format not a string literal and no format arguments
e9f4bda roll on 2.3.7 development...
c5b7427 Prep for 2.3.6 tag
ea8e878 Prevent segfault if URI is missing a scheme
dd92e8d Use APR_STATUS_IS_TIMEUP instead of direct compare to APR_TIMEUP to be more safe on different platforms.
1541eb4 * Use APR_STATUS_IS_TIMEUP instead of direct compare to APR_TIMEUP to   be more safe on different platforms.
6c8629d * Use APR_STATUS_IS_TIMEUP instead of direct compare to APR_TIMEUP to   be more safe on different platforms.
c2fb104 No need for trailing semicolon after APR_DECLARE_EXTERNAL_HOOK.
7189b77 Run filter "init" functions exactly once per request.  No longer run init functions for connection filters (doing an "init" once per handler invocation makes no sense for a connection filter).  No longer run init functions multiple times per request if a subrequest is used.
123c06b Fix ap_log_perror macro in case of C99 compilation with APLOG_MAX_LOGLEVEL defined.
f0d46a3 Mop up more than a dozen const'ness faults
7716d3c Drop ap_body_to_table due to missing constraints; a DoS waiting for an exploit.
ed766d8 Fix build failure by reverting part of r953125
dd5fdf5 Fix some issues found by Ruediger Pluem
e446077 * modules/http/http_request.c (internal_internal_redirect): For a   subrequest, preserve any filters in the output filter chain which   were not specific to the subrequest across the redirect (where   f->r does not point to the subreq's request_rec).
a71d310 mod_cache: Explicitly allow cache implementations to cache a 206 Partial Response if they so choose to do so. Previously an attempt to cache a 206 was arbitrarily allowed if the response contained an Expires or Cache-Control header, and arbitrarily denied if both headers were missing.
82ba65d Improve the comments for AP_MPMQ_NOT_SUPPORTED/AP_MPMQ_STATIC/AP_MPMQ_DYNAMIC
78af971 Fix the test of ap_mpm_query's result: Both AP_MPMQ_STATIC and AP_MPMQ_DYNAMIC mean threaded.
75e31c7 remove APLOG_USE_MODULE from main.c: It causes build problems on Windows and the ap_log* calls in main.c don't profit from it anyway, because there is no server_rec yet where they could look up core_module's loglevel.
7965fcc Add descriptive prefix to pid and tid in the error log. Only log the tid, if the MPM is threaded.
d62fcb0 * .gdbinit: You are in a maze of twisty little subrequests, all alike...
4797c81 Building DSOs by default should set MOD_SO_ENABLED.
e111947 * .gdbinit: Add dump_filter_chain macro.
8b43672 Update CHANGES and bump minor MMN for new error log additions and ap_recent_ctime_ex().
3a00cf6 Add microsecond timestamps to the error log.
8909a59 Add process id and thread id (if APR has thread support) to the error log.
c7eb7bf spelling
b19e4db Update CHANGES: - Building modules as DSOs and the "most" module set by default.   r952007, r952008, r952009 - Fixing VPATH build when using included APR.   r951769, r951769 - Fixing mod_session_crypto build for APR 2 and VPATH   r951766 - Fixing mod_session_crypto API incompatibility with APR 2   r951870
9cdcd0a Alternatives to [P].
f6cffe5 Update transformations.
fcf558c Update transformations.
11b267a Adapt docs to modules now being build dynamically by default.
0e7b38e Fix comment. DSO is now default.
e715e9c make shared moduled and module set "most" the default.
17c33d8 Rebuild recent contributions.
1ce02b2 Fix typo.
9c937ad ab: Fix memory leak with -v2 and SSL.
5e9890c Update transformations
53e593a add to CHANGES and new_features_2_4
ba0d302 Replace LogLevelDebugDump with TRACE log levels
a5f4ee1 Replace RewriteLog/RewriteLogLevel with trace log levels
8f1e26c Replace DumpIOLogLevel with trace log levels
41057af Update LogLevel docs
01b9f2e - Be less verbose at levels INFO and DEBUG in mod_proxy* and mod_ssl - Add some trace logging to core and http
2334a1e - Add loglevels to request_rec and conn_rec - Introduce per-directory loglevel configuration
af4c0f4 Use new loglevel accessor macros to simplify code
ebb6286 Use the new APLOG_USE_MODULE/AP_DECLARE_MODULE macros everywhere to take advantage of per-module loglevels
9d791e0 Fix some modules to make them compile with per-module loglevels.
98a1e93 - Introduce log levels trace1/.../trace8 - Add macro wrappers for ap_log_*error. On C99, this will save argument   preparation and function call overhead when a message is not logged   because of the configured loglevel. - Introduce per-module loglevel configuration.
afd39cb Work around crypto API incompatibilities.
6c69658 Silence compiler warning.
8944e2e Fix lookup of apu-config for VPATH builds
a26f1fb For included APR, apr-config is not in the srcdir but instead in the builddir. That only matters for VPATH builds, ie. when you build outside of the source tree.
f254979 Fix broken mod_session_crypto build.
f26b981 * modules/echo/mod_echo.c (process_echo_connection): Use _cleanup   rather than _destroy to clear a brigade which is to be re-used.
7c8bfdb Fix the RPM spec file to autogenerate self-signed certs in the place where the default httpd-ssl.conf expects to find them.
d3d7034 Reduce the length of our generated RPM epoch number, as epoch numbers are limited to 32 bits.
484a7ea Review of RFC 2616 violation issues in Bugzilla, by Igor Galić.
b58fe65 s/is/was on the LDAP cache change
56e25c4 The rest of this cache display method just writes its response, and the caller doesn't care about the returned string.  Issue a message to complete the /ldap-status cache handler page which otherwise looks truncated.
dd90ac4 when we actually get a per-server config in a vhost, the shared memory cache was not in the merged config.
fd646c8 mod_disk_cache: Decline the opportunity to cache if the response is a 206 Partial Content. This stops a reverse proxied partial response from becoming cached, and then being served in subsequent responses.
2e95827 Fix a bug where if the cache quick handler is switched off, and the CACHE filter is manually added by the admin, but caching has not been enabled for the URL space, an attempt is made to remove the CACHE_SAVE filter instead of the CACHE filter. This fix makes the code work like the comment above the code, the comment being correct.
5d4b85b Move logic to find module by name into new function find_module().
7d6bd86 Introduce SSLLOG_MARK for use with ssl_log_ssl_error(). This will allow to redefine APLOG_MARK later.
4a3208e Remove loglevel entry in core_dir_config, which has been unused for at least some years.
877b46d log issues with CONNECT at request scope instead of server scope
512be6a update compatability from 2.3.7 to 2.3.6
bc0a04b fix xml validation and doc build issues
a1ee659 Vote.  Even if there is no Vote.
e4a0db9 we are still at 2.3.6
a1372b0 2.3.6 is under development, not 2.3.7. banner mistakenly added in r909323
7d67e46 another blocker for beta
cf43b8c Note intent to TR June9
3880cb9 - clarify wording on handling of empty brigades, see dev@ thread from   msgid <AANLkTimaQNuUnDhhL0yoBJXNWS0c163HUWM9WHZhmFLh@mail.gmail.com>
fdcca64 catch up with xforms
8ebb7ac add defaults for two nested groups directives
87567b7 Kill off edge case in mod_deflate where data may be sent before headers are determined. PR 49369 - Matthew Steele
c47fc4e add CHANGES for r950249
67f3df7 When checking direct group membership, interpret LDAP_NO_SUCH_ATTRIBUTE the same as LDAP_COMPARE_FALSE and continue on to subgroup (nested group) processing. This triggers when the group has no "direct" members but may have entries that represent nested groups to check.
a8720fa mod_authnz_ldap: Search or Comparison during authorization phase can use the credentials from the authentication phase (AuthLDAPSearchAsUSer,AuthLDAPCompareAsUser). PR 48340
481638b not sure why blocker
45548d2 * Fix compiler warning about "incompatible pointer type"
4dda938 * Fix compiler warning
1727457 emphasize that trying to use the basic auth credentials directly is a last resort.
d15983f mod_authnz_ldap: Allow the initial DN lookup to bind with a transformation of the basic auth username.
27c654f Allow mod_authnz_ldap to set environment variables when it only performs authorization. AuthLDAPAuthorizePrefix can be used to force this to overlap with the prefix used for authentication.
d38b48f add a standard AUTHZ_PREFIX for, no MMN bump since it's just baked in if you build against it.
b34f14e Several typos fixed.
3a5ea35 Fix typo
1461080 Typos.
1477c61 odd assortment of spelling fixes
e91ff38 Updates.
c3d1f4b - wording tweaks for PeerExtList()
b862ffd Minor tweaks in markup, phrasing.
f1df6e6 emphasize request/response in the timing description, easy to miss the significance
28ebfde PR49308: Header directive doesn't see CGI-issued headers because they live in err_headers.
6cf4c83 metafile rebuild.
326640c Completes the rewrite of the RewriteMap documentation. Examples for all the various map types, and an overhaul from a grammar perspective. Still want to do some tweaks on the ref doc side.
f4e0c14 Link to relevant section of avoid doc.
a6810d0 vhosts section of avoid doc.
7d06c2e - amalgamate the sections describing the env vars available - update the docs for PeerExtList - fix the markup of the SSLRequire example
baf08c7 Fix handling of extensions with types not known to OpenSSL in PeerExtList(); parse the value as a string primitive, or else fail, rather than rendering the raw DER blob as a string regardless of the type:
e588bbc * modules/metadata/mod_headers.c: Add a function pointer type for   the tag handler callback to regain some type-safety.   (register_format_tag_handler, header_pre_config): Adjusted.
2943510 Note unresolved cause of current crashes in the test suite.
f25bff8 int: example.
d9f3931 More information for the dbm map type.
8567252 Minor tweak: Rename links to 'Using RewriteMap' rather than 'RewriteMap'.
f2465c3 Better explanation of example for rnd: type RewriteMap
3c629a4 Link to the new RewriteMap doc.
8aef31c Adds a useful and complete example for using RewriteMap txt:
831425b I think this might look better as a DL than as a TABLE.
f493564 Rephrasing of RewriteMap intro.
2fcea9c Rebuild various metadocs.
3099d53 Rebuild with new nav element.
416a85f Add the rewritemap doc to the seealso navigation.
c6625b8 xmllint
c13c39c Moves most of the rewritemap stuff out into its own document where we can give it the exhaustive treatment it deserves without making the reference doc unmanageable.
93004ca Updates module description in module index.
18f924b The "up to one" thing has bugged me for a while.
ecb9f26 Clarifying Redirect of GET/POST.
ec4ed7d Adding compatibility tag.
05f09e8 apxs -q: Stop filtering out ':' characters from the reported values.
13d9429 pointed out by a colleague:   Available in Apache 2.2.15 and later, not 2.3 and later (2.2.x docs already has the right blurb)
4548ab5 replace r942897 with the original submitted patch
d24fd99 revert the PR 43857 fix in r942897 based on a potential memory leak pointed out by jorton (original patch to be committed shortly)
b402bb3 Line breaks, to make the example useful
60feeb2 prefork MPM: Run cleanups for final request when process exits gracefully. PR: 43857 Submitted by: Tom Donovan, simplified slightly by me
37a5d54 Removing the obscenely obsolete FAQs'' from the SSL FAQ.
fce1325 Rebuild transformations.
53de4e6 Typos.
3853fbf Formatting of examples.
facb3ef Update.
1f82bc7 Fix the following: $> grep -e autoindex_ -e cgi_ httpd.conf LoadModule autoindex_module libexec/apache22/mod_autoindex.so LoadModule cgi_module libexec/apache22/mod_cgi.so
d375a23 Typo.
8f18c0b Note that it would be nice if we could write authn and authz providers in lua.
007951d fix compile failure in r940981
037d97c Missing linebreak in example
01d3002 Catch up with ap_[proc|global]_mutex_create api change
26c7d9b mmn bump for api args change
fe7d50b It is not inconvenient to return the derived filename here, let's save the caller later hassle in looking this up, if they like.
9aa07cb Reverting at nd's request.
86dd84a Frustrated with having to scroll back up to get the TOC. Make this stay where it is so that I don't have to go hunting for it.
b8f1161 When it's "it is", it's "it's". When it's "belonging to it", it's its. (Patch from Gillis)
2761557 Fix Polish error document messages.  Thanks to <zrchos gmail.com> for the patch.  PR: 40827.
177f460 Update transforms
dcd34e9 ab was sending wrong number of requests when keepalive enabled. Thanks to Bryn Dole for the patch. PR: 48497
7ad5099 enable-mods-shared works on Darwin, drop from "NICE TO WRAP UP" list
9b90804 Add an example auth_check hook.  Unfortunately without a base64 implementation in Lua, we cannot actually do basic auth in the hook, so just fake it.
b02e585 Some more updates to the mod_lua doc: - link to the Lua web site - Lua modules are properly refered to as 'packages' - intro to writing hooks in Lua - remove unnecessary indentation from examples
aea9432 Add some documentation for the request record, apache2 module, some default configuration values.  Indicate that mod_lua is available in 2.3.
1f4b662 Add info to debug logging. Avoid null pointer dereference by returning if we can't get a lua VM. Move "we got a VM" message to after we know we have one. Check that we found the lua handler function before trying to call it.
c9fc37b Log error if unable to load lua file.
f07bb6b An uninitialized pointer in ap_lua_mapped_handler_spec was causing seg faults in lua.
dfe544c Change references from mod_wombat to mod_lua. Remove references to no-longer-needed pre-req, mod_apreq2.
94a86a5 Change references from mod_wombat to mod_lua. Remove references to no-longer-needed pre-req, mod_apreq2.
9f27623 Use the more specific 408 (timed out) instead of a generic 400 during a timeout reading a chunk-length.
72e35ec Adds another section to the 'avoiding mod_rewrite' doc.
19cb30c PR49167, unexpected 413 and double-errordoc during a timeout reading a chunk-size.
8a4a9df Update.
138805a Fixing up mod_lua with context and overrides
08db75d Ubuntu build notes
b8f3e8e Various metafiles rebuilt.
1b53e0a Stupid typo.
86b52b4 Added working config to mod_ratelimit
8a0fea1 Working example configuration, thanks to Paul.
59ec76e Adding a missing <br />. No more commits after half past three.
84f9080 Move back to a post_config hook...
4c4b534 Add updatelbstatus to allow to have all the LB logic in the balancers.
66e7158 update STATUS
1121db5 Various metafiles that now contain mention of mod_ratelimit.
e15d463 Adds docs for mod_ratelimit. Need more information in usage and configuration.
3f46ae8 Remove unneeded comment from mod_dialup docs source.
08a37e7 Adding an cache hit/miss example, regarding PR#48241
050bfa4 Added mod_dialup docs.
c386fea And one more time to make 'validate-xml' happy.
0477740 Fix formatting of examples.
e3852ec Various other files that reference the new mod_dialup docs.
cfb7ea7 Build all associated metafiles for mod_dialup.
0565f73 mod_dialup docs.
32a95c3 Make 'validate-xml' happy.
1e94a05 Rebuild directive quick reference
faaa266 Oops, missed some.
0e6795f Add more of the descriptions from the code.
bf3bfe9 More small cleanup of STATUS file.
0d36610 mod_lua has a doc now. It sucks, but at least it's not on the "doesn't have a doc at all" list any more.
b4087e0 Doesn't flow very well, but here's the info that was squirreled away in txt files in svn. From here I'll probably need some help to flesh this out, or perhaps I'll steal some of Paul's blog articles.
8bde9ac Add basic almost-useful usage information.
e2d19f6 Removing redundant lines. Adding reminder: Good start for conditional logging docs would be cache hit/miss.
05421b2 Update xforms
d9fcb8d Add in BalancerNonce directive... useful for shared-secrets.
6492927 Note update to mod_lua doc.
9ae7759 Rebuild html with correct last modified revision number.
f86b489 Property changes to get the LastRevisionModified to update. Thanks, nd.
75ca0a6 Not sure why all the image paths were wrong. Weird. Regenerated html so that they work right.
f4563df Include the license and the metafile.
24f8192 Update metafiles for .fr translation.
b055523 Adds mod_lua doc to sitemap.
4aaab5b Improved XML.
7be8347 Remove stupid typo. Not a great way to start.
c023719 Adding skeleton documentation for mod_lua, and all of the associated metafiles pertaining thereto. While this is better than nothing, it's not *much* better than nothing, and is very probably inaccurate. But it's a starting point.
924fbe6 starting back on some of the things I want to add to the rewrite docs.
7484591 Replace apr_wait_for_io_or_timeout with apr_poll, to (hopefully) allow mod_reqtimeout to work under windows with apr 1.x
ad563f4 Expand the "NameVirtualHost has no VirtualHosts" error message, since it seems that we have to explain a dozen times a day what it really means.
aaf6e84 generated doc changes
ab0c93f describe the connection reuse issue, which can break the simplest FastCGI applications
b591ad2 improve balancer references in the examples
108e127 Updates.
585e0c7 Replace 'Apache' with contextually correct phrasing.
9cf1145 tweak some language, add examples
4b9acfe build the socket address first, then get a matching socket
8fa54a8 * Do NOT cache 206 responses in any case since we don't (yet) know how to   cache partial responses. Fixes regression of r724093.
b82a2f2 * According to RFC2616 13.2.3 1. negative results of age calculations should   be replaced by zero.
79d196b generalize the existing (r589761) platform- and errno-specific logic to suppress an error message if accept() fails after the socket has been marked inactive
72f9e3b Poking around the old htaccess howto, looking for ways that we can make it more relevant. These days, instead of "htaccess files are for auth" the general belief is "htaccess files are for rewrite".
1d22a4f Full doc rebuild.
760749a Fix XML breakage.
f02f210 Fix XML breakage.
6390d8c Fix XML breakage.
2f4bc70 Rebuild, and fix malformed XML in .fr version, since it was my fault in the first place. Still looking for the other errors that validate-xml is reporting.
2cd0c83 Example for using mod_substitute a la mod_proxy_html, in proxy context, to fix hard-coded URLs in HTML.
c6646ca Fix backward compatibility with APR versions less than 2.0 which don't have apr_socket_wait().
403c0b9 Trivial grammatical tweak.
9128497 Remove usage of the APR private function apr_wait_for_io_or_timeout(), replacing it with the newly added apr_socket_wait().
aee5b3c Transform
46d5faf Fix xml validation error
871fa3d mod_proxy_connect: Support port ranges in AllowConnect
f43d1bc Add AAA issue
06418a8 Divide showstoppers into sub-sections for alpha, beta, ga
d7d74eb Typos.
696d264 Updates.
8725d94 Remove useless use of $[, which was long deprecated and is an error with perl 5.12rc3.
1be834e make_sock() sets lr->listen on success, so no need to set in the caller
98c9c6c Rebuild translation files.
e165a72 We've removed all mentions of the 1.3 version of the server, where "how things used to be done" is explained. I find that these just confuse people, and leave them wondering which is correct. There are a few stray references here and there to 1.3 that have been left in, and I feel that these are all appropriate, non-confusing ones.
51074fc Remove another confusing explanation of how things used to be long, long ago.
466a3eb Rebuilding various metafiles.
9da4db7 Removes 1.3-specific phrasing in a few places.
4c72a04 Descriptions of how things used to be in 1.3 just confuse people.
2e66160 Remove more 1.3-specific language.
c4dd864 Remove 1.3-specific language.
1697b32 "If you're running Apache 1.3 or later ..." Seriously?
1a64036 General review and updating of document. Added mention of the other modules located in the modules/mappers directory that aren't already mentioned, and made a note to come back and flesh this out a little later.
c5b1286 translation metafile thingy.
c7b73b7 * Fix compiler warning on 64 bit systems (cast from pointer to integer of different size)
1a75261 Clarifying/Simplifying the Proxy examples.
dac4c9a Rebuild various metafiles and translations.
0c5c9c0 Minor tweaks to the _default_ example
6be5a9e Comparnisions to Apache 1.3 aren't terribly helpful.
2058083 I was wrong (and looked at the wrong commit when trying to figure out this change) - 20100223 was a _MAJOR mmn bump!
1108773 First order simplification; Add IncludeOptional for introducing wildcard pattern matches or specific includes which may be omitted. Refactors ap_process_resource_config() to deal efficiently with a single file, and renames the new _ex() flavor per list discussion to  ap_process_fnmatch_configs() for wildcard processing.
d887351 Look ma, portable code.
380a1e9 Correct bogus code; stack alloc of variable length is not portable from C++.
eae4f2d Rebuild translation transformations.
5342738 Make the example match the descriptive text about the example.
8e5e52c Translation conversion updates.
256136a Remove a TODO item: Turns out mod_vhost_alias does not set DocumentRoot per request. Also several of the 'Apache' -> 'Apache HTTP Server' conversions.
0b88cfb Replace .xbm with .png and .gif in the examples. We haven't shipped .xbm icons for many years.
8d143e1 fix more errors found by cppcheck
2c4ea84 fix potential file descriptor leak with DEBUG_CGI
26d31ba * Fix compiler warning
6cb10f6 update transformation
9e1b36d another xml error
64665e2 fix xml
c4b4452 I'm reluctant to keep telling people about the ServerPath directive, much less encouraging them to use it in a document on name-based vhosts. It causes confusion, and hasn't been necessary for years.
2eb2e95 Adds a related modules list. Trying to work up the steam to overhaul the 'conditional logging' section.
6a14647 Rebuild various transformations.
6f4c170 small style tweaks to r930125
caca27d Code tidy, certificate extension decode can be done with the single function X509_get_ext_d2i().
9c1c3f5 Proxy balancer: support setting error status according to HTTP response code from a backend. PR 48939 [Daniel Ruggeri <DRuggeri primary.net>]
a7cada9 vote
315e2dc Free surrounding PKCS7 structure to avoid a leak.
1688cae Add the missing header file from r928916.
0dcf93a Update.
3915fb3 Retract veto over inconsistent behaviour between directory and file wildcards, implement wrowe's missing directory wilcard must fail / missing file wildcard must pass requirement. Introduce 'optional' and 'strict' modifiers to the Include directive for the end user to express their desired behaviour.
68603b1 * Fix compiler warning on 64 bit environments
db53b0a Update transformations.
e7f9063 htcacheclean: Introduce the ability to clean specific URLs from the cache, if provided as an optional parameter on the command line.
ea767ff core: Introduce the IncludeStrict directive, which explicitly fails server startup if no files or directories match a wildcard path.
8c9f635 Disable body timeout for CONNECT requests
88d1cc6 Updates
592cb37 Create new files with APR_OS_DEFAULT permissions.
e3aec99 Make sure we respect the proper pool lifetimes when saving away a preparsed session.
0cce5a9 htcacheclean: Report additional statistics about entries deleted. PR: 48944 Submitted by: Mark Drayton mark markdrayton.info
6b59a2a Adding an explanation about how URLs are ultimately mapped.
d244537 Rebuild transformations. That's probably all I have time for today.
7df044a Bring this doc a little further into this century. Considering dropping, or at least rewriting, most of the "Background" section.
4d24c7b Reverts earlier patch. The --enable-MODULE=shared syntax is valid. Need to fix ./configure --help output instead.
49de976 My mistake. --enaable-rewrite=shared is in fact valid syntax, even though ./configure --help doesn't mention it.
9c905bb Invalid syntax for the configure script.
3d90255 dso.xml needs some help
b12a32b Rebuild transformations.
6389ac6 This doc could use a major overhaul. Meanwhile, 'Apache' => 'Apache HTTP Server'
c0bcd0f Rebuild translation transformations.
a85a7ee 'Apache' -> 'Apache HTTP Server' etc
dff71ed * Silence compiler warning
cb97d06 * sc->fips is only defined if we have HAVE_FIPS
617b750 language and metafile transforms.
bb1b5e2 More 'Apache' => 'Apache HTTP Server' changes. Other minor nitpicky changes. Identified a few docs that could use some attention to grammar.
f08fba0 'Apache' -> 'Apache HTTP Server' where appropriate.
27d5c15 'Apache' -> 'Apache HTTP Server' Don't use abc.com in examples.
2db5174 'Apache HTTP Server' and 'httpd', and occasionally 'Apache httpd'. If it's really that ambiguous in context, rewrite the paragraph.
b82ec98 Rebuild translation transformations.
722a9b4 'Apache' => 'Apache HTTP Server'
5d33f79 'Apache' => 'Apache HTTP Server'
0cf559b Rebuild transitions.
7e7cb70 'Apache' => 'Apache HTTP Server'
6588ab5 'Apache' => 'Apache HTTP Server'
86d2b78 Rebuild transformations.
b4d0761 'Apache' => 'Apache HTTP Server" etc.
6d10612 'Apache' -> 'Apache HTTP Server' etc
3c8d568 'Apache' => 'Apache HTTP Server' etc
0993a36 Rebuild transformations.
36d26e4 'Apache' -> 'Apache HTTP Server'
1dfdb79 'Apache' -> 'Apache HTTP Server' and 'Apache httpd'
bd391d7 'Apache' -> 'Apache HTTP Server' and 'Apache httpd'
1eddf44 Rebuild various transformations.
9e82ab7 'Apache' -> 'Apache HTTP Server' and 'httpd'
f78ddd0 Fix BOOL fips handling for UNSET values, and hack a vc compiler warning
e178e4b Surely we meant to use the right data type for a stream?
7eb4e71 Introduce SSLFIPS directive to support OpenSSL FIPS_mode; permits all builds of mod_ssl to use 'SSLFIPS off' for portability, but the proper build of openssl is required for 'SSLFIPS on'.
3e862e7 update transformation
b98c66a fix xml
481e0ca mod_proxy: Tone down a warning message that appears when the same backend website is reverse proxied two or more times into the frontend URL space. PR: 48947
3e15a66 Update.
9e9ec2b Updates.
a615902 hyphenate some compound modifiers
2884c12 Fixing SSLStrictSNIVHostCheck description, which made my head hurt.
f8a67bf Let the nominations for the name begin
17121d7 rebuild translation metafiles
05dce83 Remove mentions of HTTPD. Mea culpa.
596940e If the client disconnects and the backend continues to send data fast, forcibly close the backend connection.
5a1c80f Correctly handle the case where apr_brigade_partition() returns APR_INCOMPLETE and b points to the sentinel of ctx->proc_bb and not the sentinel of bb. (Similar fix as r910326)
559b64d add list of modules lacking documentation
b167adc Update compatibility note for ProxyPreserveHost
f90bc4f Align "hidden" function names with external... picky, but less confusing
5b777d9 update transformations
ccfb4f5 note that CacheLock is available in 2.2.15 or later
0c0ac01 In as much as we can be said to have consensus on anything at all, we appear to have consensus that we will refer to the product (in the documentation) as Apache HTTPD, or HTTPD for short, and to the server binary executable as <code>httpd</code>. Here's a few changes to that effect.
9a9bae6 get the socket with ap_get_module_config instead of walking the filter chain
2f462c5 core: shorten the wait time in ap_lingering_close() if the "short-lingering-close" connection note is set.
a4d4009 Correct referenced OpenSSL version.
5a5c84a Document mod_lua
4815ab6 More things I'd like to work on.
6ca9940 Some typos.
3746684 Updates.
82f39b4 Apache -> Apache HTTPD or HTTPD.
577a1d6 Rebuild transformations.
5f1c5ec Apache -> Apache HTTP Server
9c6c536 Also extend the timeout if have_lf_or_eos() returned APR_SUCCESS. Spotted by Ruediger Pluem
555372f all signs indicate that status value is always -1 on error
c81cbf5 reduce the warning level in the bindprocessor() call used to make sure child processes aren't bound to the CPU the parent is running on.
d7e4665 API docs are generated via 'make dox'.
23e20a0 54 degrees in Lexington. Looks like it's going to be a warm day.
3654e4c Rebuild translation transformations.
ddf45eb I'm not completely satisfied with this, but I need to stop and come back to it later. This is a complete rewrite, because the original document was, in fact, the original document - that is, it described how NCSA did things. Wow.
d8393ad I'm rewriting the custom error doc, because it is all about how Apache 0.9 differs from NCSA. Geez.
07cf793 Rebuild transformations/translations
1658e1a Apache -> httpd
e4a73b5 Apache -> httpd
5b67e29 Apache -> httpd
65ef50f 'Apache' -> 'Apache HTTP Server' or 'httpd'
bc5b84f Update transformations
9cc85db Apache -> Apache HTTP Server or httpd
a12b88d Correct usage of 'Apache' vs 'httpd' and 'Apache HTTP Server'
cc64f98 A temporary solution to an outdated link. Would be nice to have this autobuilt every few days, and have it on some ASF hardware. Not sure how to go about making that happen, but I'll look into it.
7d6e8d2 Identify more embarrassingly outdated content on our website.
ef57d9d Yikes. The developer docs are dreadful.
e216855 Remove some duplicated items. More details on some items. Attach some names to a few things, so that they'll be guilted into doing something.
a315143 52 deg F and raining in Lexington.
aca63c2 Update STATUS document. One forgets how much there really is to do.
0c3ac93 Hey, maybe we could start using the STATUS file for something more than just taking up disk space.
635e90c Replace 'Apache' with 'Apache HTTP Server' and 'httpd', as appropriate in the context.
70a89ed Typo. And rebuild transformation.
757bed1 Geez. Misspelled httpd.
1f43922 Update docs transformation.
de78557 Update doc transformation.
628fb78 This is part of the attempt to purge the use of 'Apache' to mean 'Apache HTTP Server' or 'httpd'. However, in the process, has come to light that it seems that this document is *WAY* overdue for a major rewrite.
4a87f51 r921347 had a bug report. Add a CHANGES entry.
3596598 - Enforce request timeout even for AP_MODE_GETLINE. - Abort connection when timeout occurs. Otherwise the thread may be blocked   another 30s doing a lingering close. The downside is that the client will   not receive the error message.
ab648bb Move initialization to process_connection hook, right before ap_process_http_request.  This ensures that we are not inserted for other protocol handlers (like mod_ftp) and mod_proxy's backend connections.
24f3924 log remote server port in various places
e508067 Improve ap_log_cerror: - Log remote port - If the connection seems to be a back-end connection, log 'remote' instead of   'client'
e864354 style nit (fix the one unaligned "=" out of fifteen)
7e9963a Typo
0c1301a Encourage people to use Redirect rather than mod_rewrite.
d1b5099 Rebuild transformation.
442aee4 Rebuild transformation.
5ea38a2 Rebuild transformation.
7ae0526 Remove compat note about Apache 1.3.2
a18b7c4 add defaults for AuthLDAPGroupAttribute to the synopsis
bb3c771 elaborate on the T= limiation in per-directory rewrites for PR 36590
f2b9d26 update transformation
40a78f7 Update.
0709992 Sync Changelog
1437a09 update transformation
1bb69c7 try to get bug fix entries for future 2.3.7 alpha caught up with 2.2.15 where appropriate
8e5e0e8 Prevent future developers from being as easily confused; prefix the registered callback function names with regfnXxx.
323d05a revert r918671; these four functions don't need to be addressible except via the function pointers in the EXTENSION_CONTROL_BLOCK
bf715d4 * Only log a 408 if it is no keepalive timeout.
1f19137 Small rearrangement, placing the explanatory text with the example it explains.
bb70f0e follow up to r918665:
bdcc35c fix these warnings:
2052575 fix these warnings (and presumably a similar one in mod_socache_dc.c):
5bb9129 fix this warning:
f4b9c83 fix this error:
e6fc6d3 use separate #error message when APR[-Util] is of a valid version but wasn't built with crypto support
4b5ab55 Typo. Regenerating html
1ff496d Typo
3913a63 reflect assignment of CVE-2010-0434
2aa0ef8 Rebuild transformations.
80d7a70 Tell them how to increase ThreadLimit
b14c2ac Rebuild transformations.
2a03098 Reference Min/MaxSpareServers/Threads when talking about dynamically configuring the side of the server pool.
1afcfa3 Not sure if this is actually useful, but I've been asked often enough that I think it's probably worth mentioning. On the other hand, if someone can't grep the source code for '20000', I'm not sure they should be encouraged ... ;-)
c4d46a6 Awkward phrasing.
f1fcf9f Awkward phrasing.
a74fa9b Cross-linking between (Min|Max)Spare(Servers|Threads).
c98e301 'Address already in use' error message.
f9fd2c0 Another occurance of 'processes'. Rebuild transformations.
e394cd1 Rebuild transformation.
ba146f5 None of the supposedly correct forms of the possessive of process sound very awkward in this sentence. Rephrasing.
29525f5 SECURITY: CVE-2010-0408 (cve.mitre.org)
1ea89a3 SECURITY: CVE-2010-0425 (cve.mitre.org)
64913f1 Make sure we request the APR_FINFO_TYPE on the apr_dir_read() for wildcard configuration.
3ffe82f When loading wildcards that are part of a path, only consider directories and ignore other files. [Dan Poirier, Graham Leggett]
9911c19 overlooked for 10 years, impressive ;-)
2098898 in preparation of fixing 2.2 branch, change again, now to a cast-less solution
81ac265 test svn update
78fee74 Update transformation.
3e7e988 Correct referenced OpenSSL version now that 0.9.8m was released.
3201d77 Add mod_reqtimeout line to Windows default configuration. Submitted by: Gregg L. Smith <lists glewis com>
81bea55 Use portable apr_snprintf in rotatelogs.
71b4ccf Create the pidfile world readable by adding APR_FPROT_WREAD. Use non-deprecated versions of the APR constants.
302e2d7 Try open the pid file twice, once before daemonisation so we can see any error, and once after daemonisation so the child's pid is logged correctly. Patch by Jeff Trawick.
c9b45be build mod_reqtimeout on Windows
4ed50e1 * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLInsecureRenegotiation):   Tweak wording as suggested by trawick.
ffbb8a2 fix base addr of mod_serf
800711d spelling
55b6450 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access): Dump the SSL   error stack if reneg fails; this will give a big hint for failures   due to secure reneg.
0c48255 fix properties
9730a21 validate xml
31764ef Update transforms
7335fa4 Add -L option to create a hard link to the current log file.
8113027 missing file from r915660, major MMN bump already in original revision for this file.
5b5c5fa make some sense of the difference between "Client" and "Global" certs in mod_ldap. PR46541
10c2d6b mod_negotiation: Preserve query string over multiviews negotiation. PR 33112 Joergen Thomsen
9a0ea94 mod_ldap: Eliminate a potential crash with multiple LDAPTrustedClientCert when some are not password-protected.
297dfb6 mention the quirksof REQUEST_FILENAME earlier.  PR48796
28e5688 tweak formatting of some recent entries
16058fa comment only: fix name of hook and try to reword for clarity
ec56aba Fix startup segfault when the Mutex directive is used but no loaded modules use httpd mutexes.
6ffeeeb Fix translation error in Polish 404 error message.
49b65d1 Small typo.
6b8cd1c Updates.
f28e2bd mod_proxy_http: get the headers right in a HEAD request with ProxyErrorOverride.PR 41646 Analysis by Stuart Children; patch by niq
d0b18c8 * Silence compiler warning
705c047 Make a start on explaining the two kinds of "environment variables" that Apache deals with.
6217804 Document that ExpiresActive defaults to off.
d8ade74 Correctly update version numbers after adding new function.
263547b * Really regard the operation a success, when the client aborted the connection.   In addition adjust the log message if the client aborted the connection.
526a3e3 Update the htcacheclean init script to take into account the pid of the running htcacheclean process. This enables htcacheclean to be enabled more than once to clean multiple caches on the same machine.
55f3e48 Make sure the pidfile is deleted on close.
69eeef3 Use APR_PID_T_FMT instead of %ld and a cast.
9916301 Fix the help description.
3821fbf Update transformations.
78469c6 support/rotatelogs: Support the simplest log rotation case, log truncation. Useful when the log is being processed in real time using a command like tail.
266104e More correct fix for compile warning about discarding constness of fname.
1a647a2 support/htcacheclean: Teach it how to write a pid file (modelled on httpd's writing of a pid file) so that it becomes possible to run more than one instance of htcacheclean on the same machine.
0c96068 Log command line on startup, so there's a record of command line arguments like -f.  Suggested by Shaya Potter.  [Dan Poirier] PR: 48752
b1326619 Fix compile warning (discarding constness of fname)
0fb1906 Add missing headers, remove unused variable.
e6d1129 Correctly handle the case where apr_brigade_partition() returns APR_INCOMPLETE and bkt points to the sentinel of ctx->proc_bb and not the sentinel of bb.
1deca13 added NetWare makefile for mod_reflector.
28a3c82 Fix cut and paste fooness, this is not the default handler.
d0046ec Handle the pathological case of a connect backend that sends us an unexpectedly huge response.
92590ca We need to copy the forward proxy data, because it might be reused during later requests using the same backend connection.
8e6c0bd Limit sscanf format to the number of chars actually needed and buffer size provided to prevent buffer overflow.
e8a6cb7 In case zlib initialization fails, make sure we do not modify the Content-* headers before sending the uncompressed content down the filter chain.
0e7ed44 Update transformations.
43a5ac9 Introduce mod_reflector, a handler capable of reflecting POSTed request bodies back within the response through the output filter stack. Can be used to turn an output filter into a web service.
2ba04c9 mod_proxy_http: Make sure that when an ErrorDocument is served from a reverse proxied URL, that the subrequest respects the status of the original request. This brings the behaviour of proxy_handler in line with default_handler. PR 47106.
5c92694 Update transformations.
4770c28 Fix the location of the note.
17e9e4b Support wildcards in both the directory and file components of the path specified by the Include directive.
fb23347 Updates.
ad214bc Update transformations.
8eb4de8 Support remote https proxies by using HTTP CONNECT. PR: 19188 Submitted by: Philippe Dutrueux <lilas evidian.com> Reviewed by: rjung
6786f61 Fix typo in comment.
7dea349 fix additional use of "session" terminology, following r907917
58afc0a fix typo in comment
2ef6f99 style tweaks
2f5fadb * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLInsecureRenegotiation):   Tweak error wording for when the directive is not supported.
4444e07 Illustrate an ->iterator() implementation for mod_socache_shmcb.
3d0fbbf Fix inadvertent changes and be more verbose and correct in logging
e6ce542 The iterator data is not volatile, data aught to be const
29fe6fa The iterator data is not volatile, datalen by value is just fine
c22700d Let us be clearer about suggestions vs. necessity
d633f7e Track time now for retrieve
69de2ec Do not expire an entire subcache on ->retrieve (doh!); only expire a cache hit
dcac7e0 Catch up ssl to socache store expiry change, and clarify what the code is doing
3cc4b9d distcache already demonstrates sub-second resolutions, but much more importantly, let us not introduce more Y2k38 bugs?
1d17660 fix comment typo
379528f missing prototype - compile before committing please
aecc198 change the preprocessor define ap_accept_mutex_type to upper case
54e9063 Style guides at httpd are pretty clear, macro values are UPCASE, please?
5c088f1 Update.
4784eab Note that wildcards in Include directives are not allowed in the directory part of the path, only the filename.
ad308e2 Make the error message correspond to the code, which sets APR_SO_NONBLOCK.
bb616dd Print directive name in error message.
777fda7 Update transforms.
507e747 Be specific about which environment variables can be used in expansions in the server configuration file.
a73f54a Resolve cut-n-paste typo from prior commit
a63cdab Finish libserf magic
4c8baf8 Add ap_process_request_after_handler to the exported list for mod_serf
16b9ccd worker: don't report server has reached MaxClients until it does. Add warning when within MinSpareThreads.
29d92ab Update transformations.
900d2a4 * docs/manual/mod/mod_ssl.xml: Document the supported r->notes values.
41d7f37 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Fixup): Only set the   "ssl-secure-reneg" note if the server supports secure negotiation,   so that a '0' value is unambiguous.
08e1e01 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Fixup): Set   an "ssl-secure-reneg" note indicating whether the client   supports the secure renegotiation TLS extension.
3c81435 * docs/manual/mod/mod_ssl.xml: Warn more clearly about the security impact of SSLInsecureRenegotiation.
aba233e Folks, this is not C++.  Please, pay attention to your patches and don't leave trunk deliberately broken.
dc6e367 Add mod_serf.dsp at last, based on the patch available in;   http://people.apache.org/~wrowe/fixserf-win32-0.3.0.patch although there is trouble here, and pollset troubleshooting ahead.
f8caa33 Remove reference to the Match directive, which was removed in r726082 / r728126.
c9642ce Fix CHANGES entry to reflect change in r904853
f0f1003 Add docstring for ap_pregsub()
8635df0 Regenerate docs.
e1aee30 * mod_ssl.xml: Document the SSL_SECURE_RENEG envvar, and SSLInsecureRenegotiation.
ade83fa * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl): Add   SSL_SECURE_RENEG variable to indicate support for secure reneg.
f1e767f New releases of OpenSSL will only allow secure renegotiation by default.  Add an "SSLInsecureRenegotiation" directive to enable renegotiation against unpatched clients, to ease transition:
262c416 * Use loglevel value for parsing
c48364c mod_session: Session expiry was being initialised, but not updated on each session save, resulting in timed out sessions when there should not have been. Fixed.
200db0e Update transformations.
60821a3 replace duplicate code with new function ap_parse_log_level()
5314f77 mod_log_config: Add the R option to log the handler used within the request. Submitted by: Christian Folini <christian.folini netnea com>
d9ea2d6 Allow fine control over the removal of Last-Modified and ETag headers within the INCLUDES filter, making it possible to cache responses if desired. Fix the default value of the SSIAccessEnable directive.
389e771 Updates for french files, and a little typo in manual/mod/mod_autoindex.xml.
6856b14 Replace the Define !FOO syntax by a new UnDefine directive.
2d507c2 Allow the Define directive to undefine a variable by prefixing the argument with a '!'.
dc82c3e Ooops. We are at 2.3.6 by now.
7b74009 Make ap_pregsub(), used by AliasMatch and friends, use the same syntax for regex backreferences as mod_rewrite and mod_include: Remove the use of '&' as an alias for '$0' and allow to escape any character with a backslash.
cc50d64 Update transformations
ba38707 * Make autoindex.t from perl testframework work again
52584f7 Fix two typos revealed by xmllint
7c33969 Move core flags into core.xml directives
e7cb3d2 * Remove unused variable to silence compiler warning
7b0668b * We need to return an int as result of the pre_config hook.
d008bbe Use correct comment style.
763e7b8 alphabetical order is a good thing.
eaaba5d Rebuild HTML
19f05a3 Adds documentation for the new AddAltClass IndexOption, and for the new CSS classes provided by IndexStyleSheet
ecdfd66 Applies the patch provided in ticket 34014, enhancing the CSS abilities of mod_autoindex. Documentation to follow momentarily.
bddf930 Fix default OSCP stapling port.
78cf8c9 Refactor mod_status out of the ExtendedStatus toggle picture, as other modules can and should be able to use this scoreboard information. Rename suggestions for such a directive are welcomed.
0d7fe7f mod_authnz_ldap: If AuthLDAPCharsetConfig is set, also convert the password to UTF-8.
5d86539 ab: Fix number of requests per second in HTML output being to large by a factor of 1000
fa60d18 Change LDAP authentication failures (user->DN or password check) to log level INFO from log level WARNING.  This is still liberal for authn providers.
2211d9d Note that a firewall silently dropping packets is a mis-configuration.
006cdf7 Move the ldap_simple_bind() + ldap_result() code implementing a timeout into a utility function and use it to replace the other occurence of ldap_simple_bind_s().
bd69dfc changed strcasestr() to ap_strcasestr() to fix broken NetWare compile.
1d7922d fix LDAPConnectionTimeout, take a stab at newly added LDAPTimeout
252a0f2 Update transformations
b2df118 Rename RequestTimeout into RequestReadTimeout and change the configuration syntax again. Hopefully this makes it easier to understand.
a949ec2 fix maintainer mode ap_strstr() argument mismatch warnings
f93309c roll on to 2.3.6-dev
25b496c prep for 2.3.5 tag
1a32197 Because the redirect-request survives logging, we don't have the same exposure as subrequests, and this change would have doubled the headers.  Revert this bit of the headers_in 'consistification'
115c1e4 Correctly align the behavior of headers_in to be consistent with the treatment of headers_out, resolving PR 48359 by keeping subrequest scope changes out of the main request headers.  This ensures that all requests-without-bodies behave as the requests-with-bodies code has.
3250344 Back out mod_serf changes for the immediate alpha, until libs are worked out
8896974 Finish adding mod_serf before reverting it for this alpha
3aff695 Such macros exist for a reason :)
27a6bab Design error; main.c is not part of the libhttpd, you can't forward referrence storage like this.  Move the variable allocation into the ap_ library module.
a9d3d06 Add mod_serf to the win32 build
3560f2e Turn static function get_server_name_for_url() into public function ap_get_server_name_for_url() and use it where appropriate. This fixes mod_rewrite generating invalid URLs for redirects to IPv6 literal addresses.
826357c Fix typos
2ce7edc Clarify references to arguments in the Header directive documentation. (The first argument is optional, so referring to any argument by absolute position is ambiguous).
09f43b8 * Fix compiler warning about wrong format
e87803f Introduce new config option LDAPTimeout to set the timeout for operations like bind and search.
2173f71 Allow several of the configured session identifiers to be found and removed in a single request.
e4eef0c We shouldn't need to create r->allowed_methods twice!
ceac857 Updates and 2 little typos in manual/mod/mod_rewrite.xml.
aa80ddb clarify LDAPConnectionTimeout behavior/availability which is really just passed along to the SDK when applicable.
0b90b02 clarify that FileETag is for static files only, and explicitly mention that ETags aren't generated for files parsed by mod_include.
5f941fb Comment-out all unused types for faster processing at start-up and easier reading with a syntax-highlighting editor.
2186147 Update transformations
49d8659 Similar to r893874, fix the ProxyPass example accoding to the trailing slash rule. PR: 48459
906b282 Sync with IANA registry as of 04 Jan 2010 18:22 PST
b134f9a 2009 -> 2010 in the copyright statement. Nobody seems to know if this is actually necessary, but it's sort of an annual tradition. We think tradition is pretty important.
158b4db updates.
7b31471 Name this doc a little more clearly.
2af96f1 Fix potential segfault when dereferencing NULL request_rec
eef9d65 version/compat messages on flags that have been recently added.
e9021c0 Adds helpful diagrams to the rewrite intro document, provided by Joseph Pecoraro.
2c69a85 Rewriterule syntax with new phrasing.
66a3746 Two more syntax diagrams that I'd like to use in the docs. However, I've requested a phrasing change to the rewriterule diagram, so I'll hold off on adding it to the doc until I hear back. These images donated by Joseph Pecoraro.
99b0e3b update transformation
372a051 Replace rewriterule/rewritecond flow diagram with a easier-to-read version donated by Joseph Pecoraro.
5043839 don't use translations of example.com.
ec11db9 Rewrite rule flow. Diagram donated by Joseph Pecoraro.
b78d146 update transformation
42e7328 fix tokens
84d0072 I need to get around to writing this ...
5da4852 Removes duplication of the RewriteRule flags documentation. The module doc contains a table of definitions. The rewrite flag doc contains detailed explanations and examples.
79dc845 Typo, and a few additional details.
cebd692 Makes each flag a top-level section in this doc, thereby giving it a navigation link in the right navigation box. I think that makes this page much more useful, particularly when it becomes the primary resource for rewriterule flags and their use. Also adds some detail on several of the flags.
88e8db9 A few minor tweaks to the flags doc. Getting ready to rearrange the flags in the main module doc vs this file.
92cf9b9 Move ProxyFtpDirCharset from mod_proxy to mod_proxy_ftp.
6902a7e follow up r894425:
517aec9 tweak handling for default allowed ports
255f446 Move AllowCONNECT from mod_proxy to mod_proxy_connect.
c4b0fa2 Adds a [QSD] flag to RewriteRule to discard unwanted query strings without the old kludge of sticking a ? on the end of the target URI.
930ae2b Fix string constness to get rid of gcc compiler warnings by -Wwrite-strings.
b0f0d5d Add parentheses to min max macro functions to avoid future bugs.
a197286 Fix string constness to get rid of gcc compiler warnings by -Wwrite-strings.
159afce Initialize variable to avoid compiler warnings.
0534f5f Fix string constness to get rid of gcc compiler warnings by -Wwrite-strings.
b4e16be string constness
14e5204 Clarify that the doc is about mod_rewrite. Several people have recently commented that they couldn't quickly find the rewrite d
dd2d2be Adds a clarification to the AddDescription docs, to address the confusion indicated in https://issues.apache.org/bugzilla/show_bug.cgi?id=17210 The problem described there is fixed by a reordering of the AddDescription directives.
49c41e7 Rebuilding docs to get some of the changes that have been made recently and never rebuilt.
9faa2c8 Applies patch provided in https://issues.apache.org/bugzilla/show_bug.cgi?id=47463 to clarify the use of -NameWidth
36d32b4 Adds alternating CSS classes to table rows for trendy striped table support.
818ccfe Missing </section> tag from whenever this was last modified.
4cabc39 The ReadmeName directive was putting its value in the wrong place, and overwriting the HeaderName value.
4ce403b Updates.
d2adb25 mod_filter: enable filters to be configured on non-200 responses PR 48377
76ea26f mod_headers: Enable multi-match-and-replace edit option PR 47066
65d3f49 mod_headers: align Header Edit with Header Set on Content-Type PR 48422 Adapted patch from Cyril Bonté
103b68d Fix r893871 as noted by rpluem, to remove risk of returning a relative-ised URL, and fix erroneous CHANGES bug attribution.
c62fc40 update transformation
f33af3a Fix the ProxyPass example accoding to the trailing slash rule.
71b01f9 Proxy: fix ProxyPassReverse with relative URL PR 38864
16c7c53 * With APR >= 2.0 there is no longer an APR-UTIL only an APR.
2b9bba8 bump pending version
0cd059e Fix a mistranslation.
2631cbd Strip SHARED_CORE deadwood. PR 46239
e0a6f42 mod_autoindex: support XHTML as equivalent to HTML in IndexOptions, ScanHTMLTitles, ReadmeName, HeaderName PR 48416 [Dmitry Bakshaev <dab18 izhnet.ru>, Nick Kew]
71702c4 (re)-introduce -T commandline option to suppress documentroot check at startup PR 41887 Patch by Jan van den Berg
cc8eabe Fix up r892678 as pointed out by rpluem.
c140c94 Reject requests containing (invalid) NULL characters in request line or request headers. PR 43039
b9eb288 Improve the wording.
8a66869 * Do an exact match of the keys defined by CacheIgnoreURLSessionIdentifiers   against the querystring instead of a partial match.
7f96be7 Document the ability to use shell environment variables in the configuration file.
179fb6b catch up on recently-added hooks add the exception hook, which isn't built by default
44ad157 apache_probes.h is generated by configure
2ece9dd sort by probe name
c9897cc Further mitigation for the TLS renegotation attack, CVE-2009-3555:
730a42e Fix crash in balancer-manager.
e76a013 Little typo.
e76a453 Correctly reference the apr_crypto_t context as a context and not a factory, using the new name apr_crypto_make.
2d3400d Update transforms.
8cd7ce4 Expand on mod_alias documentation. Add a link from the glossary entry on regular expressions to the wikipedia page that seems to be a good reference for the syntax of PCRE's flavor of regular expressions.
941c802 Don't capture matches if you're going to discard them - replaces ^(.+) with just ^ for a rewrite rule that doesn't use $1.
3ae6904 Patch from Mark Watts. Mention ProxyErrorOverride.
991dd64 revert r832627, because it uses invalid xml structure
d70cd37 update transformation
73eaf98 fix properties
140031b * Ensure that the new table values are allocated from the pool of the main   request as they might be added to the header tables of the main request.   Otherwise these values might become invalid once the subrequest and its   pool gets destroyed.
1322b46 We're going to need a separate document which discusses the question of using mod_rewrite in .htaccess files - both the fact that it's not required (as the current myth seems to hold) and the fact that things are subtly more complicated in per-dir context.
76709be Use "=" instead of "==" in test condition for improved shell compatibility.
33b33d1 Don't keepalive when we send a non-100 response while Client is expecting 100 and may be feeding us continuation data. PR 47087
b310db9 Updates.
716a232 Small typos.
43db5e2 The default sysconfdif is conf, not etc
143e2f9 * server/scoreboard.c::ap_create_scoreboard
6ffd71c catch up with updated Mutex syntax
6536e1e fix this: util_mutex.c: In function ‘ap_set_mutex’: util_mutex.c:188: warning: comparison between pointer and integer util_mutex.c:174: warning: unused variable ‘type’
b0ab99d fix this: mod_auth_digest.c: In function ‘set_shmem_size’: mod_auth_digest.c:681: warning: format ‘%ld’ expects type ‘long int’, but argument 7 has type ‘apr_size_t’
13cb638 Add OmitPID keyword on Mutex directive to suppress the addition of the parent pid to the generated lock file name.
2526397 fixed NetWare makefiles for newer pcre.
740064c include definition of cmd_parms
03a066c more NetWare makefile cleanups.
84bda0e added watchdog module to NetWare internal module list.
fc9275d fixed pcre NetWare makefile var.
a66a143 more NetWare makefile fixes and cleanups.
14f5f18 fixed NetWare proxy export list; only build mod_serf if we have zlib.
f568428 Revert nonsense I introduced in r885689; solve cl test correctly
3e338e4 Elaborate on low hanging XXX fruit
6a6cc5a Add mod_proxy_scgi; PR 48303; Submitted by: Gregg L. Smith <lists glewis.com>
54f54ed Add mod_proxy_scgi; PR 48303; Submitted by: Gregg L. Smith <lists glewis.com>
1dafd47 Rpm package: pass the HTTPD_LANG variable to the httpd process in line with Fedora. Remove the use of the apachectl script, as a script calling another script makes no sense. Test for the pidfile specifically, so that Redhat's scripts don't fall back to using pidof and returning the status of other httpd processes running on the same box.
a681f7e update transformation
0cc4a12 block setting debug level if AP_LDAP_OPT_DEBUG is not defined.
7c5022c Little typo.
7523fe8 Updates for french translations and small typos for manual/mod/mod_reqtimeout.xml.
2ee6350 Moves the rewrite portion of the mass vhosts doc into the rewrite doc tree. We don't actually want to encourage people to use mod_rewrite for this anyways.
3d05ffe Replaces the two-step process with a single rule using the RewriteCond backreference. This technique is far simpler, and far easier to explain to beginners than the unnecessarily complicated technique used.
c195b52 Other minor cosmetic changes.
fdbf035 It appears that the mass vhosts document need a lot more love than I initially thought. No wonder people are confused about this topic.
e5e942e Adds links to the other new documents.
c5170f7 Clarifying some of the phrasing, and removing some of the chattiness from the example itself. Will eventually remove duplication between this doc and the rewrite/vhosts.xml doc.
a0ec8c8 sync to CHANGES to 2.3.4/2.3.5
e8403c5 roll on to 2.3.5-dev
464c005 prepare for 2.3.4 tag
d54cbf0 update generate docs
4f251a6 remove SSLMutex documentation
19c0d85 generated doc updates
6565e22 move a couple of special warnings for SysV sems and Posix sems out of the performance tuning guide and into the common Mutex documentation; remove the other (duplicate) information from that guide and instead point to the Mutex directive
e2a3410 non-static directive parsers should be AP_DECLARE_NONSTD()
7d8d2a3 fix the "fix" in r883816
7e6399e fix Win32 compile failure in r883540, reported by Gregg Smith
1254b08 fix Win32 compile failure in r883540, reported by Gregg Smith
8cfde79 fix Win32 compile failure in r883540, reported by Gregg Smith
48a542e document the new Mutex directive, pulling in any existing special considerations described in the documentation of the old LockFile, AcceptMutex, RewriteLock, and SSLMutex directives
0644e02 tweaks to r883540:   watchdog: use better mutex type name   ldap/digest: use same FOO_mutex_type variable name as other modules     for easier searching
8b224c7 fix recognition of the Mutex directive (problem in r883540)
2e9668a Replace AcceptMutex, LockFile, RewriteLock, SSLMutex, SSLStaplingMutex, and WatchdogMutexPath with a single Mutex directive.  Add APIs to simplify setup and user customization of APR proc and global mutexes. (See util_mutex.h.)  Build-time setting DEFAULT_LOCKFILE is no longer respected; set DEFAULT_REL_RUNTIMEDIR instead.
b5a24b1 KeepAlive no longer accepts other than On|Off.
16e46bd Updates.
5148279 continue clarification of RewriteBase, lots of users who install little PHP apps with an Alias a) leave off RewriteBase then b) add the filesystem path instead of the URL-path then c) spend hours trying to debug the RewriteRules themselves.
cc39ce5 update transformation
74ee9a5 fix config context tokens
8a4bf06 fix validity problems
c62e741 svn:eol-style = native
449c3e8 automatically replace LastChangedRevision
dcd7973 Correct error. Patch from Lucien Gentis.
afe52d3 fix typo in AcceptFilter-related comment
01026cb remove dead code related to the accept mutex
23fb8c9 axe some vestiges of Event's accept mutex
13cec8a Starts on the vhosts document. Need to eliminate duplication with the main /docs/vhosts/mass.html doc.
bb4e2ac Adds vhosts and proxy docs, and updates the seealso sections in everything. proxy only has one rule in it, and vhosts is empty. Will fix that soon.
ba4f21e Adds a 'rewrite everything' or 'fallback resource' rule.
5c864bf fixed NetWare objects output directory naming take 2.
ec26e0f fixed NetWare objects output directory naming.
b35678c actually modify the MMN for the dav_error change, as expected with r882274
540cecc Remove errno from dav_error interface.  Calls to dav_new_error() and dav_new_error_tag() must be adjusted to add an apr_status_t parameter.
d854b9d fix or complain about some invalid errno references
d152d31 Flags patch from Igor Galić. Corrects error in noting what status codes can be specified.
13852f1 doc for AuthLDAPBindAuthoritative
d5861f0 Add AuthLDAPBindAuthoritative to allow other authentication providers a chance to run when mod_authnz_ldap finds a user but can't verify their password.
a256895 * modules/ssl/ssl_engine_kernel.c (ssl_callback_Info): Cast away the   constness of SSL * before calling SSL_get_state, to fix warning with   older OpenSSLs.
a8d83f5 Remove more refences to rewrite_guide.html
98577e7 Remove references to the now-gone rewrite-guide.html
3aff211 Moves the last of the rules from the monolithic rewrite_guide into topic-specific sub-pages. Still a lot of cleanup and improvement can be done, but this is a good first step.
03af895 Moving yet another recipe. Almost done with this exercise.
ef5fc9c tweak r823613/PR 47951 change to avoid /usr/sbin/install on Solaris
6d32b7b This isn't Apache 2.0 any more.
1720e1e Logging in to bugzilla gives me the bug reporter's details to record correctly in CHANGES.
4872680 Build: fix --with-module to work as documented PR 43881 Submitted: Gez Saunders Reviewed: Nick Kew
9222408 fix VPATH builds, broken by the support for --enable-mpms-shared
acb8dce Not sure this is actually a useful recipe, but it belongs in the access file.
4789760 support --enable-mpms-shared (without argument) and --disable-mpms-shared
99d2822 fix bad doc for an argument to APACHE_MPM_MODULE()
ba9199c Update.
330b335 Improve hack to "determine" if APR supports thread-safe pollsets by hiding the presence of kqueue() on Leopard, matching APR's configuration.
f1b955e Removes another bogus example. Use <Proxy> blocks instead, and standard access control methods. Also, the note about loading mod_rewrite before mod_proxy isn't actually relevant any more.
95a33e7 This is a really cool example, and I don't want to lose it. However, I'm reasonably sure that there's easier ways to do this, and I'm not yet sure that the example given actually works. Need to revisit this soon.
18c9340 Removes an inscrutable recipe - I don't know what problem it's trying to solve, and the solution appears to be a completely useless use of RewriteMap to solve a trivial problem that could be better done with Alias. Am I missing something?
d7475cb update generated html and metadata
9c6f5f1 update MPM doc to cover new MPM defaults and MPMs as DSO modules
108cb76 Adds a couple of seealso's.
925dffe Corrects the page title.
c32c165 Removes a lengthy and unnecessary discussion of the various methods of load balancing. Removes a RewriteMap prg load balancing script, and replaces it with a RewriteMap rnd example of the same, as well as an admonition to use mod_proxy_balancer instead.
bf553f4 Corrects links to the reference documentation.
118edd6 Move the 'vhost per user' rule, and add commentary.
8ff931d fix CHANGES entries: mod_dav_fs -> mod_dav
4b0455e * Use correct #ifndef's to compile again on openssl 0.9.8 and fix compiler   warnings.
fce8279 roll on to 2.3.4-dev
9c794e0 Prepare for 2.3.3 release tag.
d06145f When moving a file over device boundaries and unlinking the source file fails because it does not exist anymore, don't unlink the destination file.
c62db92 s/cange/change/
aa875cf Revert removal of the key_type byte in the lock key. There is no need to break the format on systems without inodes.
6af9d4c fix off by one error
3ce0b4f Fix broken config check for *max timeouts Fix floating point exception for *minrate == 0
5f2b409 fix e-mail address format
b90aee1 enable support for ECC keys and ECDH ciphers.  Tested against OpenSSL 1.0.0b3.  [Vipul Gupta vipul.gupta sun.com, Sander Temme]
953abd3 mod_dav_fs: Include uri when logging a PUT error due to connection abort.
7100033 Return 409 instead of 500 for a LOCK request if the parent resource does not exist or is not a collection.
3db9194 There is a bug report for r834073, therefore add a CHANGES entry.
2cefaf3 Fix compiler warning
69cae4b Fix litmus warning: According to RFC2518, COPY to non-existant collection should give 409 CONFLICT.
539b5f6 Don't delete the whole file if a PUT with content-range failed.
071c3e8 Make PUT with DAV_MODE_WRITE_TRUNC create a temporary file first and, when the transfer has been completed successfully, move it over the old file.
734abfb Instead of checking device ids, try rename first and in case of EXDEV, fallback to copy.
16f79b1 Also remove trailing whitespace in the value
5cd0618 Simplify code by using apr_strtok
d52ef1d Rebuild html from xml typo fixes.
0bfb69f  Little typos.
12e2a81 mod_log_config: Make ${cookie}C correctly match whole cookie names instead of substrings.
23006b3 Update.
48b70fd Typo correction. Thanks Lucien.
c994d6b Some additional new feature goodness to be part of 2.4.  Please review
718a24d * modules/ssl/ssl_engine_kernel.c (ssl_callback_Info): Add parentheses   around bitwise-and.
1b84ebe update pollset to reflect changed connection state before closing the socket; otherwise the pollset-remove can crash (at least with select-based poll, since fd is now -1)
39d5d95 SECURITY: Partial fix for CVE-2009-3555:
4ca6d1c Remove mod_unique_id from the default build. Reviewed by: sctemme, niq, rpluem
65c6965 Update.
8e757f7 Touch file, SVN testing.  Eeek  =)
796d34a expose r->notes to lua
21ecc37 seealso list in all the various docs.
13545fc Little typo.
2929211 Moves the "canonial URL" example to remapping
8adffe5 Moves the "dynamically regenerated" rule to advanced.
cc81b11 Removing a ruleset that not only doesn't have a description, but also can't possibly work, since it contains a fully-qualified URL in the RewriteRule. Feel free to revert iff you can provide a description and a functional rule.
5c7cd4e Moves the 'browser-specific' rule into remapping.
19b535d Moves the 'sharding' rule into the 'advanced' doc.
4896bf4 I'm actually not terribly thrilled with the notion of an "advanced" doc, because that's such an arbitrary designation, and I'm afraid that it will become a catch-all. So if someone wants to do this differently, I certainly won't object.
ea2350a Removing this rule entirely, because it's not meaningful. It relies on REMOTE_IDENT. Browsers stopped sending REMOTE_IDENT 15 years ago, and even when they did, it wasn't trustworthy.
cb6e1e0 * modules/ssl/ssl_toolkit_compat.h: Fix compat with older OpenSSL.
b7a270f Relocates another rule. Please also note that this rule refers to before and after 1.3b6. That's embarrassing. It would be great if someone would apply the relevant changes to the 2.2 and 2.0 docs also.
f73825d Relocates another recipe, and updates it.
9d33d66 * server/mpm/simple: Ignore more.
5848a42 add an early note about the Pattern in a rewriterule behaving counterintuitively in per-directory context. (lots of mysterious no-op rulesets due to ^/ in htaccess)
0aa10f9 * modules/lua/: s/apr_strnatcmp/strcmp/ - strnat*cmp functions are   for natural order string sorting.
afe02c5 tweak MPM configure to avoid having to grep for MPM names in lists of MPMs of some type (threaded or share-able or enabled), as suggested by jorton
4ae86f2 allow setting of r->user from lua
813ff64 map r->err_headers_out into lua
67f9d7c * server/mpm/*: Ignore generated files with MPM DSO builds.
df8d184 * modules/filters/mod_include.c (handle_printenv): Fix handling of   lazy variables, courtesy of LLVM scan-build.
d75bace document --enable-mpms-shared
b2a9160 Should be a leading slash on that regex. Thanks to Bob Ionescu.
a9dcd4c Add a LoadModule directive for the default MPM to the conf file when building MPMs as shared modules.
9ef6b1a ServerAlias and Listen accumulate, not supercede.  The latter of course is n/a to vhosts!
c423645 Split RewriteCond into two sections, brought TestString section up to date.
deb0819 respect the MPM's indication passed on APACHE_MPM_SUPPORTED() of whether or not it can run as a shared library
21fa1f3 added back HAVE_OCSP define hack for non-configure platforms, but only use if HAVE_OCSP is not yet defined as suggested by rpluem.
8abd8d6 We now check for OCSP support in configure, so we can lose an OpenSSL version number check.  Use a type safe STACK.
e30af9e Fix remaining doxygen warnings.  "make dox" is now clean with doxygen version 1.5.8.
d4e7b85 Change the configure-based MPM build mechanism to support building an MPM as a shared shared or dynamic module, primarily using the APACHE_MPM_MODULE() function.
0ec9ced --with-mpm and --enable-mpms-shared: . improve messages . check for inconsistent settings
392910c Brind OS/2 MPM up to date with current API.
ea427a9 update transformation
38d2bb9 update for sync with English docs.
fcc9b1c fixed validation error: Attribute value "proxy-deny" of type ID must be unique within the document. Possibly a copy&paste error
5ef61a6 The hostname requires a http:// on the front of it, since we're redirecting to it. This recipe has apparently been wrong for years.
49fd4ac Build Colm's 'sharding' recipe.
76c420a Correct the time-range for the time-based rewrite rule and warn about the effects of caches.
5149b40 Adding missed </p>
980abd4 Fixup for two grammar nits - pluralisation and articulation.
72ed570 Rewrite the "cluster" section of the rewrite docs. Changes;
6bda489 Removing more cruft, rewriting what's left
c1cd405 Clarify that this technique works in per-directory scope.
9d0bbac Moves another rule over to the category-specific file, and updates it to use more efficient techniques.
33e15a3 more configure-time support for dynamically loadable MPMs:
baecf9e Moves another rule out of rewrite_guide, and updates it for modern versions of mod_rewrite
e7cd7a2 Moves more recipes to their new locations, with some minor changes to each.
cd3e48e Turn that into a warning.
75eaa1e Adds access to the list of resources.
4e13ecb Moves the 'image theft' recipe from rewrite_guide to access
93b1a9c use ap_strchr_c to protect const-ness of input string (and thus quiet gcc in maintainer mode)
3449950 Removes the 'block evil robots' rule from rewrite_guide, moves it to access, and makes it not suck.
093b9d6 Vhosts: treating a pure-numeric Host header as a port is nonsense. PR 44979
fd8ad00 Ripping out the stuff that isn't really module reference, and translating the introduction to English
65da4ac Updating my name
703a4b54 Long ago, I split the rewrite guide into simple and advanced. This was, in retrospect, this seems like a bad idea. Re-merging those two documents, and creating containers for what the docs list has suggested as various new categories for these rules. I expect there will be others.
17392ce Corrects several build errors. This is why we build before we commit, right?
fb422aa Adds two missing flags to this doc, but I'm considering dropping it entirely. I feel it just duplicates content in the reference doc. Opinions?
183a6ef Full doc tree rebuild. This includes some diffs that rename rewrite/rewrite_tech.* to rewrite/tech.*
13089a6 Renames rewrite_tech.* to tech.*
f93a9b9 Renames rewrite_tech.* to tech.*
f9ce571 Adds the newly renamed intro.html.fr
4bfefef Rebuilds the non-english versions to pick up filename changes.
dfb74b6 Doh, did too many renames
68efcb2 Fixing links to match Rich's rename
754ca47 Fixing links to match Rich's rename
ad2932c These are all replaced by intro.* rather than rewrite_intro.*
0931f62 Renames rewrite_flags.html to flags.html
d2b36fc As discussed on the docs mailing list several months back, we're removing the 'rewrite_' from the various files in the rewrite/ directory, since it's redundant. This change moves rewrite_intro to intro. Patches to follow will rename the other rewrite_ files.
7d3058f Rewrite of the overview/introduction for this section of the docs.
2b3afcf follow up r791309 with additional changes to accommodate the new MPM interfaces (some old API variables are now private, support retrieval of the MPM generation, implement the mpm_note_child_killed hook)
e583784 remove declaration for ap_my_generation, which was replaced with the AP_MPMQ_GENERATION query in r757853
a2ec53c A handful of new french doc translations.
2eb4d47 address FAQ of SetEnv environment variables not being available to early directives such as RewriteRule.
fb6cd4c tab and trailing space police.
c09a39a require LDAPReferralHopLimit > 0
7c978c8 a warning about the [trunk-only] LDAP Hop Limit
5f87e4a Stop trying to set the referral HOP limit on each connection since most SDKs don't seem to do anything with it, and causes an error on released openldap levels.
6aaaf82 s/backeld/backend spotted by poirier
4e6f442 add LDAPLibraryDebug directive to mod_ldap to turn on tracing in underlying LDAP SDK, where all the interesting tidbits about all kinds of LDAP errors are hidden.
35e256e removed now obsolete export defines.
108a667 define HAVE_OCSP dependent on OpenSSL version to make things easier for non-configure platforms (NetWare, Win32).
23564c3 * modules/ssl/ssl_toolkit_compat.h: Fold #if checks to enable OCSP   stapling support, and also check that HAVE_OCSP is defined.
7dc3e1f * modules/ssl/ssl_util_stapling.c (stapling_cache_response): Use   apr_time_now() rather than time().
edb0565 * modules/ssl/ssl_util_stapling.c (stapling_cb): Use mySrvFromConn(),   thanks to rpluem.
080f897 * module/ssl/ssl_util_stapling.c: Style fixes, no functional change.
04fd4ab Fix a lot of doxygen warnings.  Thanks to Brad Hards for the patch. I added a few more fixes, and there are still more that might need a doxygen expert.
bdb4326 Add SNI to the glossary
82077be Update transforms
5c792bf Update the SSL FAQ with regard to Server Name Indication.
a7c17df fixed dav_hooks_repository_fs struct member order, fixed comments. Submitted by brian brianfrance.com.
ac908cb Update transforms
e680148 Document that there's a limit on the length of lines in the configuration file.
9596adc fixed indents.
5f7169f changed property.
2db0e1a converted tabs, removed trailing spaces.
e7d5802 CompatEnvVars does not exist anymore
8d279e9 Hint about disabling translation in subdirectories by setting matching, but not necessarily correct, Source and Default charsets.
19c2132 CharsetOptions NoImplicitAdd wasn't referenced during insert_filter callback.
9bd5e6a CharsetOptions NoImplicitAdd makes us fall through to the "unknown option" clause due to breaking "else if", making NoImplicitAdd unconfigurable.
b2cb650 Add support for OCSP "stapling":
299688e Add a note about the DPI rewrite flag, available from 2.2.12 only.
7dc061e Fix brown-paper-bag bug.
a67fd0c Only allow parens in filename if cachesize is given. Return error otherwise to catch missing parens.
7d0f95e Verify that password has been truncated before printing a warning.
22f3878 New .fr translation for mod_deflate doc.
689e017 New .fr translation for mod_expires doc.
9e6b562 829271 was incomplete. This fixes it.
6adf024 New .fr translation for mod_sed doc.
6ad8377 update transformation
cdfb493 svn:eol-style = native
af5398f Only parse cache size in parens at the end of the string. Fixes SSLSessionCache directive mis-parsing parens in pathname.
0a7227e Print a warning if a password is truncated by crypt.
d19092f New .fr translations
35d67d9 htpasswd: Improve out of disk space handling
322565b update transformations
5ed1619 Change the default algorithm for htpasswd to MD5 on all platforms. Crypt with its 8 character limit is not useful anymore.
5f9bd3e * Reduce memory consumption when processing very long lines by at least   doubleing the size of the new buffer each time.
702b9ec Use the new ap_update_child_status_from_conn() to put the client IP into the scoreboard (and show it in mod_status) as soon as we start reading the request.
5debe7f Actually use the whole buffer for reading.
63024e3 update transformation
952bc8b fix context list tokens
a9dbe0d Fix some more overflows spotted by Ruediger Pluem
7d8b3cd svn:eol-style = native
cc12e39 detab
cb80694 htdigest: Fix possible overflow in command line processing. htdigest is not supposed to be suid save, therefore not treated as a security issue.
97944da ab: Fix segfault in case the argument for -n is a very large number.
66bcb9d Update.
98e79bd New .fr translation for mod_cache trunk doc
dae03e1 update transformation
fc244b2 update for sync with English docs.
523134d fix validation error
8e83f1e commented out non-existing directory.
d1d1755 A handful of new french translations for trunk docs.
fc84ba8 mention that "Header onsuccess" is the default and reword the description of "Header always" to talk less about implementation details and more about the FAQ of redirects or 401's.
3d47d2c Adds the frequently-requested example of relaxing authentication for a subdirectory. Whether this is actually a *good* idea is left as an exercise for the reader.
5cd544a * Update transformation
a6c5c8c Rename ReqTimeout into RequestTimeout, to be more in line with other directives.
68e55a7 Note gcc42 and Darwin 10 issues
85b4a8c * With SSLProxyCheckPeerCN and SSLProxyCheckPeerExpire available and turned   on by default this warning is no longer true.
1acb3cb Add example of load balancing with stickyness using mod_headers.
3fa2c0e Allow ProxyPreserveHost to work in <Proxy> sections
134bf4f Updates.
c5e09c5 Stop unexpected error logs in each requests. sock_write returns not size but status.
d80f3a6 configure: Fix THREADED_MPMS so that mod_cgid is enabled again for worker MPM.
2fbb169 Added french translation for mod_proxy documentation.
9a107e7 mod_dav: Provide a mechanism to obtain the request_rec and pathname from the dav_resource. Submitted by: Jari Urpalainen <jari.urpalainen nokia.com>,               Brian France <brian brianfrance.com>
bb74648 bump pending version
1590cdf Add PR number for r823613.
c7d3836 Build: Use install instead of cp if available on installing modules to avoid segfault.
c2dad24 Update doc to match change to mod_cache to include s-maxage in some cacheability decisions.
17df062 mod_cache: add Cache-control: s-maxage to cacheability decisions per RFC 2616.
9202376 mod_logio: introduce new optional function ap_logio_get_last_bytes to get total byte count of last request.
3c6bce6 When pick was zero no worker where choosen.
d33e570 remove CHANGES entry
db9af5a Update comments in util_filter.h about bucket and brigade ownership to reflect current practice and the advice from manual/developer/output-filters.xml.
cf421bd add note about ssl renegotiation
c673a9f Oops the slotmem uses apr_time_now. Can't use stat on shared memory :-)
02dd4c9 update transformations
6cb0d58 Add some docs for mod_reqtimeout.
da0e12a Work around broken cache management in mod_ldap: If LDAPSharedCacheSize is too small, try to free some memory by purging the cache and log a warning.
eded0f9 mod_rewrite: Make sure that a hostname:port isn't fully qualified if the request is a CONNECT request. Submitted by: Bill Zajac <billz consultla.com>
735cb04 Update transformations.
ae50b75 mod_cache: Teach CacheEnable and CacheDisable to work from within a Location section, in line with how ProxyPass works.
41bdef9 No need to constantly compute these; do so once at config time and use as needed :)
55ab770 removed batch file used for CodeWarrior IDE project file since its not maintained nor used anymore. If in future someone wants to pick it up and update / fix it then it can still be checked out from previous revisions.
473e1d2 removed CodeWarrior IDE project file since its not maintained nor used anymore, and thus unusable in its current shape. If in future someone wants to pick it up and update / fix it then it can still be checked out from previous revisions.
27c9eaf Refactor mod_reqtimeout a bit to use just 1 directives with multiple params...
29a4d8a Back out r818492 which prevented all caching of incomplete responses. Instead move the check to mod_disk_cache.  This leaves cache implementations the flexibility to implement caching of incomplete responses. PR: 15866
f32c6ed replaced all backticks with single quotes in output strings.
5d8bca2 removed obsolete stuff from NetWare export generator script.
c0a0d08 no declarations after statements.
08c4779 added mod_reqtimeout to NetWare build; fixed some NWGNU* properties.
318e433 Add mod_reqtimeout: New module to set timeouts and minimum data rates for receiving requests from the client.
f150bc9 Ensure that we call ap_meets_conditions() in the mod_cache normal handler case, so that conditional requests are handled properly.
625c214 Correct the attribution in CHANGES.
a922151 Style fixes.
a2bb3c8 Remove the server_rec wired into uri_meets_conditions, the debugging statements that required it were removed in the past, so wiring through server_rec is no longer necessary.
51d5fc6 * Fix 'may be used uninitialized in this function' compiler warning.
df93c4d Added french translation for mod_autoindex doc
ea4bb54 property cleanup
70c30ce update transformation
41921e2 Added french translation for mod_proxy_http
8ab0bd2 Added fr translation for mod_ldap
fc56f8d merge if blocks
aa726d1 cleanup brigade before reusing it
922454b Make sure to not destroy bucket brigades that have been created by earlier filters. Otherwise the pool cleanups would be removed causing potential memory leaks later on.
3e9367c Only use fcntl() if we have fcntl.h
fbdde88 core, mod_deflate, mod_sed: Reduce memory usage by reusing bucket brigades in several places
a09941b refactor child status update functions to accommodate the addition of ap_update_child_status_from_conn()
344031c Update transformations.
050515d mod_cache: Fix uri_meets_conditions() so that CacheEnable will match by scheme, or by a wildcarded hostname. PR: 40169 Submitted by: Peter Grandi <pg_asf asf.for.sabi.co.uk> Reviewed by: Graham Leggett
9adcc73 suexec: Allow to log an error if exec fails by setting FD_CLOEXEC on the log file instead of closing it.
abcfac3 Provide new  ap_update_child_status_from_conn() mostly for use with mod_noloris.c Add some logic protection, for NULL ref, which shoulda be there in any case.
f7ecd38 Remove an unused variable.
131e03e Make RemoveType override the info from TypesConfig
74e2805 Update transformations.
3ae6189 mod_cache: Introduce the option to run the cache from within the normal request handler, and to allow fine grained control over where in the filter chain content is cached.
761098c Remove text implying "Require valid-user" is handled by mod_authnz_ldap, which makes the behavior of AuthzLDAPAuthoritative more intuitive.
b28905d added tests to NetWare build.
b5532dc core: Treat timeout reading request as 408 error, not 400. Log 408 errors in access log as was done in Apache 1.3.x.
d265a0f Allow for pass-thru or early termination of doall() loops
b972542 added NetWare makefiles for test modules.
4fd9ac7 set property.
647dcee prepare to add mod_serf to NetWare build.
0326641 first trial to fix the export list for recent mod_watchdog changes ...
e054fa7 change the callable functions in the mod_watchdog API to optional hooks to avoid module ordering or other symbol resolution issues; affected:
cb60d8c don't override the user's choice (e.g., --enable-watchdog) when deciding how it is enabled by default
b35eb00 * Fix a regression from r724717 by reintroducing SSL_CLIENT_S_DN,   SSL_CLIENT_I_DN, SSL_SERVER_S_DN, SSL_SERVER_I_DN back to the environment   variables to be set by mod_ssl.
2810699 Try to have consistent interface regardless of slotmem or file-based.
1088a86 Added mod_proxy_fcgi to NetWare build.
03012e8 tweak spelling/wording in mod_watchdog documentation
da843ec When connecting to no http protocol response will be NULL and httpd cores.
406bf00 Add port in the logic.
ea1cc8e Spelling fix in comment.
e43f032 Make comment agree with code.
42e280b When using Heartmonitor choose the back-end randomly for the list provider by mod_heartmonitor.
6b75969 typo.
9518cc6 Add slotmem storage logic for multicast logic.
3353db1 added comment about the never reached return statement.
d5bb723 Make sure that --enable-maintainer-mode increase warnings/errors level.
cc81070 when a request body is sent, just display "Total body sent" in the summary instead of making up the past tense of an HTTP method (POST-ed or PUT)
a5aee01 * support/ab.c (output_results): Fix gcc warning on LP64 - field   width passed via '*' must be an int.
900d08e * include/httpd.h: Fix comment implying that LimitRequestLine   and LimitRequestFieldsize cannot raise limits -- no longer the   case.
158ed01 fixed wrong 3rd parameter passed to apr_brigade_split_line(). Problem showed up with Sun Studio; mentioned by Jie Gao on the list.
33b45f9 refactor the representation of HTTP method and whether to send a body, fixing these insignificant bugs:
b409202 Updates.
7bdc3a4 fixed compatibility to Openssl < 0.9.7g.
2a04e6c fixed compatibility to Openssl < 0.9.7g; sync'd compatibility to Openssl >= 0.9.9 with 2.2.x branch.
e738bd8 small code cleanups for POST/PUT, especially to combine common code exit if the file to POST/PUT can't be read
83fea47 * Use strcasecmp instead of strncasecmp as we want to be sure that the whole   word is None and not only the beginning.
a8c8673 Add support for an "epoch" in the RPM spec file. This epoch is a discrete number used to determine if one RPM is newer than another, which in turn ensures that v1.2.10 is always interpreted as newer than v1.2.9.
68dac97 Hmmm... forgot git commit/dcommit.
0de1480 Oops. forgot the declaration
83532ab Enhance ap_hook_monitor to pass along a server_rec (in general the ap_server_conf) and tuck away some storage in there which may be useful as an opaque data pointer.
1a82a91 update transformation
a7476a0 fix compat info for mod_proxy_scgi
9013914 fixed property.
8be8757 Fixed internal NLM name.
fb2aef4 Added mod_proxy_scgi to NetWare build.
546d17c mod_cache: don't cache incomplete responses, per RFC 2616, 13.8.
27bb54d Fix a segfault in ab when run in verbose mode using https.
7f25ae5 update transformation
9fd72cd remove useless line
566a9e9 Add ant task to html manual and man page generation: - check-man checks for the presence of the "man"   directory and sets an ant property skip-man in   case the directory is missing - all the man age generating tasks first call   check-man as a dependency, and then only run   if skip-man is unset.
2ee2cd5 mod_dav: Allow other modules to become providers and add resource types to the DAV response. Submitted by: Jari Urpalainen <jari.urpalainen nokia.com>, Brian France <brian brianfrance.com>
ccad056 Detab.
a653578 New Turkish translation
040b820 fix validation errors
241e538 update transformation
96c72f1 Treat gid's identically to uid's for purposes of numeric formatting.
5ee4ddf use what we know
51097f8 kinda old
809a992 Note that RewriteLog doesn't work in .htaccess files.
201d3d5 * prevent a fork bomb if the accept mutex is clobbered by exiting with   APEXIT_CHILDSICK if the worker process hasn't served any requests * move the accept mutex error leg into its own function to take advantage of   common code and to keep rarely executed instructions out of the mainline   instruction cache.
ed5cf0b * server/log.c: Update comment in piped_log structure, now it is   has been made opaque.
0512402 Just a little additional verbiage for the FallbackResource directive.
c2a484b * modules/ssl/ssl_util_ocsp.c, modules/ssl/ssl_engine_ocsp.c:   Move comment on I/O timeout to appropriate place, thanks to   Steve Henson.
229ca83 * modules/ssl/ssl_util_ocsp.c (send_request,   modssl_dispatch_ocsp_request): Take timeout as argument, as pass through.
8c13e88 Change Fallback to FallbackResource after extensive discussion with wrowe and DrBacchus.
880de39 simplify reporting of the repeated argument error
709b23f defined apr_status_t rv one time at entry of ap_core_output_filter() instead of multiple times within the code which caused compile break every now and then.
5d67263 changed build of proxy modules to use common mod_proxy.imp file.
608b0226 Change "DefaultHandler" to "Fallback" as discussed on list and today on IRC, in the hope that everyone will be satisfied. PR: 47184 + subsequent veto of original directive name
f152c42 respect const-ness of string argument to ap_expr_string()
9af32a4 * Follow the standard CHANGES format for security changes.
807e789 Correct attribution for mod_dav options provider interface.
a9e6e95 * Replace brigade_move with apr_brigade_split_ex as spotted by pquerna.
f9999f9 Add attribution and CVE notices.
9552dd2 mod_dav: Allow other modules to add things to the DAV or Allow headers of an OPTIONS request. Submitted by: Brian France <brian brianfrance.com>
7f34636 * Lower memory usage by reusing the brigade instead of constantly   recerating one.
f1dc8fc * support/htdbm.c (htdbm_list): Fix compiler warning on x86_64.   (the field width must always be passed as an int if using "%.*")
f5ad1a5 * modules/proxy/mod_proxy_ftp.c (parse_epsv_reply): Remove redundant   check for !p[0], thanks rpluem.  Also update to take const argument   and fix comment, since the string is not modified in-place.
2006220 htdbm: don't allocate more memory for every record we dump. Thanks to Jeff Trawick for flagging this. Also ensure a space before all dumped comments.
ba3cb77 Move declaration to remove a compiler warning.
264e4a0 mod_mime: detect invalid use of MultiviewsMatch inside Location and LocationMatch sections.  Document that such usage is not valid. PR47754.
8d3f77b Security fix - this is presumed to fix CVE-2009-3094 (the disclosed information was limited so this has not been confirmed):
7bf3e40 Bring the LDAPCacheEntries and LDAPOpCacheEntries usage() in synch with the manual and the implementation (0 and -1 both disable the cache).
c31a157 mod_request: Make sure the KeptBodySize directive rejects values that aren't valid numbers.
bbca3af Remove trailing whitespace from the mod_request module.
9c0867d mod_session_crypto: Sanity check should the potentially encrypted session cookie be too short.
b890238 mod_session.c: Prevent a segfault when session is added but not configured.
2a63c60 Remove stray trailing whitespace from mod_session.c.
e0f93c1 Bring in support for an arbitrary list of mpms to the RPM spec file as per the fedora spec file.
19831ad * Add missing , to make it compile again.
4c92520 * Detab.
044592b htcacheclean: 19 ways to fail, 1 error message. Fixed.
f598c1b Add an RPM init.d script to start the htcacheclean daemon, controlled by the optional /etc/sysconfig/htcacheclean configuration.
6a92828 Catch the somewhat absurd combination of a 417 error where no Expect header was present.
0f0480b Security fix - this is presumed to fix CVE-2009-3095 (the disclosed information was limited so this has not been confirmed):
a5187ed Fix the RPM init.d script to correctly take into account the pid file when starting and stopping the server. This prevents the init script from blowing away other instances of httpd that might be running on the same machine when someone attempts to stop the server.
cc4511f Fail server startup when mod_auth_digest is unable to provide the security checks configured.
7198d7e hrmm
2cfbd9f doccs
b4abb43 veto-ed
fdc5eea * More style fixes. No functional changes.
7aa37bc * Style fixes. No functional changes.
09ccc5d * Silence compiler warnings
c8fe617 mod_proxy_connect: The connect method doesn't work if the client is connecting to the apache proxy through an ssl socket. Fixed. PR: 29744. Submitted by: Brad Boyer, Mark Cave-Ayland, Julian Gilbey, Fabrice Durand, David Gence, Tim Dodge, Per Gunnar Hans, Emmanuel Elango, Kevin Croft, Rudolf Cardinal
df83bf1 Make sure the NULL terminator of the array is consistent with the other elements in the array.
2796419 Update transformations.
3f5cdb3 <li> must be followed by a matching </li>.
b35a6b5 mod_ssl: The error message when SSLCertificateFile is missing should at least give the name or position of the problematic virtual host definition. [Stefan Fritsch sf sfritsch.de]
6db0a18 mod_auth_digest: When qop is none, client doesn't send nonce count, but module was segfaulting trying to check the nonce count anyway.
d5f75db Note SSL caviet and installer features in windows platform docs.
d0f6dfe Update the ab.xml file with the addition of the -u option to ab to support PUT requests.
1df1bda Add support for HTTP PUT to ab. Submiited by: Jeff Barnes <jbarnesweb yahoo.com>
9ca881a Updates.
c0fb865 An error detect question in comments
c7c6f20 xforms
e35ab94 doccos for soon to be reverted code.
cd4d580 Changed the name of the IRC channel a while back. Fixing it in the FAQ
7b9c01f Now that we have actual released versions after 2.2.11, drop the awkward/confusing exclusive phrasing of "after 2.2.11".
7bd1c74 Remove unused conf variable.
154e8c7 Check return value from ap_pass_brigade incase we are buffering and a client disconnects.
f2915b9 Initialize len to 0, since for some logic paths it might be unset.
51f626e Support mod_rewrite's %{varname} variables in ap_expr default expression parser
383a108 Add suggested parentheses around APR_STATUS_IS_ENOENT.
17d2895 moved "finfo.mtime = 0;" after var declaration; removed tab.
5252dbd Typo and updates.
79f90ca Fix up doc note on ProxyPassMatch quirks - this wording seems to have got accepted in 2.2.x.
1672293 Document ServerTokens Set "One Big Happy Family Server"
4cffc0e And additional ServerTokens improvement...
595b086 Update docs xforms and mappings
ba6c69e Make code match warning message: disable nonce-checking if shared memory isn't available.
f3b9025 Don't let the server start if user has asked for qop=auth-int with mod_auth_digest.  The server can't provide it because it's not implemented yet.
96d0911 Update all xforms
7fe574e OK, might as well finish this... Allow ServerTokens Off
0da446e push_connection, push_server also targetted for export, no?
a38b9f9 Not static; trusting this targetted for export?
1b68ef7 Axe an unused variable.
23a2ebf Add parenthesis for legibility and correcting association, and axe an unused variable
5181635 Always make mod_*.h files available where they exist, modpath by modpath
d0cbb2c Note style flaw, this is rather inappropriate on a global basis, no?
ef81751 %.*s precision supposedly takes an int, according to gcc
aed4311 catch missing .h for install
fd5c214 Make sure when adding a warning, that we don't duplicate an existing warning.
d3e08fa Log the return code in the debug message to properly indicate why the lock could not be obtained.
2e32dbe When attempting to set the stale lock, we will pass try_lock twice. If we already have the lock the first time, we must also have the lock the second time.
9bdbce0 Document limitation to ProxyPassMatch directive. This is a valid bug report PR 46665, which I'm marking as WONTFIX but which needs documenting for what it is.
165dc73 mod_headers: generalise the envclause to support conditional header rules via ap_expr.
9bf7187 Reintroduce an optimisation lost in some cut and paste. The cache lock is removed as soon as we see an EOS, or is removed immediately if a failure has occurred.
6baacf4 Update transformations.
2c379cc mod_cache: Introduce the thundering herd lock, a mechanism to keep the flood of requests at bay that strike a backend webserver as a cached entity goes stale.
1bc6da5 Fix shm, rmm, and lock problems.
60fbe11 Bring back OS/2 support. Reverses r758929 with a little bit of conflict resolution.
3144af1 Update transform for core.
b3ce8d1 Broaden the warning about modifying memory-mapped files, so it's not specific to NFS.
95d288c Preserve port over internal redirection PR#35999 A four-year-old buglet!
93cdac9 Return consistent error status for proxy unable to connect PR 46971
fadce7c Switch mod_dbd to using APR_STATUS_IS_foo macros in error handling
256f3e9 fix wrong name in function prototype which led to unresolved reference at link time
babfab0 Two typos correction.
30c8f22 Updates.
b102bce Don't require all listeners to be created equal ...
0d31b52 Clarification on unit of measure of %D in mod_headers
e04628e Fix a few more broken links, one misspelling, and remove reference to www.fastio.com which apparently doesn't exist anymore. Also update the transformations.
470d20c update transformation
2d9412d update for sync with English docs.
e253561 fixed xml validation
33b53db Broken links
3fadc49 * Do better checking of pollset operations in various places to avoid segfaults.
b975e90 Bring OS/2 MPM back from the dead. Reverses r758899.
cb3406f Updated vhost .fr translations, and added the mass missing file.
02fc923 * Correctly create an empty cell if the description for a file is missing.
648b53a Work around an empty DBM_LIST
3a666be update transformation
e9b43aa Make sure mod_slotmem_shm is included in the final RPM
b4f7631 Use the bzip2 version of the httpd tarball when building from RPM.
dcd3a1e Oops my bad: Stop copying and pasting code. Remove argstr_to_table and use qs_to_table.
7fd850f buildconf:  Fix error "[: -lt: unexpected operator"
ede6e93 Fix warnings.
3947e01 Remove some duplicate extensions (reported by Jacob Rus) Add more unregistered Microsoft types for silverlight (idiots)    http://blogs.msdn.com/tims/archive/2008/03/18/configuring-a-web-server-to-host-silverlight-content.aspx
0d6b9d3 Add the file logic for the handler. (Next step add the slotmem logic for the multicast socket).
ed6da4f Catch up to apr_dbm projects
5b7c958 More 9x legacy
965ad10 Update to 2.2-current, post 2.2 stuff comes next
cea543c removed another obsolete cast. Mentioned by Peter Sylvester.
f166495 ab: Fix broken error messages after resolver or connect() failures.
7dc5818 mark some private module data as "static", resolving a duplicate definition error from the linker
42ef5ed fix type mismatch in argument to attach() method
c43b421 Save some bytes :)
249ada6 Align logic and message :)
d072258 Put the hm_slot_server_t in a common include.
3175d77 removed obsolete cast. Mentioned by Peter Sylvester.
2e9a323 New .fr translation for mod_dir. Committing html files to complete previous commit (core translation)
360f452 Added a new .fr translated file.
0e4810f htdbm: Fix possible buffer overflow if dbm database has very long values.  PR 30586 [Dan Poirier]
85a6ee6 In the case where we have no members, they aren't in error states :)
4a0ebc0 gnu-make's abspath seems broken when the path is already absolute.
b38ebf6 Enable XP visual style.
d9da0a1 Update r795445 patch in the light of rpluem's comments on-list
2b63388 update transformation
8b6c118 update for sync with English docs.
99dfebc mod_dir: Change DefaultHandler to DefaultMapping, and document it
43f2a1b Typo fix
9cd5afd Fix mod_include potential segfault checking backref from unmatched regexp http://markmail.org/message/jlc7t5edsjujbe37 Patch by rpluem, lars, niq
1dcb7a3 removed useless comments added with r795438.
4280a3e enabled building gen_test_char for running on build when cross-compiling; this does not change code for any platform unless CROSS_COMPILE is defined.
6a3d139 Update the document so it matches the last english revision (659902->752951)
68dd7c2 added vars for Metrowerks directories to make it easier configureable.
6656a0e New .fr translation for the rewrite module.
c325b62 enable building the NetWare build helpers for running on Win32.
085441a New SSL .fr translations.
c7943be update transformation
13e78f3 validate xml
31285c6 update transformation
c77e341 rewrite : Completed the doc .fr translation.
8961d59 SSL : New .fr translation files
9bd30c3 skip another lua source file with NetWare build.
9ad9995 Added french translation for some rewrite files.
cda78b3 and another NetWare build fix for mod_lua.
3aa02d2 final NetWare mod_lua build fixes.
a62cd91 added mod_lua to the NetWare build.
434b583 added NetWare makefile for mod_lua.
d6dd4e7 fixed NetWare vpath; reverted include path removal from r793197.
78ecc73 fixed typo.
897ffb8 added NetWare build SDK path sanity checks.
8037277 added NetWare build defaults; added path sanity checks; removed obsolete include path.
9b1fd1f Updated after english file modification.
10d068a Add the missing include of apu_version.h and thus fix a build failure.
924367c * Return APR_EOF if request body is shorter than the length announced by the   client.
65f63d2 * Silence compiler warnings about unused variables.
1bcd22d finally fixed NetWare export list (thanks help from rjung).
7b1890fb next step for fixing NetWare exports list.
8226194 first trial to add mod_watchdog functions to export list.
097368e another NetWare build fix - added some more symbols.
a427710 fixed types, fixed NetWare build.
3e27e59 fixed import list.
78677ae added mod_watchdog to NetWare build.
748b4a8 removed font clutter as suggested by niq.
c195bdb some more NetWare build tweaks.
266b72f added compile-time apr / apr-util versions as wrowe suggested.
84c7d1c Add use slotmem. Directive HeartbeatMaxServers > 10 to activate the logic. Otherwise it uses the file logic to store the heartbeats.
0b9ada6 Use uninterruptable write; noted borrowing this code for lowportd (mod_ftp)
0368471 removed unused var (seems a leftover from 1.3 days).
271aa4b dont delete .d files since we have now some in source tree. If we generate dependency files then we must name them .dep.
6017956 some NetWare build improvements.
7c6ad16 added start/stop scripts to installation.
5919659 fixed NetWare build includes.
1dc04a4 added makefile for mod_noloris
ba1d4ad fixed var name, fixed memset parameter, changed to ap_get_scoreboard_worker_from_indexes()
8ba2f2e Arrange the slotmem chain logic in attach() too.
e1b7579 Arrange the slotmem chain logic.
3480b29 fixed NetWare build.
cf067dc Fix incorrect "Userdir enabled" usage cases in the docs. The actual documentation of the directive is accurate, but the examples were incorrect, as noted in PR 42910.
777f02e Correctly set suexec_enabled when httpd is run by non-root PR 42175
a7a0870 added apr / apr-util version output (part two).
2b63bdb added apr / apr-util version output.
0dce453 first hacks to make mpm_netware usable again; not ready yet!
8cbd56c for now excluded the ap_mpm_pod_* functions from export list.
4e30b6b fixed typo.
998f06a mod_noloris: switch to fixed-sized shm ip storage, correct size, avoid strstr
e2430ea update transformation
8a4917b update for sync with English doc.
b5c7491 Security fix for CVE-2009-1890:
d15e451 mod_noloris just moved from discussion to attracting its first patch on dev@.  That means it wants to be in svn.  Adding to modules/experimental pending anything more definite.
8d9272c * server/mpm/simple/simple_run.c     (simple_setup_pollcb): If the pollset was created successfully, break out of the loop :)
ec9a41f Only remove sockets from the pollcb when they have events being polled for.
410f6fc server/mpm/simple/simple_run.c     (simple_setup_pollcb): Only pollcbs created using KQueue, EPoll or Event Ports operate correctly with removing sockets across threads.
e0cc293 Fixed comment. Submitted by Arfrever Frehtes Taifersar Arahesis.
1d74f16 Fix previous commits. Forgot <br /> at the end of a couple of lines.
c1d4138 New french translation.
ee84af7 Complete previous commit, by marking the second invalid configuration example as such.
ce732a6 The first configuration example in the file is misconfiguration. Mark it so "quick" reader won't copy/paste it to their config.
7215340 New .fr translations.
eeb8cb9 ErrorDocument may be used in .htaccess if AllowOverride is set "to Fileinfo" rather than "accordingly".
a94b2e9 Don't set worker->s if already set (for balancer using slotmem for examples).
efcb56a Fix hung SSL handshake if a particularly long CA list is configured:
b524a58 added mod_remoteip to NetWare build.
781f39a * modules/ssl/ssl_engine_io.c (bio_filter_out_ctrl): Switch   implementation of BIO_CTRL_PENDING and BIO_CTRL_WPENDING, to return   zero and pending-bytes-to-write respectively.
abb49b2 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert_dn_rec): Map   the _UID variable to NID_userId, where defined by OpenSSL.
b87a892 * module/ssl/ssl_engine_io.c: Comment bio_filter_out_ctx_t.
10177a5 mod_proxy_http: fix case sensitivity checking transfer encoding PR 47383 [Ryuzo Yamamoto]
56195d4 mod_alias: Ensure Redirect issues a valid URL PR 44020 Patch by Håkon Stordahl
19608c7 Broken directive
bb10105 One small typo.
1d0a22f Fix bug in r785425 (dereference null pointer when not configured) and add a couple of comments.
f7ff190 Add DefaultHandler directive to mod_dir. PR 47184
c194519 change use of luaL_openlib to luaL_register via path from Arfrever Frehtes Taifersar Arahesis
3268b2d change use of luaL_openlib to luaL_register via path from Arfrever Frehtes Taifersar Arahesis
018bda3 remove unusable test file
ed7b810 Some typos.
96e87df Some typos.
680811d Update.
40c8188 * Close the accepted fd in the error case to avoid a file descriptor leak.
c250b42 * Close the listening Unix socket of the mod_cgid daemon in the CGI scripts.
d0f13e5 * Remove locking for writing to the rewritelog. There seems to be no reason   why locking is required here.   See also: http://marc.info/?l=apache-httpd-dev&m=124282193217344&w=2
e0e30f7 doc xforms
3624723 no-cache envvar: copy the compatability note from 2.2.x for env.xml, add compat note inline for refereneces in CacheEnable/CacheDisable.
6b4c0b4 update transformation
82fc3a5 apparently a paste error
78dd296 Some typos.
3e28922 Simplify... handle this below, even though it's after some possible expensive regex
4f39a84 typo
7eea300 More adjustment for Redirect argument checking...
ff0ce8b clarify ptr
27158ba Align doccos with code and clarify: grab tries to find a free slot and returns that
3ae933c * Some custom defined response codes also do not require 3 arguments (all that   are not redirects).
a110cfa Fix error with arg counting
e8be8e3 One typo.
c95b61b Favor DECL over DECLS
4409fcd Restructure fdpass logic to not spew stderr crap for without purpose, and purposefully fail if --enable-proxy-fdpass is demanded without support.
238e2c7 Specify a pool for cache with apr_hash_pool_get instead of describing "pool" directly
8839a26 Further clarify what variables one has access to in the <If> directive.
e258f53 Juicy update !
798c83f Some typos.
274263a Expose whether a request was served over an Initial or Resumed SSL session to the environment
563e30e mod_alias: Enforce sanity in args to Redirect PR 44729
44518b8 Remove the conditional for APR >= 1.3. httpd 2.3 has needed APR 1.3 or later since r582069.
0970a44 Make pline a child of main pool.
fd4393f Fix IPv6 literal addresses passed to a proxied backend. PR 47177 Patch by Carlos Garcia Braschi
e23794e Fix a memory leak by freeing the memory every line.
023b0a4 * Correctly detect if CacheIgnoreURLSessionIdentifiers is set.
cfc67db * Use the correct constant.
e3b286f Kill the hardcoded values
61a375c Declare the local variables in the more inner scope.
7b452fe avoid a relatively ugly code dup
74b7259 Add a few other 'ignore's for those gathering libs in their srclib/ tree
9950f3a Complete API :)
429c647 * Improve documentation for CacheIgnoreURLSessionIdentifiers
d270064 * Add CacheIgnoreURLSessionIdentifiers directive to ignore   defined session identifiers encoded in the URL when caching.
84aacb0 linewrap. no func diffs
4eaeb50 Doesn't really make sense to have to keep these 2 structs in sync... Change once and be happy
769b883 Fix the error string returned by RewriteRule. RewriteRule returned "RewriteCond: bad flag delimiters" when the 3rd argument of RewriteRule was not started with "[" or not ended with "]".
a64da7d Kill the hardcoded values
052afc6 "fix" this warning by passing "%s" as the format string:
2f556f3 Quit hiding the previous request information while the subsequent request is partially read
9a84fd2 Force the current directory to the server root in the invocation of the piped logger processes.
10d6aaf Ease migration for the hosts of piped loggers out there, handle the log process selection (| vs $ vs default) in ap_open_piped_log
2ce795f wrap comment, no functional change
eda8eee Fix docs and bump mmn minor
3aac4df Revert the default resource abuse introduced in r104019, which can mask child logger process failures, by migrating back to 2.0.49 and prior when rotated logs were reliable on Solaris, etc.
7a8951a Set ignores; a good case for cut n paste instead of reinventing wheels
804ffff dditional docco changes... No functional changes
2a1e682 comment change - no functional change
05a1d37 "officially" add grab/release to slotmem provider API
a9ceef8 Drop exit value (always NO_ERROR, needs work).  Pass about the service context
f069fa9 Pick up earlier SHUTDOWN notification
80fd327 Add inuse table and grab/release to plainmem slot provider
3524388 cleanup truncation
7206016 Align internal names with external... Note, rename of return to release for obvious reserved keyword reasons :)
027d128 Another slotmem flag. This one determines if access requires grab/return
6ee05d9 Fix win32 build includes
53ec889 Remove all locking from slotmem_shm...
3a9a46f Align with module naming
cd29301c compile-time issues
d03dc3e Final ( :) ) step to transition which removes the ap_slotmem_foo API and just does providers direct
ac85a7d Update doccos due to slotmem change
547caee Rename 2nd step
f54f524 1st step of man changes for slotmem refactor
ad74558 No longer used
f0e5559 No longer needed
c9650e6 Finalize
d9b504e Move over
dee4962 Make new mem location
6359c35 Rename of slotmem in transition away from ap_slotmem_ foo nis
62d1ca3 Make the piped_log structure opaque:
b55229f update transformation
cc455ba update for sync with English doc.
63e5bce fix module attribute
d37d97f Revert second part of r774755.
99b7b98 Revert r774755: ap_server_root_relative() for
ffc510a optimize as suggested by chrisd
591bb63 unused var
33f4320 docco xforms
f7ab3be Allow relative pathnames for piped loggers in ErrorLog.
1b28223 Add name of program to spawn to the error message, when starting piped loggers fails.
4172cbf Whitespace cleanup. No functional change.
1dbef32 Revert r735516 as requested by wrowe.
5c442f9 revert 774533 until it becomes factual
2fc85ba use a single spelling of Multiviews
71026c1 use a single spelling of Multiviews
98023f7 mdc2 has expired
b12bad0 update comments and place in public domain
53ad280 add API back from r774454
d0f5105 no need to recalc... we store this.
2f51a45 Oops... not yet
da1f8fb off by 1 error
448e973 Bounds check... id can't be >= number of slots (0 indexing)
675547b error detection
c71571a Add in draft grab/return (alloc/free)... not in API yet.
03eae1f ap_slotmem_mem no longer exists. We never provide the ptr to the actual mem. Instead, we rely solely on getter/setter
ceeb8b0 standard method
13bce64 Return APR_EGENERAL for the error
48ae3d9 Allow the load balancing method to "create" workers.
ab9ed6d server_rec *r... Oops should be server_rec *s.
c87cd32 sync with IANA as of 2009 May 12 16:30 PDT
4a9496a Adds [NE] to the canonical hostname rules, as requested in https://issues.apache.org/bugzilla/show_bug.cgi?id=47186
c9f5264 typo2
7ed0d79 The path is likely changing, in the meantime restore win32 build to success
ba76449 fix typo
115236a Optimization... for large slotmems, it would be useful to know which ones are actually "in use"... So flag this. Need a way to de-allocate a slot for completeness I think, but am having a hard time coming up with a use case...
ba4e26e If we have a mutex, we should use it whenever we create a shared mem segment. This allows safe segment creation post child-init
10f788c - use apr_strerror() instead of strerror() - log errno via param when using ap_log_*
a970341 Arrange the proxy_balancer_method: - Put context back after the finder(). - Use  server_rec as second parameter for reset() and age(). - Add the call for reset().
8bb8a6c Address Win32 AcceptFilter documentation replacing DisableWin32AcceptEx
3a0bb5c mod_watchdog: mappers -> core forgotten in Makefile.win.
9acd3b2 Copy svn:ignore property from modules/mappers.
cb56fba * server/core.c (merge_core_dir_configs): Tweak logic and comment   wording in the special-case for Includes merging such that the code   and comment read the same.  No functional change (intended!).
09b7672 Switch two recent dsp files from CRLF to native EOL style. All other dsp files are native (though they should only matter on Windows).
2a8cb24 * Fix for the following configuration where the exec command was disabled   in /subdir. All CVE-2009-1195 tests still pass with this patch.
8d0a31e * .gdbinit (dump_table): Dump pointer value of table entries,   sometimes useful.
489bc42 Security fix for CVE-2009-1195: fix Options handling such that 'AllowOverride Options=IncludesNoExec' does not permit Includes with exec= enabled to be configured in an .htaccess file:
6ea0ab9 Add . 'default' test first before searching paths, to determine if the lua.h, liblua5.1, liblua-5.1 or liblua can be resolved.  This avoids adding strange paths on fedora/redhat, and choosing the wrong /lib[64] flavor.
bc8cdc7 Here's the simpler solution to the two groups of mappers/ modules...
72cfa9c Revert to preceding version.
db8dcb1 remove unused smutex structure element
87996b5 Fix usage message on the Windows platform. - do not include graceful commands and duplicate   start|restart|stop - add ServerRoot to the parameters encapsulated by "-n"
39c14c3 update comment
8a9058e Move comment block closer to related function. No functional change.
1b10764 simple formatting line-wrap/no functional changes
e87fbb3 Use canonical testing
124dd1c * Fix syntax error
1a45643 Reorder so and watchdog to configure before cluster modules
a680bf7 Ensure all mpm's configure at config3
5e9c4bf fix docco
9399483 optimize.... rp! :)
12033b2 comment change, no functional change
a29e9ec Change the order of mod_proxy and mod_proxy_balancer child_init(). Change the balancer workers area to the address of workers instead copying the workers. Arrange lbmethod accordingly. Move the creation of conf->forward worker to mod_proxy child_init().
8fa2a05 Explain empty code block (empty for now, that is) :)
10a704f xforms!
3775c02 Documentation update for mod_privileges changes in r771144/771145.
3111b39 Move to an enum, instead of bitmaps... no functional change
9ba4889 * Silence compiler warning.
57112d5 Complete the integration of mod_heartbeat, mod_heartmonitor and the loadable mod_watchdog, started with 771581.
ff342e6 As mentioned inline in comments, correctly handle more sophisticated transformations which currently fail for balancer://foo targets, but work just fine with other ProxyReverse targets.
6ca2633 REVERT 771581 modules/proxy/ changes (miscommitted)
0fe6d79 complete r771579, refactoring mod_watchdog as loadable on win32
7861cb5 MPM's are now dynamically loadable; so must mod_watchdog be.
b7eba4a Add balancer module targets
17b05a2 add creation type parameter per r771286 remove lock/unlock structure elements per r771262
4fd22b5 silence warnings
95fdcae * Remove unused locking functions.
c719980 * Optimize access to server_rec.
b735589 Simple style fix, this message still is nonsensical
861b270 One typo.
107549c Add a parameter for slotmem_create for the persistancy of the slotmem area.
e9311a2 Fix shared memory permisson problems.
1f4fe31 Remove ap_slotmem_lock / ap_slotmem_unlock from the slotmem API.
9c47ca1 Whoops!  cleanup r771144, which had some local/dev stuff left in
40361e6 mod_privileges: introduce PrivilegesMode: fast mode as before vs secure mode to fork an unprivileged child per-request in the manner of MPM-ITK anwhere there's a risk of running malicious code. Documentation to follow.
9d5bc3d One typo.
61c98c2 Some typos.
8627001 * As proposed by wrowe on list always define SSLStrictSNIVHostCheck, but error   out if we are not compiled against an SNI capable OpenSSL.
b9c0763 Adds clarifying comment to example configuration. (Redirect)
f588ae9 Clarify that the target of a Redirect may be either a full URL including scheme and hostname, or just a URI path beginning with a slash.
d5424d2 Add a reference to LocationMatch in the seealso section. Encourage people to use LocationMatch rather than Location ~
9ac4def Arrange BalancerMember explainations.
fb49467 Prevent key=value being accepted as url.
300e91f * Don't assign pointers to int's. This is a nightmare when changeing   between 32 and 64 bit and waiting for an accident to happen.   Also: It produces compiler warnings (at least 64 bit) :-).
da16011 * Set SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN to on by default.
506ed9e * Improve and simplify the implementation of SSLProxyCheckPeerExpire by   directly using X509_get_notBefore(), X509_get_notAfter() and   X509_cmp_current_time().   Thanks to jorton for the pointer.
c793117 Add Ctrl-Break to docs (trigger restart for console use).
7e145e7 Fold in initial template for methods to be able to reset (initialize) and "age" their data, useful when adding new workers, or when workers come back into the fold....
bdd4a30 don't use literal '100' for HTTP_CONTINUE (searchability)
80ccfe3 * Add SSLStrictSNIVHostCheck to allow / disallow non SNI clients to connect to   name based virtual hosts.
b0de0b2 * Fix an error in the documentation.
01cc7f1 * The state vinfo doesn't matter here: no client verification done at all.
06f7950 * r->connection->aborted signals that the client aborted the connection, but   in this case *we* decide to close the connection so use   r->connection->keepalive = AP_CONN_CLOSE
7f3acae * Add partial support for name based virtual hosting for non SNI clients.
52956ee fixup properties
6734e44 rebuild convmap
49c61ba Pass the $@ array and not the flattened version of it in non-SysV mode:
7a2bed9 update transformation
37a1723 update for sync with English doc.
4c1dac5 Escape should simply close the dialog; Enter should perform the appropriate button, or within the list, start and stop.  (also clear up the transitions between the list focus and nonfocus).
e1ce763 Fix module scope, to avoid this, copy and past from loadable modules, not core
f008e3d fix lineends
fcceb9f fix lineends
72a5fa7 Seems folks have forgotten to set eol-style, perhaps some modifications to local subversion.conf files would be a good idea?  *.xml* or *.html* anyone?
2bb8b24 Introduce mod_remoteip to trunk from httpd/sandbox/mod_remoteip
0800345 build all refresh
7e794c8 Introduce new documentation of mod_remoteip
fa68dee Use CVE-2009-1191 for this issue.  We would only share a CVE name where the flaw was due to a shared code base, and this isn't the case for the mod_jk CVE-2008-5519 issue.
9e08f26 rework the NameVirtualHost documentation to hopefully be a little less confusing and match the conventional wisdom of the various support fora.
b3d0dfc mod_dbd: add DBDInitSQL command.  PR 46827 Patch by Marko Kevac.
44d9b09 update transformation
c0ed45c an ID is an ID is an ID
5e65fca update convmap
a9e970e syncing
87b7f3a Version update.
34a2e0f update xforms
df8b6e9 Grammar and whitespace cleanup
909159f More unregistered media types in common use on the Internet. *sigh*
413ce35 Move logic to decide if an MPM is supported, and whether the MPM is threaded, down to the MPM itself.   (server/mpm/FOO/config.m4, which runs before the actual MPM selection)
2d04bc7 * Add missing include to fix compiler warnings
c49f671 mod_cgid: Improve handling of long AF_UNIX socket names (ScriptSock).
78b5ab9 Two small typos.
f9554d5 no longer amusing.
2c15909 write Ok to tomcat.
eb25ea2 Add a logic to use an handler and HTTP.
c50600b update transformation
0259e74 New Turkish translation
5f8ca89 update for sync with English doc.
1704a79 * Check more strictly that the backend follows the AJP protocol.
985bcfa * Add CVE number
b6b2ba9 * Avoid delivering content from a previous request which failed to send a request   body by closing the connection to the backend in this case instead of reusing it.
b2b5573 Remove the C++ style comment and use 1 for keep_running. (Thanks Rüdiger).
ebd6c22 Arrange traces.
27ce291 Set keep_running and clean pool if not.
d1c3416 main() can use ap_run_mpm() directly, so axe the old ap_mpm_run() function
596fa29 the only "retuned" in the entire server was, alas, not meant to be
8a65f5d The remote port information was forgotten from the builtin data of the AJP 13 protocol.  Since the servlet spec allows to retrieve it via getRemotePort(), we provide the port to the Tomcat connector as an additional request attribute. Modern/future Tomcat versions know how to retrieve the remote port from the attribute AJP_REMOTE_PORT.
21b68e6 document the key API considerations related to the changes for loadable MPMs, and give unbundled modules an MMN to check for
b6652d9 handle an unfortunate implication of loadable MPMs:
74b8612 * Fix comment and optimize retrieval of loglevel.
82b0007 ap_strchr_p() is the one that takes (protects) a const char *
0acd50d clean up apr_time_from_msec() compatibility macros * where needed, base on APR_VERSION_AT_LEAST() so we remember what this is about * where not, axe
e468a9f * Add SSLProxyCheckPeerExpire and SSLProxyCheckPeerCN directives to enable   stricter checking of remote server certificates.
23ac01a mpm-query hook: distinguish between DECLINED and APR_ENOTIMPL so that . ap_mpm_query() can return APR_EGENERAL if called too early (for debugging a module) . some hypothetical module which implements the mpm-query hook can bypass the MPM   with APR_ENOTIMPL
0d2cef8 stop exporting APACHE_MPM_DIR to modules -- unclear why this was ever necessary, and it   makes no sense with loadable MPMs axe the unnecessary MPM_DIR build variable move the stray APACHE_SUBST(MPM_LIB) from configure.in to server/mpm/config.m4, where   the other MPM_foos are handled
1026b83 http://marc.info/?l=apache-httpd-dev&m=123845333914309&w=2
7fe4728 HTTPD script support When a script returns a no-body response code, pretend it was a HEAD request so as to drop any body the script might erroneously generate.
0464e45 revert  759711 and  759713... don't require apr2
9589a99 Clarify when CoreDumpDirectory can be moot based on OS configuration, and mention SIGQUIT/3 not being processed by the signal handler.
7a9a1d1 * Removed unused variables.
6648491 edit CHANGES for r759924
fb6a306 rename the new retained-data APIs to ap_retained_data_create()/ap_retained_data_get(), for better consistency with existing APIs (e.g., slotmem)
772241e Use named watchdog for heartmonitor. The watchdog has zero interval, leaving to the callback to determine the running loop.
571705e Run the callback from pool cleanup. This allows to break the blocked callbacks
e897431 Use correct check logic
09ca3bc If there are multiple hook watchdog threads registered, make sure we fire on default one only
5924705   *) ab: Fix a 100% CPU loop on platforms where a failed non-blocking connect      returns EINPROGRESS and a subsequent poll() returns only POLLERR.      Observed on HP-UX.
35e3599 the mpm_get_child_pid hook is unnecessary, as was the per-MPM MPM_CHILD_PID() macro which it replaced
2103ba7 Use child singleton watchdog for running the heartbeat module
ae1181d Don't test for active. It's set up from need hook
f1d5422 0600 is UWRITE+UREAD
0e19eb7 Use apr-2 object perms setter
a190858 Core can specify a platform-specific rewrite args hook.  Use that on Unix.
f72c753 install mod_serf.h
b949658 axe ancient platform checks
e501c2f fix mispelled module name (helps look for applicable fixes)
9d85632 * modules/proxy/mod_serf.c     (hb_server_sort): Use correct variables for sorting.
bf086f6 Register rewrite_args hook. Now, dunno if that was intended, but at least allow to start the httpd
02a7cd3 Do not presume we have a clean stack
f76abc0 * Make LDAP working with APR 2.0 again by using apr-config instead of   apu-config which is gone in APR 2.0.
05999ce Query the mpm state and clear the running flag if mpm is stopping.
25dc58e update transformation
28a45ff update for sync with English docs.
1862ce7 Updates after english files modifications.
25c888f Add static cluster backend, for very simple configurations.
ab7e6aa Add very basic, non-streaming, support for request bodies.
51fa0a1 - Improve flushing/connection eos logic. - Use brigade_write instead of immortal buckets that aren't immortal. - Read HTTP status code from serf. - Remove extra logging.
a51ec65 Work in Progress.
c9c5ae3 If the MPM supports serf in its core, use this to drive the proxied request completely async from the original thread.
1144cad If serf is available, compile in driving the serf event loop from inside the Event MPM.
b145fc9 Add support for Preserving the client provided Host header.
a9d397b * modules/proxy/mod_serf.c     (hb_list_servers): Allows relative paths for the heartbeat file.
3d379b2 Work in Progress.
94b0c83 change commentary to note MPM API changes: MPM_ macros to mpm_ hooks
78aa242 * modules/cluster/mod_heartmonitor.c   (hm_update_stats): Flush heartbeat file before closing, to make sure the file     is always written correctly, and check for errors on flush or close.
0897f72 Oooooooooooo look a commit! Wow!
d593d89 * Update transformation
0221146 The Event MPM is no longer experimental; move it out of that ghetto.
4cc2369 fix typo in comment
770f0ff start an entry to list the axed platforms
301f040 axe unmaintained 1.3-era code to support AUX, SunOS, IRIX, Next, Tandem, MPE, LynxOS, QNX, and UnixWare
cb8a82f remove TPF support
ee32468 remove OS/2 platform support
c606f7b * Update transformation.
b08c33e finish removing OS/2 MPM
e64b014 remove OS/2 MPM
2f9b9fd remove BeOS OS support
6ff862b finish removing BeOS MPM
6c50a14 axe BeOS MPM
f2aefa3 restore disable-nagle logic for connected sockets
9017448 prefork, worker, event:   restore expected accept mutex mechanism and allocator limit support   (the related AP_MPM_WANT_foo defines no longer exist)
b84e440 axe the unnecessary AP_MPM_HARD_LIMITS_FILE
770c4c4 try lua, you'll like it; completes r758657
63c73dc integrate lua, ratelimit
180e2df headers are nice too
88fbb97 Namespaces namespaces namespaces guys... EFAIL :)
6906b42 Add mod_proxy_ftp directives ProxyFtpListOnWildcard and ProxyFtpEscapeWildcards to allow filenames with globbing characters to be retrieved instead of presented in a directory listing.
ee826b5 remove leader, perchild, and threadpool MPMs (other than non-English bits in common parts of the manual)
3590c67 prefork is soooooo 1990s. make new default simple
94ceb78 spellcheck
aa4b1cf fix symbol space and exports
3a8d6ff add lua
e82772e fix mpm_get_name hook
9cdd58c no ap_my_generation
5c77ed7 get distcache out of the way of 'BuildAll' target, since it isn't expected to work
cde1414 mpm header files shouldn't be installed; not part of API
6430f7f no longer conditional; although some are now in mpm_unix.c
029b3ea drop mpm.h
0d19ef4 refactor mpm_common.c into itself and mpm_unix.c for unix-specific quirks
342b19a closer to compiling
577e722 resurrect the call to show_mpm_settings(), but defer the entire -V processing until after module loading if there is no built-in MPM
5872c0a resurrect the old (pre-r757867) compiled-in MPM_NAME value, but via a hook for dynamically linked MPMs
c7266ed The rewrite-args hook isn't available to MPM DSOs.  Piggy-back on the linked-in mod_unixd.c to handle that.
8c7348e dangling semis lead to warnings with Sun Studio
dd9ae36 fix inconsistent defs of ap_mpm_note_child_killed()
02e79da change the allocation path for the simple MPM's retained data, as a dynamically loadable MPM can't use the rewrite-args hook
92a26cd fix function names in trace messages
de5f7aa prefork, worker, and event MPMs: use retained-data API to maintain information across reconfigs, to allow these MPMs to work as DSOs
fb89b98 header file tweaks required for compilability
60b5595 * configure.in: Allow configure to be built without find_apu.m4,   at least temporarily to allow buildconf against apr trunk.
9db133b Provide ap_set_retained_data()/ap_get_retained_data() for preservation of module state across unload/load.
e427a7c * Teach apxs to work with APR 2.x where there is no separate APR-UTIL   any longer.
7922be3 * With APR 2.x we no longer have APR-UTIL. So don't care about it.
f6d5287 set ap_server_conf as early as possible; axe the duplicate variable
e12944e main() now sets ap_server_conf()
7720a70 axe the remaining checks of AP_MPM_WANT_foo to see what code to generate MPMs no longer provide those definitions
d91f998 MPM header files are private; don't install them
076514f Allow building httpd without a built-in MPM by specifying
e8937b1 fix shell syntax error in check for apr major version
1fb8cdc shoot ourselves in the foot
e0eb7d1 Introduce a new set of APIs to allow MPMs to be proper modules instead of integral parts which share global variables, functions, and macros with the rest of httpd.
367d5a7 make_sni.sh test -- Accomodate for platforms which do not have RANDOM in their sh(1) implementation - rely on the pid and a not so random prefix
8b84957 Declare variables prior to code statements otherwise some compilers choke.
d5d9927 xforms
6f084d6 Documentation is easier than code sometimes...
28f9c96 * build/config_vars.sh.in: Fix error if APU_CONFIG is not defined.
7793571 * configure.in: If APR version is 2, APR-util does not exist.
7955de9 * Fix a memory leak by freeing the memory consumed by the bucket.
ceaa1fe * Do not allow name based virtual hosts in the case no hostname was   provided via SNI.
9e39ba0 * Store the correct server_rec in the connection record configuration and   adjust the remaining part of mod_ssl to use this server_rec instead of   c->base_server.
ba2883e Roll on to 2.3.2.
2e8c914 * modules/mappers/mod_rewrite.c (apply_rewrite_rule): When evaluating   a proxy rule in directory context, do escape the filename by   default, since mod_proxy will not escape in that case due to the   (deliberate) fixup hook ordering.
e128699 * modules/cache/mod_socache_memcache.c,   modules/cache/mod_socache_shmcb.c, modules/cache/mod_socache_dbm.c:   Remove references to "SSL" throughout comments and code.
f67ffe3 Remove code to support per-dir-CA configuration which relies on a function which was never included in OpenSSL:
c84fec1 Prevent a case of SSI timefmt-smashing with filter chains including multiple INCLUDES filters:
d5897d5 * If the SNI extension supplied a hostname. So don't accept requests with   either no hostname or a different hostname.
98e9873 Add change to changelog.
6a0fba0 When trying to detect the content type of the uncompressed content it is often not enough to read the same number of bytes, we already read compressed. Since uncompress() allocates a new buffer, we can increase the number of bytes to read to the same size, we use in the case, where the content isn't compressed.
3335211 Set the content encoding for compressed content even if we can't detect the content type of the uncompressed content.
e6ff006 Creating the external gzip process fails, because we call execve() with "gzip" without full path. Let's look for it in the PATH instead and drop the passing of the environment. There seems to be no reason why gzip should need the httpd environment.
8d1012f Creation of external gzip process fails, if we try to set the working directory to r->filename. Use ap_make_dirstr_parent() instead, like in all other similar places.
7f7a00c Whitespace cleanup before doing other changes.
d4757ba add application/x-java-jnlp-file http://java.sun.com/developer/technicalArticles/Programming/jnlp/ (because some companies are too stupid to register a type)
4bd3b10 * APR_BUCKET_NEXT is wrong here as we are already a doing a APR_BUCKET_NEXT in   the for loop and this causes us to jump *two* buckets forward. This can cause   us to jump over the Sentinel of the brigade and thus causes an endless loop.
eb99eeb It's a pet peeve of mine when docs do something, and then say "don't do that." Remove the hostname from the <VirtualHost> line, and use an IP address instead.
3cd3d02 Add an example of using a wildcard with ServerAlias Change <VirtualHost *> to <VirtualHost *:80>
d38a0de * Escape pathes of filenames in 406 responses to avoid HTML injections and   HTTP response splitting.
a348f7b the CRLF following 100 Continue needs to be sent as ASCII on EBCDIC boxes.
68f4dcc Small typo.
77db8b2 Note for self: PPR drops the path info so we don't really honor PPR /foo balancer://bar/jimbob in a way that we would expect.
5c5f428 sync xforms
60ea49d Small typos.
1009a43 Remove anomalous copyright line
89c8259 Until APR is actually fixed between apr_os_sock_make and the logic within apr_socket_timeout_set, let's presume that vendor differences of socket stack drivers can vary this behavior, and the assumptions were unsafe for both accept() and AcceptEx().
ab73979 Use a single event for the lifetime of the 'AcceptFilter none' variety sockets; it appears that resetting the accept event while another was waiting would break the pending connection, causing host socket resets.
fdf34d4 * remove uneeded remains of r750126.
22f7439 Accelerate mod_dumpio processing;
c27df77 Use APR_POLLSET_NOCOPY for better performance with some pollset implementations.
e0d75fd Implement Event-Based accept for 'AcceptMutex none' in the WinNT MPM.
d551b7f repeat apr_pollset_poll() while it returns EINTR
bb7cdf2 remove unreachable code
5e9488c * Remove unused variable.
7fc4466 Use --with-included-apr if you don't have the compiler your OS-delivered APR was built with   xlc vs gcc   SunStudio vs gcc   gcc n vs gcc n-bignum   etc.
d4697be Note PR for OpenSSL type-safe STACK fix in CHANGES
7d5d6775 Clean up more compiler emits.  Add CHANGES entry, credit Kasper for the OpenSSL STACK fix
e1c3195 axe a fearful comment that was addressed before committing r749438
1b2b731 fix CHANGES entry for r749438
79428da ab: Fix maintenance of the pollset to resolve EINPROGRESS errors with kqueue (BSD/OS X) and excessive CPU with event ports (Solaris).
1e5524b improve acceptance of APR/APR-Util trunk/2.0-dev
4391096 Missing verbs.
0b29834 remove leftover debug statement
b059de0 change syntax for getting document root in mod_lua to r.document_root, suggested by Bertrand Mansion
d68a529 change r.content_type = "something" to use ap_set_content_type, which it should as was pointed out by Bertrand Mansion
e171af3 The development trunk of OpenSSL has tightened up the type safety of the STACK construct and the functions that manipulate it.  Make httpd trunk compile against OpenSSL HEAD as well as OpenSSL 0.9.8j.  Also, get rid of some warnings.
c849173 Small typo.
77188b4 fix mod_disk_cache to support EnableSendfile.
477355f headers replaced by directives line 48
7ff9306 only call mutex functions if APR_HAS_THREADS
352af5f Add watchdog module to win32 build. Since it can only operate as static module reference it inside modules.c
24407ca Add watchdog module header to dist include
4ba05cd fix the name of this module in an error log message
22d7d76 update transformation
72f84db some modifications to generate the man pages in other languages
65aa430 Fix a crash with r742218 by calling apr_os_thread_put() properly.
ad2b92f ap_meets_conditions() should not be called until all of the known content metadata has been set, so that said metadata can be included in the condition tests and in a 304 response.
960cd29 Adjust content metadata on deflate/inflate response before bailing out on a 304 response so that the metadata does not differ from 200 response.
93bf030 update transformation
8a83874 New Turkish translation
1ec02d6 update for sync with English doc.
e53235a update for sync with English doc.
60e1857 Reimplement deflate_check_etag() so that it isn't such a pig and correctly works with weak etags.  Related to PR 39727.
7770756 mod_version needs to be compiled because the test framework requires it (and the feature doesn't make much sense if it crashes httpd on test).
13e8f16 MMapStatic directive doesn't exist.
8bb8ddc fix validation errors
28ef9a3 pre-translation improvements
2497d57 Missed the plainmem getter/setter. Caught by Rdiger
901e5c1 Update xforms
c9de995 remove belt-and-suspenders casting
6155777 Add getter/setter functions to the slotmem API. Also, reset the id vars to unsigned ints universally.
d47bf55 use pid_t consistantly
30176d1 Fixed :)
77fee36 Removed in trunk
d7c4f0a Remove unused var
2928d2e Add missing cleanup register
69f2fd4 Add conn_rec::current_thread.
9afb831 Added a section about dynamic content security, and a couple of pointers to external projects.
eaea2d4 New french translation for security tips.
2cb161d New french translations.
a935d10 New french translation for the SSI howto
1acebd9 New translation for the public_html howto
139e771 backported CHANGES entries are meaningful while we're rolling 2.3.x alphas.
23c727f Add watchdog module
061e93d * Only drop the last char (the '"') and not the last one of the etag itself.
a2b7cdd update transformation
34905ac update for sync with English doc.
03157ec New Turkish translation
db7b357 Added french translation for the CGI howto
6d27b85 regen manual
7479dbc Document the disabling of DefaultType and update terminology regarding Internet message metadata.
f8163f2 Adjust compatibility (unix specific) and description (this is apparently not FastCGI - probably a cut n paste bug).
f41fcf0 mod_deflate: Fix creation of invalid Etag headers. We now make sure that the Etag value is properly quoted when adding the gzip marker. PR 39727.
278e117 Remove DefaultType config.  I could have sworn I did this four years ago, but apparently that was just AddDefaultCharset. PR: 13986
aadfc54 Clarify the description of what mod_charset_lite does and doesn't do
953c716 pre-translation improvements
725c0b1 update transformation
338ad78 update for sync with English docs.
197c5ef Correct logic with non-seq lbsets config'ed
0af1139 Correct logic with non-seq lbsets config'ed
90c8377 Correct logic with non-seq lbsets config'ed
a60858b Make the french translation appear.
3d6d0bc Base our mod_buffer.so
3f3274a The binary win32 installer copies pcre.dll
bcb6cbf We no longer bundle PCRE in 2.3-dev, not in svn either
363af5e These occur in NOTICE/LICENSE and elsewhere, not for README
28f35ab Build mod_buffer on win32
4eb9f37 Change top level win32 Makefile for seperate pcre compilation
073e3c3 update xforms
0ae4d37 New htaccess howto translation
15128ef New french translation for auth howto.
26392ff french translation for faq
b398bd5 sitemap page french translation
9d14998 accents fix
fecf2df 1st translation of env page.
c279d98 * Reindent.
198b7ce 20x22 icons for ODF, SVG, and XML documents.
5c67ce6 20x22 icons for ODF, SVG, and XML documents.
33a42ae redefine vnd.curl media types according to their documentation at
87e07a8 Provide a hint when we see what looks like an SSL record when we're expecting a plain-text request line.
3a06732 * Prevent segfaults in handlers by ensuring that r->handler != NULL.
736d659 use a local module header file to store the function prototype for ap_unixd_setup_child() that is used outside this module.
421ee8b Disabled DefaultType directive and removed ap_default_type() from core.  We now exclude Content-Type from responses for which a media type has not been configured via mime.types, AddType, ForceType, or some other mechanism.  MMN major bump to NZ time.
8ba50dd Reflect the unixd_setup_child() rename (r739151) in the MMN (mod_backdoor needs to check that).
2288718 name protect unixd_setup_child and restore its prototype to unixd.h
5b5045a revert r711228: the ap_unixd_setup_child prototype needs to go somewhere.
2a40db4 address a frequent pitfall/misunderstanding about how multiple basic auth providers are used
7061cf0 Match up formats with args in error messages.
7621dff * Correctly construct base href url in the reverse proxy case.
26e8e1c Add IPv6 variable to mod_rewrite. Submitted by: Ryan Phillips <ryan-apache trolocsis.com>
25bad8d Adds a mod_authn_file example to the AuthProviderAlias docs, since more people understand mod_authn_file than understand LDAP.
a6e008c fix spelling in debug log message
bd7915d a better and valid message
a8572f2 Trivial change - Change /foo to /var/www/html/private. This serves two purposes. I dislike the use of 'foo' in documentation. But also, it aleviates some of the confusion that people have between /foo as a URI and /foo as a directory path. Using /var/www/html/private makes this much less ambiguous.
a694e4d Small typos.
0f4cf6e changes headers_in and headers_out handling in mod_lua to map apr_table_t instances as boxed pointers
bdb54f2 minor edit to lua readme
932b13a Tag the pool at creation time.
e05e9c2 Use the more traditional create/clear/destroy style for the main loop pool. Suggested by: jerenkrantz
499757b Little reorganisation.
91f503d Fix two small glitches in r730828 (Win9x code removal in mpm_winnt).
a5b1bb1 Updating after english file modification.
28479c7 status of mod_charset_lite is Extension instead of Experimental
b48e618 Small typo
d21e470 Small typo
9a7da95 remove "experimental" disclaimer in mod_charset_lite docs; no longer experimental as of 2.2.x
ac59ef2 * We need to return an int not a pointer!
522fc2d Saying "don't do that" without offering an alternative isn't very friendly.
d361a80 Fixes an XML error, and rebuilds the change applied in r734973
3c0f040 Adds the <If> section to the list of directives.
e9436f9 Allow --with-included-apr to pick up APR trunk/2.x
288ac772 Piped error loggers should use the reliable pipes, i.e. they should be automatically restarted when they die similar to what happens for access loggers.
a5f27a0 Remove some more mod_mem_cache relics from trunk and add removal to CHANGES.
d07c906 Small typo
af39abc Updating after english file modification.
04c95ab update transformation
c8953a4 update for sync with English doc.
94876f3 Introduce Win32 AcceptFilter handling.
c642650 two more never-used functions to redact from child.c
f043cfd this security API needs some loving, a warning at least for SYSTEM/LocalSystem
034667d apr_proc_mutex.h is called for by this very header
81df2c9 reverting 735080, starting over, sorry
4d10a4d apr_proc_mutex.h is called for by this very header
932a606 tweak the referral/hoplimit ldap option logic to save the failure reason in the util_ldap_connection_t for later logging
ee852e9 Undo changelog change. Addon to r734973.
643d772 Mostly revert r733493: signal based rotation for rotatelogs.
0cfa241 Remove backported entry.
a3c2a97 * Try first if we find any "recoverable" workers before we force them to   recover.
01d3b42 * Set the error time if we set a worker in error mode.
1127bf9 * docs/manual: 'build.sh all'.
e45584e * docs/manual/ssl: Drop specific commercial CA recommendations.
dffc0de * docs/manual: Document mod_ssl/socache stuff.
0d85460 Simple doc fixes (mod_unixd)
4336e90 Updating after english file modification.
9052db0 update for sync with English docs.
8a860b0 	More wording tweaks.
f0b83f7 	More cleanup. 	module & code tagging.
3b24d6b tweak verbage describing new KeepAliveTimeout feature
d1d2327 * This one was backported
fabd364 * docs/manual/mod/mod_ssl.xml: Flesh out SSLRenegBufferSize  docs a little - thanks rpluem!
ba03382 We forgot to bump the version of docs.
5585fc8 Enhance KeepAliveTimeout to support a value in milliseconds. PR: 46275
11587a6 Adopt latest changes in usage message.
618c759 Allow size units B, K, M, G and combination of time and size based rotation for rotatelogs.
fd96906 rotatelogs: Add flag for verbose (debug) output.
d26bbe9 More rotatelogs changes:
1f3c946 Minor rotatelogs changes: - remove 'now' from status struct. We only need it locally. - add 'static' to function declaration, although the code   is still in a single file - change signature of get_now() - make argument count check easier to understand
091fe50 Use APR_WANT_STRFUNC and apr_want.h instead of APR_HAVE_* and system header inclusion.
d73d041 Allow to trigger rotatelogs log file rotation from using HUP and INT signals to the rotatelogs process.
88d19bf Addition to r733479 and r733479:
4807369 Addition to r744476:
29290c6 Refactor rotatelogs to allow easier implementation of signal triggered log rotation.
e17cd01 * Set svn:ignore
9017d54 * Set svn:ignore
9ae8805 * Update transformation
2a0f0e0 * Add a stub documentation for SSLRenegBufferSize.
0f6f55b * Correctly merge SSLRenegBufferSize directive.
8582915 Updating after english file modification.
5c8ab97 use ap_log_rerror instead of r->server per niq's comments
1fbdabf simplifications per niq's review comments
57cbab5 EBCDIC fix for ap_send_interim_response()
f63b5a4 pass a server_rec to ap_log_error on two interim response messages
8f406b9 reorganize some internal 'externals'
b3b8792 Oh brother; we just dupped these to lowercase them, no need to re-dup again
0ae9279  mod_authnz_ldap: Reduce number of initialization debug messages and make  information more clear. PR 46342 [Dan Poirier]
fbcd4bd Translate locally generated "100-Continue" message to ASCII on EBCDIC systems.
d32efe3 Corrections to URL Mapping topic
7dcb133 Typo sent/send
cae3b95 use the current module names
b5389a9 Rebuild docs.
9133450 Fix xml errors.
e12c33d Add basic docs on mod_proxy_fdpass.
a4b24e0 Remove tabs. no functional changes.
35cb986 Improve canned 504 error message in the light of r729586 and covener's comment.
9a00245 prefork: Fix child process hang during graceful restart/stop in configurations with multiple listening sockets.
23d6680 Release the accept mutex after receiving the shutdown signal in single-process mode.  (That isn't a critical step, but neatness counts.)
136a507 As jorton discovered, recent Linux kernels have a new tunable setting for epoll that will trip up many prefork users.  Write a log message instead of crashing.
e4f6dc8 * Update transformation
53dd6cf eliminating 9x legacy code from mod_win32
b657b11 rip child.c-specific macros away from mpm_winnt.h
40e24b3 the length arguments are apr_size_t, not int
9560b93 tiny style fix for r729579
0507971 rename private COMP_CONTEXT to winnt_conn_ctx_t and make static within child.c
932e70d happy new year
9b609e2 more fallout from removing win9x-model services, this is no longer used
283822b mod_ext_filter: fix test for onfail behaviour (accidentally omitted from r731388)
24715ba * The header file is still needed in this case. So prevent it from being   deleted.
a54955f Improved fix to PR#41120: send a clean error response when aborting
168b109 mod_session_crypto: Ensure that SessionCryptoDriver can only be set in the global scope.
4d61be3 Fix mod_ext_filter to detect failure to start the external program, and add configuration option to abort or continue. PR 41120
3919935 Silence compiler warning about unused variable cfg.
6563cec Update transformation.
7b58a40 mod_session_crypto: Rewrite the session_crypto module against the apr_crypto API.
5aea845 vi broke event ;)
5cf09c2 revert 730949, accf_map member should never have been or be NULL
05e6cb1 bollocks, it's absolute crap to break the ABI structure alignment for features
c86bb44 Reorder and correct creation and merge of server records, optimizing significantly for all of our null / 0 value defaults (we had always palloc'ed, so this was very wasteful).
44f5378 pcre-config --cflags actually emits include paths not cflags, so add it to correct variable.  Also, reuse APR_INCLUDES/APU_INCLUDES variables so as to save an extra invocation of config files.
b010b34 Fix format type warning in mod_example_ipc.c.
a64dd8d Allow feature test for apr_ssl.h to succeed: Add necessary search paths temporarily to CPPFLAGS.
1ec9268 mod_auth_form: Fix a pool lifetime issue, don't remove the subrequest until the main request is cleaned up.
39792f2 Fix correct linking against PCRE. r730882 broke builds on MacOSX.
83a786f * APR_TCP_DEFER_ACCEPT is always defined. So this is pointless.
b4e9744 * Handle the case where conf->accf_map is NULL gracefully instead of segfaulting
65fa321 * modules/proxy/config.m4: Remove spurious notices from configure.
3c742ee Bump to 2.3.2.
f819de3 Make OpenSSL pkg-config usage consistent so that we don't run the early configure checks against a /usr installed OpenSSL and then link against a different pkg-config installed OpenSSL.
ce54af3 Roll on to 2.3.2-dev.
fa5ef4f Prepare for tagging 2.3.1.
934553b Fix up SSL autoconf-fu so as not to emit bogus lines.
fb98aff Silence ulimit warnings on platforms/configs that don't support setting the soft limit to the hard limit (aka default Mac OS X).
a5f3f9e Drop some lingering pre-NT conditionals
1c93462 Remove console/win9x support from ApacheMonitor, now Service Control only
3bf1edc SSL libs are needed in linking only for ab and mod_ssl.
b9d88eb Only link libhttpd against pcre.
7567264 We need to link only ab against libm (because of sqrt()).
9f305f9 Need to close temporary file before using it for global mutex (at least on Solaris).
8eb168a Use LDADD mechanism to only link mod_serf resp. mod_lua to libserf resp. liblua.
d34d88f Remove LockFile in default config for all MPMs that do not support it (AP_MPM_WANT_SET_LOCKFILE undefined).
b38dbd8 Further Win9x code elimination and simplification
78b12a1 Clean up thread and process number defaults for simple mpm.
d2d9f13 Drop support for Service Description labels from < Win2000
75c893b Clean up fugly initialization of AcceptFilter mappings
005313c Add new struct element: name...
4f75107 Use default object file in APACHE_MODULE calls when possible.
9aa759c Axe Win9x codepath, including Win32DisableAcceptEx logic.  Starting clean.
801a5aa document some nonsense it may be sizeof off_t > sizeof size_t.
13618e8 Add a declaration check for CMSG_DATA to mod_proxy_fdpass. Also move '#error' after the includes, because it seems CMSG_DATA is commonly defined in sys/socket.h.
59b02aa Prevent empty test statement.
9e7431b Include mpm_common.h in simple_run.c in order to resolve ap_run_drop_privileges.
e5a4be0 Add a header check for priv.h to mod_privileges.
5ac1a1e Add a header check for apr_ssl.h to mod_session_crypto.
2f1fa7d unixd_set_global_mutex_perms() -> ap_unixd_set_global_mutex_perms() in mod_example_ipc. Addition to change in r722399.
c662d88 Use APACHE_HELP_STRING() for --enable-luajit in configure to allow automatic indentation in configure help output.
11719367 Transition mod_slotmem to ap_slotmem... just monkeying with the locations, etc. now... adding getter/setter will be over the weekend and post-2.3.1 but I figured at least do this beforehand...
31b99a7 be consistant with naming...
3fd3098 Document this change...
028d268 Modules will also need to know which methods are available in order to better choose... complete the API insulation.
8ca67f8 Update comments
f4fc704 Transforms
cf354d6 Stubs for slot/shared/plain memory modules
15ad1d5 Add support for escaping all non-ascii chars to ap_escape_html, and use it to fix PR#25202: encoding="entity" doesn't work as advertised in mod_include. For backport, this'll need an ABI-preserving version that'll be a minor MMN bump.  But if we do that in /trunk/, it'll never change.
e1a658e PR#13603 - clarify description of DOCUMENT_URI
c5b681e use a local apr_shm_t* to avoid casts and type-punning warnings
774d09e Fix mod_rewrite "B" flag breakage by reverting r589343 PR#45529
5598fd4e remove unused variables and fix naming conflicts
268060d detabify and clean some whitespace
0775fe2 no need here :)
acc22d7 Bump up...
ddd4d20 And complete the API changes...
0f87a4e Start of further refactoring....
8b8bdd1 Move desc of slotmem type to be generic enough so can be shared among all memory providers.
ccfd94a * This files gets generated. So no need to put it in svn.
2a4df9b No need to sep out all the shared mem stuff... clean up
5228be1 implement mutex control from shared memory... plain memory not done yet... wonder if we should even do/include it?
f2d97be update transformation
34622f5 update for sync with English docs.
3dc8a45 CGI: return 504 (Gateway timeout) rather than 500 when a script times out before returning status line/headers. PR 42190
b4a75ed PR#39332: fix for segfault problem with mod_cgid on Solaris Patch by Masaoki Kobayashi
18876e0 add tracking keyword
184034d update transformation
80f5bdd fix validation errors
6da5f08 add mod_proxy_scgi, as announced a long time ago
5ffa9aa update transformation
42cb513 Fix r729438 to commit the right version of the patch, dammit! Basant's real patch to optimise mod_sed throughput
07e1983 Use transient buckets to optimise mod_sed throughput Patch by Basant Kumar Kukreja
9b81588 Remove a dirty hack in find_default_item. Creating local request_rec breaks Module Magic Number.
fd6b723 document no-cache envvar
940a2bc look for 'no-cache' in subprocess_env to prevent the saving of an otherwise cacheable response.
802a857 Make "HeaderName" and "ReadmeName" be stored in simple entries "header" and "readme" respectively.
2e172ed Foo
9bf9da9 remove dup
a8a882d return apr_status_t
957d176 style changes only
fb4dd06 Add in the ability to fetch from headers_in.
e27db0d * These files get generated during build and hence do not need to be in svn.
efc36d9 Add in the useful slotmem memory module, from httpd-scoreboard. Cleaned up...
7266c51 ditto hack from mpm_default.h
4fbf0b5 Hack to add basic support for LuaJIT.
25f0dfd httpd 2.x is further modular; presume pcre is yet another .dll
7f0c9f1 pcre, and therefore dftables, aren't built within httpd anymore
9f16b7f Small typo.
cda949f xforms
791d761 Small typo.
94db5b0 * Comment out unused pstack_dump for the time being until it is used, a better   compile time conditional is found or it is removed from the code.
bd4a986 * Remove unused variable
9ad474c Use the HTTP_INTERNAL_SERVER_ERROR define instead of 500 directly.
5eb8667 Fix  C90 forbids mixed declarations and code.
8b7c73e Fix mixed declarations and code.
2e920b6 Fix more ISO C90 forbids mixed declarations and code...
a36f6f7 Rename rstack_dump to apl_rstack_dump.
ce336c7 Attempt to make mod_lua compile under a strict c89 compiler by moving all variable declarations to be before code.
afa287e Remove some extra logging, and make it more debug instead of warning.
db88fbd Change apl_get_lua_state to take a apl_vm_spec instead of a filename, and to load the bytecode if it is present, rather than the file, as this gets the inline config file blocks hooks working again.
729bcf2 Reformat mod_lua according to the HTTP Server Project C Style Guide:   <http://httpd.apache.org/dev/styleguide.html> No functional changes.
41fa7d7 Include standard ASF license block.
3cb4269 Make all of the hook callbacks static functions.
21b4679 Fixup lua_config.c with prefix rename, and make mod_lua.c so it compiles again.
3948867 Rename all files in mod_lua to have a lua_ prefix, as things like 'config.h' are way to generic and will often conflict with other include files.
afcdc6d Rename most of the module formally known as mod_wombat to mod_lua conventions, switching apw prefixes for apl.
badab85 Make pstack_dump a static function.
de90d32 Remove old commented out code, if we need any of this in the future, we always will have the svn history.
c16fe28 Rename mod_wombat -> mod_lua.
8e9b3aa text... wonderful editable text
04fde45 Update examples to be more per-directory agnostic, identify examples that seem to be inherently per-directory oriented (REQUEST_URI vs REQUEST_FILENAME)
d91d8df Various cleanups and per-directory behavior differences
b7bb200 Clarification of regexes/examples for rewrite flags.
301e19d Update after english file modification.
c23d3f8 axe r->path_info in a more standard way, suggested by Aleksander Budzynowski
9e23c7d update transformation
e884a28 Documentation revisions for r726082.
6b75806 typo spotted by Vincent Bray
6710f37  *) mod_rewrite: Introduce DiscardPathInfo|DPI flag to stop the troublesome     way that per-directory rewrites append the previous notion of PATH_INFO     to each substitution before evaluating subsequent rules.     PR38642 [Eric Covener]
f2cf8d6 Use apr_cpystrn instead of strncpy since strncpy can create an unterminated string.
ef9eb34 Removing entry now that it is backported.
b2ac754 Remove entry now that it is backported.
8875ca7 Remove entry now that it is backported.
e53bae4 Slight fix to r712611: introductory comment should stay above the blocks for the individual MPMs.
a987fe6 * This one is now backported.
eaab4b1 Removing entry that was backported.
48d1213 Set Listen protocol to "https" if port is set to 443 and no proto is specified     (as documented but not implemented). PR 46066  [Dan Poirier <poirier pobox.com>]
3474fca Output -M and -S dumps (modules and vhosts) to stdout instead of stderr.
43c90c9 *) mod_ldap: Avoid a segfault when result->rc is checked in uldap_connection_init    when result is NULL. This could happen if LDAP initialization failed.    PR 45994.  [Dan Poirier <poirier pobox.com>]
4975fd3 * Change some "apr_palloc / memcpy" to apr_pstrmemdup
2bf99d9 core.xml: Clarify the Location and LocationMatch directive doc to emphasize restrictions on valid configuration values.
8433cdf * Correctly save Content-Encoding of cachable entity.
6546dab * Fix r->content_encoding for inflate_in and inflate_out filters.
d2143e6 *  Fix r->content_encoding in deflate_out_filter if it was set before.
25a74cc * Do not add an empty argument if we do not have any args for the script.   Fixes a regression from r682475.
57feb15 Commiting built files (726499)
e3bf2c5 These were outdated, so updating the .fr translation.
e4fc6ef  The DN was fetched from the entry, and the password is passed by the client.
500d4a7 Remove safe duplication...
5fa7625 From r726118: remove unused sb_type member from process_score structure and do major MMN bump.
798fb22 Remove unused sb_type member from process_score structure and do major MMN bump.  The sb_type field was added in r89115 but not removed in r89554 along with related unused additions.
ae49bdc Silence compiler warnings in the same manner as for the worker MPM; see r726113.
a9365f9 I'm not 100% sure about this, but it seems to silence the compiler warnings generated by r101236 (which was, in turn, intended to do the same).
b067858 mod_ssl: Make the size of the per-dir-reneg request-body buffer configurable, by popular demand:
6809bb4 silence compiler warning
c4c31dd Per suggestions by Roy T. Fielding:
c844f49 Note that 2.3.0 was tagged, but not released
8f1ff37 Treat proxy/balancers normally and independently... also, allow nice pretty
d5ea11e * server/mpm_common.c (dummy_connection): If possible, use a non-SSL   listening port to use for the dummy connection, to avoid causing   (confusing) error log spam by sending EOF down an SSL port.
d494d1c * include/util_filter.h (ap_fputstrs): Mark with sentinel attribute   for gcc >= 4.
aa062c6 socache API tweaks based on chrisd's review:
e92019f * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLSessionCache): Allow   using socache provider config defaults by omitting the arguments, so   e.g.  "SSLSessionCache shmcb" or even "SSLSessionCache default"   should now DTRT.
d578c5d * modules/cache/mod_socache_memcache.c (socache_mc_init): Remove references   to SSL in log messages.   (socache_mc_retrieve): Use 'data' not 'der'; correctly return an error   for the overflow case.
184b04b * modules/cache/mod_socache_memcache.c (socache_mc_create): Fail if   no argument is given.   (socache_mc_init): Increment the taglen field.   (socache_mc_id2key): Renamed from mc_session_id2sz and catch key   name overflow, per rpluem's review.   (socache_mc_store, socache_mc_retrieve, socache_mc_remove):   Adjust for new id2key interface.
1e06b62 Add configuration of the Flush provider for mod_proxy_fdpass.
3161002 Move the provider interface to a separate header file for mod_proxy_fdpass.
ad762da Convert the flushing mechanism used before passing the socket to be based on a provider, and include a default one using a flush.
38ca097 Add a new mod_proxy_fdpass module to pass a client connection off to a separate daemon.
a550230 Fix meta-file link error introduced in r725291
ddc69e1 update for sync with English docs. English Revison: 420990
9cff7c3 Add an incomplete document for mod_lbmethod_heartbeat.
0543d26 Add incomplete documents for mod_heartbeat and mod_heartmonitor.
6777364 Hopefully the final fix for the subreq/filter issue. The prob was that we at this point could still have some stale and incorrect refs when we adjusted the f-stack. So move the update earlier so when we adjust, we're affecting r. Rdiger and Jim pretty much simultaneously :)
33623e8 Add security section to mod_privileges docs
85e7288 whitespace cleanup
a36484e reset chain if we need to...
5a83c54 * modules/ssl/ssl_private.h: Add a big fat warning about   the SSLModConfigRec lifetime.
61d7e25 * modules/ssl/ssl_engine_config.c (ssl_cmd_SSLSessionCache): Don't fix   the socache instance for the lifetime of the process since it is   allocated out of pconf.
172d563 * include/ap_socache.h: Use C++ safety wrappers, and rename ->delete   to ->remove since the former is a C++ reserved word.
b078f23 * include/ap_socache.h: Define AP_SOCACHE_DEFAULT_PROVIDER as a   default provider name, to allow consumers to use a default provider   if not configured otherwise.
778a79d Improve mod_ssl's environment variable extraction to correctly handle DNs with duplicate tags:
dce9107 Reduce config overhead for use of socache interface by allowing default paths to be used if none are configured:
0664493 Increment version.ent. We are at 2.3.1-dev.
bd3f025 missing line breaks
206fa0e * Correctly remove the SUBREQ_CORE filter from the filter chain if we do an   internal fast redirect and if the new redirected request is NO subrequest.   This fixes at least one of the possible subtle issues mentioned in the   comment to r620133.
0b645bf OK, instead of an igly hack, just use the normal build system impl to force balancer's config to happen post proxy
c27585f Explain some things
826cb7f Force the lbmethod submodules to be loaded AFTER mod_proxy.
c7d3363 * Remove unused variable
45a2a06 Make sure the htdocs directory appears in the RPM build.
fb3873d Remove the obsolete serial attribute from the RPM spec file. Compile against the external pcre. Add missing binaries fcgistarter, and mod_socache* and mod_session*.
6a33aa0 Add a note that these are under development.
c4c3eaf 2.3.1 is now in development.
432d1ed Roll on trunk to 2.3.1-dev.
14623a3 Remove -dev flag to prepare for 2.3.0.
24f396c When an expires or cache-control header are sent, the RFC does allow us to cache normally non-cacheable response statuses. Submitted by: Alex Polvi <alex polvi.net>
0a0ac63 Use cmd->temp_pool for temp allocations during configuration. Suggested by: Takashi Sato <takashi lans-tv.com>
5aa5f98 Make ctx:status an apr_status_t, and be consistent about checking and setting it. Suggested by: Takashi Sato <takashi lans-tv.com>
d9ceaf6 Use APR_THREAD_FUNC for heart{beat,monitor} thread workers. Suggested by: Takashi Sato <takashi lans-tv.com>
7ff39c3 Remove commented out block that wouldn't even work in this context.
a3c0555 bump minor for new apis
2b49414 Don't pass in a pool to to argstr_to_table, and duplicate r->args before sending it in.
746e3a6 update transformations
c73a91e fix XML errors of r723560
02fe31e Sync with the codes about the independence of load balancing scheduler algorithms. (r722948 - r722952)
487f3bd * Don't enable mod_wombat by default for now.
75ffcce provide a little more context in the multiple hostnames example
453059c Merge mod_wombat from the wombat branch:  <https://svn.apache.org/repos/asf/httpd/httpd/branches/wombat-integration> Into trunk.
54d13fe Make the max time from when we last saw a host a compile time option. Suggested by: Ruediger Pluem
778042d Add a note that the ratelimit module was added
ab548fb Always break out if the connection is aborted. Notced by: Ruediger Pluem
b2d3c5d Also init mutex_path in hm_create_config. Suggested by: Ruediger Pluem
c283a61 Print the correct enum value for the lock mech. Suggested by: Ruediger Pluem
d937001 Add a comment explaining the start mutex.
e5c05b8 Log the correct function name. Suggested by: Ruediger Pluem
609f1d7 D'oh. Fix r723672 and use the correct define.
7b55419 Make the frequency with how often we write the stats file a compile time option. Suggested by: Ruediger Pluem
88c3dd9 Make hm_ctx_t:keep_running a volatile. Suggested by: Ruediger Pluem
b23b3ec Show the correct mutex type (even if its just the enum id) rather than the default one, if it fails. Suggested by: Ruediger Pluem
4a8f5f8 Add comment explaining the startup mutex.
24bbbd0 Use correct function name in log message. Suggested By: Ruediger Pluem
8b2f625 Don't overcount busy servers from previous generations. Suggested by: Ruediger Pluem
33f3711 Make hb_ctx_t:keep_running volatile. Suggested by: Ruediger Pluem
79d33fc Update ignore.
11c4538 Finish removing dependecy on apreq
96dacc6 Build the right objects for wombat.
03eb917 New API, ap_body_to_table, a very ineffeicent and bad hack to remove an apreq dependency.
81bc4a8 Update ignore.
b337e10 Use ap_args_to_table instead of apreq for GET query params.
5cc222f Remove apreq includes
b560421 Use only c89 style comments
ba87dce Add new api, ap_args_to_table, to parse a request's arguments into a table.
81df07c Add wombat to build system.
d1a4809 Initial import of mod_wombat to the modules directory.
c68a988 Dev branch to integrate mod_wombat.
e70a4ba Remove X-Pad work around.
759c566 Note the dtrace stuff in CHANGES.
80d6606 When dtrace support is not present, compile it all the way out.
ac0da4d Add other args to proxy hooks
f47b6f3 Import the core parts of the DTrace patch.  This is a modified and updated version of what was submited by Theo before:  <http://mail-archives.apache.org/mod_mbox/httpd-dev/200805.mbox/%3C6AFBCFE8-4CCA-4A02-8A43-F9170689695D@omniti.com%3E>
cca2d66 Put the arguments to Header, RequestHeader, in alphabetic order.
8489889 I have finally been asked one too many times whether the 'foobar' in these documents represents the literal string 'foobar'. I think that this might prove a little clearer, and require just that one little bit less explanation.
9949815 More trivial typos.
1691aff unixd_config/ap_unixd_config rename for mod_privileges
84f2bd3 trivial typo
26f8885 Note mod_proxy_balancer changes...
da1c66b unixd_config->ap_unixd_config renames for mod_suexec
653ac70 All lbmethods are now ind submodules...
c26d704 Allow for ind lbs to build
7945337 Add in independent bytraffic lbmethod
49c3990 Add in independent byrequests lbmethod
54ab9d0 Add in independent bybusyness lbmethod
0ba3876 And allow for the submod to be built
933f257 And move the HB balancer there
9b48f3c Create subdir for balancer locations
7c99ca3 * Another set of missed renames.
26e367e Add the Japanese errordoc contributor. See r124566.
829d5a6 Migrate the charset of error/README to UTF-8
3bbe367 update Turkish UTF-8 messages
449726c Multi-language error pages:
1848a50 * The API Cleanup in r722399 missed some locations.
a73acf0 API Cleanup in preperation for 2.4.x, make sure all exported functions or variables contain an ap_ prefix.
e5b7a79 Don't do anything by defautl if we haven't been configured.
a9748ef When not configured, don't do anything by default.
a564117 Make dialup_callback a static function.
cd50568 * Avoid sending no answer at all if a custom error page causes an   AP_FILTER_ERROR.
736f959 Add the new modules to the netware build
d7157a6 Move the variable declarations to the beginning of the code blocks to avoid compiler errors on netware.
9de1ea6 Allow for external PCRE on netware
5d9555b To be safe, consume the entire brigade after processing an error bucket in the HTTP output filter.
7af7af8 Add a new module to read in the heartbeat file and do load balancing for mod_proxy based upon it.
a3055d8 Add a new module, mod_ratelimit, which can rate limit the outgoing bandwidth to a client.
ef70ceb Move variable declartions to the top of functions for c89'ness.
3680a77 Add two new modules  to handle load balancing across multiple apache servers within the same datacenter.
896b193 sync with IANA registry as of 2008 Nov 30 14:17 PST
5f33509 * Enable the use of autoconf >= 2.62 without causing APR / APR-UTIL options   passed to the configure script issue warnings about unknown options.
993bbf6 Remove c99 style comment.
46afcfe allow ap_invoke_handler() to pass-through AP_FILTER_ERROR as if it were a reserved status code (OK/DECLINED/SUSPENDED). Prevents ap_die() from seeing a 500 error when the http header filter has already taken care of the proper error response
f48cd3b correct syntax of DirectoryIndex feature, CHANGES only
51c4443 Prevent AP_FILTER_ERROR from being misinterpreted as SUSPENDED when checking the status code returned by a handler by updating the values of the filter error macros and consolidating them in httpd.h
96bfc9f * buildconf, configure.in: Don't attempt to configure the   no-longer-bundled pcre.
3a1bc53 Backported
84bd9a2 Stop bundling PCRE in trunk.
c1a9ef2 Slight clarification to the way rewrite works in per-directory context. Suggested by Peter Kehl on the users mailing list.
ffac189 Fix up the netware build with the additions in the filter modules.
d4742e3 Delete the images from docroot/. These are not needed after r105393. The same images are still in icons/.
ed3f831 merge r358287:
f95302d update for sync with English doc.
f387160 New Turkish translation
51df5d3 Make %k work as it should. No regression noted in perl test framework.
6991d8b quote MaxRequestsPerChild
dd219ea * These are now backported.
6703fd4 So close ;-)  Nicely done Jim
6c2c4ea Simple  cut/paste to create a mod_sed template
a91687d No idea if this is 100% correct, but provide a template at least
e7a5d97 testing indicates a large buffsize (~8k) is better...
68512c2 Note that the current mishmash is ugly... hope to find time to restart working on the cleanup I started at ACUS, but got sidetracked with confusion on where the divisions actually were...
2efc0fb update xforms
d3d049b Style correction
15829bb Fix MaxRequestsPerChild on the Event MPM.  It hasn't worked for 4 years.
22f29c3 Typos
8944de6 mod_buffer: Honour the flush bucket and flush the buffer in the input filter. Make sure that metadata buckets are written to the buffer, not to the final brigade.
5b28da8 mod_buffer: Optimise the buffering of heap buckets when the heap buckets stay exactly APR_BUCKET_BUFF_SIZE long.
49ec47f Update transformation.
d3b023e Clarify the documentation for mod_buffer to better explain where the buffer might be useful, and that buffering is not guaranteed to improve performance in all cases.
c79192b Refactor the input buffer filter to use a context as the output buffer filter does. Ensure that the filter properly handles the non blocking case, both when a downstream filter returns EAGAIN, or if a filter returns APR_SUCCESS and an empty brigade.
96098a0 * Fix properties.
a02da58 Update transformation
93d3db6 mod_buffer: Optional support for buffering of the input and output filter stacks. Can collapse many small buckets into fewer larger buckets, and prevents excessively small chunks being sent over the wire.
d05ddf0 * This one is now backported.
0deb27e Minor typo
9a4ff73 Add mod_privileges to CHANGES
2d7ef4c * Don't build mod_privileges by default.
ad80545 Update doc transforms
1b34d12 Update Japanese translation English Revision: 659902
38d3498 use <transnote>
466af3e Introduce mod_privileges: a platform-specific module offering enhanced security and a (limited) solution to the "perchild" problem.
aac5199 Update transformations
0efc0ea Grammar fixes
cacaa38 Update 'all' transformations
1569974 Initial build of mod_unixd.html* plus props
3fb27ad Update transformations (from introduction of mod_unixd)
46fcaef Minor grammatical issues
362b77f * The nitpicker of the space police. No functional change.
3161209 temporary dbg message and unnecessary continue, per rpluem review
e4fbdf0 change short-lived behavior of "DirectoryIndex None" based on feedback from wrowe:
c4e721b Introduce mod_unixd into the documentation
64718d0 These are in 2.2.11-dev
adce150 Some typos.
d563882 o cast some votes o FreeBSD 5.x is no longer supported in even security patches.
d1edfd3 * Adjust changes entry to what is really done to fix it.
f457e1b Add Simple MPM to example mpm config.
793919b Always build odbc on Windows - backported from trunk to 2.2.x trunk: r704771 & r704883 2.2.x: r712514
4a3c945 * Rip out the old flushing approach for solving lifetime issues between the   backend connection bucket allocator and front end connection bucket allocator.   Instead copy the buckets from the backend over to ones that have been created   using the front end bucket allocator. For metabucket this is done by recreating   them, for data buckets this is done by reading them and putting the read data   in a transient bucket.
0d1be62 mod_unixd: use APR_HOOK_MIDDLE for drop_privileges. We're the canonical module for that hook!
5c61755 Update following original file modification.
d4854f9 Note mod_authn_alias doesn't exist in 2.3/2.4.
b245627 update transformations
ed234af * Correctly set SSL_LIBS during openssl detection if pkgconfig is not available.
aa061ea Typo correction line 409
ded8913 A reverse DNS lookup followed by a direct DNS lookup mean "double DNS lookup" instead of "double reverse DNS lookup"
53472c2 Update in reference to original files modification.
55b00a3 * mod_mem_cache is dead. So remove all hints on it.
ac7b6ed Eemove the remained English text and fix the XML validation error.
18fc8d2 update for sync with English doc.
c9beb12 Remove mod_mem_cache from documents (Sync with r711470)
92d9c6f Sync.
d16c3dd Sync.
40cb414 The mem_cache is dead, long live disk_cache.
a4df1f5 Holey moley. Marcus Burke noted this in Rich's Nuts/Bolts talk. How embarassing!
fd46aa8 * We now need mod_unixd for worker, prefork and event as well.
5901c0a Updating
46d3287 * Instead of unixd_setup_child run the drop_privileges hook to switch the   userid / groupid.
9327dae * unixd_setup_child is no longer implemented by unixd.c.
701bb56 * Move code to a more conveniant place
c70304b Update a Japanese translation.
b4f5028 Update a Japanese translation.
31ada70 Update Japanese translations.
368d9bb Further unixd hacks to remove duplication between old-unixd and mod_unixd, and get it working with old MPMS[1] + mod_unixd.  It's still an uneasy split, as some modules (mod_cgid, suexec)[2] also use unixd. More thinking+hacking due.
6a9e000 Ummm why bother setting vars if we are bailing?
8779d2f Trivial fix - insert missing space.
6ba15c1 Make sure that the sys_privileges_handlers is set for the NetWare platform
3a3dd65 Remove the ap_session_get, ap_session_set export references for the NetWare build
beacc17 Make sure we clear out previous things we were listening for.
6a61e11 Move security check to post_config, ćos pre-config hooks don´t run in expected order.
a1252f9 Wrap the global count of privileges handlers operating.  Silence grumblers.
c764e36 Bump trunk to require apr-util >=1.3.x, since we already require apr >=1.3.x.
72119d9 Switch all unix MPMs to use drop_privileges hook (mod_unixd) for startup and add a flag to prevent running without any module taking responsibility for managing system privileges!
0225dbe * r708902 fixes PR39774 and thus is worth a CHANGES entry.
4ca264a * Better use calloc instead of alloc to initialize unset fields in struct.
cfea0a5 * Update transformation
71dfce9 * Digest providers works as well.
b721405 * Fix typo
a533ec8 update transformations, and remove variations of mod_authn_default.xml and mod_authz_default.xml removed in r709841
66b8ffd Documentation revisions for r709838 and r709839.
cf4e94f Remove mod_authn_default and mod_authz_default.
fa0fdfa Fix handling of authz configurations, make default authz logic replicate 2.2.x authz logic and support existing configurations (including .htaccess files), and replace <Satisfy*>, Reject, and AuthzMergeRules directives with Match, <Match*>, and AuthzMerge directives.
54a737b minor formatting changes prior to larger changes
8fee200 remove unused variables, rename some variables, move and change variable initializations, etc., prior to larger changes
6bfd10b prevent crash when authz provider not registered prior to use in alias
99b3df7 move some variable initializations prior to larger changes
a7e48ff localize some variables in authz provider alias functions
8564ca3 move function prior to larger changes
d9b960b major not minor bump for r709708
6200ffa remove unused AUTHZ_GROUP_NOTE define
cc8a354 fix typo
44de43a remove trailing whitespace, adjust formatting and comments prior to larger changes
3cc4c29 whitespace cleanup
da4b4f4 * Update transformation
07e8685 * Use distinct char pointers for sending and receiving buffers to avoid   destroying the pointer to the sending buffer in the ajp message if   data is received from the backend before all data is sent to the   backend.
7283c2d Convert events to have an associated pool.
2f01a7c Reset the timers when in the child -- this prevents a fork bomb, as each child would spawn N more children of its own, as the scheduled timer would go off in the child and the parent.
9a702bf Remove extra log line with how many threads are being spawned.
eac12b8 Move creation of the pollcb object to after we fork(), since kqueues don't persist across fork(). (huh, didn't know that before)
fe9cec6 Note crash fix in mod_authn_core.c from r709553.
097b993 Add AuthType of None to support disabling authentication. Prevent crash when provider alias created to provider which is not yet registered. Migrate remaining functionality of mod_authn_default to mod_authn_core.
89e17a3 Allow <Limit> and <LimitExcept> directives to nest, and constrain their use to conform with that of other access control and authorization directives.
c63898b Also adjust unixd.c with changes from r709406
83c28b5 Maintain the assumption that uids are long (as is done with other code sections), as well as be aware of signs.
120206c Minor typo correction
f3ae98d Make unixd_set_user a local static function.
76746c0 Make a valid prototype
9c05697 Basic support for spawning children porcesses via fork() and killing them with kill().
27fdc3d Add Makefile.in, so unixd will actually compile correctly :-).
5ac9eeb Remove completed todo items.
a67dbf6 reindent according to our coding style: <http://httpd.apache.org/dev/styleguide.html> for i in `ls *.h *.c`; do indent -i4 -npsl -di0 -br -nce -d0 -cli0 -npcs -nfc1 -nut ${i}; done
08dddeb Change the child_init hook to a drop_privileges hook for mod_unixd.
0817768 Create a new drop_privileges hook for the Simple MPM.
2d97534 Remove SimpleUser configuration command, this will all be handled inside mod_unixd.
0519c38 Strip down mod_unixd to only do chroot and changing the UID.
8c8930d Add mod_unixd to build, update svn:ignore.
7eebe4b remove empty directory.
8715fd2 Move mod_unixd to arch/unix.
dd35c78 Introduce modules/system, and mod_unixd.c
e0a8365 Avoid time traveling :)
1643f81 * include/http_core.h   (core_dir_config): Fix warning: overflow in implicit constant conversion,     generated by core.c line 117, which sets content_md5 to '2', which is too big     for a signed value -- but it looks like this was really meant to be unsigned.
9733c2a Cleanup mod_dialup to compile with -std=c89 and -pedantic.
b1575e4 * modules/generators/mod_cgid.c   (cgid_server): Fix warning: 'env' and 'argv0' may be used uninitialized in     this function.
e51cb1a * include/mod_auth.h   (authz_status): Remove trailing comma on enum.
92e9540 * modules/http/http_request.c   (ap_process_async_request): Fix warning: 'return' with a value, in function       returning void
0cfc4a2 * modules/database/mod_dbd.c   (dbd_child_init): New function, wrapper around dbd_setup_init.   (dbd_hooks): Call dbd_child_init instead of casting dbd_setup_init.
485ed11 * server/core.c: Fix implicit declaration of function 'unixd_set_rlimit' by     including unixd.h.
5f24c39 Improve ability to compile on C90 Compilers.
e6583a6 * server/mpm/simple/simple_io.c: s/simple_io_timeut_cb/simple_io_timeout_cb/g
0be485f * modules/mappers/mod_rewrite.c (do_rewritelog): Add prototype with   printf attribute flagged so that gcc -Wformat-security will pick   up PR 46110-type errors as a warning.
d679140 * Supply the per-dir parameter to the rewritelog call where it is needed.
eb0076c update transformation
07c03d4 * simple_io.c line 111 and 145 cause a build falure with --enable-maintainer-mode . * simple_children.c should include simple_children.h. * simple_io_timeot_cb should be static.
9885b54 fix XML errors
7539f87 * server/mpm/simple/simple_{event,run}.c: Turn off Ring Macro debugging.
6388ea0 Add a work in progress, a completely new, "Simple MPM".
182cb9c update a Japanese translation
7df73d0 * caching.xml.fr: fix a tag * set eol-style
80ddb8d * Do more greedy reads in the core input filter to get more closer to the   number of bytes requested.
e1e0efe * modules/cache/mod_socache_dbm.c   (socache_dbm_init) Use AP_NEED_SET_MUTEX_PERMS to determine when we need to     set the file permissions on the created DBM files, rather than listing     a hodgepodge of operating systems by hand.
409a892 * modules/cache/mod_socache_dbm.c: Fix compile by including unixd.h on operating     systems that need it, which is required for for the use of unixd_config     inside socache_dbm_init.
391e0a1 Adding .fr translations for suexec logs server-wide sections new_features_2_4 urlmapping dso upgrading glossary
e073c6d New french translations.
0c674a7 * save_table needs to be declared first before it can be used.
9b6fefa AJP was dropping pre-existing cookies. Use same logic as HTTP to tuck them away
c8e04dd update transformation
f9e6044 update for sync with English docs.
128feac New Turkish translation
498fb10 Update docco xforms
e1ed648 Fix the io buffersize code. Have the docs match the code and allow more flexibility in settings. Also, document the ProxyPass/worker options of io and rec buffersize.
704feaa Implement checks for NULL r->user as per r705361.
cd7a438 Remove potential for memory leak... allocate on this request which is now viable due to connection pooling.
8aec8fc missing an "if"
1e6a76e update transformation
919c0c9 leave a hint about some non-intuitive startup behavior for RewriteMap programs
75fdb89 * There are no subrequests which have itself as parent.
c51c1b5 * This one is backported.
81c73ca * Move ap_timeout_parameter_parse from mod_proxy.c to server/util.c and thus   make it part of the public API.
c1f881e * Improve the way to detect whether buckets in the filter chain need to be   flushed by using the main requests bytes_count field instead of the   subrequest field.
080d0b5 pre-translation improvements
de4a756 update for sync with English docs.
5dd3bee ap_proxy_determine_connection modifies the url if we are retrying the result we should retry using the orginal url.
a5d6364   *) mod_dir: Support "DirectoryIndex None"      Suggested By André Warnier <aw ice-sa.com> [Eric Covener]
1ffb6a6 convert tabs to spaces
8468793 Prior to authn/z refactoring in r368027, if authorization Require directives had no matching AuthType and associated authentication directives, requests would generally fall through in the check_user_id hook to mod_authn_default.c's authentication_no_user() handler, which returned DECLINED if ap_auth_type() was not set. The ap_process_request_internal() function in request.c would handle this case by logging an "AuthType not set!" error and returning HTTP_INTERNAL_SERVER_ERROR.
4164a03 Make text match example.
d9c8cd6 Add example and comments when using ScriptAlias with a file.
d74adf5 Update howto/cgi.xml to link to RFC 3875 not a document on Ken's site
25cbf27 This was backported
96c04ef * Update transformation
1c99da5 * Add the possibility to set the worker parameters connectiontimeout and ping   in milliseconds and the parameter acquire in seconds.   Add the new currently static function ap_timeout_parameter_parse that   should become a general utility function once its API is hammered out.
e1de193 * Send Content-Type application/ocsp-request for POST requests to OSCP   responders.
2792509 Windows: add apr_dbd_odbc project to Visual Studio workspace .dsw file
08e6378 Minor bump when exporting mod_rewrite.h
cd6621e Always build the odbc dbd driver on winodws, to be consistent with the apr-util default
53ddbf4 * Revert r703998.   The call to apr_socket_timeout_set before apr_socket_connect already sets the   socket to non-blocking mode because the timeout of the socket is -1 after creation. A further   call to apr_socket_timeout_set (after the connect call does not do this, because the old   and the new timeout are >=0). The further code expects the socket to be in non-blocking   mode, otherwise we have regressions with ssl. This can be notified by running t/ssl/proxy   on 2.2.x which runs much much slower with the patch applied. This does not happen   on trunk because the socket is set back to non blocking by the core output filter   (async write completion).
457ebd6 Export and install the mod_rewrite.h header to ensure the optional rewrite_mapfunc_t and ap_register_rewrite_mapfunc functions are available to third party modules.
4809b77 * Make the connection timeout to backends work by temporarily setting the   socket to non blocking mode.
70b4ac3 Note modules such as mod_headers affect %{Foobar}i
03bf4c0 update transformation
9cc6753 add LastChangedRevision and eol-style
afcbc36 update Japanese translation
d7c2abc fix MaxClients description (r692325) suggested by wrowe
e5888dc update transformation
b1e14d0 update for sync with English doc.
0960306 New Turkish translation
99496bf Fix AuthzMergeRules directive name and an addl typo.
4f4fec4 * Recheck again if idle workers are still available when we are signaled that   they are. This is needed since it can happen that we are signaled by a   worker thread that went idle but received a context switch before it could   tell us. If it does signal us later once it is on CPU again there might be   no idle worker left. See   https://issues.apache.org/bugzilla/show_bug.cgi?id=45605#c4
cacceb8 backported 2.2.10 - r702502
432a8aa no AuthzLDAPAuthoritative in trunk, because authz uses a provider API
12366e9 translation improvements (feedbacks)
4e904d4 Reimplement ThreadStackSize to behave as on unix for any Windows 2003/2008 (XP/Vista) servers.  Virtual allocations will only consume pages once referenced, while the page alignment will vary by ThreadStackSize setting so that the maximum number of threads and minimum stack VM profile will be wasted.
a321768 The last two of several helper threads which do not need a default 1GB stack (but where on earth does 1000 come from?  nonsense.)
1a0ec56 The next of several helper threads which do not need a default 1GB stack
f137066 The first of several helper threads which do not need a default 1GB stack
1a8fba5 Track the internal stack_res_flag for properly constraining win32 stacksize on windows 2003 (xp) and 2008 (vista).
4e0b5e2 CoredumpDir useless on win32; implementing toolhelp.dll is nontrivial
8f45813 pre-translation improvements
9b3699e pre-translation improvements
1457f72 Add dummy ap_mpm_register_timed_callback for other MPMs besides Event.
14bb707 For timeouts, behave as before and not drop. From Adam Woodworth <mirkperl gmail.com>
767cc30 Introduce Suspendable Requests to the Event MPM.
c5a0b2b Cleanup the explanation.
4a268cc Allow for the smax param to be 0, so that all connections are available to be dropped, should they be idle long enough. PR 43371
c832c42 r696758
e2eac36 Always send body (zero size at least) whenever C-L is present in the request
58626d2 In 2.2
f08ae21 backported
bb16458 PR45806 Fixed break tags. Submitted by poirier pobox.com
1566c82 * INSTALL: Add a blurb about --with-included-apr option.
1bec862 Patch from Dan Poirier. Grammar updates.  Cheers Dan.
db86d08 despite this being mod_ldap and not mod_authnz_ldap, make the examples a little more complete/self-contained.
c682bd4 "AuthzLDAPAuthoritative off" isn't required to accept valid-user anymore (and these are SDK/SSL examples, not mod_authnz_ldap examples)
51f535f backported in r695234
97ed2d3 update transformation
2433476 Reorder sections as per the DTD
170d391 update for sync with English docs.
6bb66e6 * Replace control characters in output strings with more pleasant strings.
a8b7e95 * Fix potential segfault if flags remains NULL.
507473f * Allow empty substitute patterns (to remove data from the stream), but   disallow empty search patterns.
1f8233d * Use send_bucket_downstream to send data down the chain instead of creating   a brigade each time.
96ba29e stash the brigade used by send_bucket_downstream in the filter context for reuse.
a5ce4c2 * If CPING fails retry once more with a fresh TCP connection. If this fails   as well give up.
e8dd90b mod_authnz_ldap: avoid returning NULL env vars PR 39045
a927ddd * Fix compiler warning (missing sentinel in function call).
0e3d53a mod_mime: don't adjust case in filename components we don't use PR 43250, patch by Basant Kumar Kukreja
3ae5f80 Update xforms... mostly mod_sed related
7a3d082 typo
8adcd5a Add in useful feature. %k which logs the keepalives value. PR: 45762         Dan Poirier <poirier@pobox.com>
5e0f8c9 Typo fix
bdb2ae4 Relax checks on HTTP Response status line from a backend. PR#44995 - Rainer Jung
d527d17 Ensure it's abundently clear that these scripts may be bad news with stupid-assed clients which contravine their prime directives, such as content-type, or do not harm humans.
0c13c0a PR 45687: Detect and pass along error buckets
d7cddbe update Japanese translation
afe15a9 Fix MaxClients description to adapt threading MPM. (This is still inaccurate for trunk Event MPM.)
fd09d53 Commit mod_sed: enable filtering of HTTP Requests and Responses through sed
84e0e4f mod_auth_form: Make sure that basic authentication is correctly faked directly after login.
2af7a38 Remove trailing spaces (on the insistence of Eclipse).
4ed2378 mod_session_cookie, mod_session_dbd: Make sure cookies are set both within the output headers and error output headers, so that the session is maintained across redirects.
0529fe2 mod_auth_form: Make sure the logged in user is populated correctly after a form login. Fixes a missing REMOTE_USER variable directly following a login.
ed1c1c4 The cookie attributes to fix cookie removal required an MMN bump
0ec83e8 mod_session_cookie: Make sure that cookie attributes are correctly included in the blank cookie when cookies are removed. This fixes an inability to log out when using mod_auth_form.
ca323c0 Add option to insert something in autoindex head.
f682b79 Fix typo in r689224 (thanks rpluem for spotting it)
4fb3f96 Try to get a meaningful error message when dbd_open fails
4983b63 Permit --with-apr=/path/to/apr alone, where the default path will be handled by replacing all /apr path segments with /apr-util (or /aprutil) to handle nearly any developer's path scheme.  One rare exception would be /asf/srcs/aprutil/trunk/apr-util or similar where both /aprutil and /apr-util path segments exist.
e35f22e Move struct definition out of the header file since it is only used in this source file
6963f05 xforms
d82d02d xform for scolon-is-sticky-session-path-delim docs
45c5291 Allow determination of whether to use ';' as a sticky session path delim/sep (ala mod_jk) to be runtime (and balancer-wise) configurable.
c31e8fb Implement dynamic mutex callbacks for the benefit of OpenSSL.
955382a Update transformations
bfb1d38 Minor grammar corrections for mod_ssl.xml
383a1d2 Add in additional logging and use correct formats
7292b67 * Update transformation
6051042 * Allow directive elements in default elements as default values can be the   settings of other directives (e.g ProxyTimeout and Timeout).
5d8e4bb Remove trailing path element, ala ./jk/native/common/jk_lb_worker.c, but use apr_strtok niceness. PR: 45158
1a0a3b5 Add in bybusyness LB method, via Joel Gluth in    https://issues.apache.org/bugzilla/show_bug.cgi?id=45501
5ff697d Add comment on why the cast is safe and does not result in lost info.
2424180 We are really looking for the scheme here... so be consistant
714fa22 typo
624be7a typo
dc97680 update transformation
ce10c36 update for sync with English doc.
ee66c35 New Turkish translation
b2f63d6 sync Japanese docs with English ones
ad60b5e * Update transformation
74be528 * Add missing documentation for proxy-initial-not-pooled (r684351).
609d5c9 * Fix error in default setting for ProxyTimeout
aec12cd * Missed one.
efaef48 * Write variable in lowercase.
24df82c * Note further env variables and that their documentation can be found   in mod_proxy_http.
9c3e5a4 In 2.2.x
fecb728 Backported to 2.2.x as of 686396
3233157 The error logging core only logs at very high level if it has no server_rec from which to read the appropriate LogLevel.  Ensure that everything gets logged when -DDEBUG is passed to the compiler.
3c7fa74 pre-translation improvements
4486dfb use %{DOCUMENT_ROOT} variable in the "try several subdirectories" example
babe155 Provide useful solutions to the 'blocking inline images' problem.
9f8ccad I've long hated this technique, in which the hostname is prepended to the REQUEST_URI, and then munged on a second pass through. It's confusing, hard to explain to beginners, and completely unnecessary. Use RewriteCond backreferences instead.
edf65d3 "Search pages" => "Search for pages"
600d513 This adds a more generic "add www. to all hostnames" ruleset. It also makes the existing rulesets in this section work both in the main configuration file and in .htaccess files, by making the leading slash optional - ie ^/?
fb96a42 example.com, rather than exampe.com
3b01067 comment tweak
e1e35ca note fixer of dav fs fix
1c653af The [uge] isn't necessary in this context. We're just talking about /u/ here. Surely we can come up with a better example of this.
1cf4c24 * modules/dav/fs/repos.c (DAV_FINFO_MASK): Define macro.   (dav_fs_walker): Use DAV_FINFO_MASK when stat'ing the   directory member during the walk.
2554257 eol-style: native
df51daf update transformation
8fb228c update transformation
5f6b6db Updated
0afe61c * Introduce environment variable proxy-initial-not-pooled to avoid reusing   pooled connections if the client connection is an initial connection.   This avoids the "proxy: error reading status line from remote server"   error caused by the race condition that the backend server closed the   connection after the connection check on our side and before our data   reached the backend. Yes, this downgrades performance, especially with   HTTP/1.0 clients. Hence it is configurable and off by default.
20317fa * Update transformation
b4e20c8e5 * Add the possibility to set a separate connection timeout for backend   workers.
91d5801 * Improve timeout documentation even more
043dfd4 * Fix bogus explanation of timeout parameter
c5dcd1a Offer a little more detail in troubleshooting problems with .htaccess files.
60a8f3b Admonish people not to put "AllowOverride All" in <Directory /> and expect it to do anything useful.
e2d449f Adds LogFormat example to the split-logfiles documentation to clarify what is meant about using %v
484b633 mod_dav_fs: Retrieve minimal system information about directory entries when walking a DAV fs, resolving a performance degradation on Windows.
fef506e * Move nonce field inside the html form.
fd449cb Updated
166a985 * server/util_cookies.c (ap_cookie_write2): Add missing sentinel in   apr_pstrcat call.
a1df46e * modules/mappers/mod_rewrite.c (cmd_rewritelock): Add missing   sentinel.
98ab709 * modules/ssl/ssl_engine_io.c (ssl_io_input_getline): Document   interface.   (ssl_io_filter_input): For GETLINE mode, pull lines directly from   the char_buffer if possible, to avoid unnecessarily copying the   entire buffer once per invocation.
feabec3 * modules/ssl/ssl_engine_io.c (char_buffer_read): Use memmove in place   of memcpy since the buffers can overlap; add explanatory comment.
b96fe2d Relax checks for OCSP responder URIs:
14e3794 * Prevent XSS attacks when using wildcards in the path of the FTP URL   (CVE-2008-2939). Discovered by Marc Bevand of Rapid7.
a822096 Make list_hooks.pl multi-line aware, and swallow up the required lines to obtain args, etc...
72e89c8 picking nits - de-tab
90ea0dd Simplyfy codepath. Don't treat "" as special, just plug along. This matches the codepath in mod_cgi.c
c711c24 New Turkish translations
a3dbf90   *) mod_cgid: Pass along empty command line arguments from an ISINDEX      query that has consecutive '+' characters in the QUERY_STRING,      matching the behavior of mod_cgi.
f182197 * Remove call to apr_reslist_destroy. With the latest trunk version of   apr-util this causes a lock during shutdown as at the point of time we would   execute apr_reslist_destroy the reslist is already destroyed, because we are   in a cleanup of the same pool where the reslist registered itself as   precleanup.   With apr-util 1.3.x calling apr_reslist_destroy is not really useful and   needed in this case as we are in a cleanup that was registered against the   same pool that is used by the reslist. As it was registered *after* the   reslist was created it just runs *before* the reslist cleanup would run. This   is somewhat pointless here and we could leave the job of destroying the   reslist to the reslist cleanup.
5c5dc84 pre-translation improvements
23c5c66 eol-style: native
a7aaf5c update Japanese translations
b850cc9 * Give possible piped loggers a chance to process their input before they get   killed by us.
8dfbd35 * Construct a site in the reverse proxy case when there is non.
ebc47b1 Update xforms
0332b0d Change r->content_type when mod_headers sets the Content-Type header
41fa9e2 Updated
7970a6f fixed an erroneous link
0508281 fixed faq and rewrite links
49168ab propogate a NULL get_realm_hash() implementation from AuthnProviderAlias back to mod_auth_digest.  PR 45196
bb7398f revert r672639 which lacked a necessary major bump, add a major MMN bump to account for the short-lived API addition/removal.
daa21a6 update transformation
aab8e40 * Ensure that the SSL filters are not inserted on FTP data connections even   if the virtual host that causes the proxy request has SSL enabled.
945a729 New Turkish translations
7a0b834 PR#45450: include new MySQL options in mod_dbd docs
83332ed New Turkish translations
dd3067b * Prevent a segfault when a CGI script sets a cookie with a null value.
a3e8e3f pre-translation improvements
d4d26ea pre-translation improvements
d1aa97e pre-translation improvements
3f28a02 fixed the xml-validation error
1fbc99d some cosmetic improvements
6b13fae update transformation
8fcc0ab Remove dead link to Alan Flavell's stuff (noted by Lucien GENTIS in the french version).
201cc0e Add 'AuthzMergeRules Off' and a note to the default httpd.conf.
9daa2e0 Use &lt; instead of < in example code.
df18b44 oops, I forgot to add mime-type image/png
b6f431e new Turkish translations
0889895 remove outdated link
d4cdbb0 note negation of env-var (env=!)
36c7fe1 sync
930ff74 update and sync
cb900e5 Missing <var> tags.
ac75f05 Fix long-obsolete summary in mod_auth_digest.
8a73cc5 correct the digest password Java example code - doc PR 45340
3c03d96 fix comment associated with MMN change
86efa65 * Prevent Header edit from processing only the first header it should   edit and deleting the remaining ones by iterating over all headers   with the same name.
dcc70f6 * Include http_config.h to ensure that cmd_parms is defined, otherwise   e.g. the perl test framework breaks.
96f37e5 update Japanese translations.
b159abb caught by Ruediger
bbc850e mod_auth_digest: Detect during startup when AuthDigestProvider is configured to use an incompatible provider via AuthnProviderAlias. PR 45196
e57fda0 update Turkish translations
819218f update Japanese translations
2fac8e6 Prevent XML code from creating a broken link
d22cb27 Fix broken link
3a61888 * Fix formating. No functional change.
40bbc78 Update mod_dbd page for ODBC driver
de5118c update transformations
31013ae new Turkish translations.
4646596 sync. Submitted by: takashi, kawai Reviewed by: kawai, takashi
7d25285 sync. Submitted by: takashi Reviewed by: kawai
62febaa correct r670061 - preserve query string with [noescape, proxy]
58d7382 sync. Submitted by: takashi, kawai Reviewed by: kawai, takashi
23c5c36 sync with English files
c814ac4 sync. Submitted by: takashi Reviewed by: kawai
a89e8e5 Sync. Submitted by: takashi Reviewed by: kawai
70845bf After r649840, mod_proxy_http will no longer append a query string from r->args if "no-canon".
18c1772 Adopt conditional handling for the new AC_USE_SYSTEM_EXTENSIONS as of 2.60.
9233ccc This macro for SSL detection was altogether wrong.  Refactoring to restore the ability to build and link against a specified --with-ssl[c]=path, including use of pkg-config variables which were ignored during the autoconf test phase.
1f703b3 AC_USE_SYSTEM_EXTENSIONS encompases _MINIX and _AIX and silences autoconf 2.62
b8684d4 * add <compatibility> to DefaultType * minor fixes
12e142c sync. Submitted by: takashi Reviewed by: kawai
1e90436 sync. Submitted by: takashi Reviewed by: kawai
10232f5 sync. Submitted by: takashi Reviewed by: kawai
c5d3593 * mod/mod_proxy_fcgi.xml: fix the wrong module name * programs/index.xml: add fcgistarter
38e75aa update transformations
dc9cdc6 set LastChangedRevision
e6fbf61 adjust revision reference
fb7a8b1 Add documents of mod_proxy_fcgi and fcgistarter. These are incomplete.
256357e fix source file names of mod_proxy_*
b3c397f worker/event MPMs: graceful-stop doesn't work if the listener thread is waiting for an available worker thread.  PR 43081
6efb76cc get the Event MPM to compile again
5034fb0 update transformations
6b6890c Add a example of  SeeRequestTail
2169691 * clean the compatibility note of SeeRequestTail * use <code>
a778b20 Sync. Submitted by: takashi Reviewed by: kawai
3837dfc fix English Revision.
98b4d05 Sync. Submitted by: takashi Reviewed by: kawai
c140112 update transformations
e20d24d new Turkish translations.
b1da27d update a Turkish translation.
fa09c3e Sync. Submitted by: takashi Reviewed by: kawai
e82092b Sync. Submitted by: takashi Reviewed by: kawai
9d09592 Sync. English Revision: 659902
db12200 New translation. English Revision: 664361
28485f7 Some more translation. Submitted by: takashi Reviewed by: kawai
47f3698 Switch the default base authz logic operation to 'AND' rather than 'OR'.  This should allow directory authz rules merging to be more restrictive in sub-directories
5ebf4a2 Allow for negation of env check as well...
6722138 more tab cleanups
f93a5e4 more de-tabify
6ab8a9d clear out bogus whitespace
50d2bb9 de-tabify
bf9b603 Add whitespace for clarity
acb8291 Fix whitespace -> tabs, it is a makefile
12b7b93 Additional fix up of command line .mak dbd module builds, and optional .mak dbd IDE build.
6ff5f3e Windows manifests are ;1 for .exe, ;2 for .dll and .so - ref: http://msdn.microsoft.com/en-us/library/ms235591.aspx
89b4f23 fix ldap make - ARCH is only defined in apr, not in httpd
ccdbc60 Note that the DBD_LIST is supported for Makefile.win builds.
c1303db Correct install script flaw when DBD_LIST is provided by the build user.
79c6bd3 Update mod_auth_digest status Docs bug pointed out by nicerobot on IRC
416f8ec in 2.2.9
eada832 Copy mod_proxy.xml.ja from 2.2 to trunk since r344971(trunk) and r421100(2.2) are the same.
6806faa move back to inner loop... fails otherwise
33f7a2a Patch for CVE-2008-2364...
f97f078 r664705
d82bc91 Since we are using AC_CACHE_CHECK, avoid warning about non-cached item by adding the required _cv_
4893a61 core: Fix address-in-use startup failure on some platforms caused by attempting to set up an IPv4 listener which overlaps with an existing IPv6 listener.
baec039 No header files currently found in that dir, so the build fails.
9fa07f8 * irreversable -> irreversible * whitespace fix
83b2dda * Update transformation
cf66e38 * Offer the possibility to create session cookies in the case a path is   given.
140715a * Allow HttpOnly, 1 and true to enable HttpOnly, allow secure, 1 and true   to enable secure.
f90040c Catch up to apr-util-1.3.0, build apr_ldap always, and conditionally build DBD_LIST members.
fec4db0 mod_core.h is moved
1ed653d Catch up with a host of changes to the current module set
c14c55d Signedness error
f776770 Catch up with cache changes
864dc3f7 mod_core.h moved to include/
bbc5450 Consumed by server/*.c, belongs in include/
6f0e96c ap_ namespace, a dead giveaway that this information should reside in the general include\ directory
1149255 If we are submitting 2GB login forms, there is a very serious, serious problem.  The len and form_size of size_t should be adaquate, clean up the rest of the size/off mismatches.
3ad01cf You don't export the fn hooked or registered as an optional fn
acd6d4f You don't export the local registered functions when using optional fn's and hooks.
87ae720 You don't export registered entry points
455e5db add util_cookies
4c9b085 is_graceful means nothing in the mpm_winnt
cb4a8ab Declare the callback function NONSTD
eb8b3d7 Registered callbacks are NONSTD or must be specially declared in the function prototype of the c/b arg.
132636f mod_request.h / mod_auth.h moved to include/
df5ca37 As this is consumed by the core, mod_auth must reside in the serverwide include/'s.
626c03a No.  You cannot rely on mod_foo.h magic from the various subdirectories if you will consume it in the core (server/*.c).  server/request.c needs mod_request (similar to mod_core.h) so this never belonged in the subdir.
11e672a mod_session has a different scope than the core. Replace the nonsense (see modules such as mod_dav, mod_cache etc for similar examples).
d867217 Revert prior change; some of these are registered and therefore the wrong declspec.  But why is the question, and this should be reviewed before release.
d9c0b7e * Don't send 100-Continue when there was no Expect: 100-continue in the   request headers.
05e2e1a The cache_hash, cache_pqueue and cache_cache functions are undecorated, their .h files are not propagated into an installed include/ tree, and were erroniously exported.
87c353a mod_mem_cache consumes mod_cache, linking this in two modules is an error.
7158876 Revert prior commit; the flaw is not in exporting all of these cache_* functions, but in declaring them exported in the first place.  _hash, _pqueue and cache_cache are undecorated and were erroniously exported.
0f1189f These are declared CACHE_DECLARE and should be consumed from mod_cache by mod_mem_cache.  The duplicate cache_util import is a dead giveaway that this was broken.
d8998ab No.
96d4246 Need to link with rpcrt4.lib to use apr_generate_random_bytes - per r662572.
1c71489 disablereuse: note round-robin DNS (from 2.2 r655998)
ce75fb2 No functional change; simplify the CVE-2007-6420 fix slightly, as suggested by rpluem:
f438923 Convert Japanese translations from ISO-2022-JP to UTF-8 since "Support for Additional Languages" needs to be enabled in the installation of JRE to read ISO-2022-JP.
74d535b The environment may be manipulated by modules such as mod_perl, so regenerate the passed env argument on each CreateProcess call.
0135f15 For winnt_mpm console mode, always reset our console handler to be the first, even on a restart, because some modules (e.g. mod_perl) might have set a console handler to terminate the process.
a020591 For *trunk/* development, presume at least apr-1.3 (now released) for seperation of ldap link options.
c2ea594 backport r663514
556abbd Fix client verification problem with SNI and multicerts. Submitted by: Kaspar Brand <asfbugz velox.ch>
24b9c32 	Minor cleanup on DAV Locking module.
5f7170b * Another one that is now backported.
7f8966d * These are now backported
1a2dc5e update Turkish translations
ddacd58 update transformations
df3b359 Add Turkish translations
ccf79bd correct mod_request module property
1039afa apachectl configtest or httpd -t doesn't show a list of config files
96870ba fix transformation
4a375ef Prevent CSRF attacks against the balancer-manager (CVE-2007-6420)
b0269d6 * Do this later as we might leave the function anyway without the need for this.
b6f1efd * According to RFC 2616 8.2.3 we are not allowed to forward an   Expect: 100-continue to an HTTP/1.0 server. Instead we MUST return   a HTTP_EXPECTATION_FAILED.
6e450bc * Set at init time and combine comments.
c3242b9 * Do not add the query string again in the case that we are using the   unparsed uri.
00db8d0 * Update transformation by doing a ./build.sh all convmap
a39710f Document the fact that mod_proxy interpolation is now supported in 2.2.9.
caab5e8 Switch ftp_directory_charset and interpolate_env in proxy_dir_conf, with a major MMN bump.  As suggested by rpluem in r661069 to enable backport *without* a major bump (ABI breakage) in 2.2.x.
cb34f3c Make the example match the explanatory text, and add a cautionary note.
ed79991 Make the example match the descriptive paragraph.
429440c Minor tweaks to grammar and examples.
3cd9946 backported in r660756
dc9f5c2 backported to 2.2.x in r660728
2948128 *  mod_proxy_http.c    Ensure that the EOC bucket is inserted BEFORE an EOS bucket in bb as    some resource filters like mod_deflate pass everything up to the EOS    down the chain immediately and sent the remainder of the brigade later    (or even never). But in this case the ap_http_header_filter does not    get out of our way soon enough.
9c78428 part of ab sync
cd90836 Backported as of r660587
0f41694 * These are now backported.
c506a9d * Make setting of HttpOnly flag more explicit.
5fc0ef5 update Turkish translations
600b208 update transformation
8459c0a Correct the format errors of revesion reference in translations
ed7ffcf update French translations
166545b mention fix in r659560
f8ca06d * Handle the case that secure is NULL
fd0f91e * Introduce a flag to decide whether we sent an body to the backend or not.
a794f6e Apply r659902 to some translations to prevent them from being marked as outdated. I'm leaving translations that are already outdated.
f32647d Style fix. Almost all are detabs.
2681f6f For now don't build mod_session_crypto on NetWare
3cd424e Build mod_request on NetWare
48143c5 Add new exports
e868287 Add an include path to mod_request.h
66c1fe1 The response to the TRACE method is partially garbled on an EBCDIC platform. Send the request line and trailing CRLF in ASCII.
fc21f4e Determine registered authn/z providers directly in ap_setup_auth_internal(), which allows optional functions that just wrapped ap_list_provider_names() to be removed from authn/z modules.
f5b8773 fix the dead links to the rewrite guide
797df3e update transformation
660e219 add a module <compatibility>
a5c03b9 remove directive <compatiblity>s and add a module <compatibility>
7b663b2 the example for IfDefine
74258fe update transformation
4940b54 make the example for IfDefine use multiple-parameter. Pointed out by: Andrew Ford <A.Ford ford-mason.co uk>
1dee957 We should not use someone's domains for examples.
1071d8b fix missing committer name
026018a update transformation
d147e7e Update transformations
e0ca864 Remove bogus instruction
9864958 Convert common provider version strings ("0") to AUTHN/Z_PROVIDER_VERSION macros defined in mod_auth.h.
58d2be7 * Only send 100-continue if the status code so far indicates success.
cf5776b update transformation
461cf36 use example.com for example domain name
08d2c55 new Japanese translation Submitted by: takashi Reviewed by: OKANO Takayoshi <kano na.rim.or jp>
d0ea728 Update transformations.
fce706e Typo fix as per PR44905, submitted by Jamie Taylor <jamie.taylor@pobox.com>.
71d7485 Note "acquire" is in milliseconds. PR: 45033
ad3664c revert bogus transformation (r657505)
0e5fab3 update transformation
3db5762 Add default value for DBDExpire, DBDKeep, DBDMin and DBDMax. Pointed out by: Andrew Ford <A.Ford ford-mason.co uk>
e894e15 Revert unintentional changes in r657354
0c89b65 * These are now backported
390b2cc * Include <limits.h> earlier if available since INT_MAX is defined there on   Windows and we need INT_MAX already for the definition of MAX_REQUESTS.
def48d5 configure: Don't reject libtool 2.x PR 44817
e012462 Update transformations.
575e068 build.sh stuff.
33d773e Minor doc cleanups as submitted by David Shane Holden <dpejesh@apache.org>. Some minor changes by myself from his patch.
a9a2b6d PR 39799: add note to mod_mem_cache docs
924cc6d * Fix style by doing correct indenting
590c6ee Check return value of apr_file_read_full.
8bd53fd * Check for failure of apr_file_info_get call
60304d9 SSIEnableAccess -> SSIAccessEnable
c7d2fc5 r656000
3af7d12 r655998
14d88c8 update transformation
e987ce8 sync. English Revision: 420990
cdb1ee1 copy up-to-date Japanese translations of 2.2 to trunk. The English versions of these are the same between trunk and 2.2.
2bbe187 * Don't track 1.3 compatibility * SeeRequestTail was backported to 2.2 in r602508
1428029 remove BOM
8b84c1a gen_test_char: add double-quote to the list of T_HTTP_TOKEN_STOP.
a42c37f When group is given as a numeric gid, validate it by looking up the actual group name such that the name can be used in log entries.
cd7f5da Improve client performance by clearing connection pool instead of destroying it.
07bf180 Don't stop sending a request if EAGAIN is returned, which will only happen if both the write and subsequent wait are returning EAGAIN, and count posted bytes correctly when the initial write of a request is not complete.
05f59ab docc
8c0e405 backported r655540
e028881 update transformation
681c811 Add Turkish translations
63c984a note that KeepAliveTimeout of the first defined virtual host in the set of NameVirtualHost will be used
5838918 Merge r332981 from 2.2: typo
6e83439 Overhaul ab.c stats collection and reporting to avoid integer truncation and time divisions within the test loop, retain native time resolution until output, remove unused data, avoid structure copies, consistently round milliseconds, and generally avoid losing accuracy of calculation due to type casts.
4e084cc Make sure the optional function calls are used for ap_session_set and ap_session_get. [Brad Nicholes]
45e2cb0 fix uninitialized variable
1f841cb * Unify the spelling of my name in changelog entries. Long time ago I decided   to transliterate the ü with ue.
ff94872 When testing for slash-terminated configuration paths in ap_location_walk(), don't look past the start of an empty string such as that created by a <Location ""> directive.
cd0452c Remove extra cruft that ended up in a commit.
1d1c483 core, mod_proxy: If a kept_body is present, it becomes safe for subrequests to support message bodies. Make sure that safety checks within the core and within the proxy are not triggered when kept_body is present. This makes it possible to embed proxied POST requests within mod_include.
00db8a7 mod_auth_form: Make sure the input filter stack is properly set up before reading the login form. Make sure the kept body filter is correctly inserted to ensure the body can be read a second time safely should the authn be successful. [Graham Leggett, Ruediger Pluem]
3381aba mod_request: Insert the KEPT_BODY filter via the insert_filter hook instead of during fixups. Add a safety check to ensure the filters cannot be inserted more than once. [Graham Leggett, Ruediger Pluem]
e0c9ed6 sync with 2.2.x
f29fe63 backported to r654801
20da824 sync with 2.2.x
0479061 Merge r351614 from 2.2: It is mod_authN_file, not mod_auth_file
d3ff877 update transformation
fdede10 mention the default for ProtocolEcho.
5744d53 fix OS name for searchability
a9a3e2d backported to 2.2.x in r654348
5c1dcb8 *) mod_cgid: Explicitly set permissions of the socket (ScriptSock) shared by    mod_cgid and request processing threads, for OS'es such as HPUX and AIX    that do not use umask for AF_UNIX socket permissions.    [Eric Covener, Jeff Trawick]
3da7b6c mod_cgid: Don't try to restart the daemon if it fails to initialize the socket. It won't get any better without intervention, and it will fork() until some sort of intervention.
4ba737d * Make code more readable by using OR (which is also Roys preference over AND)   instead of XOR.
679377d Fix the method used to detect the root of the request tree when subrequests are present.
09e9ce3 * modules/ssl/mod_ssl.c (ssl_cleanup_pre_config): Remove the call to   CRYPTO_cleanup_all_ex_data here, fixing a per-connection memory leak   which occurs if the client indicates support for a compression   algorithm in the initial handshake, and mod_ssl is linked against   OpenSSL >= 0.9.8f.
0a8ec0f mention that KeepAliveTimeout will be ignored in a name-based virtual host context. PR: 36770
66bba16 Backported to 2.2.x in r653772
12137c2 update transformation
e6bdeb4 add "DO NOT EDIT" warning to typemaps
3ff622b "proceeding" typo
a448c9f seems to work
a758028 just a test of commits list
f8e9c42 * Do not allow all options of ALL to be set when only a few of them are   allowed.
d5c7f53 Remove C++ style comments.
ce642c7 For legacy VC6, there's no __CRTDECL or _tstoi yet, but the former is only interesting for ".NET" builds, and the later is identical to _ttoi (still supported in VC2005, at least).
ad8de3b update transformation
e53b10b remove duplicate section
a0c8337 svn:eol-style = native
64cc1fe Add Joe Orton his SNI test case for client authentication
ef48d40 Update transformations
66399d0 Minor cleanups
245d991 Typo fix (thanks noodl for pointing it out).
50f5975 Clarify explanation of untainting.
663c9d2 Document DBD taint checking and its necessity.
15d34bc * Update transformation
79f6a8a * -b is an invalid option for htcacheclean.
334a396 Typo.
244c2bd 	Finish cleanup. 	Remove <em> around e.g. & i.e.
b86ddab Set at init time, and combine comments
990f2aa * Do not add the query string again in the case that we are using the   unparsed uri.
6c1424b * We need to use the headers_out table we merged above, not the original one.
bed15a9 * Style fixes. No functional changes.
907b78b * Use the correct headers_out table for overlaying.
b3c4819 Centralize the error-header collapsing done when sending out cached replies. Mark the change in CHANGES as it may have unforseen fall out and/or may need to be reverted or done more subtle.
a9091bb Make it compile on pre-C99 compilers
5b7aff7 * The previous patch did not work correctly with neither enable nor disable   set. It just set all mod_session_* to 'no'.
6c8b7b1 * Require to explicitly enable mod_session_crypto since it requires the apr ssl   code which is no longer present in apr trunk, but only in a separate branch.
b149889 * Fix r649054: Do the correct thing when neither enable nor disable is specfied.
aa2cf45 handle ? in cases where nocanon is in effect
e1ae2aa * Style police. No functional changes.
aa35cf1 Centralize hop-by-hop header handling in the main mod_cache code. This change is a no-op -- i.e. we call the same code path as prior to the API renaming. However this is propably wrong; and we should have been cleansing the content-types all along
0701f89 Centralize hop-by-hop header handling in the memory caching code.
a0561f4 Centralize hop-by-hop header handling in the disk caching code. Note that 'out' now has actual out semantics; hence the change in headers_in.
39fa5f3 and make mod_proxy_fcgi also nocanon aware
a10d494 Make mod_proxy_ajp aware of the nocanon envvar
df813db Meta-file link fix courtesy of Takashi Sato
53d475f Currently each of the caching module includes logic to implement the hop-by-hop rules of rfc 2616 along with the entity response rules. To make sure that they stay in sync; and to make it easier to add (http) caching modules - this change moves them all into one place (cache_util) and exposes a in-bound and out-bound version to operate on the headers.
ae2b139 All backported to 2.2.9-dev now
23ff756 Ensure that the REMOTE_USER variable is correctly written when the user has been authenticated from a session.
5637615 Be defensive to ensure no segfault should the session entries table not be initialised.
e1cb99f Fix the optional declarations so that the modules will build clean in a mod_so environment.
f58bb6e Update transformations
7d01d6a Replace reference to obsolete RFC. Submitted by: Igor Galić.
90077da * modules/session/config.m4: Have --disable-session disable mod_session_* also.
bfdbb48 Incorperate feedback/requests for a bit more flexibility: 1)allow any domain and IP address for the SNI demonstration and 2) make the index.html sample files a bit easier to recognize.
27b409c 	General cleanup of rewrite guide.
f032976 	Typo.
719bf72 remove const on socache module declarations to avoid segfault in ap_setup_prelinked_modules() when modules linked in at compile time
c6a6dfc Update transformations
585bd08 Numerous typo fixes courtesy of Luciene Gentis
c239e59 Move the public mod_request.h header out of the include directory and back to modules/filters. The current build of exports.c assumes that everything in include is part of the core, and so putting the header there creates link errors.
3ee0605 enabled Perl CGIs by default.
2e74733 Remove superannuated translations as pointed out by Takashi Sato
02fe633 drop upgrading.xml.de as its outdated too much.
684fd7b Update transformations
1db37d5 Typo fix courtesy of Luciene Gentis
531b6d3 Update transformations
0ce9b7e Minor grammar fix (s/not accessible/inaccessible/)
93a75ba * Allow Cookie option to set secure and HttpOnly flags
b613588 Move the KeptBodySize directive, kept_body filters and the ap_parse_request_body function out of the http module and into a new module called mod_request, reducing the size of the core.
76e9c2b Fix socache modules' APACHE_MODULE() definitions.
92c2a85 rotatelogs: Log the current file size and error code/description when failing to write to the log file.
49c238e Move the initialization of rebind to the post_config handler so that it is done during the actual module load stage rather than the preload stage.  If done during the preload stage, the pool passed into the initialization function will be cleared and all allocations will be freed.
31735f8 Handle integer configuration directive parameters with a dedicated function, akin to dbd_param_flag().  Only needed when APR_HAS_THREADS.
8e69b9c Let each consumer of authn providers redefine the list_provider_names callback in case they are loaded individually without mod_authn_core.
14972fd * modules/cache/ap_socache.h: Doxify.
7dca898 Add the LastChangedRevision keyword.
c258ea2 make use of var for output name.
0d38614 Fixed export list for mod_session.
34a76ae added mod_auth_form to NetWare build.
7f6a84a No var declarations in the middle of the code.
6919d5d Change the directives within the mod_session* modules to be valid both inside and outside the location/directory sections, as suggested by wrowe.
254d5e1 Update transformations.
786afc7 mod_auth_form: Add a module capable of allowing end users to log in using an HTML form, storing the credentials within mod_session.
d5030b2 Add a function to the http filters that is able to parse an HTML form request with the type of application/x-www-form-urlencoded.
cf46275 oops - checked in wrong makefile.
fb6120e * Fix eol-style
77f9db9 added new chache modules to NetWare build.
3650003 Insert prototypes to remove compiler warnings. [Joe Orton]
5be746a added include dir.
bd632a3 * modules/cache/mod_socache_dbm.c: Fix some dodgy formatting, thanks rpluem.
2e2731f Adjust socache init interface to take sizing hints, and namespace tag for memcache:
ed2ab3d added session modules to NetWare build.
e2a0651 Missed in r645940:
05f32df * modules/ssl/ssl_engine_config.c: Remove unused macro.
759da80 Session cache interface redesign, Part 9:
1b2929f * Fix eol-style
5962ac2 added eol-style property to makefiles.
5e16f66 added makefiles for NetWare.
407af3b No var declarations in the middle of the code.
39bb462 * modules/cache/ap_socache.h: Add ap_socache_instance_t object type.   Adjust the provider interface to use this instance type throughout.
3bd88fb * Fix eol-style property.   Changes to mod_session.c only fix line endings again. No functional   changes.
3341903 Add util_cookies.c and .h to the netware build
31fbd5e Patch from Takashi Sato.  Cheers.
49430f1 Patch from Takashi Sato
8671e9c No var declarations in the middle of the code.
3e2c24c NO var declarations in the middle of the code.
ded7181 update transformation
61b5a99 drop wrong LastChangedRevsion
2eda9d7 let subversion set the lastchangedrevision
3279936 Session cache interface redesign, Part 8:
389a945 * In the case that we fail to read the response line from the backend and if   we are a reverse proxy request shutdown the connection WITHOUT ANY response   to trigger a retry by the client if allowed (as for idempotent requests).   BUT currently we should not do this if the request is the first request on   a keepalive connection as browsers like seamonkey only display an empty page   in this case and do not do a retry.
3cb64b0 Use what we have. This logic belongs here anyway...
aebe8d9 Follow on updates from r645667
6bbbff6 Additional changes from r645667
0c08d38 Commit the update meta files for r645667
44e4e3b Translated by: Nilgün Belma Bugüner <nilgun belgeler.org> Reviewed by: Orhan Berent <berent belgeler.org>
a9f0192 * modules/ssl/ssl_engine_io.c (ssl_io_filter_error): Remove "fish", left for debugging purposes.
e9e1438 Make sure the mod_session.h public header is exported correctly to the rest of the server.
35e43a1 Clean up some more error handling in mod_ssl:
b3b7636 backported r645569
a6c8063 Add major bump for removing ap_graceful_stop_signalled
5cd1598 Clean up some error handling in mod_ssl:
a757663 * server/main.c: Unbreak the build.
71da0a5 * modules/http/http_protocol.c (is_mpm_running): Fix warning with gcc -Wall.
cc34f73 * include/http_request.h: Fix warning with gcc -Wall.
a324a1d Remove all references to CORE_PRIVATE.
5fa2bbb Remove ap_graceful_stop_signalled from all MPMs.
064a1ff Remove calls to ap_graceful_stop_signalled, and replace by using ap_mpm_query to determine if the MPM is trying to stop the process.
819e174 Include http_config.h from http_core, since now without CORE_PRIVATE, you need the definition for the module type.
5e41500 Remove CORE_PRIVATE.
efe851a Make it compile on pre-C99 compilers (Move decls to beginning of func)
6bc08c9 Tweaking code to compile on pre-C99 compilers
a0107cc Another typo
c801775 Typo
d6767cc Update transformations
d8ff7ef Fix link to authnz_db_foo
f2125f4 mod_session_crypto: Initialise SSL in the post config hook.
8ef6e5e Fix the defaults, which currently override the config instead of default the config. [Ruediger Pluem]
9629de6 If you study all of the directive implementations, you'll note that we get less than 20% of the NOT_IN_LIMIT rules correct.
a8d0009 If you study all of the directive implementations, you'll note that we get less than 20% of the NOT_IN_LIMIT rules correct.
07c52aa Optimisation: We have no need to distiguish between a Cookie and a Cookie2 when reading cookies, the cookie read code reads both at once. [Ruediger Pluem]
5550b95 Remove an unnecessary config structure lookup during encrypt and decrypt. [Ruediger Pluem]
10d47f1 Clarify the operation of the SessionCryptoPassphrase directive as raised by rpluem. When SessionCryptoCertificateFile is set, asymmetrical encryption will be used, and SessionCryptoPassphrase will be interpreted as the passphrase protecting the private key. When SessionCryptoCertificateFile is not set, symmetrical encryption is used, and SessionCryptoPassphrase will contain the key to use. Make sure that the engine parameter is properly passed into the crypto functions, and fix a missing cleanup on an error case.
97a2396 In hopes of replacing <Limit > with <Method > - choose another example to point to for documenting these functions.
4ea52af "Method" in HTTP has a particular meaning, simple descriptive change to avoid using that phrase in another context.
eca71d4 Update manual transformation
5b82211 mod_session_dbd: Add a session implementation capable of storing session information in a SQL database via the dbd interface. Useful for sites where session privacy is important.
3e0bf1c Rename the ap_escape_path_segment_b function as suggested by Ruediger Pluem (left off commit r645120 by accident).
f05f1f9 Rename the ap_escape_path_segment_b function as suggested by Ruediger Pluem, and make a corresponding minor bump.
f10397f Make sure we protect ourselves against the session being NULL, which it will be if no session is configured.
1627d91 updates docco xform
db55a56 Run transformation on new documentation
97e4c92 mod_session_crypto: Add a session encoding implementation capable of encrypting and decrypting sessions wherever they may be stored. Introduces a level of privacy when sessions are stored on the browser.
7d5bef8 mod_session_cookie: Add a session implementation capable of storing session information within cookies on the browser. Useful for high volume sites where server bound sessions are too resource intensive.
2b7c89a mod_session: Add a generic session interface to unify the different attempts at saving persistent sessions across requests.
70293d4 Add condition for <If> sections to core config merge (a fix to r644253)
acd95ce Attempt to correct major bump from previous commit (r644253). Add minor bump for r644525.  Hope this looks OK.
29954b8 Typo fixes courtesy of the French translation crew
a076962 Update transformations
682f112 Fix a couple of links.
c8ba67f Avoid calling access control hooks for internal requests with configurations which match those of the initial request.  Revert to the original behaviour (call access control hooks for internal requests with URIs different from the initial request) if any access control hooks or providers are not registered as permitting this optimization. Introduce wrappers for access control hook and provider registration which can accept additional mode and flag data.
312d0bf close PR 44381
774f434 HTTPD Core: Implement <If> sections for conditional (runtime) configuration. N.B. This is a first pass, and has a way to go!
edaecc9 Avoid returning NULL from ap_expr_string. Empty string works and won't cause segfault.
2f231b6 Expression evaluation: treat null expression as unconditional, not segfault.
5f2484b * Prevent a segfault if the destination URI of a copy / move operation is   not under DAV control. Return 405 (Method not allowed) instead.
70cdde7 adjust charset info for svnmailer
dc4dd2c move Japanese output files to utf-8
7af827d prepare moving ja output files to utf-8
832cdcf update transformation
500c9cb Remove ap_expr_clone from the API (same day it was added:-)
13a49c4 Add upgrading section to mod_filter docs.
6b670e3 Update mod_filter to use ap_expr Advantage: supports more complex expressions while simplifying mod_filter (c.f. PR 43956 - this means chaining is no longer necessary) NOTE: this changes FilterProvider syntax, so can't be backported to 2.2.
d2dc63f Update mod_include for ap_expr update
41df671 Flesh out ap_expr with:  * Re-usable parse trees  * Canonical string parser function (candidate)
679f3fb Document the fact that ap_expr was added.
4ac9672 * Add some doxygen stub / stuff
a792c6a * Prevent multiple "execution" of ap_expr.h contents when included multiple   times and allow it to be included by C++ files.
dd2aa04 * For AP_MAX_REG_MATCH we need to ensure that httpd.h is there, otherwise we   fail to compile exports.c
6df04a6 Thou shalt not let tabs creep in.
c95b909 Update mod_include to use ap_expr API
8f6e6a9 Introduce ap_expr expression parser API
1ddce36 Update Timeout section, the semantics changed completely since 1.3 and the caveats on signals not being reset thankfully no longer apply either.
4bcbc37 Remove useless test.
de7e25d note required APR/httpd versions
ca22726 Update transformations
a61ffb9 Add a caveat about SetEnv running late
aa34d63 Update transformation.
3590749 Fix minor typos and capitalizations.
90dd2bc Add AuthzMergeRules to example configuration, and avoid use of ISO SQL:1999 Booleans in example SQL.  Revise some introductory text.
0b2f9c9 Return AUTHZ_GRANTED not AUTHZ_DENIED when redirecting after successful login/logout.  Use redirection URL from first row returned by DB query, in the same manner as that used by mod_authn_dbd when querying for a single record.
73f68d6 oh dear, thanks joe
95457ad fixup on .tr extension
46c37c2 update transformation
f643825 Add Turkish translations
a18be7e spelling fix
5c229de PR 43211: Revise mod_authn_dbd and mod_authz_dbd documenation to reflect current APR DBD query statement parameter requirements.  Tidy up examples and links to glossary and external sites.  Update transformation.
c998f6f * Initialize hash needed by ap_register_rewrite_mapfunc early enough.
484a86f *) mod_authn_dbd: Disambiguate and tidy database authentication    error messages.  PR 43210, committed in r639079.
99aab14 PR #43210: Disambiguate and tidy database authentication error messages. Based on patch from Phil Endecott.
869142b mmn bump for chroot (r611483)
402ae82 Document new ChrootDir directive (r611483)
71b70d7 docco sync
b028d7f backported in 637902
2127a1f One typo, one logic error.
e592a63 backported in r637167
07dea89 update transformation
560449c fix parentdocument reference
323a971 update transformation
2c170b3 fix meta reference
b1e7365 build bootstrap again
52f9e3e update Turkish language file
1fb72c6 * Do not do Range requests if we use our own conditionals for validating   a cache entity: If we get 304 the Range does not matter and otherwise the   entity changed and we want to have the complete entity.
4768284 /me broke the encoding, fix it.
4b75178 update transformation
e0fd9d9 * let status texts and letters completely depend on the language * let directive contexts and letters completely depend on the language * allow embedding the "licensed" footer text * generate quickreference legend automatically * fix some japanese documents where statusses where translated by accident
33d7462 Fix a typo in an example.
cc5fb66 Remove linke to deleted rewrite doc.
e04102f Make the RewriteRule docs shorter (!) by referencing the regex docs in the rewrite intro.
e858f16 * Restore the original request headers if the cached resource was stale, as they   may be needed by further output filters like the byterange filter to make the   correct decisions.
17bcbb7 Flush out the rewrite docs a little. In particular:
230c9bb - drop korean rewrite guide as well as it can't be built properly anymore   without the English original - update transformations
32f8e5e Some minor fixups on the rewrite guide. Add proper breadcrumb links; Fix internal links; Flaten the section structure so that all recipes appear in the top menu.
5a58667 Remove old rewriteguide and link to new version.
831c8c4 PR 43562. fix regression in mod_speling behavior from 1.3/2.0 and, basically, incorrect behavior from what is expected as well as dependency on AcceptPathInfo.
df6db8e Update transformations
d699df5 Correct 'require' capitalisation missed in previous commit
3e79654 Update transformations
abe71ef Pet peeve: fix capitalisation of 'Require' directive
2ac9128 * mod_ldap: Correctly return all requested attribute values when some attributes have a null value.
b2cf8f2 Note that reverse proxy means gateway in a few places.
186d479 add language definitions for turkish
1752411 build bootstrap
0df7a12 set eol style
cc7a7f3 Add tr.xml, the base for turkish translations
4ce764f update transformation
b28e305 Update transformations
9ebd785 Fix quoting for AuthLDAPUrl examples.
70af672 Fix mixed up descriptions of regex tokens.
4beed47 in 2.2
bee5ea1 backport r633885
b18ee30 * Add checkfile2 at the end of the struct and not in the middle of the struct.
e5143bc return AUTHZ_GRANTED instead of OK from the LDAP nested group checking.
1db11e0 Correct typo in r633607
46ccf01 add comment from event MPM's fdqueue ap_pop_pool() regarding ABA problem and avoidance because only caller is single listener thread
c005b2a Enable UAC transition from ApacheMonitor running as a vanilla user without priv into a copy runas administrator with permissions (closing the original monitor), in response to any start/stop/restart request who's control permissions failed. This happens to work on Win2000 and later, although it is actually needed in Win2008 or Vista and later, where by default under UAC, the admin user actually has no permissions to control services unless the app is run elevated.
0bd3fe5 Session cache interface redesign, Part 7:
26c1757 * lfi is already a pointer in contrast fi which was used before.
4a70c39 core: fix SymlinksIfOwnerMatch checking:   (1) Fix Origin checking (PR 36783 - Robert L Mathews)   (2) Check ownership if both FollowSymlinks and SymlinksIfOwnerMatch are set
22b889e A large refactoring, but no behavior change;
00cd379 * If the cached entity contained Cache-Control: no-cache, treat it as stale   causing revalidation.
ad47fb3 mod_rewrite: Check all files used by DBM maps for freshness, mod_rewrite didn't pick up on updated sdbm maps due to this. PR41190 [Niklas Edmundsson]
b31e1a6 Transformations.
9e90087 Fix typo in IP address.
1dbb15d buildfluff
cdae163 link to the wiki
a3cd2d0 Add in new option for rotatelogs: -f This forces rotatelogs to create the logfile as soon as started not as soon as it sees it's first line of input.
e9ffd31 When sending a proxy request of the form   GET http://[3ffe:1:1001:3000:230:5ff:fe05:3c3c]/server-status HTTP/1.0 through the httpd-2.x mod_proxy.c code, while a directive   ProxyDomain .my.dom.ain is in effect, the request is redirected to   Location: http://[3ffe:1:1001:3000:230:5ff:fe05:3c3c.my.dom.ain]/server-status
fa35773 * Do not retry a direct connection if the request has a request body
216dedd * Do not segfault when either no mutex is needed either because no session   cache is configured or the session is thread safe.
999ee02 As of r631363, all applied
52e3cdf tweak to include recently added TranslateAllMimeTypes option to this AP_INIT_ITERATE parameter
735b3b7 Session cache interface redesign, Part 6:
d9630b2 * modules/ssl/ssl_scache_memcache.c (mc_session_id2sz): Fix memcache   key id generation by passing the correct length to snprintf (it   was NUL terminating at the second byte with len=2);
0cc5d52 * modules/ssl/ssl_scache.c (ssl_ext_status_hook): Do nothing   if no provider is configured.
3c7d729 Allow compilation with pre-c99 compilers
c10c13d Typos
6387a85 * modules/ssl/ssl_scache_dbm.c (ssl_scache_dbm_remove): Use and clear   the temporary pool from the context.  (missed in r630974)
b6317eb Session cache interface redesign, Part 5:
785c643 * modules/ssl/ssl_scache_dbm.c (ssl_scache_dbm_create): Fix for   r630974; create the subpool.
09e2a2f Session cache interface redesign, Part 4:
5016eab * modules/ssl/ssl_engine_init.c (ssl_init_FindCAList): Cast return value of sk_X509_NAME_set_cmp_func to void, to avoid warnings with recent version of OpenSSL.
a333bc0 * modules/ssl/ssl_scache.c (ssl_scache_init): Reformat code and update the comment.   No functional change.
c4739e5 * modules/ssl/ssl_private.h: Specify extern storage for modssl_sesscache_provider objects.
0400522 * modules/ssl/ssl_scache_dbm.c (ssl_scache_dbm_retrieve): Set *destlen   on success.
cb76497 * modules/ssl/ssl_scache_shmcb.c (shmcb_subcache_retrieve,   shmcbc_subcache_remove): Restore check for idx->removed flag.
7e51838 changed comments; no functional change. Submitted by Kaspar Brand.
2735bed * Add hint to PR in comment. No functional change.
38e1b39 * Second part of fix for PR 44402:
6c1e117 Worker MPM: fix race condition PR44402: reported and fixed by Basant Kumar Kukreja
33c310c Session cache interface redesign, Part 3:
db8d709 Move SSL session data deserialization up out of the session cache storage providers; includes a significant change to the shmcb storage structure:
7e08559 A note about SSL handshake data and mod_logio
a1dfa17 * modules/ssl/ssl_scache_shmcb.c: Describe the data structures used by shmcb (hopefully :), before some invasive surgery.
9662049 Move SSL session data serialization up out of the session cache storage providers:
fb38ad4 Re-implement the SSL session cache abstraction using a vtable; first step towards use of the ap_provider interface:
c40628c * support/htpasswd.c (seed_rand): Fix compiler warning.
cb02a8f backported in r629983
93db24c rename mod_charset_lite CharsetOption ForceAllMimeTypes to TranslateAllMimeTypes (only about 18 hours old)
0dd3c0b typo
4b67018   *) mod_charset_lite: Add ForceAllMimeTypes sub-option to      CharsetOptions, allowing the administrator to skip the      mimetype checking that precedes translation.      PR 44458 [Eric Covener]
5d814f6 * Set aside buckets that remain unprocessed in the filter context for the   next filter pass.
364dc46 Fix printing of error message.
9aa0687 Improve generation of the seed to rand, by using apr_generate_random_bytes, rather than the current time as a seed.
69e6e61 Improve salt string generation.
2e4062c In the case where we have only 1 pattern, then we can safely be quick, no matter what.
c9940d3 Note 'rm: conftest.dSYM: is a directory' messages
d07c93a Update doccos
481bb01 http_filters: Don't send 100-continue when 4xx is due PR 43711 Reported & tested by Ragini Bisraya Patch by Chetan Reddy Reviewed: niq
54648bf Revert last change.  It is not acceptable to remove all sources of credit from our distribution files, even if they are out of date.
4a83d1f Assuming this sticks, explain why this was considered a Good Idea.
6a865d6 Change default of mod_substitute to flattening... Via current discussion on dev@httpd
b8f5af8 Note why we aren't bothering to check that we have a valid octet here.
5126393 This is really really out of date... try to refresh it; remove the current "list" of people for now, maybe add link to httpd.apache.org or http://people.apache.org/~jim/projects.html#httpd instead
5e4a7d4 adjust transforms
2c2c155 wordsmithing
d1858ec Add in mod_jk's disablereuse analog for mod_proxy.
e5efb68 Kasper Brand came across a flaw in the current implementation when CRL information - i.e.  SSLCARevocationFile/SSLCARevocationPath - is set on a per-vhost basis (don't know how much sense it makes to have non-global CRLs, but anyway...).
1b6f4a4 The ordering of arguments in the directive desctiptions of LDAPTrustedGlobalCert and LDAPTrustedClientCert were backwards.
a14f7a3 Clarify when AUTHENTICATE_* variables are populated by mod_authnz_ldap (authn only).
a2b1c8e Update revision markers.
31ddba1 Transformation.
630e867 Fix reference to RewriteCond - there's no class="module" in our XML.
c2e9821 Whitespace fixes.
cdcc506 Change docs URLs to canonical version.
796353f A more complete solution for PR 41823, see also r619746 and r619747.
eeca2b5 * As per niq's comment, better destinct the types of idempotence.
c917933 * This change is backported.
5df524c Build products
bdf7e9c Fix wellformedness error in .fr docs patch
8256ff3 French language updates courtesy of Lucien Gentis and http://apache-doc.inl.fr/
719fffd More spelling/clarifications/depluralizing (and we know the name of the error log)
769c432 Clarify the text a little and use the vhost terminology.
a7cbbcd Addition of a test script which creates a Sample/test configuration for installations that wants to support SNI. Primarily done as a lot of web developers find the creation of certificates hard - and do not want to go to the expense of sourcing a handful from a well-known CA just for testing and experimenting.
dca366b Incorperate feedback of Rudiger.
813b315 Turn the cache module into first class citizens (well the disk_cache and file cache that is).
cf88bb1 Clarify the phrase "per-directory context"
461cc22 More examples and a few clarifications where the text didn't match the example.
7e66ef8 Reduce the WARNING to a DEBUG when SNI support is enabled.
6f50e36 Return a little bit more error information when, say a disk is full or something gets write protected. Note that in some cases mod_cache.c will_also_ log a 'cache: store_headers failed' subsequently.
6f74218 Add PR for header install
cc5934e Catch win32 up with r620135 for unix., install so, cache and rewrite .h files.
0fdf9c1 Also install the so, rewrite and cache header files.
862722e Sub-requests are created and used with two purposes; sometimes simply to 'see' what a request would do; as to fill out an SSI, validate access or similar - and is then discarded. And sometimes as the precursor to becoming the actual request; e.g. when mod_dir checks if an /index.html can be served for a '/'.
292b36f  oops, forgot to add these. As part of PR 41823
1ddf1ed As per PR 41823  -  s/apache.exe/httpd.exe
647576b As per PR 33892 - Added comment re escaping slashes.
5710e61 As per PR 44135
52fb9be Added notice that support forums will likely ask for an errorlog entry.
d0c0759 Update the example and fix typos
108c512 Document the RequireAlias block directive
c0ce91d * Fix a typo (timout -> timeout)
a87edbb Update transformation. Note that commit r618551 also addresses PR44356 (missing slash on ProxyPass)
57f937b Copyright year change transformation.
9e87e5c * Use a 64 bit unsigned int instead of a signed long to count the bytes   transferred to avoid integer overflows.
9af3a4c * Do not retry a request in the case that we either failed to sent a part of the   request body or if the request is not idempotent.
0eed857 * Fix comment. No functional change.
a210a65 Avoid core dumps by getting the signal_description only if a process actually terminated on a signal. Update status only on a valid wait response.
cbb2178 * Fix processing of chunked responses if Connection: Transfer-Encoding is   set in the response of the proxied system.
406500f Now let things like
9e8ab44 * Don't leak memory when reopening the logfile.
3c2db60 Add doc for the new mod_ldap referral directives.
85b935b Reduced the bumpiness (from major to minor) and utilized #defines throughout (per Ruediger's suggestions). Still looking at the dir merge.
efc72b0 Added rebind change info.
f4e5632 This adds Apache support (taking advantage of the new APR capability) for ldap rebind callback while chasing referrals. This allows direct searches on LDAP servers (in particular MS Active Directory 2003+) using referrals without the use of the global catalog. This addresses PRs 26538, 40268, and 42557
ab55bbd This need not be said; the current version of testdbm.c carries the correct license.
f73076e * server/mpm_common.c (reclaim_one_pid): Retrieve the exit status from   apr_proc_wait(); call ap_process_child_status() for children which   terminate, to ensure that abnormal exits (e.g. SIGSEGV) are logged.
9b7914b * server/mpm/prefork/prefork.c (child_main): If apr_pollset_poll()   fails with EINTR and die_now has been set (indicating a graceful   stop/restart), terminate the child quickly rather than re-entering   poll().
8b7ef86 * server/mpm/prefork/prefork.c (child_main): Unlock the mutex before   terminating in the multi-listener poll error path.
2e1af8d Copyright year update
f298644 * Do not try to read non existing response bodies of HEAD requests.
4304e48 Tidying up the SSL FAQ, incorporating changes suggested by Lucien Gentis http://mail-archives.apache.org/mod_mbox/httpd-docs/200801.mbox/raw/%3c478A1806.1090307@lorraine.iufm.fr%3e
bafd107 Support chroot on unix-family platforms PR 43596 (Dimitar Pashev)
3609dae Don't add bogus duplicate Content-Language header entries. PR 11035
d8c4d74 mod_proxy_ftp: Fix base for directory listings. PR 27834
4bf6efd Minor bump for r611199, third time's a charm (change history modified in previous commit)
1a9809a * Hex pids are bogus anyway and on environments with APR_PID_T_FMT d this   breaks and print x.
8ea9fdc   *) mod_proxy_http: Return HTTP status codes instead of apr_status_t      values for errors encountered while forwarding the request body      PR 44165 [Eric Covener]
97ccfcb minor MMN bump for r611199
495ec49 Restructured server name indication support (PR 34607); added missing client cert support. Submitted by: Kaspar Brand <asfbugz velox.ch>
f6a8557 added hack to fetch copyright string.
d300b0e *) mod_logio: Provide optional function to allow modules to adjust the    bytes_in count [Eric Covener]
cc93829 Update year to 2008
8c1e306 mod_rewrite: Don't canonicalise URLs with [P,NE] PR 43319
9f7d847 Link to an explaination of the password format used in an example. (Suggested by Jack D. Pond)
552422f Adjust for 2008
3e141d3 belt and suspenders
9c07455cd http_filters: make sure we get last byte of actual data in edge-case of an empty data bucket in get_remaining_chunk_line.
c56e381 * Saveguard ourselves against underflows
290cab6 * Address two edge cases:   1. The brigade contains only META buckets.   2. The last data bucket is of zero length.
a4f0699 * HTTP error codes are int's not apr_status_t's.
dc177a7 * Do not use local scoped apr_bucket_brigade. We use the same anyway, so we   can define it for the whole function.
a30c350 * Optimize and unify detection of blank / corrupt chunk size lines.
dafa41e * Move duplicated code for error handling into local function  (bail_out_on_error).
05444df * Reuse bucket brigades instead of recreating them continously and thus   wasting memory if we have many chunks.
8f1d7c0 * Optimize assignments by using apr_pcalloc instead of apr_palloc.
bf4f624 * Optimize alignment.
5982b66 * Optimize solution from r609394 and remove chunk-extensions restriction that   was in r609394.
56f4552 * Fix cases with non blocking reads from the ap_http_filter input filter where   chunk size lines or empty lines after a chunk are read incomplete. This can   lead to a corruption inside the dechunking algorithm.   This patch has an issue with larger chunk-extensions which need to get thrown   away since we ignore them anyway.
b1f163a Eliminate silly redundancy
782bc89 Copying this code requires a (global) pool and rv declaration.
1185659 Resolve console-mode stdout file descriptor issues for mod_perl by replacing it in lockstep with unix stdout replacement (in pre_config).  Only an undetached server (console mode single process/debug) will retain the original stdout, just as on unix.  Inspired by research of Tom and myself (CHANGES to credit both).
67d94b3 winnt_mpm: Restore Win32DisableAcceptEx On directive and Win9x platform by recreating the bucket allocator each time the trans pool is cleared.
fb6981d * These are now backported.
49dec51 * Silence a compiler warning by using the correct format.
59afeb0 Enable to build abs on NetWare if dependent libs are present.
8d9fc7a Update mime.types with IANA registry
5289650 revert move to image/vnd.microsoft.icon because everyone uses image/x-icon
9525041 style check
e3ca7df update transformation
c6ba610 * Update transformation.
96b3683 * These are now backported.
ed3334b backported in 607929.
a31538b Modified default refresh value to 10 secs so that its possible to correct a typo.
5df5e05 Review comments from Ruediger on r607766:   Don't allow the ldap calls to be evaluated (twice) in the macro
0151920 * Avoid SEGFAULT as hooks->set_headers can be NULL. Furthermore do not set the   ETag header permanently as setting it may not be desired for all responses.
7c9503a When using the MS SDK, re-establish LDAP backend connections on a return code of LDAP_UNAVAILABLE as if it were LDAP_SERVER_DOWN.
d955a6d updated NetWare OpenSSL build section.
4f31f43 fixed comment, added comment, added logic to build mod_ssl by default if USE_STDSOCKETS is defined.
e66f6ca Close the child_exit_event which lives only for the scope of master_main and was orphaned on each soft or fatal restart.
586be54 On win32, we must never, never close the parent's copy of the child's read end for a reliable piped logger.  The child runs and manages it's own logs, and even if the parent did instead, the mpm would be adjusted to pass down the child write ends without read ends to the pipes, so this forever makes no sense.
e5661d3 Introduce the ProxyFtpDirCharset directive, allowing the administrator to identify a default, or specific servers or paths which list their contents in other-than ISO-8859-1 charset (e.g. utf-8).
72d809d Updated to show "It Works!" as opposed to old, 1.3 style welcome page
ae5f262 * Style police. No functional changes.
0abfd39 mod_dav: Fix evaluation of If-Match * and If-None-Match * conditionals. PR 38034 Patch by Paritosh Shah Explanation by Werner Baumann
deec785 * Change loglevel from ERROR to WARNING if the renaming of the vary, headers   or data file fails.
5e7affb * Update transformation
0260bcb * Adjust etag generation to produce identical results on 32-bit and 64-bit   platforms and avoid a regression with conditional PUT's on lock and etag.
9cba123 added empty line after var declaration.
2d9f0a8 fixed code style, missing prototype warnings, disabled init for proxy, removed obsolete cast.
2b2ed2f * Added missing CVE number
7d2f341 * Added missing CVE number
6a533d0 Fix winnt bucket_alloc to borrow memory from the transaction pool, instead of exhausting pchild memory over a number of connections.
100735f Sander pointed out to me that as we added ENGINE logic support for 0.9.8, we never touched win32.  Resolve this for all of the common win32 HAVE SSL related macros building against 0.9.8.
ad72824 It turns out copy concat didn't work as I expected, it does concat to the first named file, but not the first filepath.
30f8eda Avoid build directory pollution
537a9a2 Believe this or not, not every machine uses "C:\Documents and Settings", split off the current user's name from USERPROFILE envvar.
49cf08b Win32 doesn't like \t#
e0ac140 Add a placeholder to remind us that fcgistarter.exe, once an implemention exists for apr_proc_create, needs to be added to the build/install schema.
3edb060 * Ensure refresh parameter is numeric to prevent a possible XSS attack caused   by redirecting to other URLs. Reported by SecurityReason.
517eb52 * Fix CHANGES wording for r606693.
6062378 * Correctly escape the worker route and the worker redirect string in the HTML   output of the balancer manager.
d80bc13 * Prevent crash in balancer manager if invalid balancer name is passed as   parameter.
c8dd361 * Make loglevel consistent for similar situations. As this really should not   happen set it to error.
c787a3e PR 39727: Fixup ETag handling in mod deflate (updated following extensive discussion on-list). This is not a full-and-final fix, because we don't ourselves do anything useful with these ETags.  But at least we're no longer screwing up clients.
245a790 Fix typo in error message (noticed by gryzor on IRC)
06067c6 Enable to configure the https port - missing pieces.
6654f2f * Revert to old behaviour: Even if we detect a bad character: Formally decode   string correctly and do not mess up the string. Let the caller decide what   it wants to do with the result according to our return code.
e516191 As per PR 43890.  Fixed location paths to point to /usr/local/apache2/bin/
b514669 * Set character set for HTML outputs generated by mod_ldap,   mod_proxy_balancer, mod_proxy_ftp, mod_info, mod_dav without a character   set to ISO-8859-1.
897c00d Solve service status handle leak on multi-service ApacheMonitor instances, and disconnect computer function on multi-system applications of ApacheMonitor.
b3eb5d6 Install missing modules/xxx/foo.h garbage, the point of this exercise, and why these aren't in includes/, still escapes me.
3d7ef73 Replace whitespace
0bc6cac Solve two ssl issues; always install both ab.exe and abs.exe because it's easier to move around ab.exe when that's all someone needs (and this is precisely how the binary installer works, too), and also kindly ignore missing openssl tree files because TIMTOWTDI (although this one is preferred :)
6359d8d Uncouple fcgistarter from BuildBin
9cd993f Add fcgistarter, but not as a target of BuildBin/BuildAll since it won't compile yet.
4e0d66f Enabled to configure the https port as we do with http port too.
e87a048 Let the installer lead on the origin sourceroot conf path
e0f15be Quoting this made it worse on us, not easier. Resolve SSLMutex default on win32.
28d7c7d Kill proxy\ dir, a horrible name with no corresponding example
fba92be The installer will have a temp-extras for these files.
b47b9d2 Added server name indication (RFC 4366) support (PR 34607). Submitted by: Kaspar Brand <asfbugz velox.ch>
fa7344e Tab-consistency (it's a makefile after all)
058bb08 Present other variables
bd5aea6 alphasort
382f8a7 Plug in build/installwinconf.awk, unplug httpd-win.conf and follow the same general configuration as all platforms.
c2e5f29 Add rel_sysconfdir interpolation, this rounds out all of the necessary @X@ patterns.
3d65d0c Modifications for 1) httpd.conf.in generic conf file, and 2) source tree build (in addition to the msi installer) carefully dodging the installer's desire to delete sources.
23dd3da Start from svn httpd/httpd/win32-msi/trunk/InstallConf22.awk to use a single script for build time and installer conf rewrite.
c86828d Start preparing to use the general-case httpd.conf.in, on Win32.
bf49e42 Unix illustrates a default of 150 max childs, so make winnt mpm consistent with this.  (Other mpm's should also be reviewed.)
78f7066 * Using the reslist pool for the proxy_conn_rec structure introduces a memory   leak when connections get created and destroyed frequently by the reslist   (e.g.  destroying idle elements of the reslist). So use the subpool   dedicated for the proxy_conn_rec structure to allocate the memory for the   structure itself.
6619d10 Catch up to apr-1.3.0 which names the pdb's to match the static libs
911ed59 What's left can exceed size_t
e27c0f1 When building to WinNT, CommandLineToArgvW must resolve.
f968fe5 Handle args appropriately for an apr app.
051352f If something other than fork can work, this will become worth building on win32.
f887843 Repair project file corruption
4a595ca * Only sent a flush bucket down the chain if buckets where sent down the chain   before that could still be buffered in the network filter. This is the case   if we have sent an EOS bucket or if we actually sent buckets with   data down the chain. In all other cases we either have not sent any   buckets at all down the chain or we only sent meta buckets that are   not EOS buckets down the chain. The only meta bucket that remains in   this case is the flush bucket which would have removed all possibly   buffered buckets in the network filter.   If we sent a flush bucket in the case where not ANY buckets were   sent down the chain, we break error handling which happens AFTER us.
3cf329c What an obscure reference.  Also note the build will append OPENSSL's LICENSE after the AL in LICENSE.
acb101f update convmap
af03422 update transformation
467bfbb svn:eol-style = native
c886efe 'segement' typo
a6d7f20 Update transformations
c092a1c Correct reference to directive
8c03572 Fix broken markup from r602806 (again)
3b1c187 Fix broken markup from r602806
8d25ecd * Tag the pools appropriately to ease memory debugging.
d2a1cf5 * Fix a SEGFAULT by ensuring that buckets that may have been buffered in the   network filters get flushed to the network. This is needed since   these buckets have been created with the bucket allocator of the   backend connection. This allocator either gets destroyed if   conn->close is set or the worker address is not reusable which   causes the connection to the backend to be closed or it will be used   again by another frontend connection that wants to recycle the   backend connection.   In this case we could run into nasty race conditions (e.g. if the   next user of the backend connection destroys the allocator before we   sent the buckets to the network).
72109ff * This change was backported.
65b5107 Add a note about double quoting a multihost LDAP URL.
684ac8c * Those are backported.
de70bc6 * These have been backported.
033055e * Do not register connection_cleanup as cleanup for the conn->pool. In the past   it was needed to register connection_cleanup as a cleanup for the frontend   connection memory pool (c->pool) to ensure that connection returns into the   connection pool if the memory pool of the frontend connection memory pool   gets destroyed / cleared. Now we ensure explicitly the connection returns   to the connection pool once we finished handling the request.
43b6edd * Fix another memory leak related to PR 44026. Now that we keep the connection   data structure alive in the reslist, the live time of c->pool is too long.   r->pool has the correct live time since rp dies before r.
037475e http_protocol: Escape request method in 405 error reporting. This has no security impact since the browser cannot be tricked into sending arbitrary method strings.
5b442e5 Fix CVE-2007-5000:
b99945e Introduce --kill argument to ApacheMonitor for use by the installer.  This will permit the installation tool to remove all running instances before attempting to remove the .exe.
0ae93ad * Use a separate subpool to manage the data for the socket and the connection   member of the proxy_conn_rec struct as we destroy this data more frequently   than other data in the proxy_conn_rec struct like hostname and addr (at least   in the case where we have keepalive connections that timed out and were   closed by the backend).   This fixes a memory leak with short lived and broken connections.
754135d * Do not set filter context brigade to NULL (and thus need to recreate it each   time) but empty it (via APR_BRIGADE_PREPEND) and reuse it.
1c6b2a8 Document the usage of ProxyIOBufferSize to extend the default AJP message length.
2302e19 Use 64K as maximum allowable AJP packet size
f6bb1db * Update transformation.
12c4f7a * mod_substitute is no longer experimental.
826016b * Do not split the brigade if the flush bucket is the last bucket in the brigade.
3cb2f60 Make that two files that hadn't noticed the movement from experimental->filters
ebbedb7 One file hadn't noted the movement -> filters from experimental
5748b7e * These one have been backported.
1955b2e Case statements should go on their own line.  (No functional change.)
bd49c01 * Enable the proxy to keep connections persistent in the HTTPS case.
03b9f7b * s/MAX_BUCKETS/AP_MAX_BUCKETS/ to avoid namespace conflicts as pointed out   by jim. No functional change.
6c268a6 * All these changes have been backported.
d5530bc Alternate fix... profiling indicates that the string termination is completely unneeded and superflous. In which case, the original allocation size is sufficient since nothing external worries about a NULL nor looks for it.
8c36c1f * Optimize memory behaviour of mod_substitute by
2e30b49 readability tweak
69f198a * If no data is available at this point of time we need to switch into the   BODY_CHUNK_PART state like we do several lines later in the code in the   same situation.
c43b92f Update transformations
629709d Various language fixes.
279f68c Update transformations
af509f7 'Bodys' typo
cc1ddbb * modules/ssl/ssl_engine_kernel.c (upgrade_connection): Calling   SSL_renegotiate makes no sense here; remove copied comment.  No   functional change.
2b3803a Reflow ALL of 2.x trunk STATUS to the same indention (indent 4, with a hanging '*')
e95d52f http_protocol: Escape request method in 413 error reporting. Determined to be not generally exploitable, but a flaw in any case.
8047103 * modules/ssl/ssl_util_ocsp.c: Fix spelling mistake in comment; no   functional change.
734ba05 * modules/ssl/ssl_engine_ocsp.c (verify_ocsp_status): Extract the   validity period from the OCSP response and check it.
4545273 * modules/ssl/ssl_engine_log.c (ssl_log_cxerror): Drop 'peer' from the   log message since the passed-in cert may be e.g. the peer's issuer.
0802554 * modules/ssl/ssl_util_ocsp.c (read_response): Bail out if the maximum   response-header count is exceeded.  Also bump to APLOG_ERR the log   message given after a header read error.
17fb5e7 * modules/ssl/ssl_engine_kernel.c (ssl_hook_ReadReq): For performing   TLS upgrade, require only the presence of a "TLS/1.0" token   somewhere in the Upgrade request-header, rather than as the exact   header value.
ad857cd * modules/ssl/ssl_engine_io.c (ssl_io_input_add_filter,   ssl_io_filter_init): Don't clear f->r here after adding connection   filters since ap_add_*_filter now guarantee to do it internally.
8026ae5 Further to r599711; document new API guarantee for handling non-NULL request_rec pointer when adding connection filters; minor MMN bump:
e24470f Update transformations
720e9f8 PR#44001 AuthDigestEnableQueryStringHack unnecessary for MSIE7. Reported by: Takashi Sato <serai lans-tv.com> Confirmed by: Vincent Jong <megaspaz tron.megaspaz.net> & noodl
5e4bf69 - when using "-l" reduce two consecutive calls to apr_time_now() to one.   This will not change the logic if no "-l" gets used, and it will spare   one call to apr_time_now() in case "-l" gets used and more important   it gives the code better atomicity, because in fact between the two calls   there is a slight change of jumping oder the DST boundary
154f402 Update transformations
f945cf4 'Recieved' typo
4ae49c0 Ooops. Not sure why this didn't get deleted in the last commit to this file. This is no longer required due to the more optimal way the list of subgroup attributes is now handled.
29f6375 Final stage in this ldap commitathon. This fixes some problems associated with processing of subgroup lists. There were some problems that arose when the cache was referenced across possible expirations. As of this fix the nested group code (and the caching of queries related to nested groups) should be working correctly.
f6d2068 Nothing left to build in this directory
b92b10f Remove code that was both memory intensive and unnecessary. Replace the complicated code with a simple list.
8e90a80 Improve logged information and fix broken doc.
18f9151 * Use the correct pool when adding connection level filters.
b22b6fb Clear the reason pointer when the connection is cleaned. We don't need to be leaving historical info around.
6c76e4f Update transformations
37cf736 Briefly mention UserDir's url redirection abilities
f591ec6 Do a better job of checking managing memory during subgroup processing. Try to be graceful and harmless in cases where we run out of SHM.
9a99383 Get rid of some compiler warnings.
1f3364f UserDir accepts multiple file paths. Submitted by: Vincent Jong <megaspaz tron.megaspaz.net>
10ecac4 Repeated 'RewriteRule'
dfce104 * Detabify and make spacing in HTML code the same as before r593816. This   avoids that the autoindex test (t/modules/autoindex) fails. Adjusting   the autoindex test would cause it to fail with older versions and would   make it harder to recognize regressions.
810811d * modules/ssl/ssl_engine_ocsp.c, modules/ssl/ssl_private.h: Comment   tweaks, no functional change.
fc7fdf4 * modules/ssl/ssl_util_ocsp.c (serialize_request): Fix query string   handling.
efa84a4 - regenerate for mod_ssl OCSP directives
f49cd42 - add documentation of mod_ssl OCSP directives.
f09d5fb fixed var declaration in the middle of code.
b7d3d25 Since we don't support chained filters, and can't expect to while the filter_init problem remains, we should make it clear to users at startup time.
33c045e mod_ssl: Add support for OCSP validation of client certificates:
4df56cc * Remove unneeded include of unistd.h. getpid is not used any longer since   r394065.
4c46b08 Perform all per-LDAP-backend related memory allocations in a standalone pool, provide a local method to completely remove an LDAP backend connection so we can someday manage/dispose of extra connections in a reasonable way.
9384f14 * No functional change: Style. Fix linebreaks to make code more readable.
419b6bb * Remove unused variable and thus remove compiler warning
41240cb * No need for an else block here because we do a return above.
d959bd1 Typo fix
5b9b8da Fix patch to PR#43882 as pointed out by trawick
ef02196 Stage 3 of refactoring. This reverses a couple of if checks so that the code is easier to follow. The default svn diff looks ugle due to the spacing change. A cleaner diff ignoring spacing changes can be found at: http://people.apache.org/~rederpj/util_ldap_ignoring_spacing.diff
effa2f7 Refactoring stage 2. This commit moves a large chunk of utility code out to its own function to make reading and maintaining the actual subgroup function easier. This should just be shuffling code around and shouldn't result in any semantic changes.
14fcf5a * modules/ssl/ssl_engine_log.c (ssl_log_cxerror): Log the certificate   serial number along with the subject and issuer names.
0a8ef36 * mod_substitute is now below filters and no longer in experimental.
6288f33 move mod_substitute from exp to filters
9ca30c7 Altered some comments and minor formatting of log calls in prep for a refactoring of this routine. I wanted the diffs to be human readable and understandable. This should just be formatting and shouldn't alter any semantics.
2c619e8 mod_filter: don't segfault on (unsupported) chained FilterProviders. PR 43956
7853124 backported - 598272
7471603 enable to build with OpenSSL 0.9.9
cafa3ce update transformation
7735d6c another typo found by Lucien GENTIS
8254e8a update transformation
fb0b396 typos found by Lucien GENTIS
29a4680 Update transformations
2d43d7b Minor grammar fix
62059cf * modules/ssl/ssl_engine_log.c (ssl_log_cxerror): New function, factored out from ssl_callback_SSLVerify.
d041412 Fix up the NetWare build due to the rearranging of the examples and experimental directories.
69c7c57 * modules/ssl/ssl_engine_log.c (ssl_log_ssl_error): Improve SSL error   log messages: retrieve and log the "data" string where available,   drop the redundant error number (always included in the error string   anyway), and clearly delineate both the "data" and "annotation" from   the error string itself.
942b075 correct the order of filesize and offset descriptions according to the current syntax diagram
b3e39d6 generated rotatelogs docs
1abc28d update rotatelogs docs to reflect the support for -l/UTC-offset with size-based rotation
34b3b13 Remove mistaken fix. Just checking if peer review was working... you passed. :)
7daf1c5 Allow local timestamps to be used when rotating based on file size.
7c35c7a latest docco xform updates
45a8151 Now in 2.2.7
23cd4ab improve command-line parsing
8e2f82a * Convert request time to seconds before before storing it in unique_id_rec   struct.
ac6ab5f s/mod_example/mod_example_hooks/
df96b77 * Move the Example modules to the newly created examples subdirectory * Hopefully correctly fudge the NWGNU make files * Add mod_example_ipc (without NWGNU stuff or dsp)
f9aa316 Update transformations
0057d8d 'youare' typo (submitted by Luciene Gentis)
14188af Safer fix to PR43882 than in r595672.
7cd3e66 A quick fix to avoid potential memory issues.
16519a4 r595672 was incomplete.  We need to be sure we reject multiple-encodings.
3d9658c backported in 595675
1ed6c06 Deal with unrecognised Transfer-Encoding headers. PR#43882 (Björn Höhrmann)
64a0ac7 backported to 2.2.x in r595664
6955c19 no logic changes just minor style fixes
a7cb86f Finish up   http://svn.apache.org/viewvc?view=rev&revision=102066   http://svn.apache.org/viewvc?view=rev&revision=102205 from almost 4 years ago by removing abandoned logic from the fixup hook.
bc08130 backported
6ca7828 Added documentation related to the nested group support that I added a while ago.
f808375 - add note on security impact of suppress-error-charset for broken browsers
3e236f8 Umm, oops.  r595022 shouldn't have ended up in trunk.
d0404fe Amsterdam sandbox: add serf input/output filters that replace the core filters.
18e8341 And move mod_lbmethod_rr.c  to that example dir so people don't get confused
38050b2 Create location for "example" module(s)
c9c2f19 Some fixes before we move this to an example's dir, but remove the unneeded CORE_PRIVATE and bypass inf loop, but *still* this is not intended to be a module to *use* but rather as an example that yes, you can add lbmethods via sub-module prvider.
5c5ed18 update transformation
48e97db fix external references to perldoc
8db96d6 update transformation
0b77eb5 validate the document
bdd643f update transformation
f0018fd no content changes
22d8e0d core: Avoid some unexpected connection closes by telling the client that the connection is not persistent if the MPM process handling the request is already exiting when the response header is built.
8c54cd1 Add extremely butt-ugly sub-mod that exists simply to show how to use providers in sub-mods to extend lbmethods in mod_proxy...
7d19ce4 Ignore ctags/etags output, some small Doxygen fixes
6f81634 Make life happy for people who don't have serf but still use most... yeah, this means you need to explicitly add mod_serf... no, this isn't a comment on how cool mod_serf is :)
95ac125 Add mod_serf, a reverse proxy module, which uses serf[1] as its http client library.
6aad429 fix to http://svn.apache.org/viewvc?rev=591499&view=rev to properly copy into char ***retvals when AuthLDAPUrl has extra attributes specified
d15e52b Re-work the explanation in commentary and debug logging of when modules and scripts may be harmed by transformation of the request body.
15d1cc4 * Generate valid XHTML output by adding the xhtml namespace.
7efb84f while technically uldap_connection_cleanup() does leave an entry in the connection list, it is fully disconnected before it's put back.  My previous commentary did more harm then good.
fdc152b remove trunk CHANGES entry for item backported to 2.2.x
ba4bbe1 Update docs transformations
a6d30e3 core: Add the option to keep aside a request body up to a certain size that would otherwise be discarded, to be consumed by filters such as mod_include. When enabled for a directory, POST requests to shtml files can be passed through to embedded scripts as POST requests, rather being downgraded to GET requests.
30ede8a Stop registering a cleanup on each LDAP connection created, this cleanup was never called because it's registered against pconf in the child. LDAP connections are created in the child and not shared between children, so no action should be required at child exit
1e63c93 mod_charset_lite: Don't crash when the request has no associated filename.
a8e34cd * modules/ssl/ssl_engine_io.c (ssl_io_filter_handshake): Renamed from ssl_io_filter_connect since the function performs a handshake in either client or server mode, not a "connect".  No functional change. (both callers updated)
264f7c6 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Fixup): Don't send Upgrade for a subrequest.  When it *is* sent, list it in a Connection: header as required by 2616.
c15016e mod_ssl: Fix forever-broken TLS upgrade support; perform the upgrade in the post_read_request hook rather than in a filter, and fix the filter insertion issue:
417e83d * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access): Remove obsolete reference to the "SSL logfile".
9893471 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access): Use ap_log_rerror   in place of ap_log_error throughout.   (ssl_callback_SSLVerify): Use ap_log_cerror in place of ap_log_error   throughout.
34ceefb * Add a minor bump as a result of r590122 and r591760:   ap_time_process_request() is now part of the public scoreboard API.
aaea0c6 * Use the same declaration for ap_time_process_request as in the header file.
6f970f4 spurious 401s with message "DN has not been defined" when cache expiration happens in another thread
a2897ec fix pool misuse around mod_ldap's connection cache, previously pconf could be used during request processing
bbebc93 Fix handling of buffered request body for per-location SSL renegotiation when an internal redirect occurs:
748681d * modules/ssl/ssl_engine_vars.c (ssl_var_register): Take a pool argument; determine library version strings once at startup. (ssl_var_lookup_ssl_version): Drop 'pp' argument; use new global variables rather than modifying process-global state in a function which must be thread-safe.  (all callers changed)
860d755 Fixed up as per PR#28310, will back-port to /2.2/
f36cd85 remove UTF-8. Submitted by Vincent Deffontaines (vincent at gryzor dot com).
10e7200 Update docco transforms
809dd5e Add in SeeRequestTail directive, to handle the shortcoming of only storing 63 bytes of the request, when the requests are longer than that and only vary towards the end; eg:
a412407 The function ap_time_process_request() needs to be declared appropriately if it is going to be used externally (now being called by mod_echo)
d7a8b67 Otherwise it doesn't compile on HP-UX when using cc.
ee4ec80 After a stop or restart signal, the old listening sockets are closed. "Some platforms" drop out of the accept() with an EBADF after the sockets have been closed. Such an error should not clutter the logs.
ac9c348 As of r589618, these have been backported
6c0689e Prevent 1-byte overflow on 8192 boundary (see PR 43310)
bafefdd Update the patch for environment variable interpolation in ProxyPass/Reverse/etc directives: r421686, r422178, r421686, r421725 That patch stalled on wrowe's veto.  This update introduces a new "interpolate" keyword to all directives affected, so should meet his concerns by adding explicit per-directive control (disabled by default).
b2aeb20 Update r573831 to avoid duplicating URL-escaping code. Ref. http://www.mail-archive.com/dev@httpd.apache.org/msg38532.html
2aa4ac4 Fix possible crash at startup in case of nonexistent DocumentRoot. PR#39722
c94140f Add option not to send&clear response headers in ap_send_interim_response. We'll need this option to fix PR#43711, and ap_send_interim_response is fortunately too new an API to have made it into anything stable.
f9b0ac8 r588791 needed an MMN bump
785b037 mod_proxy: add "nocanon" keyword to ProxyPass, to suppress URI-canonicalisation in a reverse proxy. PR 41798
dabb786 Two sane reasons to wrap up, timeup, or eof.  Quiet down both results from the error log.
1078dd2 Enhance mod_echo with an illustration of using the scoreboard for a connection based protocol, and clean up the event loop and diagnostic messages.
a2597bc Actually re-fix Christian's recommendation, someone previously caught this.
f75745f MMN major bump required; this API is altogether inconsistent, transparent types should be opaque, opaque types should be transparent.
1e84b4e Unless I've misread this, POD is write-blocking, read nonblocking timeout 0.
4f72c6c We now have an API to describe pipe creation timeout states, so use it to ensure no platform has quirks with their particular default.
b94e361 Transformations.
54284b7 * Fix typo: '8080' vs. '8000' * Fix versioning information where it makes sense * Clarify DNS lookups: 'double reverse lookup' vs. 'two lookups'
e10f1eb buildfluff
7740055 mod_substitute module docs, first bash.
d792a8d Transformations.
d2a01ce s/the the/the/
48c373c apr_dbd_get_entry from r466865 doesn't alloc new memory for each return val.
d574583 More transformations, note translation diffs.
169ecb0 Transformations.
8bc1f18 Change "entry" to "part" here to be consistent and not confusing.
a0ae3ff Forward port of r585584.
13dc916 Fix brainfart in docs
6574dde Improve documentation of "DefaultType None"
1eb7f6a Fix spelling
13a83c6 Build transformations.
86c8c85 Changes as suggested by Lucien Gentis.
51b3fa9 revert r581660 , fixed instead in APR trunk/r583421 1.2.x/r583860
f29b068 * server/util_filter.c (ap_filter_flush): Tweak comment; no functional change.
c99d2c7 * server/util_filter.c (ap_filter_flush): Ensure that the brigade is   empty before returning.
8ecbe56 * modules/proxy/mod_proxy_http.c (ap_proxy_http_register_hook): Fix   apr_pool_cleanup_register() invocation added in r583202, which was   causing every apr_proc_create() call to segfault.
854e85d (forward) proxy should not be verifying/checking for valid chars in a URI... pass through.
e883a58 Semi-revert 583466; just remove the ap_proxy_isvalidenc() function until we canonically set the "allowed" list.
2349488 Abstract out "verification of valid encoding" via ap_proxy_isvalidenc(). Now we can use it in other proxy protocols.
c9afd39 This restriction/limitation was removed in r327179 for PR31226
635dc63 fixed awk script to append the NetWare SSL footer only to httpd.conf.
ba2e8aa Remove outdated warning
781cb3c missing include!
aefd498 In 2.2.7-dev now
2b9aea3 mod_proxy_http: Don't unescape/escape forward proxied URLs.  Just check them. PR 42592
e357839 fixed include path to use forward slash.
ca3b6b8 * This one was already backported
d189f2d backported in r582807
77917d1 Remove backported changed which have been forgotten to be removed...
c56c013 Note PR 43519 is closed...
88ae472 Purge tabs in r582631
b609ab9 mmn bump for r582630
335f9ca mod_proxy_http: Correctly forward unexpected interim (HTTP 1xx) responses. PR 16518
3d1465d Introduce ap_send_interim_response function and API, for interim (HTTP 1xx) responses sent by an application or backend.
ebb0a9a Document proxy-http environment variables in one place.
b70ad0c buildfluff
4aaa29f PR 43555 AuthBasicSource typo
38ae035 As APR 1.2.x cannot solve it's issues with apr_proc_create(), mandate the working version of APR (1.3.0-dev or later).
54dc286 mod_ext_filter: Prevent a  hang on Windows when the filter input data is pipelined PR 29901
2213956 Ensure the URI is "*" and not something like "*foo"
b89d1b6 We should return
97f37ce Reduce the last change to a minimum, since OPTIONS * does not include an Allow header field (* is not a resource).
5773c94 OPTIONS * does not map to storage, so handle this as appropriate. For other Request URIs, we drop down the the default_handler to do that for us.
751d792 Document ProxyMaxForwards change in r581117
b1c0b58 mod_deflate: Don't leave a strong ETag in place while transforming the entity. PR 39727
d850197 Default to NOT setting Max-Forwards in violation of RFC2616 Leave old behaviour as a configuration option (ProxyMaxForwards) PR 16137
1664984 No change, but they won't let me have foo (and ... this is the module with a function addit_dammit !!!)
b0c3738 Proxy: remove Warning headers with wrong date PR 16138
0df59b2 buildfluff
bc63c05 Minor grammar fix
7cb6072 There are considerably fewer ces modules (and they are quite a bit more sophisticated).  Always build these first before trawling through the entire list of ccs modules, since any problem will occur up front and be fixable more quickly.
475cd14 mod_deflate: initialise inflate-out filter correctly when the first brigade contains no data buckets. PR 43512
fef4bfd Clean up 2nd typo of the same line, you would expect I could copy n paste one line across terminals, eh?
af62754 A long week, what can I say?
4bd4ff7 Document "DefaultType None" option (PR 13986)
a153ecd Fix keepalive to proxy backend PR 43472
1508572 Fix typo in header name "Trailer"
19769d8 Fix processing of Connection headers in proxy PR 43509
89c1272 Share a single write-pipe handle for piped stderr logging, this prevents an extra logging process from hanging around after the initial config-phase.
a4512f7 redux, use Rudgier's instead, better comments.
433f989 Correct the approach to std file handles by simplifying the approach and taking better advantage of apr's now-proper support.
1823a1d Logging fixes, round two.  Authored and Reviewed by both rplume and wrowe within the same 10 minutes, this is the obvious fix to prevent any lingering write handles from hanging around in unexpected ways.
649da91 * Revert r561352 as this breaks authentication completely.
bd290ea Fix typo
2a8c7b2 With the exception of exclusively test/stress modules, add all of the modules we are compiling (in any shape).
b1157e7 Well this always sucks, to build a good example and discover the simple example case doesn't actually work :)
54f22c4 Fix adding out Via header in proxy response PR 19439
c27e86e Strip hop-by-hop headers in proxy response
e2e15c2 Formatting.  No functional change.
c8b11f5 backported to 2.2.7
a5e7493 Add "DefaultType None" option PR 13986 and PR 16139
a067e75 Ignore any ajp13 flush messages which we may mistakenly rec' before we send the response headers. See Tomcat PR 43478.
4d815c2 Reinstate location walk for subrequests PR 41960 (Jose Kahan)
fc83c61 * Do case insensitive compares for the type of formats of the pid / tid.
c105e90 mod_log_config: Add format options for %p so that the actual local or remote port can be logged.
87006e7 Update mod_dbd page for new drivers.
e50d0d0 Clarify what happens if you don't have a ServerName in your <VirtualHost>, since people sometimes assume that this implies the host has no name, resulting in confusion.
5481e4b * Remove function format_integer as it is only used by pfmt and just a needless   wrapper around apr_itoa. Thus replace its call by apr_itoa.
a8893e1 Committing other language transformations.
0ae25ab Fixed a simple version numbering typo, reported by lucien.gentis (at) lorraine.iufm.fr.
a30598a PR 40037: try to avoid risk of misleading the lusers when they can't initialise scoreboard after a crash.
21f637b Fix r578332 for backslashing filesystems, as noted by rpluem
4c672a8 * Rationalise the two ap_unescape_url versions * Fix ap_unescape_url_keep2f to work as documented (keep %2F encoded,   bringing it into line with the documentation as well as common sense). * Introduce suggestion of an extension to the API The most relevant open PR is 41798
a72b93a Link mod_deflate.so as always intended (and pointed out by Tom Donovan that this was not happening).  Note Makefile.win always moves zlib1.dll for this very purpose.
8a7f22f Remove tabs.
e2bd543 punctuation; sorry for the noise
c10c30b document the mod_userdir-like tilde expansion sometimes performed by mod_rewrite
2c571b3 buildfluff
43ce7e3 Add a few '/' and remove an errant '>'. Note that this changes a patch proposed for backport to 2.2 (PR34602 & r573831).
fc403c1 Update xform with retry=0 info
800779f Typo and document what retry=0 means.
18441b7 In 2.2.7 now.
20389cd buildfluff
d7e45eb PR38644 mod_status no longer needs to be recompiled to show extended status items.
7304e6f Failing to load a protocol handler is a server error, not a forbidden.
89d41bc don't fall through this case. Just break.
60bda3e These really are block specific, so why not make them as such :)
2c652ee This file is supposed to reflect code defaults. PR: 39613
53ff938 Transform to html.
be6123a Be even more explicit about the multiple-extension issue.
13abb48 These are now in 2.2.7-dev
63cdf0c Some minor cleanups:
9f3b705 Resolve storage of process-lifespan version strings for OpenSSL, while using request-lifespan copies for manipulation.
1c9df66 buildfluff
cb53804 PR #43358 - Fix links to moved auth directives (Takashi Sato)
6079ae7 Remove useless variable.
cb69492 lb_score is bigger proxy_worker_stat. Prevent wasting space.
ce9eaa9 * Add the novary flag to RewriteCond in order to prevent the appending   of HTTP headers used in a rewrite condition to the Vary header of   the response.
e931c04 * This check is now part of the PROXY_WORKER_IS_INITIALIZED macro.
5579888 * Do not reset lbstatus, lbfactor and lbset if the shared proxy_worker_stat   structure for a worker is already initialized by the same or another   process.
1396594 Don't call into get_worker while holding the timeout_list mutex.
44404c8 Run optipng[1] with -o7 over all PNG files.  Files were only modified if the optimized version is smaller.  There is no change to the rendering as seen by users.
38c463c Yeah. Good luck with that.
5437e23 Maintain the illusion. It's not worth my time or energy to care about this anymore.
e334432 Don't send spurious "100 Continue" response lines. PR 38014 [Basant Kumar Kukreja]
23c66c1 * Also set the Vary header if a rewrite condition is true and uses a HTTP   header, but all remaining rewrite conditions are skipped due to the [OR]   flag.
d976c4f mod_proxy_ftp: Don't segfault on bad line in FTP listing PR 40733 [Ulf Harnhammar]
095f3c8 Reinsert extern int PROXY_DECLARE_DATA proxy_lb_workers into the Proxy API.
1a2c2c2 Make AJP HEAD aware
8be6dff Propagate Proxy-Authorization header correctly PR 25947 RFC2616 tells us:   (1) If we haven't authenticated, we must pass the header on.   (2) If we have authenticated, we MAY pass it on. I've made the latter case configurable by ENV(Proxy-Chain-Auth).
982a8e3 Escape error-notes correctly PR 40952
6c763f8 Check all IP addresses listed in ProxyBlock PR 36987
8d329cd mod_proxy: Don't lose bytes when a response line arrives in small chunks. PR 40894
1a69fd2 Link to password formats doc from auth howto, and buildfluff
61f714c Link from mod_dbd to /misc/password_encryptions.html
c1b9a21 buildfluff
1ecea16 Sync with changes to wiki version of password formats document. Add to /misc/ index.
c94d03e Add option to escape backreferences in RewriteRule. PR 34602  and  PR 39746 Patch by Guenther Gsenger
0703f43 Reinstate the lb_score patch, but, protect against conflicting leakage as per jfc proposal.
4aee21f semi-revert 573264. It is totally bogus that we need to do this, but until we create mod_proxy_structs.h which can then be included by mod_proxy.h as well as scoreboard.h, we'll make do.
c3d947e lb_score *is* proxy_worker_stat... no need to "mask" that or use wasted space.
ecfa2af Axe a completely bogus internal helper function.
5fbaa3d Refactor releasing the child processes by eliminating the time lookup, eliminating the bogus/misimplemented function, and introducing fairness to release any dead threads before getting hung up on releasing longer lived threads.
5b20429 Kill the compiler emit - casting struct * to char * (as defined in openssl 0.9.8e).  Easiest is to cast through void *.
ab5a5da Be proactively safe. A cheap check, but helps prevents badness :)
c749df3 Add support for proxy-nokeepalive (for testings).
42bb011 as not everyone needs sticky sessions - avoid segfault in balancer manager and mod_status
da64e3a All part of 2.2.6 now.
fe8943b buildfluff
bbe1da6 s/If-Match/If-None-Match/ per: http://www.mail-archive.com/docs@httpd.apache.org/msg05488.html
8479f87 * These have been backported to 2.2.x.
a1671b8 Move the accessenable variable into the private ssi_internal_ctx structure instead of the public include_ctx_t structure.
4a9af52 whitespace format change...
704d989 buildfluff
f86e573 Exponential typo [Lucien Gentis]
d556fb0 buildfluff
8bf6006 Document the new Define directive added in r546651
19d52e6 Fix proxy-sendchunk(s|ed) problem PR 43183
b6254c6 update transformation
2405711 svn:eol-style=native
a4c9a31 svn:eol-style = native
9b0f62f * These have been backported.
56f42a9 * This one was backported.
0f1e54f * Improve formating. No functional change.
5400d6e * There is no context location. But this directive should in .htaccess files.
f4b856b Clean up nasty formatting
05cab47 mod_include: Add an "if" directive syntax to test whether an URL is accessible, and if so, conditionally display content. This allows a webmaster to hide a link to a private page when the user has no access to that page.
0d631a0 * s/\t/ /g. No functional change.
520afe6 Move error-checking to where it should be Updating r571414 (patch for PR 40756) following rpluem comment
185146b * Build docus
98be0f4 * Remove </p> as the docs fail to build due to this incomplete tag.
7d22ea1 * Improve ProxySet documentation by pointing out one pitfall and one   interesting use case.
ed3e6b8 Add docs for the AUTHENTICATE_ prefixed exposure of login attributes during AAA.
1fc39f2 mod_authnz_ldap, mod_authn_dbd: Tidy up the code to expose authn parameters to the environment. Improve portability to EBCDIC machines by using apr_toupper()
5b0ec0d Update doccos
f5c02ab These were backported
8c61967 Update copyright dates from 2006 to 2007
cf8f181 * Update the copyright year from 2006 to 2007. Thanks to Erik for pointing it out.
13883d9 Finally, adjust whitespace to be consistent.
6e75268 one more pass through the registry for documented extensions
6088d35 update transformation
7044035 These have been backported to 2.2.x, so remove from the trunk/2.3.0 CHANGES file
205993b Finish cleanup of CHANGES files, to reduce the sync required when backporting, etc...
08c8858 Fix potential proxy segfault PR 40756.  Patch adapted from 2.0 patch by Trevin Beattie
155dc9a Add davmount (RFC4709). Submitted by: Julian Reschke
c37da77 missed .vss visio extension
3e95dfc add RFC 4337 extensions
af8b688 Add extensions for types that are reasonably unique and discoverable on the Web.
8de9bb9 mod_proxy: Add Proxypass status option to ignore errors PR 43167.  Patch by Francisco Gimeno
9b93fc8 Based on Roy's commit 571285
37ce469 Add RFC-defined extensions for pkix certificates.
45eca47 Add OpenDocument mime types PR: 38301
948f883 Add wpd extension for registered app/vnd.wordperfect PR: 29889
a5dbd80 Start using registered image/vnd.microsoft.icon type for ico PR: 41035
0b3cf5f give app/vnd.curl the registered extension.  ignore text/vnd.curl.
0aae30b Here too, the limited comparison ignored the trailing NIL character
bfed1d7 Convert just the message text to EBCDIC, and not the (already EBCDIC) status code
60428ed nsc extension not used
2cbbf7d Windows Media Services types.  http://support.microsoft.com/kb/288102
c004da0 proxy_http: don't wait for response body in a HEAD PR 41644 [Stuart Children]
8e05d0f For correct dumping, translate data from ASCII
ad1fb81 Make Bill happy ;)
e3b9acb Update transforms
d689f0c Document new IndexOptions options
699f083 IndexOptions ContentType=text/html Charset=UTF-8 magic.
0d42b90 Remove commas -- they are not used in the other directives' descriptions, either
5b2a711 Fix FilterTrace directive's description
5f28304 Reprocess .png's as transparent (w/ GraphicsMagic since my local copy of ImageMagic creates garbage transparent .png's).
58df3d0 Update for the docs-project, and illustrate the icons on both white and black backgrounds (to point out PR 30190).
112646c Documented in the parent directory
d6a3d91 Credit where credit is due (I swore I did this already).
6bdf011 note mime.types update
f1cee02 The extensions recently assigned to application/vnd.apple.installer+xml (dist distz pkg mpkg) are too numerous and too generic.  We should always assume that vendors are too lazy to check for conflicts (we choose .mpkg only, since that is the common one).
9522f22 Add an include path to resolve the mpm header
c825ca5 two more common x-idiot types
518170b Update common x-types that have been registered or will never be registered for compatibility reasons.  Yeah, those x-Idiots.
260f919 Sync with IANA registry without changing extensions. This is a lot harder than it looks.
1c98c19 better apr_ctime() usage   (too bad it is apr_ctime_LEN instead of apr_ctime_SIZE)
5873511 make sure we Unix weenies get a newline at the end of the message instead of our shell prompt
0361be0 Remove random stray colon in example block
ee1ecfd Should have added this in march. Oops... Also need docs too... Have to do that this weekend if I find the cycles, otherwise next week.
014540f We are Substitute now :)
32c4543 mod_expires - don't segfault on bad configuration. PR 43213: Julien Perez
2fc30ed Note log.c refactoring.
26c8ae3 Introduce a specific pool for stderr logging, so that we have two simultanious pools until the new stderr pipe logger is completely initialized.  This ensures we have a stderr channel from the time we clear the plog in a previous generation through the invocation of the open_logs hook in the next generation.
bdb8a01 Bless the module mod_substitute, with the Substitute directive and SUBSTITUTE filter name.
6ea7096 Ignore per-user vcproj's for newly built module trees
688f417 s/require/Require/g
221c731 s/require/Require/g
bef1359 Once we have a .vcproj, and if we can exec devenv.exe, then prefer it. If we don't, we still need to use the .mak files, when present, because a VC5 user (yes it still works) can't build from .dsp files.
396c082 It isn't rocket science :)
9a74f50 Some unused local variables.
5ce230a Complete the build changes for win32, document the 'ALL' option
628fe5f Final rearrangements (alpha) to make comparisons simpler.
8cf8005 Adding the last two, missing mod_filter and mod_dav_lock infos
6d38c85 Bucketeer is on the barely-applicable list, no?
86cd1b4 Resolve examples errors (missing include error, signedness warning).
5e97777 Add modules/examples/, and a new BuildAll dummy stub.
ba564c8 Yes - a purpose to adjusting the name now; add all examples to a new build target, BuildAll (including modules with no application)
1fdf836 Adjust NW (I hope)
7e96ed3 s/SED/Rewrite/ (approximately, taking into account legibility and line length), Other than identifiers and text, there are no code changes in this commit.
f3a7745 SEDFILTER has several anomolies; first, it's not SED syntax, but more mod-rewrite like (and using the rewrite pcre parser). Secondly, 'FILTER' in the filter name is redundant.  Simplify, by renaming this 'REWRITE' filter.
bb11c3b Updated as per Igor Galić (a.k.a. #Apache jmcg)  docs@ email.
1818347 Add auth modules to the schema
6d25549 You can't borrow AP_ namespace for imports/exports.
67eafbb Add a comment to prevent a future upgrade of APR 2.0 or similar from inflicting new fatal errors on the startup error reporting.
2fef8a0 note odd DBDPersist format in 2.2.0 and 2.2.1
0b8a5e9 Correct a common misconception: symlink restrictions are policy restrictions, not security restrictions.
480a062 year--
15cbde5 Supress the warning for compilers which fold *end-*start into ssize_t.
c682494 Necessary cast; deliberately truncate to short.
9246f74 Reorder a few bits (easier to follow and compare).
8d7fe95 ap_available_mutexes_string and ap_add_available_mutexes_string cannot be data symbols when mod_ssl is built as a loadable module; using an external string constant in a loadable module is not portable.
af696a3 Add another module to the base address list.
aac7c93 Add util_mutex, although it's not used much by windows since we generally only support 'default', the proven event model for windows.
8b6364d Minor quibble; the declarespec for data comes after the data type.
e50bb82 We'll generally resync later-if-ever, but make note.
8f63aa6 main core: Emit errors during the initial apr_app_initialize() or apr_pool_create() (when apr-based error reporting is not ready).
2c1ba34 Revert r568762; will reapply in two segments
ca1c141 Eliminate an XXX; apr-based file logging isn't available to report failures of apr_app_initialize() nor the very first apr_create_pool.
8d587d2 buildfluff
f6d8c33 Document 'see other' style deprecation. Thanks to Joshua and Ruediger for pointing out the easy out
5884916 Note changes.
1e2db7d Clean up leaking pipes, and resolve pipe issues later when opening a stdout handle of a service.  (Services have no std handles by default).
c43e6c5 Refactor r452431, because this should not be fatal to starting the server if it's horribly broken.  The alternative of returing 'rc' in this case would be to open /dev/null as the error stream for this generation of the server; and even more useless result.
8ee539f update transformation
169e22c add merge option to avoid duplicate values within the same header
a8a35fe This message was confusing during debugging, make it unique.
3d51f85 Fix some typos, whitespace, and formatting.  Make sure all options are listed in appropriate locations.  Deprecate "add" in favour of "set" throughout.
16c4e9d DBDPersist takes On or Off reported by Phil Endecott
70b33b7 Only cleanup new_bb, if it isn't NULL, fixing a crash in the event MPM when write compeltion is active and a client disconnects.
ab43f62 Remove the Perl txt-to-dbm translation script, and replace it with a reference to the httxt2dbm utility.
f03a8b3 Rework locking on timeout_mutex.  We now drop (and reaquire) the lock inside the while loops.  This is the least line of code changes to stop a dead lock between the queue in push2worker (a blocking function) and the timeout_mutex.  These two timeout list iterations should be rewritten with better locking rules, but for now this should fix the bug, without rewriting the entire function. PR: 41712
1ed6868 Use APR_STATUS_IS_NOTFOUND() rather than comparing against NOTFOUND directly.
8ba3be0 Fix svn:keywords and svn:eol-style
d02cfe5 Add missing id attribute to second section of new password formats page, fix missing newline and buildfluff
920ec27 A better solution than /wd4996 to disable "depreciated posix" garbage. This solution doesn't emit warnings under VC 6.
cb1ca06 clarify impact of http://svn.apache.org/viewvc?view=rev&rev=567091 in CHANGES entry based on email discussion
b635225 Description of password formats copied from Tom Donovan's work on the wiki
52a8f83 Remove reference to /manual/ appearing on the default page, which it doesn't since 2.2. (preunpostbackport from 2.2)
7f27b2b buildfluff
af48e42 s/Domain/Path/ per Lucien GENTIS on docs@
5e5f04f set eol-style properly
05d4ddd fix transformation
37af7a8 Sync anchor href alt titles
8b7a4b0 Pedantic corrections
39167a4 Sync, mostly side effects of addition of korean language pages.
aed35a7 Fix </p> tag, disk space requirements from 2.2.4 build.
711b5b8 Refresh the win_compiling instructions for 2.2 generation, where we've changed several steps.
ad8cfa7 AFAICT, LDAP_CACHE_LOCK was a no-op when virtualhosts were used
7c3c68b Translation submitted by Vincent Deffontaines.
6c5b8e4 update transformation
b75ec96 Translation submitted by Vincent Deffontaines.
a27d21f Translation submitted by Vincent Deffontaines.
025a0ad Translation submitted by Vincent Deffontaines.
ccbac15 Improve the translation. Submitted by submitted by Vincent Deffontaines.
00801b6 Translation submitted by Vincent Deffontaines.
6bf184d Improve the wording. submitted by Vincent Deffontaines.
57104f6 mod_negotiation: preserve Query String in resolving a type map PR 33112.  Report with patch by Jørgen Thomsen. Attention called to it by Per Jessen.
0c83d1d Complete the various flags. I'd like to see more examples here, and perhaps some of the examples that are given in the main doc can be expanded on somewhat, here, in a rather less confusing manner.
4aa4b51 update transformation
cefab46 Correct two syntactical errors in examples given for the flags - CO and H, specifically. Also adds an example for the [NE] flag.
f5405d9 export BASEDIR only if its not already set from outside.
4422fb1 export the BASEDIR var so that APR can use it.
52fca99 No longer try to sync CHANGES with older versions. Instead provide SVN pointer.
bbdc1cc A few quick updates on what has happened in the last 2 years or so.
88c8606 whitespace change
28c7db9 Update transforms
e952b2d Document ProxyStatus
4ef675c add httxt2dbm.exe
58c1dfa added check for minimum APR version.
3ba32e3 sync 2.2.5 changes... bah. See post on dev@httpd regarding this waste of time :)
d6331e4 Correcting defects in r563317: fix to PR 42993
7dc9f1e fixed version string for dev builds.
2e26225 changed distribution basedir to separate from Apache2.
63326f1 commit Eric's patch for bugzilla 42549 - build httxt2dbm.exe on windows
1b8b5c9 PR 42572: crash in Windows MPM Davi Arnauts simple patch confirmed as working. (typo in my last commit)
c13877c PR 42572: crash in Windows MPM Davi Arnauts simple patch confirmed as working.
b9b38ae Update xforms
ba921bd Minimal ProxySet directive documentation :)
efc5041 Add comments that make it clear that we are using the 32bit add/inc atomics in an "unsure" method (although I would assume if they were NOT working, then the various testing and usage of event for trunk and 2.2.x would have shown this by now).
0b58ad7 require apr build which is needed for prebuild target.
158d36e Check all sources of Content-Encoding in inflate_out filter PR 42993 Reasoning: http://marc.info/?l=apache-httpd-dev&m=118643107831358&w=2
94d6c33 detabify
fe27b42 minor cosmetic changes.
6a921ca * Also unset Content-MD5 in the deflate_out_filter
5984977 * We already unset Content-Length in the inflate_out_filter. So move the   comment and unsetting of Content-MD5 in the right place.
ce2eb79 added two more files to the dist target.
5ec0e3f Don't try to compress/decompress where there's a Content-Range. According to RFC2616, the range would have to apply *after* applying content-encoding, so anything that's been set before running the deflate filter is going to be broken.
719f829 These atomics expect apr_uint32_t *... The expectation, of course, is that the add/inc still works "as expected" even though we are using signed values.
e7189d6 Aha! This explains some of the weird things I was seeing. Pull down and fold in patch from r109510 for event.c
4b55bb3 mod_deflate - discussion on dev@ Postpone unsetting of headers until after first get_brigade from upstream
20a1a1a * Avoid that relative changes to Options change the settings for FileETag.   This does NOT address the remaining issues with relative settings and   FileETag mentioned in PR 42027, but at least it isolates the problem   to them. Currently these issues can be worked around with absolute   settings.
b24a96a Trying to fill in some of the flags here, complete with detailed explanations and examples.
d7e5be0   *) mod_proxy: Improve network performance by setting APR_TCP_NODELAY      (disable Nagle algorithm) on sockets if implemented.      PR 42871 [Christian BOITEL <christian_boitel yahoo.fr>, Jim Jagielski]
e289c64 Generalise the content encoding detection and protocol: so it aslo works in inflate out filter, as suggested by rpluem.
5ad2d63 PR 42847.
dbe9820 Sync with 2.2.5-dev
7a11b6d Format changes
05fe251 Non-functional change. Simple cleanup. PR: 42805
b81372d Update doccos w/ latest xforms
5dd8919 remove BOM character.  If using vim, add "set nobomb" to ~/.vimrc
750886c Note mime.types updates
ca8e9d2 A couple of cleanups to the nested group code based on review comments.
8f8f96f Updated ad per PR 38698.
c37666e Patched, as per PR 41793. Issue raised by Joel Nelson.
5e206de Improvement suggested by rpluem to proxy_date fix
38587e0 Change the flag list to a <dl> instead of <ul>. Seems much more readable to me.
bb6b032 Note the L doesn't necessarily mean no more rewriting.
75846d9 R flag to mod_rewrite can set any status code
03ad1c6 Fix DNS load balancing example.
fc51222 Some updates to the RewriteRule docs, mostly focusing on clearly describing what can be in the substitution string. Included is a description of how mod_rewrite decides whether to treat the substitution as a file-system or URL-path.
b21e576 A couple small fixes suggested by Vincent.
988dc93 create the brigate outside ap_proxygetline and reuse it. correct the overflow handling. (returning APR_ENOSPC was changing the behaviour).
139f41a Fix buffer overflow in date handling PR 41144 (Davi Arnaut)
cc5185d Update the generated man page for -D change.
1d7c1e1 Document some -D magic.
2ac1574 Docuemnt the x- headers added by mod_proxy_http.
dbc4c79 Remove the date from the multi-language error pages because it is unlocalizable and generally useless.
8e66ae0 Document that PT implies L.
e1c5534 Remove misleading compat info.
719b5e2 Explicitly mention how to do rewriting in a vhost.
f0632f5 Move dir2 over to folder2 also for consistency. (These are never used anywhere.)
49712af conf/extra/httpd-autoindex.conf references folder.gif, not dir.gif, so change the names here.
63cd255 this appears to be a "mv" rather than a "swap", so we should be able to simplify & shave off a couple of cycles.
3f2c15b Be liberal in what we accept.  Where it matters.
22b18f9 Be liberal and correct in what we accept
83b71da Update r560689 following rpluem's analysis thereof.
4fafe70 Fix protocol handling in mod_deflate input filter PR 23287
2266545 PR: 40299	Registered Javascript/ECMAScript MIME types (RFC4329) PR: 40379	Apple installer registered type
cc4a706  mod_ldap, mod_authnzldap: Add support for nested groups (i.e. the ability      to authorize an authenticated user via a "require ldap-group X" directive      where the user is not in group X, but is in a subgroup contained in X.      PR 42891 [Paul J. Reder]
7081c42 Rationalisation suggested by rpluem
e3a7e23 update transformation
37c9665 remove linebreak which causes a bogus anchor
5530d42 PR 41334.  Replaced apache, with httpd as the binary name.
cd236e6 Note mod_filter fixes
394f075 Fix integer comparisons in mod_filter PR: 41835
9655a75 mod_filter: fix merging of ! and = PR: 42186 - patch by Issac Goldstand
6fdc91f Build artifacts
6cf81e2 Link to filters page to address PR35102
8f1ae7b Correctly reference the FilesMatch directive.
dfb116c An example of using the [T] flag.
8517b85 Fix rewriterule directive, as per comment #9 in http://issues.apache.org/bugzilla/show_bug.cgi?id=40004
d455aa6 [PR36917] Document pre-2.2.4 behaviour of mod_dumpio
82d7275 rebuild everything
ef02c44 fix eol-style
46d7e81 Address PR42898 by qualifying the value of Pattern for RewriteRule, and later explaining how to snarf the rest of the request url. (and the usual build detritus).
ef5c47b Demote use of AddType for cgi and remove redundant paragraph regarding DOCUMENT_ROOT
236ab6f Typo (wilcard) in LocationMatch. Sync build output (outdated markers) from the previous few commits. Couple of minor language adjustments. Commit build of recent ap_regcomp/ap_regexec fix in new_features_2_2
5a2617b Undocument 1.3 quoting behaviour for ErrorDocument.
ab879a9 Explain that ? and * don't match / in Location regexen, submitted by Eric Covener Sept 23, '06
3fed69d Fix title per docs@ thread "Typo in /caching.html" 12 June '06
7409a92 Reword description of matching NVH with VH, per docs@, subject "NameVirtualHost and <VirtualHost>" June 12, 2006.
c8835e4 Language fix submitted by Lucien Gentis to docs@
7244bbb Typo fix. s/proxys/proxies/
34e2861 close directory blocks
1951542 * We need to supply a (char *) to ap_str_tolower not a char.
3a57782 the cost of synchronized SMP proof updates far outweighs the value of having 100% accurate MaxRequestsPerChild. * it doesn't even count requests, it counts connections. * all it is is a number someone pulls out of a hat in an attempt to deal with   resource leaks. i.e., no strong need for accuracy.
286110c Fix clash between r557837 and r427780
e5061ab Multiple trivial fixes from Christophe JAILLET PR 38699, 39518, 42005, 42006, 42007, 42008, 42009 The patches are all his, and are sufficiently trivial to review at a glance.
7853970 Copy the enum into an integer before sending off to the LDAP SDK, to avoid passing the address of a short (seen on z/OS)
f65de07 revert revision 555470
08355e9 Simplify OS detection. We are only interested in NT and WIN2K+ (so we can use services.msc)
11314ae Typo fix (noticed by gryzor on IRC)
7306af0 Return 503 only if the route matches some of the balancer members and nofailover=On is specified.
d9438a3 ApacheMonitor valid OS is any WIN32_NT version.
f7cad79 Updated as per PR 40430. Later confirmed by Massimo Roscio by email to docs@h.a.o
f3b7247 Missed this on 556153, committing now
9f51f5e Added examples of multiple LDAP servers, and a warning caveat.
d051662 Case sensitivity continuity, taken from PR 38035
4009d1f don't need the definitions for error buckets any more
098c9b8 rev 556028 / 554011 to mod_deflate are externally visible, so mention it in CHANGES
587550f * generalize from error buckets to metadata buckets * also applicable to the deflate input filter * pass along metadata buckets rather than giving up mid-stream
4a3fae2 Remove dead macros for certificate types that are already replaced by APR-prefixed versions in apr-util (apr_ldap_option.h).
ab845c1 This data is passed in an unsafe way to the LDAP SDK if the compiler chooses to use shorts for the enum values. http://www.redbooks.ibm.com/redbooks/SG245992/nn4/SG245992_88.html
f8b84a1 Remove unneeded -I in apr_memcache test, since _INCLUDES already includes them on the paths
bcfcc85 Fix VPATH builds of httpd with the apr_memcache backend for ssl sessions, when APR and APR-Util are also in a VPATH.  This is caused by APR_INCLUDEDIR actually having multiple paths in a VPATH builds, so we need to use _INCLUDES instead.
e7a75e4 Fill notes "session-sticky" and subprocess_env "BALANCER_SESSION_STICKY" correctly.
6be4137 Added html.en -> for Aaron Crane's patch
1a9da5a Typo -> Patch from Aaron Crane -> July 9th 2007.
d0fff5d with LimitRequestBody xxx and the deflate output filter configured, mod_deflate eats the 413 error bucket, a 500 error is logged, and a blank screen appears at the browser.
b6a0e58 reverted r553031 since it breaks Linux/Unix platform builds.
be9ce1e changed error message to use APU_DBD_DRIVER_FMT for correct driver name; removed platform ifdefs.
16c4fa3 ignore OpenSSL files copy error if files are not present.
10fd249 Use correct Doxygen keywords for functions and variables.  TODO: figure out whether those keywords are actually necessary.  HTML-ify some documentation comments for benefit of Doxygen.
368e758 Rename relatively useless struct element for something more defining. Also, if we were unable to ap_queue_push(), then push2worker should report failure.
0c33dbc Arrange the ping/pong explainations. Submitted by Vincent Bray <noodlet gmail.com>
e0f93be * server/mpm/prefork/prefork.c (child_main): Stop processing new connections if shutdown_pending is set, i.e. when SIGTERM is received in single-proecss mode.
1037cd9 PR 42114 : Patch originally submitted by Takashi Sato
a0c15d9 Fix the warning: mod_proxy.c:284: warning: passing argument 1 of 'ap_strchr' discards qualifiers from pointer target type Thanks Joe for catch it.
269a403 getpgid() returns a pid_t
0a0d324 Add alternative fixes for CVE-2007-3304:
ada9c28 Revert r547987 ("svn merge -c -547987 .")
8e9aeb9 * modules/metadata/mod_mime_magic.c: Constify some constant data. (magic_rsl_puts, magic_rsl_add): Update accordingly.
f4fee12 * server/mpm/prefork/prefork.c (reap_children), * server/mpm_common.c (ap_wait_or_timeout): Remove dead code; NEED_WAITPID has never been defined by the 2.x build system.
e6dd74c enabled ports settable for NetWare install.
223301c introduced independent var since we can build mod_ssl with both BSD and WINSOCK.
53e83e1 added openssl files to the installation directory.
bcd116c added blank line at the end
9d6d7f8 enabled setting awk tool from NWGNUenvironment.inc
ba43bad added mod_ssl to httpd.conf for BSD socket build; some more fixes to httpd-ssl.conf; sync'd with r515403.
1210979 Block ap_pid_table create with same define as used in mpm_common.c
3fe0224 Don't display "PHPSESSIONID | PHPSESSIONID" but only "PHPSESSIONID".
9e567f9 Remove the balancer modification logic of balancer-manager because it can't work. And add the sticky_path to the sticky display.
0027ecf Add the missing minor bump of r550519.
a44986c Complete cleanup of global variable use by mod_example.  This should take away any existing reservation about thread-safety of this code.  Add warning that this code is now too top heavy and implements too many obscure callbacks to serve a s point of departure for one's own development effort.
4dee811 Add sticky_path to solve PR41897.
55bb4fb Fix the timeout logic. The order is now: 1 - worker->timeout 2 - proxy_conf->timeout 3 - server->timeout. ap_get_module_config() is not perfect by that is easy to port back to 2.2.x.
8a9f3de Missing <br /> to wrap text correctly
cd6a692 Improve traces in ap_proxy_http_process_response(). That will help to investigate PR 37770. (errors from backend :-)).
57f6aef This issue now has a CVE name
d8a411c * Remove unused variables from set_define() function to fix a compiler warning.
9d6588b * Update transformation
a4ca339 Fix CVE-2006-5752:
5dbe7f5 * docs/manual/developer/output-filters.xml: Fix grammar.
aabb0ff * .gdbinit: Add a few useful macros, and set defaults for signal handling appropriate for httpd debugging.
1637a52 Tweak text for PR 39245 fix; handling of 1xx interim responses is not affected by this change.
8d2269e PR 31978, submitted by Ryan Morgan, resubmitted by Tony Stevenson.
86f602b PID table impl: parent process keeps a local table store of Apache child process PIDs and uses that to check validity of what's in the scoreboard.
0a0f7b1 Rather than handling lingering closes inline, fall down to a following if block, which handles them correctly.
670a501 Improve mc_session_id2sz as suggested by Rüdiger.
62e270b Make default values for memcache config defines, rather than inline constants.
af72fde Add the 'Define' command to the core.  This does exactly the same thing as adding a -D FOO to your command line.
0875b63 Adding the clogging input filters patch was a minor MMN bump
dc08a10 Fixup style nitpicks:  - Empty lines should not have spaces  - Declare static functions in http_core.c at the top.
83a3e2a Add a clogging_input_filters variable to the conn_rec, enabling the Event MPM to know when its running with an input filter that buffers its own data, like mod_ssl.
06cf030 Fix a bug in the use of i2d_SSL_SESSION, since it increments the pointer of the buffer passed, we need to use ucaData rather than ucp to put it into memcache.
d92f319 I doubt adding a newline to the end of the file is going to hurt anyone.
4751c3a Arrange the proxy timeout behaviour.
78d12de Various out-of-date translation version diffs, and a .meta.
243c47a Update to include RFC 4346, TLS protocol version 1.1.
eaa810d Patch submitted by Tony Stevenson, modifications by myself.
4ef339e Fix a typo, as per PR 40447.
ff8ea3c For the DBM SSL Session Cache, propogate down pools to use for allocations.  In most cases, we can use the conn_rec::pool, but for ssl_callback_DelSessionCacheEntry, we still use the long lived configuration pool, but this change at least makes it easier to fix in the future.
6995a0d Propogate the conn_rec::pool down to ssl_scache_retrieve so that the memcache layer doesn't 'leak' into a long lived pool for temp allocations.
c2c52af Fix error mesage for when a user trys to use memcache, but support is not available.
d23f4e7 Increment the enum correctly.
5880311 Use the absolute timeout, as provided by mod_ssl, rather than trying to calculate a relative timeout. (which did it wrong anyways).
1b7a5c2 Add support for distributed caching of SSL Sessions inside memcached, using apr_memcache, which is present in APR-Util 1.3/trunk.
94743e8 * Preset the form fields for route and redirect with the values of the active   configuration in the scoreboard and not with the ones loaded from the   configuration files.
9a29cd5 SECURITY: CVE-2007-1862 (cve.mitre.org) mod_mem_cache: Copy headers into longer lived storage; header names and values could previously point to cleaned up storage
5ebab64 * Prevent running through the error stack by returning OK and setting r->status   accordingly if ret is HTTP_NOT_MODIFIED as this breaks mod_cache validating a   stale entity.
bd03736 * Also add a possible ETag header to r->headers_out. We need to have it there   for our later call to ap_meets_conditions a few lines above. Having it put   in the merge table will fail as merge and r->err_headers_out get merged   AFTER our call to ap_meets_conditions. Besides of this having multiple   ETag headers (or a merged version of them) does not seem to make sense.
d09a836 PR#39710 - badly broken errordocuments for CGI
972efb0 Adds an example using multiple file extensions, to answer a frequently-asked (IRC) question that came up yet again today.
fb5c8b9 Explain that POST data should be sent as the correct MIME type. Submitted by Vincent Bray noodlet at gmail dot com, edited and reviewed by sctemme
af98980 apr_dbd_check_conn() just returns APR_SUCCESS or APR_EGENERAL, so we don't actually have a driver-specific value to pass to apr_dbd_error(), but that's OK because most/all drivers just ignore this value anyway
3019f9a mod_cache: Do not set Date or Expires when they are missing from the original response or are invalid.
cd20884 mod_cache: Correctly handle HEAD requests on expired cache content.  PR 41230.
e63f9fb Document new directive
ceb2de5 Backported
de511d0 Sync with 2.2.5 CHANGES
3469f8e * Sync with 2.2.x CHANGES file
1b7508d mod_cache: Let Cache-Control max-age set the expiration of the cached representation if Expires is not set.
c795f75 mod_disk_cache: If the Vary'd content is stale, we can handle it via our freshness tests which will attempt to revalidate the content.
9b5dff0 mod_disk_cache: When renegotiating an already cached Vary'd response, do not let us later throw away the renegotiated content due to a name mismatch.
c1150a1 mod_disk_cache: When renegotiating an already cached Vary'd response, create the refreshed .vary structure in the right directory.  Otherwise, we'll create a new .vary layout underneath the already existing one - oops!
d9fc60e * Sync with 2.2.x CHANGES file
35713c1 RFC 2616 13.2.1 calls out max-age as being a valid 'explicit expiration time', so per Sec. 13.9 permit queries with just max-age instead of only Expires.
f2551e7 Doccos update... sync up to current time.
09c3cbe Fold in ProxyPassMatch directive with docs. Support full regex substitution but also allow for "simple" cases (ala JkMount) to work as well.
5fdd230 Add regex pattern matching to ProxyPass, allowing, for example:
fdd27d8 Add detection for post XP operating systems. Think this can be safely backported to 2.2 and 2.0 branches
0c5d52c * Sync with 2.2.x CHANGES file
63351a5 - In AP_MODE_SPECULATIVE ap_core_input_filter returns APR_SUCCESS and an empty   brigade in the case that a non blocking read from the socket returned   APR_EAGAIN. So getting an empty brigade also shows that no data is present   in the input filter.   While this reduces the number of false positives for "real data" in the input   filter the behaviour is not as good as before 533820 because if there are   only CRLF's in the input filter we do not flush, but we should. To fix this   it seems that a simulation of AP_MODE_EATCRLF is needed inside of   check_pipeline. - Destroy brigade bb at the end of the function.
6ad514c * Prevent a segmentation fault if one of the Cache-Control headers   s-maxage, max-age, min-fresh, max-stale has no value assigned.   In this case ignore s-maxage, max-age, min-fresh. For max-stale   it is valid to set no value. In this case set max-stale to 1 year   to signal that the client is accepting a stale response of any age.
d9c3aa0 the problem with Event and mod_ssl was fixed with rev. 533820.  I'm not aware of problems with other input filters that aren't addressed in that fix.
1c8f89e Abstract out (kinda) MSG_PEEK. This way when we actually update APR and apr_socket_recvfrom() to know about APR_MSG_OOB, APR_MSG_PEEK, etc... this code won't need to be adjusted. Also, make nicer for 2.2 backport.
853d40b As discussed on docs@httpd, remove the FAQ and replace it with the contents of the old support.xml and a pointer to the wiki.
56acf58 * Add extern "C" linkage to several headers to make it easier to use   them in C++ code.
542aaff English Revision: 478131
81f7466 Update the status of the access control directives
2874d54 re-introduce ap_satisfies API back into core and modify how the access_checker, check_user_id and auth_checker hooks are called so that they respect the precedence that is set through the satisfy ALL/ANY directive. This also restores the directives order, allow, deny, satisfyas supported directives rather than being deprecated.  These directives still remain in mod_access_compat however.
9c13127 Sync with recently backported patches
9d24ba2 * Rework the error handling logic to make it more readable.
2c91e92 check_pipeline:  use AP_MODE_SPECULATIVE to check for data in the input filters to accomodate mod_ssl's input filter.  AP_MODE_EATCRLF is essentially a no-op in that filter.
39e8459 English Revision: 522942
1512a31 Typo: slashed -> slashes
e0b2f73 Add two new mime types, per the IANA registrations:
b0470cc `build all`
42eda3e xml validation and drop the <pre>
ff13b5a `build extraclean all` `build convmap`
1ca1113 Property fixup
ff601f0 newlines
541385d Add forgotten '||true' to prevent 'make install-man' from returning an error if rsync is not present on the platform
0082457 log the uri for some access-denied paths when r->filename is unset
d3e543e commit generated html file from changes in r527969
8b9efbf HTTP proxy ProxyErrorOverride: Leave 1xx and 3xx responses alone.  Only processing of error responses (4xx, 5xx) will be altered.
af143e3 Encourage people to look at ./configure --help Several people this week have seemed to think that this document should list all the options. Perhaps that's not entirely unreasonable, but it isn't going to happen any time soon.
a59a74f sync with 2.2.x branch
f0d8753 htdbm: Enable crypt support on platforms with crypt() but not <crypt.h>, such as z/OS.
dbeb7d8 Correct behavior of HTTP request headers sent by ab in presence of -H command- line overrides.  Previously, ab would concatenate a supplied -H User-Agent: header to the existing one, and send duplicate headers if either -H Host: or -H Accept: were specified on the command line.
cf23992 moved socket type string to build/NWGNUenvironment.inc.
613bff9 moved a couple of options to the generated def file since -copy option seems broken; this makes the def file also compatible to other NLM linkers.
76e68a9 The apr_port_t type is unsigned, but ab was using a signed format code in its reports. PR 42070. Submitted by Takashi Sato serai  lans-tv.com, reviewed by sctemme.
ad687d9 another fix to the linker copyright string.
4db3a3a Move the thread locking upcall initialization before the hardware library init, so the hardware library can pick up the locking callbacks. Fixes PR 20951. Tested on Linux with trunk and an nCipher nShield card, and on Solaris 10/Sparc on 2.0.55 with an nCipher NetHSM.
8e3ede5 Make the hardcoded checks for platforms-without-crypt consistent. This apparently fixes some oddities on TPF.
2864510 Docs transform.
b1d7876 Fix backward Order definitions.
8aaea15 Detab
8da719e PR#41829 - Torsten Förtsch Fix uninitialised var in server/request.c
5448a22 * server/core_filters.c (ap_core_output_filter): Fail quickly with APR_ECONNABORTED if the c->aborted flag is already set.
b3d9f86 added access_compat_module to created httpd.conf.
f7be45b changed to use xcopy directly instead of creating a copy batch.
15f2676 few minor cleanups.
459c6ec removed obsolete stuff which is done by APR makefiles.
47fff8d removed obsolete -prefix; minor cosmetic changes.
5679e48 added proper error message for NetWare.
d6a691c added mod_sedfilter; minor cosmetic changes.
6e83ac1 removed obsolete -prefix; minor cosmetic changes.
034c4c5 removed obsolete -prefix; minor cosmetic changes.
ea188b0 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_version): constify where possible.
704287d Match the comment to the rules - rules mention dir1 and dir2, comment refers to custom/ and pub/
f64e0cc Hardly seems worth noting, but since it's an FAQ in the first place...
c94f40a Too many users are baffled by this message.  Some days even the devs are ;-)
95f79e8 *) adds compile-time/run time SSL-C version support *) simplify a ton of overly-verbose legacy code *) split the compiled-against v.s. runtime library *) precache the results of the version string touchup
460714e Even though we don't let our bb grow too large, still honor flush buckets anyway... Note: maybe now we should use something a little larger that AP_MIN_BYTES_TO_WRITE??
2fd85d9 Use macros for common code paths... this cleans it up a bit and prevents people from worrying about whether these 2 parts are so different or not.
0f02596 And note its existance on the dev doc page
513d541 Update the doccos, mainly to start folding in the o-f developer guideline.
3f7eb97 Update build system to know about sedfilter
053638a Some minor tweaks... return quickly if given an empty bb, ensure EOS is the last bucket we handle and if our chunked passing fails, then we need to report that immediately.
3bf99c1 Add comment to avoid confusion and questions :)
29d197c Note what the actually "valid" usage for apr_brigade_destroy is, but still urge people to avoid it.
24d69d6 Updates based on feedback from Ruediger and Jeff:
65acc78 - add initial version of output filters guide (as sent to dev@)
d3858a5 Make sure that we are not resending if we have received something from Tomcat.
7481ebf Initial import: mod_sedfilter.c (was mod_sed_filter.c) as per discussion on dev@httpd.
f01effc Remove the hardcoded size limit parameter for ldap_search_ext_s and replace it with an APR_ defined value that is set according to the LDAP SDK being used.
aa24da9 * modules/http/http_etag.c (etag_uint64_to_hex): Fix maximum shift size, thanks to Ruediger.
84d5acf Generate etags consistently across 32-bit and 64-bit platforms:
2af272c * server/mpm_common.c (dummy_connection): Use "OPTIONS *" for request on dummy connection.
0526618 Add the case_flt experimental modules to the NetWare build
91cdb74 ab: Add -r option to continue after socket receive errors.
6c1e68e * support/logresolve.c (main): Simplify to avoid conditionals in handling of lines without spaces: ensure a newline is printed for the cache-hit path and fix a crash in apr_file_printf for the cache-miss path.
94b3488 There's a link to stuff about Y2K, but the actual content about Y2K was removed quite a while back.
2c89b6a Quote any file system path that may have spaces when expanded
69d0a27 Tidying up - mostly outdated translations
cf3e2d3 Updating to reflect current defaults
bf15cdb HTML files changed by adding docs for BalancerMember directive
33539c9 Tidying up
01b4a08 Documenting the sooper-sekrit BalancerMember directive
adbe937 Fix near-identical potential NULL pointer dereferences, as found by Jorton and corrected in r514915
9c70c93 Prevent format specifier busting.
ee6e213 Correct a spurious access to whatever memory is at location "1" in the cirumstance where a log line is of the form "nn.nn.nn.nn ".
7fb5891 correct some indentation, no functional changes
d6ab98d * support/logresolve.c (main): Fix potential NULL pointer dereference, found by Coverity analysis tool.
2ef1ad8 fix a minor typo
193a30e * modules/proxy/ajp_msg.c (ajp_msg_dump, ajp_msg_check_header, asj_msg_copy): Fix format string warnings on x86_64.
bd1085e Note PR 11540 closed here and in httpd-2.2
4d55f1f mod_ldap: Fix the search limit parameter to ldap_search_ext_s() for SDKs that define LDAP_NO_LIMIT to something other than -1.
552b98b Added PR 41302 reference to mod_dbd patch r503931.
d14f70a Return METHOD_NOT_ALLOWED, not FORBIDDEN, to a TRACE request when TraceEnable is Off.  This agrees with our documentation, and with our Allow: header in response to OPTIONS.
45c507d Patch for PR#11540 (submitted by Stuart Children)
aea01f8 Use the specified IPv4 prefix for documentation and examples (192.0.2.0/24) from RFC3330 rather than non-reserved public internet addresses and some RFC1918 addresses.
477744b * Save the key we generate during our first run of cache_generate_key_default   on each request in the request_config. During consecutive runs of   cache_generate_key_default during processing the request we restore it   from there as we might not be able to generate the same key again as   the ingredients used to compose the key might have changed and we constantly   must use a key that could be generated during the quick handler phase.
d4f597c Simple patch to permit syntax such as...
3ea6617 fix spelling error in a comment
30621dd Docs update. Sync with transforms
c9d8882 Change common but incorrect usage of 'depreciated' for 'deprecated'
3b048c1 Further refinement for PR41056 / PR 19954 (mostly-fixed in r480135.) We assume that a successful read but an empty brigade is NOT cause for EAGAIN. Testing may or may not confirm this assumption, in which case that test may be required as well.
8a7fb45 * Add CacheIgnoreQueryString directive to cache requests with a query string   even if no expiration time is specified. Futhermore the query string will not   be used for key generation such that requests to the same URI path, but with   different query strings are mapped to the same cache entity. Turning this   setting to ON violates RFC 2616/13.9 and thus it is turned off by default.
11e2a1a Introduce configuration groups to allow inheritance by virtual hosts of database configurations from the main server.  The post_config hook function determines the minimal set of distinct configurations necessary so that database connection pools are shared between virtual hosts whenever possible.
2c7c4d5 * Add missing Changelog entry for PR41056 / PR 19954. This was fixed in r480135.
876e10d Update the hash table of active script pids even on paths where a script process wasn't created (storing 0 for the pid in that case). Otherwise, the remembered pid is that of the last successful script execution for this hash key.
e6f812d bomb the BOM
a9f530e This time from the top, with three part harmony AND feeling...
b4aaa58 apxs: Enhance -q flag to print all known variables and their values       when invoked without variable name(s).
ba4156c Implement a BASEDIR build environment variable to allow the NetWare build to relocate the install files
6e9dfd0 * server/listen.c (ap_apply_accept_filter): Bump TCP_DEFER_ACCEPT argument to 30 units-of-unspecified-nature.
625b018 sync with 2.2.x branch
6460ed2 * Nitpicking: Get the comment right.
97b575a Unix MPMs: Catch SIGFPE so that exception hooks and CoreDumpDirectory can work after that terminating signal.
d8c6206 * Fix a off-by-one error in parse_format_tag in the case that the last character   of the string to which *sa points is a %. In this case the while loop in   parse_format_string would call parse_format_tag with a pointer to a memory   region that starts one byte after the string to which s in parse_format_string   points to.
131bf07 Point out that if another authorization method is used with mod_authnz_ldap, AuthzLDAPAuthoritative must be set to off.
161d3c9 Set the SSLMutex to default on the NetWare platform and make sure that the file locations are being set properly.
3d26090 We now create memory sub-pools for each DB connection and close DB connections in a pool cleanup function.  This simplifies the ap_dbd_acquire() and ap_dbd_cacquire() functions, and also stops us from leaking ap_dbd_t structures when using reslists.
df0aa88 Re-add "proxy-sendextracrlf" first introduced in r157478 and silently removed in r219224.
8f0b685 Make buildmark.c compilation consistent, especially for VC8
f8387bd Solved.
1fc3b01 Embed the .manifest files of all httpd binaries as a post-build operation.  This ensures the exported (Studio 97 generated) .mak files create a usable Apache directly from the VC 8 (Studio 2005) command line environment.
042633c Add openssl.cnf since openssl will not run without one (explicitly specifying this .cnf is required, either with the cmd line arg or the envvar.)
f3ee5c3 * configure.in: Substitute MOD_SO_ENABLED variable.
1fed8a8 Oh my - how stale :)
cd2c7ce Fix bogus lineends.
0becd1e A slightly more effective message, keep hammering AcceptEx so there is no confusion.
3e2697e Someone clearly never read the style guide :-/  Reformatting only.
640eebb   Update CHANGES, add attributions for assistance
0e9ea0f * configure.in: Bump autoconf version requirement (matching APR).
1ec60b4 Fix several strict compiler warnings for both the threaded and non-threaded versions.
f0c8f20 Get rid of the global trace_add in favor of specific trace functions tailored to the server run phase and callback context. Add the final trace function (for no context) and start moving the EXAMPLE_LOG_EACH stuff to ap_log_perror instead of directly writing to stdout.
cdfe835   Correctly evaluate the HTTPS condition string.
0a56817   Where any response is sent, return OK from the handler.  Where there   is no response (but a status code) return the code.  This patch adds   a great number of debugging emits for failed ap_pass_brigade calls,   to help diagnose failure cases, and disambiguates OK from APR_SUCCESS.
2ae14a6 Create pmain pool and run modules' child_init hooks when entering ap_mpm_run(), then destroy pmain when exiting ap_mpm_run(). The expected call to ap_run_child_init() appears to have been removed in r89640.  However, that call should presumably still be made once per process, as in other single-process MPMs like the netware MPM.
0d7e6b8 Destroy pmain pool when exiting ap_mpm_run() so that cleanups registered in modules' child_init hooks are performed (e.g., mod_log_config and mod_dbd).
bf27d1a Handle error conditions in dbd_construct() properly.  Simplify ap_dbd_open() and use correct arguments to apr_dbd_error() when non-threaded.  Register correct cleanup data in non-threaded ap_dbd_acquire() and ap_dbd_cacquire().  Clean up configuration data and merge function.  Use ap_log_error() wherever possible.
89d7aee Rename functions and variables for consistency, and move some functions around for readability, prior to forthcoming functional changes.
832c80e Change the default depth and length of directories for mod_disk_cache to a depth of 2, and a length of 2. Suggested By: noirin
36ca0ac * If APR_FINFO_NAME is added to the list of wanted information, apr_stat   always returns APR_INCOMPLETE on Unix platforms in the case that the   call to the native stat / lstat did not fail. So we can safely assume   that the stat / lstat call has been successful in this case.
57440b3 Ongoing crusade to separate callback tracing into single-process single-thread part and thread-safe per-request or per-connection (forthcoming) routines.  Implement trace_startup() routine and call it from startup hook handlers instead of the old trace_add routine.  This completely separates the global variable manipulation from the request-specific stuff.  Otherwise, it's mostly existing code.
4794b34 Improve the error message, include the full path of the file we are actually trying to call stat on.
c9c0bbb PR#36609 - permit % as the last character of a Header value
919bee3 PR#35314: Enable path components in Redirect
73819c8 Follow Garrett's example and provide a crypto notice in the README, with specific details for removing the crypto and for nossl packages.
aba4710 Compile mod_authn_core on Win32.  (The authz-dev branch forgot to add this.)
88f10d8 * mappers/mod_rewrite.dsp: Add ../database to include path so mod_dbd.h can   be found.
c4cd688 Fix comment to allow modules using the new authz scheme to work on Win32.
f81c6a1 remove a bit of useless code from worker and event MPMs
e576e20 sync with 2.2.x branch
abfcaf0 sync translation.
ffc587f Sync with 2.2.4
4e9fae4 * Sync with 2.2.x CHANGES
4939e37 Add request-specific trace method that does not use global variables and can be called in a multi-threaded situation.
c4d7a79 PR#40950: add security note to docs (submitted Thijs Kinkhorst)
5861f12 PR#37680: fix socket block/nonblock on restart/graceful Patch submitted by Darius Davis (darius-abz free-range.com.au)
a0d9ef2 Sync with 2.2.4
12ba7f6 Sync with 2.2.4 changes
a974f00 add previously-omitted CHANGES entry for a fix merged into 2.2.x
4eb3958 PR#39420 Use case-insensitive matching for resp=Content-Type (other uses of this var are in apr_table_get, so case is irrelevant).
cd3ed0c APR_HAVE/AP_HAVE are ALWAYS defined, not always 1.
4f83ebe * Handle request bodies larger than 2 GB by converting the Content-Length   header string of the request correctly to apr_off_t.
8c6dad6 increase size of error string buffer passed to apr_strerror(); 120 is the size most frequently used in Apache; APR provides no hints
090e7a6 Stop mod_dbd emitting bogus error messages when it's loaded but not configured.
01fddca format change. no functional change.
e1e415f Sync with 2.2.4-dev. Add entry since it's a PR fix.
e4c8e34 Isolate the unlock return vals
bf5a6bc Fix compile warning:     mod_proxy_balancer.c:537: warning: unused variable 'rv'
3b5d5bf Failure to unlock is very nasty, so log it to help with troubleshooting.
ba2a767 We are doing nothing here... but keep the stubs in case we ever do.
792dfe2 Log when the lock fails.
83a044b No need for each ind lb method to increment the elected element. Do so from the main calling func.
08d2135 * Sync with 2.2.x and style fixes
bf575fe More 2.2.4-dev syncs
468d85c And sync with recent 2.2.4-dev backports
c190803 Sync with 2.2.4-dev
0f4f52d sync with 2.2.x branch
4a70a0e whitespace fix
e95d733 sync with 2.2.x branch
5f13472 sync with 2.2.x/CHANGES
e195d26 remove mod_headers edit feature from new_features_2_4.xml (back-ported to 2.2.x) and update transformation
53881b8 As per http://issues.apache.org/bugzilla/show_bug.cgi?id=40640, remove the compat remark that is no longer accurate.
3adcae3 * Do not replace a Date header set by a proxied backend server.
f9a951b * Add the missing include of http_request.h and thus fix a compiler warning.
bdb52ab * Remove an unused variable and thus fix a compiler warning.
1602c1f Revert a regression introduced in the recent overhauls of mod_isapi.
2112fbd Mirror r483555, for GUI environment.  Reason for the duplication is to make enabling of the debugger much more trivial.
00433ed Similar change to r483553 to help developers work in parallel on win32, install default command-line build to \Apache2x directory, and name service Apache2.x (which means this doesn't need to change over and over as trunk becomes 2.5, 2.7 etc.)
27f7eda * Ensure that at least scheme://hostname[:port] matches between worker and URL   when trying to find the worker that fits best to the given URL.
7410019 * Remove expired content from cache that cannot be revalidated.
2912112 Stash DBD connections in request_config of initial request only, or else sub-requests and internal redirections may cause entire DBD pool to be stashed in a single HTTP request.
c925d34 Protect against any sort of non-block read that would block. If ap_get_brigade() shows that, return EAGAIN.
39e04b2 Apply patch for PR 41056 (19954) to fix chunk filter. Now flushes work better.
6c73e4f 	Attempt to clarify Order's effect. 	Add table showing effects of the various Allow/Deny match combinations.
2baa405 ifdef out suexec for the platforms that don't support it
daeef90 	Typo. 	Submitter: victory
dc123a7 * Move the error log slug higher in the trace function, so it gets   executed even if the trace_add returns in the middle * Add a direct-to-stderr path in case we don't have a server_rec to log   for * Remove now redundant direct-to-sterr from x_monitor callback
105259e * Further clarify hook callback return convention * Place some trace calls into context * Every hook callback implementation now has the same comment format * Document hitherto undocumented hook callbacks * Always trace the handler, whether it gets to write its content or not * Clean up stale 1.3 comments in handler callback * Document quick_handler callback according to a conversation Googled up from   new-httpd in 2002 * Change callback names so all follow the same format: the hook name with a   prefix * Add a callback handler for the enigmatic ap_hook_monitor
dc0f1d3 * Make EXAMPLE_LOG_EACH compiler directive settable on command line * Clean up introductory comments for hook handler declarations, explain about   RUN_ALL, RUN_FIRST in one single place, remove leftover comments from 1.3 * Place trace entry for quick_handler in request context * Found every hook declaration in the source by running
371646d * Start re-organizing the function declarations to put related items together * Fix http_scheme and default_port implementations to return proper   equivalents of DECLINED, so they can exist without breaking stuff * Explain why some of the config access utility routines are ifdeffed out
bc522e7 * modules/ssl/ssl_engine_io.c (ssl_io_buffer_fill): Remove subpool; it cannot be destroyed before r->pool so serves no purpose.
a812d1a * support/rotatelogs.c (main): Produce useful error message for open() failures.
bcc098b * docs/manual/mod/mpm_common.xml: s/depreciated/deprecated/
4f95d0b update convmap
d5814d6 update transformation
7a16eaa * CVE-2006-3747 was the main reason to release 2.2.3. So place the changelog   entry where it belongs.
e6a844c * Use the query string stored in r->parsed_uri.query instead of r->args   as r->args could have been changed (e.g. via mod_rewrite) after the quick   handler hook. This causes resources to be stored under a key, where they   cannot be fetched again in the quick handler.
ba96e7f Housekeeping: keep track of size even in the edge-case where validation bytes trickle in over multiple buckets.
119a97f * Fix some comments. No functional change.
0db4e22 * Also log the presence of garbage data at the end of the stream if all   validation data is available in the first round.
87a33cc * Actually append new data to the validation buffer and do not overwrite old   data already there by setting the correct offset for the target buffer.
72b6d66 TimeOut can be set in a vhost context
653f3dd * Ensure that we do not perform our final operations twice if a second EOS   falls down the chain by accident. Otherwise we are likely to run in a   SEGFAULT. So remove ourselves from the chain.
5c3c891 * Ensure that we do not try to inflate validation data or garbage data. None   of this is zlib's business.
4a51c98 Document the hoops you need to jump through to get mod_authnz_ldap to support an Active Directory installation spanning multiple domains.
6252114 Remove the "virtual host" context for the AuthnProviderAlias directive in the documentation
3d180c4 Add alternate is_socket_connected by using APR functions.
e22c26b Remove alternate is_socket_connected detection.
c668541 Minor niggles that have been sitting around for a while
9adc401 forgot minor bump
73fb27c Better detection and clean up of ldap connection that have been terminated by the ldap server. PR#40878
d5f3193 Note 2 backported ports applied to 2.2.4-dev
39f3c66 Note 2 backports applied to 2.2.4-dev
d3d3814 Fix broken compile for platforms with sendfile() -- As Graham says: Looks like this code hasn't built in the SENDFILE case for a while.
196a6e7 * Assign rv in the if statement to return the correct error code and   more important an error code at all, as currently APR_SUCCESS is returned   in the error case.
4647c3d * Increase the minimum and default value for MCacheMinObjectSize from 0 to 1,   as a MCacheMinObjectSize of 0 does not make sense and leads to a   signal Floating point exception (8) (division by zero) in   memcache_gdsf_algorithm.
631a73f When Servlet container sends AJP body message with size 0, this means that Servlet container has asked for an  explicit flush. Create flush bucket in that case.
5224178 Add a usage example to mod_proxy_balancer.
87b529e <i> and <b> aren't valid in your docs stylesheet. Changing to something that will build.
b653466 Restore the pdconf configuration structure in the SENDFILE case.
66d027d mod_cache: Pass the output filter stack through the store_body() hook, giving each cache backend the ability to make a better decision as to how it will allocate the tasks of writing to the cache and writing to the network. Previously the write to the cache task needed to be complete before the same brigade was written to the network, and this caused timing and memory issues on large cached files. This fix replaces the previous fix for PR39380.
e6f7fe7 Add util_mutex.c and .h to the netware build
c6cf143 Add the modules/database directory to the includes search list.
78e8ee0 Revert the splitting of buckets before they are handed to the cache providers, a better way has been found to do this.
9362559 Move the assignment statements after the #if code to eliminate the C++ style inline variable declarations
cdff904 Optimise the alternate case. Fail fast and stop splitting buckets if store_body is no longer being called.
48a692a mod_cache: Fix an out of memory condition that occurs when the cache tries to save huge files (greater than RAM). Buckets bigger than a tuneable threshold are split into smaller buckets before being passed to mod_disk_cache, etc. PR 39380
913e2f7 Fix a typo.
acd4921 * server/log.c (ap_open_logs): When dup2'ing the error log to stderr, use the already-open stderr file object rather than opening a new one.
c20de5f Fix hasty cut-paste in the doccos
707d1da Once SSLMutex allowed for the setting of both the locking method and the lockfile location, I never liked how AcceptMutex was linked to LockFile. This seemed unnecessary. Much better to have AcceptMutex do both as well. Plus, now that we will likely see other modules require a "standard" way of setting mutexes, why not have Apache provide that as an API of sorts.
ae0b0e4 Add CPING/CPONG message size as defined as max inside Apache Tomcat using define.
9fb8b2f Put the next field at the end of the structure.
812fe32 128 is enough for CPING/CPONG messages.
2473655 Make sure the AJP message is between 8 and 64K. Use the provided message size when using get_brigade.
e3f4ffe Fix address-in-use startup failure caused by corruption of the list of listen sockets in some configurations with multiple generic Listen directives.
a61bc18 fix typo that breaks compilation
aab07de At support for ProxyIOBufferSize in AJP.
2d79512 mod_authn_dbd: Export any additional columns queried in the SQL select into the environment with the name AUTHENTICATE_<COLUMN>. This brings mod_authn_dbd behaviour in line with mod_authnz_ldap.
1edf741 mod_dbd: Key the storage of prepared statements on the hex string value of server_rec, rather than the server name, as the server name may change (eg when the server name is set) at any time, causing weird behaviour in modules dependent on mod_dbd.
9c4d300 added APR_THREAD_FUNC on listener_thread() in event and worker MPMs to match definition of apr_thread_start_t
272f25f rename routines from worker MPM to match normal MPM naming
f713a09 add example test_config routine re-order config routines to match invocation order
4fdaeae Add a missing include of apr_buckets.h. [Martin Kraemer]
19be276 Remove extra colon from /wd compiler directive. On conversion the VS2005 reports: ommand line error D8021 : invalid numeric argument '/wd:4996'	cl
887abb5 Revert 463929
9d69c78 Fix compile warning. The /wd:XXXX is invalid. It should be /wdXXXX, and since its for VS2005 only use the standard preprocessor directives instead of that. This should be backported to 2.2 as well.
510c4ce Added mod_proxy_fcgi win32 build.
5e07da2 This stuff has been backported.
f4d5af9 Backported.
7770a0d Backported.
4eec80a Backported.
4884114 mod_authnz_ldap: Add an AuthLDAPRemoteUserAttribute directive. If set, REMOTE_USER will be set to this attribute, rather than the username supplied by the user. Useful for example when you want users to log in using an email address, but need to supply a userid instead to the backend.
21038d2 So I'm sitting in Rich's talk and think to myself, it's kind of stupid that DumpIO always logs at Debug, esp when you consider that it's likely you'll be doing so in conjunction with SSL... One Big Log is understating it! :)
064ecf6 update transformation
768125a fixed missing "edit" argument option in mod_headers.xml described "edit" option to mod_headers in new features
b1ed759 describe new check_config hook
10c3c49 added pre_config, check_config, and test_config hooks moved open_logs hook
f53558c mod_disk_cache: Implement read-while-caching.
2d326ca mod_disk_cache: NULL fd pointers when closing them, fix missing close/flush, remove some unneccessary code duplication instead of calling the right helper in replace_brigade_with_cache().
ec119dc sendfile_nonblocking() takes the _brigade_ as an argument, gets the first bucket from the brigade, finds it not to be a FILE bucket and barfs. The fix is to pass a bucket rather than a brigade.
a0207d2 mod_disk_cache: Do away with the write-to-file-then-move-in-place mentality.
587fa06 Fix rewritemap/dbd bug pointed out by Davi Arnaut, and improve error reporting.
c7fba09 Fix bugs pointed out by rpluem in rewritemap/dbd
719b8f1 Retrieve optional functions in time!
0e9e397 Add SQL Query capability to RewriteMap
fbbc2b1 Add compat module by default.
5a9c33f * mod_proxy_balancer: Document BALANCER_ROUTE_CHANGED environment variable.
80e77ee Seems like a good idea to close the <Directory> tag in the example.
ee005c4 A few missing line breaks
9f913ff Make sure that original socket timeout gets restored even if the cping/cpong fails.
4932849 Revert 451953 and 451951. Log the real r->method that is unsupported by the AJP protocol.
da75eb0 * Sync with 2.2.x CHANGES file
d91484f When starting a new piped error logger for the main server, ensure that the new child's stderr is not a pipe to an old piped logger:
92067e5 spellcheck
4034b23 Support regexp-based manipulation of HTTP headers
29bb9d0 Add missing include for experimental is_connected.
2890c83 * Fix precedence problem.
9afe6d7 * Fix precedence problem.
9a66828 Bump MMN for r451575.
fe00141 Ups. Fix typo. We are logging int, not string.
0102152 If the r->method_number is unknown the r->method is unknown or corrupted as well. Log the method number that was not recognized.
93146d3 Cleanup alternate is_connected method. It works for sure on win32,linux and solaris. I do not have access to other platforms so can not verify it works on them.
1689a2c Move new struct member to the end of the struct, so we can keep the compatibility.
907c904 Add alternative is_socket_connected implementation. It works on win32 and linux for sure, so that's why I put it inside the #ifdef. Of course something like that needs APR abstraction.
6a68c11 Enable retry=0 for the worker. This allows to have an option to always retry the workers in error state instead using a specified time.
f80b020 Add force recovery for balancer. In case all balancer members were in error state 503 was returned until the recovery timeout expired. The patch forces recovery in case all balancer members are in error state regardless of recovery timeout directive. This fixes the time gap when 503 was returned and backend was already up and running.
d6c234a * server/mpm/prefork/prefork.c (prefork_check_config): Remove unused variable.
d20ce0c Follow up to r451006, use APR_STATUS_IS_TIMEUP instead of comparing against APR_TIMEUP directly.
49291c1 Follow up to r451287, use APR_STATUS_IS_TIMEUP instead of comparing against APR_TIMEUP directly.
70cf75f * Notice a timeout as an error message. This might be valuable for detecting   clients with broken network connections or possible DoS attacks.
81961d3 * Move the tasks of eor_bucket_destroy (status update, transaction logging) to   a cleanup function that is registered with the request pool.   eor_bucket_destroy only destroys the request pool if there is still a request   at this point of time which triggers the call of the cleanup function.
faacd78 * Notice that reading of the request entity body failed due to a timeout
6dae4bb Minor typo
bc84099 mod_cache: Eliminate a bogus error in the log when a filter returns AP_FILTER_ERROR.
4ac2f4b Allocate the temporary copy file buffer from a pool.
4116db0 mod_disk_cache: Make caching of large files possible on 32bit machines by determining whether the cached file should be copied on disk rather than loaded into RAM. PR39380
69604bb mod_mem_cache: Convert mod_mem_cache to use APR memory pool functions by creating a root pool for object persistence across requests. This also eliminates the need for custom serialization code.
eed5062 Memory leak fix: Unconditionally free the buffer.
d010f24 mod_cache: From RFC3986 (section 6.2.3.) if a URI contains an authority component and an empty path, the empty path is to be equivalent to "/". It explicitly cites the following four URIs as equivalents:   http://example.com   http://example.com/   http://example.com:/   http://example.com:80/
9f5dee0 Don't cache requests with a expires date in the past; otherwise mod_cache will always try to cache the URL. This bug might lead to numerous rename() errors on win32 if the URL was previously cached.
cbf599c mod_disk_cache: Make sure that only positive integers are accepted for the CacheMaxFileSize and CacheMinFileSize parameters in the config file. PR39380 [Niklas Edmundsson <nikke acc.umu.se>]
63da5da Change wording as suggested by jslive.
c3cda09 Add extra explanatory clause to VirtualHost docs
81fdeae Capitalization consistency Submitted by Vincent Bray
d14216b Small typo. Submitted by Vincent Bray
51102dd Generic fix for PR#31759 If a handler returns a value that is neither reserved nor a valid HTTP response code, log an error and substitute HTTP_INTERNAL_SERVER_ERROR. Allow a handler to override this explicitly by setting a note.
4691f3b * modules/cache/mod_cache.h: Fix comment that was obviously cut and   pasted from mod_proxy...
687acd2 * modules/cache/mod_cache.h   (CACHE_DECLARE, CACHE_DECLARE_NONSTD, CACHE_DECLARE_DATA): Remove    duplicate defines.
483ddc1 * Set the new environment variable BALANCER_ROUTE_CHANGED if a worker with a   route different from the one supplied by the client had been chosen or if   the client supplied no routing information for a balancer with sticky   sessions.
f188bb4 note a backport; don't forget that trunk had an additional change
7361c75 * PROXY_WORKER_IS_INITIALIZED checks if PROXY_WORKER_INITIALIZED is set in   worker->s->status, but we need to check here if it is set in worker->status.
8c2b72b PR 31759 (mutated) - reported by Jo Rhett Don't return apr_status_t error value from input filter chain.
ef038e0 * Print the correct error message for erroneous configured ProxyPass directives.
01a2b32 Allow htcacheclean, httxt2dbm, and fcgistarter to link apr/apr-util statically like the older support programs.
ab0c428 Update backports
743a621 Replace ap_get_server_version with ap_get_server_banner() and ap_get_server_description().
3397848 * Extract stickysession information correctly in the case that it is given   as parameter like in the following example:
6790cc3 Handle filter names which include capital letters.
0b2fa01   Sync these to VC 2005, a .manifest file is created that we need to   invoke the generators
0162304   Silence VC2005 faux-errors in pcre with the minimum tweak required.
7add40d update transformation
40712b8 fix validation error
3f66c02 Minor nit: why make the logic more complex than it needs to be ? :)
9b69763 These have been approved for backport and or in/will be in 2.2.4
ff563f2 * Note the changes that were done in revisions
4d2639f * Close connection to backend if reading of request body fails.
308ea46 Fix contributed by  Bjarne D Mathiesen <macintosh@mathiesen.info>
d8bd090 Stale Bugzilla link as noted by Christophe Jaillet
86319c4 Allow the typical non-DAV methods to be unrestricted in our DAV examples (in particular, POST).  Also change <Location> to <Directory> in the docs.  This particular example was not a security problem because <Location> was being used to *extend* access, rather than to *restrict* access, but it is better to encourage people to use <Directory> by default.
5313377 My last effort was a little too succinct and not quite precise enough.  Try being more explicit.
51a32c4 Add a note about case-sensitivity to the windows platform docs. Partially in response to the disputed vulnerability: http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2006-4110
1f2b32f Make it clear that url-path is always case-sensitive. Provide an example of using a regex to make it case-insensitive. Make it clear that ScriptAlias is only used when you want BOTH mapping and script-designation.
9db2cce update convmap
cab0f87 fix eol-style
99b0930 update transformation
611d2fc Updates docs w/ transforms. Use Andre's patch to lib/DocUtil.pm to work around some OS X issues which mangled paths
5c94bb0 Log a message if we try to prepare a statement not attached to a hostname. This fix supplements r432560 (don't crash).
07e5187 Don't use NULL s->server_hostname as hash lookup key. Reported by paritosh (at limewire.co.in) on dev@httpd (thread Re: apache 2.2 crashes at the start time in mod_dbd.c then preparing AuthDBDUserPWQuery) Fixed by paritosh and Yours Truly.
a187478 Update docs and transforms
40cde75 Fix context error
62cb62c Update docs for proxy:
e69f467 Introduce a check_config phase between pre_config and open_logs, to allow modules to review interdependent configuration directive values and adjust them while messages can still be logged to the console.
4304af36 Note bugfix
3b19271 PR#37770: Don't try to use dead backend connection in proxy (Patch from Olivier BOEL)
d160248 Fix tabs introduced in r429875
1e2d246 That proxy change was functional, even if it was just one character:-)
047253e PR#38448: don't URLencode tilde in path component On reflection, this patch makes sense (since the URL spec got updated), and it's trivial.
5378443 Fix style (indentation at least) to apache style rules before reviewing top of this. No functional change.
f4d7f73   Observed by hunter - fix the cut n paste errors in some .res compilation   steps of the win32 build.
d0566d6 	Document that httpd -L doesn't list shared modules.
e6d2a7d revert the definitive bit for the reject directive.
7159a46 revert the reject directive is definitive patch and normalize the logic lists.
3eeb5a1 Initialization change. Move to a different format to force resets as well as a common technique, in case _route is updated at some point.
585f146 Reset standby flags for each loop through the cluster sets
b3265c6 * modules/proxy/mod_proxy.c (proxysection): Fix another strchr() warning.
496195b Do not return on WAIT_ABANDONED signals. It means that we got the ownership, not that the object was signaled.
601c29a fix typo
18748ac * Followup patch on r427959:   Also substitute close_on_recycle with close in mod_proxy_fcgi. This makes   mod_proxy_fcgi compile again.
36db918 Fix return values from wait_for_many_objects. The return value is index to the signaled thread in the creted_threads array. We can not use WAIT_TIMEOUT as return value because its value is defined as 258, thus limiting the MaxThreads to that value that leads to the assertion errors.
a409ec8 Revert the patch. Although the problem still exists its root cause is inside the wait_for_many_objects.
da44990 Fix the assertion if the WaitForMutipleObjects returns WAIT_ABANDONED_NN instead presumed WAIT_OBJECT_NN. This will correctly close the thread handle without using invalid thread handle array index.
9bbf369 Cleanup: Remove close_on_recycle from proxy_conn_rec. It behaves the same as close.
02c70cf Make sure the error signature is logged as double hex byte.
78f6ef0 Allow optional name=value options within <Proxy section line. Additional arguments are allowed only for 'standard' url's, meaning that the wildchar urls will return error like before. This allow to specify the worker/balancer parameters on the definition line, without the need for extra ProxySet options.
20a4dc5 Enable ProxySet inside <Proxy> section to create balancer or worker if they were not already created. This allows to have ProxySet directive before BalancerMember directives inside Proxy section.
fecc476 fix a typo
6b831e7 Converted the reject directive to be definitive and enabled directory_merge to merge all of the authorization rules and logic.
dc9255a Good catch by Ruediger
61a5645 Add in a very simple balancer "set" concept, which allows for members to be assigned to a particular cluster set such that members in lower-numbered sets are checked/used before those in higher ones.
7aa10a3 Fix compile time warning. AJP protocol method is byte.
0658003 Cleanup: Remove checking for pre 2.0.46 MMN. It is obvious that the new mod_proxy will never be backported to the 2.0 branch.
2d63cb2 * Rework inflate out filter and give it a similar workflow as the deflate out   filter. This fixes the following bugs in the inflate out filter:
8526b8d * some optimizations taken from the inflate out filter
805eb59 * We can ignore Z_BUF_ERROR in flush_libz_buffer because:   When we call libz_func we can assume that
0649a45 * Use a define for the number of validation bytes (CRC and length) after the   compressed data
8ff2842 * Add parameter crc to flush_libz_buffer in order to call the libz's crc32   function on the output buffer if needed. This is actually needed by the   later rework of the inflate out filter.
fe385cf   Wrong project name
862dd4e SECURITY: CVE-2006-3747 (cve.mitre.org) mod_rewrite: Fix an off-by-one security problem in the ldap scheme handling.  For some RewriteRules this could lead to a pointer being written out of bounds.  Reported by Mark Dowd of McAfee.
79c25ad Document new ping parameter.
edfbb15 * Remove all filters that are before the cache_out filter. This ensures   that we kick off the filter stack with our cache_out filter being the   first in the chain. This make sense because we want to restore things   in the same manner as we saved them.   There may be filters before our cache_out filter, because
2ab2a3a * Sync with 2.2.x CHANGES
75661df * Sync with 2.2.x CHANGES file
1bcb527 Add missing prototype for ajp_handle_cping_cpong function
4cac072 Note backport
98ff0f9 Add missing svn:eol-style native properties.
723dc59 remove BOM
399bc24 Fix warning on Darwin 8.7.0 (OS X 10.4.7) due to the prototype for sendfile_nonblocking being declared outside ifdefs even though the function is defined and used only when APR_HAS_SENDFILE
4487a05 Adjust the svn properties.
282612f Add ajp_utils to the list of ajp objects.
4fd2c57 Added cping/cpong support for the AJP protocol.
fb43394 Add mod_authz_core module to the build.
3c957a9 Oops. Something went wrong with the merge. Use the original ~nf.default.
11e590e Add mod_access_conf to the build.
1781e40 Add mod_access_conf module base address.
75b0e94 Add mod_access_conf to the build.
0255874 * Although the lstat call should rarely ever fail, because we stat'ed the   same file several lines above, check the return value to be save that   nothing bad happens in the case it does fail.
82c0c62 Add a check to make sure that the base provider and the alias names are different and also that the alias has not been registered before
3206eea ScriptSock has been global-only for a couple of years now; fix the docs
b68b036 * Rather use a pool cleanup function than calling deflateEnd before every   return from function to ensure that libz's internals get cleaned up.
f1c497a * Fix typo. No functional change.
9e9f6bd * Fixed typo. No functional change.
1942c79 * Initialize zRC to avoid a compiler warning.
bc34196 reflect backports of two MPM fixes
e883ab9 Finish reverting r410758.
047d246 * Style police / style nitpicking. No functional changes.
bf18b7c * Initialize pkcs7 field of structure
af0dfff Use the 2.3-style access control properly (I hope).
6cfe3d5 Backout r410758 because DavLockDB needs to point to an httpd-writable directory and @exp_runtimedir@ doesn't qualify.  Also document a missing module requirement.
63a2189 Record bugfix
4d0960e Remove dependence on server config from ap_dbd_prepare, as that may be called in per-directory config functions where there is no server context causing segfault. Discussion at http://mail-archives.apache.org/mod_mbox/httpd-dev/200607.mbox/<831327593.20060720023332%40engec.ru> and subsequent thread.
a34fefa * This shortcut is too short. It is not up to the filters to decide   whether filters down the chain can do something useful with this empty   brigade.
20c7ffc Layout and compiler warning.
892785c Add PKCS#7 support.
617840c   Simplify; installtest was an -artifact-, not a design decision :-)
f2a3a90 Fix the typo (probably). The %~na is something windows help for batch files does not recognize. Anyhow, renaming to the %~nf there is no more %~na.default file generated inside conf/extra on install.
0c2322c Fix targets so that InstallBin calls the conf install, as well as installr and installd.
4b3958f * Remove the word SECURITY to address Joe's and Bill's concern that this would   imply that FollowSymLinks and SymLinksIfOwnerMatch are security features.
23649ed * In preparation of the changes of the inflate out filter:   - rename flush_zlib_buffer to flush_libz_buffer (this name seems     better)   - add a parameter to tell flush_libz_buffer whether it should     deflate or inflate as this function should be also used for the     inflate out filter.
356d882 * Check for symbolic links of the target file in the optimized case that we   had already done this specific directory walk for this request. This can   happen when we have an internal redirect, like the ones caused by mod_dir   (/ -> index.html). See also
5616f79   Alas, it was not to be.  Deprecate mod_aspdotnet, and certainly don't   introduce these docs into the next release or consider for backport.
30a9c97 Revert r422298, because it introduces GNU Make specific extensions to the Makefile, and should be replaced by doing the work inside configure, instead of the Makefile.in.
ef947df * Remove ourselves from the filter chain if we failed to init libz, as we   pass data down the filter chain uncompressed afterwards.
e65116b * Fix potential memory leaks in deflate_out_filter if bailing out due to an   error (either in the lower filter chain or during a libz operation). We need   to call deflateEnd as it is very likely that this filter is never called   again to ensures that libz's internal structures get cleaned properly.
54c1b97 * Fix wrong FLUSH bucket handling in deflate_out_filter: Actually the internal   structures of libz never got flushed as ctx->stream.avail_in is always zero   here. As the EOS and the FLUSH bucket case use the same code for flushing   libz's internal buffers move this code to the new function flush_zlib_buffer.
d26fded gen_test_char doesn't actually need the util_debug object to work.
d19490f Makefile.in: Don't try to compile checkgid and fcgistarter on win32 when using the autotools build system. /support: Update svn:ignore for generated exe files
8744237 Disable the getpwnam and getgrnam functions, since they aren't available on win32.
bf508e3 include/ap_config.h: Include the autoconf generated header that defines what is available.
cb2e304 On mingw32, the APACHE_MPM_DIR is defined from the autoconf generated files.
f9d3d9f Bring in basic support for building the winnt MPM under mingw32, using the autoconf build system.  Currently this will get you to the point of linking errors on gen_test_char.
a3f4adf Use <string.h>-compatible versions of ap_str* functions.
58c0a69 Don't down cast
53a46d8   Refresh some language for windows builders
d801d08 Typo fix
346c6c3 Support environment variable interpolation in reverse proxy configuration
d0a241d Guess I should document the mod_proxy_balancer changes
ae24222 The number of times elected as well as the i/o of the workers is useful info to show in the manager.
3e2c97f It never fails. I sit on a patch for awhile and it's not until almost right after I commit it that I think "hey, there's a better way to do that." Anyway, I was never happy about the code duplication of the primary/standby checks... This fixes that.
2afcfcf Issue a warning when the same worker name is reused.
ef27013 update revision references
74a6ac3 update according to board resolution
8489723 update license header text
5347b47 update collective copyright notice in manual
d14349d update license header text
2714420 update license header text
b65ff57 update license header text
891555d update license header text
5fd456f Adds more discussion of several rewrite flags.
70d5226 update license header text
8543206 update license header text
47e5902 update license header text
6c75787 update mod_ssl transformation
44fa6e0 update license header text
0b80bab Add in hot-standby balancer member. If all other members are disabled or not-usable, ONLY THEN will the hot standby's be used.
de659cb update license header text
7b9391e Clean up some proxy macros. Avoid the use of magic numbers, and instead use pre-defined defines. Also, ensure that usable workers have been initialized :)
92a185a Restructure the find_route_worker() function. Basically, it should take care of knowing about usable and unusable workers. By centralizing this logic, it will make it easier and more streamlined to add in the forthcoming hot-standby status workers.
c93a4fa * Add the filename of the configuration file to the warning message   about the useless use of AllowOverride.
3ea7729 - clean up SSLProtocol description; "flavo[u]r" is meaningless in this context, use "version" instead
413aacd update transformation
c88a7b7 update German translation
867439c update transformation
04e0d8f update German translation
57314bf add description for the T status
0ae7a3d Don't mess with fixed fields like status.
8a66d7a add href attribute to modules's status field
459217f fixup properties
a656626   Might be my imagination, but seems full set hasn't been   generated in quite a while.
abea049   New changes to win32 docs, regenerated
5e0953e   Generate for mod_aspdotnet
92d86d6   New module, an extern, self referencing into the httpd server.
b31873b   This tree can't be named modules/debug/.  Now it isn't.
6df9b82 Revert Revision 397647
59655fa   Update the instructions slightly for openssl and zlib based on 2.2.0   and later builds of httpd on windows.
b37cb49 Make it clear what is meant by per-directory rewrites and specify the rewrites in <Location> is unsupported. (The same is probably true for <Files>, but I'd have to think about that a little more.)
0c6497a Don't give an example that will mess up caching.
4acd5f4 Fix Typo (PR 39939)
d5c831a Add missing space
8f7ed12 * build/special.mk (install-modules-yes): Require that the DSOs are built before trying to install them; fixes "make -j2 install" from a module directory.
6a038da * modules/ssl/ssl_engine_init.c (ssl_init_ctx_cleanup_proxy): Unset pkp->certs pointer after freeing the array; fixes segfault at startup if the certs are shared across >1 server_rec.
caf50e1 Change the example code to use the AuthzLDAPAutoritative directive and remove the AuthLDAPEnabled directive.
c99bff7 * Retry worker chosen by client supplied route / redirect worker if it   is in error state before sending "Service Temporarily Unavailable".
a78010f Changing copyright statement to the correct year.
c5d6fe0 Regex stuff that was in 2.2 but not in trunk
95e8595 A variety of small tweaks, including the changes that Noirin and Joshua suggested in phrasing in the flags document. Still a lot left to do.
6e4dd2d It's referred to as the Rewrite Guide everywhere excent when we link to it.
50248d5   One more bug licked, as verified by Matt
5cd174c   Make the range test legible; in the process, uncover and close   a bounds overflow condition.
58f86ac * Add the following environment variables to expose the information * about   the route, the sticky session and the worker used during a request to   other modules:
d65a57e Patch submitted by Matt Lewandowsky - fixes name of mod_isapi handler.
64d5e75 Adding a flags document. Not yet linked from anywhere. Will link once fleshed out a little more. The goal is to give more examples for the available flags.
1c87f70 update transformation
88d9270 update German translation
40b09cc update transformation
7b20cd2 update German translation
1a4f9d0 update transformation
d96c21f Update the LICENSE file since mod_imap was renamed to mod_imagemap.
64d264b   Note that 416293 went a bit further.
c231424   Solve 416291, but in a more elegant manner, and with a little   more attention to clearing the subreq and determining that   an r->filename existed.
cb6b3da   Stop appending a backslash if some trailing slash is present.
ab12f70   mod_isapi: Handle "HTTP/1.1 200 OK" style status lines correctly, the   token parser worked while the resulting length was misinterpreted.   We were also off by one in apr_cpystrn which demands room for the   trailing null be counted.
af85938   We need to pay alot more attention here to ap_pass_brigade.
61e25cc   mod_isapi: Ensure we walk through all the methods the developer may have   employed to report their HTTP status result code.
26a4e02   Note new (old) feature
7e18e19   New SSLLogLevelDebugDump [ None (default) | IO (not bytes) | Bytes ]   configures the I/O Dump of SSL traffic, when LogLevel is set to Debug.   The default is none as this is far greater debugging resolution than   the typical administrator is prepared to untangle.
353cce6 PR#39854 Remove bogus code that chokes on flush buckets
cdbef37 Add zlib-devel to the BuildReq in the RPM Spec file, which allows mod_deflate to be built.
07ed659 Whoops, double patch.  Argh.
00ad628 Add CheckCaseOnly doc. Submitted by: olivier Thereaux <ot@w3.org>
256c8b5 Things I forgot to commit
737e626 Teeny tiny typo, noticed by Matt Lewandowsky
75c10ac Add a note regarding compiler preferences for Solaris.
c13f8dd * server/core.c (default_handler): Use apr_brigade_insert_file() to append the file to the brigade.
9130728 Documenting new mod_speling directive
fdc5cb4 Corrections & clarifications Submitted by Matt Lewandowsky
825c3ef A keepalive response need not neccessarily have included any content-length header, handle this case properly for 304 responses. PR39789
33ff763 Simple language fixes, been sitting around in my repos for a while
4b0c598 spellcheck
60d54e5 update transformation
25099ab A little bit more detail, and an example, for how DocumentRoot is handled. Examples good.
5cf0912 Typo correction. Submitted by Vincent 'noodl' Bray.
ab2d671 Submitted by Vincent 'noodl' Bray, this adds a link from the module doc to the caching discussion, for clarification of obscure points.
e49a07d Referring to stuff added in 1.1, in the 2.2 docs, seems a little archaic. Rephrase a little.
3c195da emove an appendix that hasn't really been useful since the turn of the century.
e4c75ad update transformation
4ae2b6f For quite some time now, 'graceful' and 'restart' have done a config file syntax check prior to actually attempting to restart. These notes are no longer true.
4f11aeb Submitted by Matt Lewandowsky (matt@iamcode.net). The handler name is now isapi-handler instead of isapi-isa, although apparently both will still work, at least for now.
4f7635f /usr/local/apache/apache should just be /usr/local/apache
3c32eea There's four of 'em, not three. I know there's a Monty Python quote in here somewhere, I just can't find it.
e4db33a Provide links to the two support programs that are listed on that 'other' page, rather than the nondescript and unhelpful 'other' link.
66fb5ac Use the correct markup for the httpd program.
fce2637 Use the phrase used elsewhere in the documentation "root privileges".
dd8c2d8 * Show how to pass additional arguments to config.nice * Note that su is required for `make install` * Minor gramatical nitpicking.
04109c6 PR#39761 Make the error message more meaningful when DBD is configured without a driver.
948d14f Fix comment
7cf813c http://issues.apache.org/bugzilla/show_bug.cgi?id=39726
c1f0e2f Apply mod_speling enhancement posted by Olivier Thereaux (plus teensy weensy tidyup)
cab5846 * If possible, check if the size of an object to cache is within the   configured boundaries before actually saving data.
5f4c77e * The first comment did not really hit what we do.
a8482b6 * info->expire and info->date are in microseconds. So convert the difference   to seconds before comparing it to age which is in seconds.
ea02a92 Fix authnz_ldap invalid auth detection
da77cf5 Fix a problem with invalid auth error detection for LDAP client SDKs that don't support LDAP_SECURITY_ERROR macro. PR#39529
f5127bd * Sync with 2.2.x CHANGES
2902cea * configure.in: Use common variables for the required APR/APR-util version.
a25546f Notice, we got NOTICE.txt
a1958d3   One problem with keeping a compost pile.  As you add the dog's droppings,   the leaves, the grass clippings, and don't add any bacteral agents, in   the end you have one friggin big smelly pile.
270ee6c   Provide vhosts examples remotely related to the httpd.conf we create?
64ef8a4   That's the point, isn't it?  All mpm's in one basket?
507b817   Ewww... can't we be consistant with our workfiles paths?
6dd4620   Add example/default allow-from for localhost, please???
40222ec Add comments re worker shutdown troubles on Linux and use of ap_os_killpg() in worker.
6b175e5 * Keep the Content-Type for successfully revalidated   cached objects, by unsetting possible Content-Type headers in   r->headers_out and r->err_headers_out as they may be different to what   we have received from the cache.   Actually they are not needed as r->content_type set by   ap_set_content_type a few lines above will be used in the store_headers   functions of the storage providers as a fallback and the HTTP_HEADER filter   does overwrite the Content-Type header with r->content_type anyway.
bf5b149 Chop historic notes no longer relevant since 2.2 release.
9b9fda6 PR#39672: Check that filter exists before trying to insert it
59c89a3 The syntax ">&/dev/null" is csh-style, not bourne-style shell. Change it so that all bourne-style shells understand it. I am going to make the same fix in 2.2.x
5450296 * Remove temporary files if renaming fails, otherwise they may accumulate.
ab486bc On graceless shutdown or restart, send AP_SIG_GRACEFUL to all worker threads so that any that are polling on Keep-Alive connections will wake up and exit promptly.  Otherwise, on Linux, they wait until poll()'s timeout interval completes, which is often too long for the parent process; the parent issues SIGKILL before the child's main thread manages to re-join all the worker threads.  PR 38737.
3c4c748 small cleanup of EBCDIC support in mod_proxy_ajp
b2ba96e Make the worker and event MPMs not touch the scoreboard when handling a fork() failure.  The previous behaviour appears to have been inherited from the prefork MPM, where is it appropriate.
3336908 * Update transformation
f9612fc * Add a note about trailing slashes for ProxyPass and fix the balancer example   accordingly.
3b5b0d5 * Actually we are adding 3 bytes to the string (two for the length in front   and a \0 at the end) and not 2. So adjust the length check.
941ab8b * Fix documentation about the data types of attributes in the AJP protocol.
db02633 * Cleanup the code by replacing some inline code to lower-case a string with   ap_str_tolower.
4213de4 Make the logging in mod_proxy_fcgi more consistent.
4c29a9b update transformation
6ce4498 * Fix const compiler warning introduced by r407357.
a3d86db * Handle the cases "no proxy request" and "reverse proxy request" in the same   manner, when setting scheme and port_str. This is needed because if a cached   entry is looked up by mod_cache's quick handler r->proxyreq   is still unset in the reverse proxy case as it only gets set in the   translate name hook (either by ProxyPass or mod_rewrite) which is run   after the quick handler hook. This is different to the forward proxy   case where it gets set before the quick handler is run (in the   post_read_request hook).   If a cache entry is created by the CACHE_SAVE filter we always have   r->proxyreq set correctly.   Also set scheme to ap_http_scheme(r) instead of "http" to handle SSL   correctly.
0552ebe * modules/generators/mod_autoindex.c (output_directories): Escape filename in non-FancyIndexing case.
8984444 * server/main.c (abort_on_oom): New function. (create_process): Set abort callback for process pool. (main): Set abort callback for global pool.
b2b4cd8 Document r399947, addition of optional scheme:// to ServerName directive
b3f30e4 * server/mpm/prefork/prefork.c (child_main): Tag pchild.
be127bb Typo (..for use with by the scoreboard) changed to "..for use by the scoreboard" (not 100% sure -- or should it be "..for use with the scoreboard"?)
1681b32 Add support for fcgi:// proxies to mod_rewrite.
6c57242 revert last entry -- not user visible and poorly worded
d98afdd remove test/zb.c
ed72b35 * server/core.c (server_hostname_port): Remove unused variable.
4905c43 Note scoreboard stuff in changes; leave the 'difficult' patches to see if they attract any more review.
691a99b Initialise server generation (Chris Darroch)
25a2aca Tidy up scoreboard.h (Chris Darroch)
d0e7d57 Scoreboard size (Chris Darroch)
0720562 mod_ssl stuff which has been done.
646a8ad      Add optional 'scheme://' prefix to ServerName directive.  For      'https', mod_http returns "https" for the ap_hook_http_scheme and      DEFAULT_HTTPS_PORT for ap_hook_default_port.  This fixes Redirect      responses to requests for directories without a trailing slash      when httpd runs behind a proxy or offload device that processes      SSL.  It also enables support for Subversion in that      configuration.  This change is completely backwards compatible      and passes the perl-framework.  Minor mmn bump because I add a      field to server_rec.
ad2e15c mod_charset_lite: Bypass translation when the source and dest charsets are the same.
629975e Stop returning DECLINED from the output filter for proxy requests.
69c7b9e * Add Content-Type to headers_out if not already set. This ensures that   the Content-Type of the cached entity gets restored correctly.
8f14725 * modules/ssl/ssl_scache_shmcb.c: Rewrite of shmcb session cache to reduce complexity and ensure all accesses within shm segment are always aligned correctly.
0da0ca7 PR 39275.  don't fork MaxClients worth of processes if child_init or fork() are slow.
c377710   Fix two common overrides required for Win32
292c1b6 Remove GENURI.nlm from the prebuild target
30a1824 Fix compile time warnings.
b2820e8   This resource /D syntax was pretty horridly imported into VS 2005,   change the quotation to ensure a peaceful transition to sln/vcproj files.
ea4178c Fix gcc warnings:
f65c47b   Remove all /machine:I386 references, these are getting in the way   of switching linkers from the x86 (default linker) to x64 or other   possible target platforms.  (Also, this commit cleans up lingering   /GX switches from the 'BASE' options that are supposed to be unused).
611fed8   Make clean was -borked-!  Too many extra target specifiers
a9a6c8d   Move flex/bison/sed steps into a "mod_ssl - Win32 Lexical" grammer   build, outside of the normal "mod_ssl - Win32 Debug|Release" builds.
813eb9b PR#39386: Fix merge-config to support prepared statements (Brian J. France)
e58985d when compiling statistics, only interate accross requests which occured.
3f82151 * Consequently use disk_cache: in error log strings
ebe75a7 * Sync with 2.2.x CHANGES file
b36fea5 * CHANGES: Make spacing consistent with the rest of the file.
1499711 * support/fcgistarter.c   (main): Oops, we need to detach before the fork, otherwise this all    totally fails to work...
ecc9b9d * CHANGES: Note the addition of mod_proxy_fcgi.
ca55328 Merge the fcgi-proxy-dev branch to trunk, adding a FastCGI back end for mod_proxy.  This log message is just a summary of the changes, for the full original log messages see r357431:393955 in branches/fcgi-proxy-dev.
32a128c update transformation
5c7b0ad * modules/proxy/proxy_util.c (ap_proxy_initialize_worker): Fix gcc strict-aliasing warning.
bdab2ca   Ahhh, this was missed in 395432, and the addition of httpd.rc needs   to occur on each branch backported to (paying close attn to whether   or not our IS_DEV flag is a boolean, or a define/undef).
0014d02   Not for backport; our boolean state is 1/0, not defined/undef.   Remove win32ver.awk, it's now unused (but should be preserved   on the 2.0 tree for anyone who leveraged it.)
778fd13 revert accidental copyright year changes
34487c8 revert last change
663687a   s|/GX |/EHsc | because they were always synonyms, and Visual Studio   2005 edition complains bitterly and loudly that /GX is deprecated.
862d0e2   Remove a host of dependencies upon awk, using the same template for   nearly every .rc compilation (giving the output .res file a different   name for each component).  Adds AP_SERVER_BASEPROJECT to ap_revision.h   so we can display the proper name of "Apache HTTP Server" as opposed   to AP_SERVER_BASEPRODUCT (which is, and should remain, simply "Apache"   for the server string tokens.)
7912f3a Removing 1.3 refs from 2.x docs
d687c66   As a -fallback- install the release flavor of openssl when building   the debug flavor of apache httpd mod_ssl.
7553e62   With all the fun new features, mod_proxy's size (when built in   debug mode) has grown a bit :)
8cca196 * Adjust comment as per niq's proposal in r395166 and as already adjusted by   colm in the backport to 2.0.x (r395197).
d9ac2e3 update transformation
0cefa5a fix revision references
ebe24d4 Update the last year of copyright.
dd95d7c Update the copyright year in all .c, .h and .xml files
4a7263a * configure.in: Add --with-included-apr flag to force use of the bundled copies of APR and APR-util.
fcfc9fd Fix for platforms without threads: inreslist exists only if APR_HAS_THREADS is set
7dccbaa Ignore generated doxygen output directory
acdbd4f Correctly handle internal redirects, by testing only for r-main == NULL. ap_is_initial_req() returns false for internal redirects.
50376d1 Thiago Zaninotti reported to security@apache.org on 20060410 a possible cross-site scripting flaw because the Expect header error message isn't escaped.  We couldn't find a way that this could be used by an attacker however, as they can't influence the Expect header a victim will send to a target site.  Thiago agreed and we're therefore not treating this as a security flaw, but it is a bug that ought to get fixed.  I'll add to STATUS for 1.3/2.0/2.2 shortly for acks.
b910664 Update the copyright notice to reflect that changes have gone in this year
a6899bd Update one of the more important copyright notices prior to any 2006 releases.
4f88d90 * Also initialize local data structures for workers of a balancer.
381c9ce PR#39321 - don't segfault if a bad URL is specified in ProxyPass
9f83736 decouple the two scoreboard full messages
a697ea4 * Sync with 2.2.x CHANGES
96c6356 * Avoid calling ap_proxy_http_cleanup twice as this releases a connection   from the connection pool twice. This causes this connection to be present   in the connection pool twice. Thus it may be used by different threads   at the same time which causes many troubles (segfaults in this case).   Furthermore implement a logic to prevent double releases to the connection   pool if they are triggered by buggy code and log an error message in this   case.
4d1b386 * Initialize last_char as otherwise a random value will be compared   against APR_ASCII_LF at the end of the loop if bb only contains an   EOS bucket.
9704233 * After r377780 the condition in the if clause never becomes true, because   ap_proxy_initialize_worker_share is always left with PROXY_WORKER_INITIALIZED   set in workers->s->status. So remove this code to save cycles and avoid   confusion.
801bb02 MaxClients isn't the only reason the scoreboard can fill up.  another reason should be fixed soon.
7eb56e2 If we don't have a prototype for crypt() we shouldn't be calling it.
6bc545d The crypt() prototype is in <unistd.h> instead of <crypt.h> on HP-UX.  We had no prototype for crypt() there. In 64-bit mode, a crash occurred because the pointer returned by crypt() was truncated before we passed the pointer to apr_cpystrn().
b8370ab more explanation for a couple of subtle lines of code
df91b29 * Rollback r393037 as this was vetoed by wrowe. Details see   http://mail-archives.apache.org/mod_mbox/httpd-dev/200604.mbox/%3c443ABE65.1060603@rowe-clan.net%3e
d6f4ab7 * Prevent r->parsed_uri.path from being NULL as this can cause segmentation   faults e.g. in mod_cache. Set it to "/" in this case.
e1fbc27 expand on a comment for a rather subtle line of code so I have a chance of understanding how it helps in the future
b051891 remove unnecessary whitespace
fb17956 htdbm: Warn the user when adding a plaintext password on a platform where it wouldn't work with the server (i.e., anywhere that has crypt()).
bb7b54c * Check for an existing socket independant of an existing connection record.   This ensures that requests handled by the '*' worker are sent to the correct   backend server.
700a020 update convenience map
1be563a set svnmailer:content-charset for better diff mails
c17da43 update transformation
c4c06f5 svn:eol-style = native
6a67ac6 We actually want to reach the rest of the code :)
eb89d47 Default handler: Don't return output filter apr_status_t values.
fdee41f remove charset turds left by last commit
26e5766 * Sync with CHANGES files of 2.2.x and 2.0.x
b01e7a3 * Actually increase MODULE_MAGIC_NUMBER_MINOR by one as r390210 only added   a comment to do so.
a4c0f9e * Sync with 2.2.x CHANGES file
4a60c07   With all of the, uhm, interesting manners in which httpd   can be built and installed, let's ensure httpd -V gives the   reporter a chance to identify the APR flavor used to compile   and to run httpd when reporting bugs.
88a511e Correct a dumb typo
e804af2   * Add siege-like behaviour to ApacheBench; output the results, as they have     accrued so far, when the user interrupts with ctrl-c. As the signal handler     is non-reentrant, we don't need volatiles, and the operations all look     signal-safe.
4c82c8a * Sync with 2.2.x CHANGES file
292e59f Clean up some stuff found by Coverity.
d0e08c4 Give users the ability to set the window size for apache bench runs. Useful for benchmarking largefile downloads.
8280850 * As per discussion on the list: Return error code of apr_file_write_full   or apr_bucket_read instead of APR_EGENERAL if they fail.
f224c96 Note backports to be in 2.2.1
dede56b Document the removal of the flushing bandaid to a runtime param. Since other protocols might benefit from this, remove the ajp_ prefixes, to make it more generic looking.
77aa2c2 Docs update...
4641398 Note merged backport
38ea125 Backported to 2.2.1...
486c3d3 * build/instdso.sh: Fix syntax error with some sed implementations.
a11b86e * Check return value of apr_bucket_read when storing the response body to disk.   Delete already cached data if an error occurs.
aabe8f9 PR#39133 Remove "cyberthugs.com" and other real (or potentially real) examples from deny lists in access control howto in trunk.
5fdff4c update URL and remove old/dead site
f945707 Sync context of LDAPConnectionTimeout and LDAPVerifyServerCert with latest changes to mod_ldap   (http://svn.apache.org/viewcvs?rev=387675&view=rev)
160a943   Axe a previously axed reference to an unused build-time   generator.
23520cd revert the LDAPConnectionTimeout and LDAPVerifyServerCert directives back to GLOBAL_ONLY since the various LDAP SDK's don't allow these settings on a per-connection basis
7126d1d   Eliminate last win32-isms, SetLastError becomes apr's set_os_error   operation.  It unfolds the error code on win32, so we have to pre-fold it.   On unix there is no folding.
1514ad3 * acinclude.m4: When enabling a static library, ensure that the module's   dependent libraries are passed to the httpd link line.  Some supported   versions of GNU libtool as well as APR's jlibtool do not bubble-up static   library dependencies.
f732ed1   Escape from casting purgatory, which the Solaris cc compiler   will not treat as lvalues.
0addcdc LDAPConnectionTimeout and LDAPVerifyServerCert can be configured per-vhost
a7c95e7 Remove the global only flag from the LDAPConnectionTimeout directive and add it to all of the caching directives
23c7395 Fix the server_merge so that the memory pools and mutexes that were created during the server_create, are used.  Allow the settings that can be overwritten in a vhost to use the vhost values
2a0a430 Add mod_authz_dbd to the NetWare build
dbc7dbe remove the race condition when creating the connection pool mutex.  Also eliminate some unnecessary uses of the global memory pool
144c3fe Clean up some string manipulation.
31eb7ed Log a better error message if initialisation fails on prepared statements.
48090a4 reflect a couple of items merged into 2.2.1-dev
c9b69f1 Document DBD Connection Strings
f46ae04 update transformation
44bf33d update pt-br translation
6b45e58   Unsure why win32 never noticed this, but the value returned is a const char*
7e9ad09   Not an extern; correct a build failure, static suggested by dreid.
8566d62 Drop the LogLevel of the messages for the deprecated access control directives from WARN to INFO.
34cb5fb   uri_delims moved to apr-util EONS ago.
46711cd   We no longer generate uri_delims for apr 1.x, but the table   is hardcoded in apr_uri.c.
391472a Make AJP flushing admin configurable.
0670cff * modules/aaa/mod_auth_digest.c (hdr): Remove function. (add_auth_info): Remove dead #if 0'ed code to support 2069-style entity-digest.
b5ca8f8 * Crosscheck the length of the body chunk with the length of the ajp message   to prevent readings beyond the buffer boundaries which possibly could reveal   sensitive memory contents to the client.
4f9dd0b * modules/ssl/ssl_scache_shmcb.c (shmcb_safe_clear): Mark with "noinline" attribute for GCC > 3.
613f55d   APR_FILEPATH_NOTABOVEROOT was undefined with a left-hand NULL   or empty path.  The SECUREROOTPATH and NOTABSOLUTE tests were   sufficient for this application.  Adjusts for a bug in earlier   versions of APR with this undefined value.
8c8e605 Doh! Mixed up commenting in and out
cc6c19b Make trunk build with -DDEBUG on just about all the platforms under my roof (FreeBSD, Darwin, Ubuntu Breezy)
f1e2b50 Documenting (slightly confusing) default behaviour
761ef9e Revert the refactoring of the request read code
49d8a7f * Document fixes for PR 38524.
581e95c Fill in the scoreboard's tid field in the event MPM, just like we do in other MPMs.
589b46d mod_charset_lite: Remove Content-Length when output filter can invalidate it.  Warn when input filter can invalidate it.
920d94b update transformation
f93274c Fix mod_asis docs re: use of HTTP/CGI headers.
2d93eb4 Ensure that the proper status line is written to the client, fixing incorrect status lines caused by filters which modify r->status without resetting r->status_line, such as the built-in byterange filter.
70bd1f6 * Disable persistent connections for SSL backends again as we do not   handle them correctly, because we recreate backend->connection for each   request and thus try to initialize an already existing SSL connection.
d19aa96 Add a note about the ap_satisfies mess we currently have.
76d5b7e This should cure the build issues people are having and would seem to be closer to the correct solution.
efbb581 update and fix typo. English Revision: 265033
28d729e update transformation
f9fba91 don't use &nbsp; in configuration code that might be copy and pasted and cannot be interpreted correctly by the httpd
20cf15d * modules/ssl/ssl_engine_init.c (ssl_check_public_cert): Fix spurious hostname-mismatch warning for valid wildcard certs.
6f768ff * acinclude.m4 (APACHE_CHECK_SSL_TOOLKIT): Add PKG_CONFIG_PATH for specified OpenSSL location to avoid picking up system pkg-config configuration.
91ac51b - tidy up some of the comments and make the file more readable
1639407 - add a define for ap_satisfies which is now an optional fn. Without   this httpd crashes with a SIGBUS when calling ap_satisfies.
25f7c48 update transformation
1198f99 do not reuse XML ids
d1173d0 svn:eol-style = native
8fe8b1c Add more detail about how to use the new authorization configuration
3778573 - Nitpicking style police: Add space between PR and number of PR - Remove myself from credit list of fix for PR 38340, as this patch went   in unaltered.
d05d878   *) mod_proxy: Fix KeepAlives not being allowed and set to      backend servers. PR38602. [Ruediger Pluem, Jim Jagielski]
4f1f25e OK, handle better the initializing of worker, separating "shared" and "local" inits, and being aware that if the shared aspects are initialized, this doesn't mean the local ones are :)
880a6ff I wondered why I never saw the scoreboard init entry; now I know. The logic flow was slightly askew.
844460c Update links
df09bfe * Use the correct pool for apr_table_copy. Otherwise we trigger the bad pool   ancestry abort in apr_table_copy if apr is compiled with APR_POOL_DEBUG.
cb130c3 Clean up some code in mod_dav.
b458b88 Make the worker and event MPMs support GracefulShutdownTimeout just like the prefork MPM does.
80aafcc * Do not close the backend connection, because the client sent a   Connection: close header.
859a572 * Do not remove the connection headers from r->headers_in. They are needed   by the http output filter to create the correct connection response headers.   Instead work on a copy of r->headers_in.
947a417 * modules/aaa/config.m4: Place mod_access_compat in the 'yes' list as not   handling older auth configs out-of-the-box is badness.
61fafe6 * modules/aaa/mod_auth.h: Include apr_optional.h for APR_DECLARE_OPTIONAL_FN definition.
4bd5625 * modules/aaa/mod_authz_core.c (add_authz_provider): Fix pointer cast warning on LP64 platforms.
8c36ceb fix properties and update transformation
9d1d1cc fix xml and semantic validity
b2e9ae5 * modules/proxy/mod_proxy_balancer.c: Include unistd.h to pick up getpid() prototype.
35b9748 Use absolute links as pointed out by nd and joshua
98c00ab PR#38521 - fix link.
ff0416d * sync with 2.2.x CHANGES
f6b4694 * Do not overwrite the status of initialized workers and respect the configured   status of uninitilized workers when creating a new child process.
585175b   Sync
d3e8acd   Solaris build proposal; don't fail on missing .h files within   a VPATH build, and don't test trees with -d (simply -f the   expected files) in case a tree such as srclib/apr is actually   a symlink rather than a true directory in ./buildconf.
de63600 Project name changed in Bugzilla when we released 2.2
5eafcda * Update transformation
467687b * Remove link to CacheSize as this directive is no longer present.
7f6733a mod_speling: Stop crashing with certain non-file requests.
dd9a807 The AuthnProviderAlias directive has been merged into mod_authn_core.  mod_authn_alias is no longer needed.
674853e Documentation for mod_authn_alias is no longer needed since the only directive it documented has been merged in to mod_authn_core.
e14b2e2 Move the AuthnProviderAlias documentation into mod_authn_core since that is now where the directive lives
ec98060 If the proxied response lacks a Server header, then create one.
15f3757 Fixing up typos
314aa8e add Colm's explanation of the cache_info structure from his explaination on dev@ Message-ID: <20060124223004.GA26461@dochas.stdlib.net>
0e91e9e Use HTMLTable option in the config example so that directory listings will satisfy people concerned about html spec compliance.
e21cdb9 Language fixes for mod_rewrite reference manual
d9ad473 Move DOAP file to site tree.
f593d8e Remove NetWare makefiles that are no longer needed
2d13287 Build mod_access_compat on NetWare
5674f09 Use the correct logging #define
be2c37b Allow,deny stuff added to example
ce4b622 Minor language fixes
7285efa - add a first pass at a "real" doap file for the httpd project.
69915fa   Lineends
eb11779   Lineends, ugh :)
4befe87 * Improve fix for PR38123. This fixes PR38123 and PR37790 (whose fix has been   already backported) by inserting the HTTP_IN filter uncondionally before   we call ap_send_error_response or ap_die. This ensures that   ap_discard_request_body called by ap_die and by ap_send_error_response works   correctly on status codes that do not cause the connection to be dropped and   in situations where the connection should be kept alive.
d66bb0a * Fix PR38340 by actual getting the word and thus advancing the message buffer   pointer to the next data.
87ceeeb Fix the documentation for the LDAPTrustedMode directive.
407ef2a Set the LDAP protocol before setting extended LDAP options. [PR38146]
3601388 PR#38070: When a CGI script emits an explicit "Status:" header, it takes charge, so we shouldn't use ap_meets_conditions.
82edb08 remove the unused per-dir-config structure.
44c8981 * Fix PR38123 by adding the HTTP_IN filter also in the case of an invalid   expect header.
c2c6968 * Adjust format of bump comments. No functional change.
4771b7f * Do a minor bump as minex and minex_set had been added to cache_server_conf   struct.
20aaaf0 Remove the call to ap_note_auth_failure() from the providers.  mod_authz_core will make the call if it is necessary.
9f76ead * Add a sentence about DDOS. * Mention problems with low Timeouts and long running CGIs. * Stress out the experimental character of event MPM and that it does not   work with ssl currently.
7352161 Fix typos.
8b139e0 A few small anti-DoS updates including the Limit* directives.
eb1c9b2 * Removed patch again as it clashed with Joshua's on the same topic
1d90489 * Add some remarks how to mitigate the risk of DoS attacks by setting   proper values for the Timeout and Keepalive parameters.
4f46f35 Take a stab at documenting how we respond to DoS issues. Please review!
bc7bd98 Note the changes to Authz
c3b63de * Update transformation
395b632 * Add CacheMinExpire directive to set the minimum time in seconds to cache a document   in the case that no valid expire time was supplied with the document.
bcf6719 Documentation for mod_access_compat (Allow,Deny,Order,Satisfy directives)
9f0d5dd Update svn:ignore properties so that generated files from a win32 VC++ Express build are ignored.
bd1e90e Fix properties, add missing transformed files and update transformation
5da80fc Adding updated mod_ssl HOWTO to the website Also committing transforms with new (2006) copyright notice.
766f0e2 Rewrite of the mod_ssl HOWTO - only language changes, no code changes.
0a7d8b6 eliminate the import of the ap_satisfies optional function on every request.  Just import it once if it exists.
cea551d clean up some left-over debugging code and comments
69c11f1 host access control compatibility module (Order, Deny, Allow, Satisfy)
9b7b829 Restore Order, Deny, Allow, Satisfy for backwards compatibility with authz
81b1938 * Sync with 2.2.x STATUS file
8cf242f   Drop redundant dependency, ms studio is quite good at resolving   nested dependencies (unless the dependency is consumed by both   modules.)  See mod_ldap for a similar example.
34f7c0b   Say 'whoops'.  When you build the elements explicitly, you must order   them (win32 has no unresolved symbols linkage).  modules/database/   is required before modules/aaa/
668a586 Make some error checking more clear by using the defined constants instead of literal values.
144837a   An unambigous cast, if limit is <0 it's unlimited.
10be846   Determined that yes; apr_general.h may be included in .rc files,   so eliminate a substitute declaration.
c63addb Update the NetWare makefiles to build the authz code
1dc9941   Correct version numbering for generated .rc files.
9fed4c7 Authz refactoring Merge from branches/authz-dev
bb2af22 * Fix PR38017 by handling the selection of the hostname in the same way for   non proxied and reverse proxied requests.
e6001bf Update copyright current year to 2006
0482351 sync. English Revision: 349917
b4dd62d sync. English Revision: 350286
2167a18 sync. English Revision: 333005
ec86df8 Sync. English Revision: 290816
367acff symc. English revision: 327999
32df739 Explain how we're checking to see if ap_proxy_backend_broke() has been called or not.
be7bd95 Clarify (I hope) the comment better :)
c5de4ae As long as we have the AP_BUCKET_IS_ERROR macro, let's use it
3800f3a Update status before we run the logging hook
6b17fc2 * Call ap_proxy_http_cleanup after ap_log_rerror because it resets   backend->hostname to NULL.
150b795 * Fix a regression from 2.2.x: Set c->aborted to 1 if the return code from   writing to the client is different from APR_SUCCESS in the blocking case or   APR_SUCCESS or APR_EAGAIN in the non blocking case.
6afae96 * If a subrequest has a broken backend also set no_cache for the main request   and ensure that the chunk filter does not sent the last chunk marker in this   case.
30d205d * Correctly signal broken backend connections up the chain also for the ajp   backend (see also r357461). Furthermore move common code in mod_proxy_http.c   and mod_proxy_ajp.c into a new function (ap_proxy_backend_broke) in   proxy_util.c.
8bee369 PR#38084 Correct DBDParams string in example INOUE Seiichiro (who reported the bug) suggests referencing the pgsql documentation.  I disagree, but I wonder if PgSQL is really a good choice of example, since it (untypically) parses the params itself rather than have the apr_dbd driver do it.
0aece3a Refactoring of ap_read_request() to store partial request state in the request rec.  The point of this is to allow asynchronous MPMs do do nonblocking reads of requests.  (Backported from the async-read-dev branch)
c821da5 Removed the destruction of the bucket allocator prior to clearing the transaction pool.  The bucket allocator will now get destroyed when apr_pool_clear() invokes its cleanup callback.  With the old logic, memory corruption was possible if the pool contained any brigades that referenced any buckets allocated from the bucket allocator.
3ec5b99 General cleanup:
d3661c3 Small spelling fix.
49ce35c Fix Cookie2 header problems that originates back from mod_jk. Cookie2 was always sent as Cookie.
419b9bd Update 'apache_pb2' images for Apache-2.2 (NOTE: not for 2.3!)
783d5b0   This shift was treated in 32 bit scope, then masked to 64 bits,   which was probably quite uncool.
d4f879a Morph the ap_http_broken_backend_filter() proxy "specific" filter to a generic http error handling output filter.
66e1bed   Quiet warnings of POSIX deprecation in win32 support sources.
e4c6f88 In Apache-2.x, the function is called apr_pstrdup(). The 'tmp' variable is not really necessary.
b773db2   Add our new eor_bucket.c module to libhttpd
9008906 * Move code for broken backend detection out of core filter into a new http   protocol filter (ap_http_broken_backend_filter) that is only run in the   proxy case.
dcc5638 * If the mod_proxy backend connection broke in the middle of the response,   then   - Do not cache it.   - Signal the client that something went wrong by closing the connection     and not sending the last-chunk marker if the response was T-E chunked.
a26a74d * Resync with 2.0.x and 2.2.x CHANGES file
d137691 * Fix ap_http_chunk_filter to create correct chunks in the case that a   flush bucket is pre- and postfixed by data buckets in the brigade.
d6e4137   Add the module details for our /base:@...,mod_foo.so magic
7453788   A more generic explanation
4d13f63   Test _NMAKE_VER define to determine nmake -nologo behavior,   and use $(MAKEOPT) -f syntax throughout to avoid problems   on mingw, borland, etc.
8766aa9   New Win32 9x efforts are a nonstarter.
03d5a7e   Not Applicable anymore
2de4e93 * server/protocol.c (ap_old_write_filter): Use NULL for the NULL pointer not 0.
66bdf7b * acinclude.m4 (APACHE_ENABLE_MODULES): Support passing "none" to --enable-modules to build an httpd with no optional modules enabled.
9052179 Bring forward the fix for CVE-2005-3352 already on the branches:
948e9ab * modules/debug/mod_bucketeer.c (bucketeer_out_filter): Only pass on the brigade if the pass delimiter is reached and not for any flush delimiter; allows creating brigades with a flush bucket in the middle. Fail if ap_pass_brigade() fails.
fe2d495 Sorry, previous commit was not ok.
5aa5b6b The string comming from TC is in ASCII and the string returned by apr_psprintf isn't.
a81c17f   Mirror Makefile.win from the GUI environment.  The path here must be   explicit to help point the debugger at the resulting, installed binaries.
c6ba0c7   Revert 1/2 of my last commit, keep Apache2 as the default name so we don't   need to keep syncing this with releases.
44d3d40   Keep default INSTDIR out of a 2.0, 2.2 tree when working in svn trunk
bbd325c update transformation
dbec031 fix that paste error and properties
59d916f * include/ap_config.h: Fix the macro name.
2160d59 * include/ap_config.h: Define AP_HAVE_DESIGNATED_INITIALIZER for GCC (but not G++) or any compiler which claims C99 support.
48904ff OK, while we ponder how best to reuse conn pools for workers, clean this section up.
ae4e235 Details about changing auth provider.
c2f3644 A few additional seealso links
06c6bde * revert r355823 and r355837
c666adb * Let the proxy handler know that the backend connection broke after we have   sent the headers.
614df45 * Move handling of backends that broke after the headers have been sent   into the proxy handler of mod_proxy.
49e1abb Split the Access Control stuff off into it's own howto, because I wanted to do some stuff that really isn't auth related.
618802d update transformation
f431dcb fix xml validation error
5554f96 Mention that digest can also be used with authn_dbd
c370822 Add required AuthName directive
c5f0781 * include/httpd.h (conn_state_e): Remove trailing comma from enum.
70a553c Add a comment and use proper grammar for another comment. (No functional changes.)
708a277 If a connection aborts while waiting for a chunked line, flag the connection as errored out and send errors upwards.
5311a38 If we get an error reading the upstream response, we should bail.
61dc0fa Add the mod_dbd exports to the NetWare make file
05cec36 Improve defaults from 'test' values (and get meaningful errors on startup if database is down); trivial tidyups.
16e5cdd * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access): Omit further access control checks if SSL is not in use regardless of vhost settings.
913e69c * os/unix/unixd.h: Use extern "C" linkage.
1216449 Fix documentation bugs
8c9f959 Give a clue about what event really does, and some small improvements to the leader and worker docs.
24c5cde PR 36090 Fix recursive ErrorDocument handling
78513ef Fix for Bug 37790 (hangs on error return from post_read_request)
1537670 update transformation
7e8ff90 fix remaining mod_imap occurences
e708604 * Fix PR37753. Off by one bug in get_path_param eats up too much of the string   such that session identifier for sticky sessions is never found in URL.
f79a005 Only define sendfile_nonblocking if APR_HAS_SENDFILE is true.
e38f939 Point the breadcrump links to the new docs index page.
855679f   Recover text
56bfe10   Style nit - alpha order is slightly easier to later review
bd147c9 rebuild.
2fa7b54 Nuke really old version recommendation on GCC. Any modern version should be acceptable.
48f938e Until we determine whether we should dip into the connection pool each time, rearrange the logic to avoid a double check which is unneeded. No matter what (if it's reusable or not) a null conn->hostname needs to be set. At that point it doesn't matter if we're not reusing it or if the string comparison happens, since what we would do in that case has already been done.
b699a10 minor doc changes already on 2.2 branch
f518230 Check that conn->hostname is valid before we do the string comparison
bf45bc6 Escape the dots in the regular expression.
1d42526 Fix SSL Protocol hexdumps for EBCDIC systems
573c18f Remove the problematic block which is causing problems with the latest versions of MSVS. Sacrifice some borland options which don't really work anyway, and for Borland to work, we'e really going to need a Makefile.bor.
be41776 update transformation
acce61d upgrading.html.fr no longer exists, but the the entry commented for reference
314e894 Adding mod_authn_dbd to the Windows build environments.
79e3fd7 Fix a mixed-up module reference and document (carefully) how to turn off require in a subdirectory.
2b526bd First stab at a build environment for mod_authn_dbd
92e7504 Update to reflect the mod_dbd inclusion
3d48b7c Add mod_dbd to the windows build environment
0acff75 Optional functions are of __cdecl the kind on win32, due to "APU_DECLARE_NONSTD apr_dynamic_fn_register" from apr-util, so we can't use __stdcall. Declare our functions as non-std.
c4c32fc A first stab at a win32 build environment for mod_dbd.
39211ac Kill a very old html-only translation.
d98b612 Move closing tag to proper location.
6dac445 Give DBD a set of _DECLARE macros consistent with other modules, so that _EXPORT and _STATIC and be turned on/off more easily.
d61faa3 Some config file changes:
a8401f6 Note dbd/windows problem
35f692c Fix case where a shared keepalive connection results in different workers from being accessed. Try to be wise and fast about the tests before we do the expensive string comparison.
a2a903d Correct a syntax error detected by MSVC2005
6c2a688 rebuild docs
43f57e6 - try to add a note to explain the behaviour of clients use a pipelined   connection wrt to MaxRequestsPerChild and KeepAlive.
c124e62 * modules/ssl/ssl_scache_dc.c (ssl_scache_dc_retrieve): Fix warning with OpenSSL 0.9.8a.
4778e1e When computing the timeouts for keepalives and write completion, get the current time _after_ processing the event that led to the timeout, rather than before. [forward-port of commit 349189 from the async-read-dev branch]
260a49c Small description change to indicate which socket library the NLM in built for
512ffac PR#37553 Redesign of pools handling in mod_dbd Submitted: Chris Darroch, Reviewed: Nick Kew
6e46c67 Fix a problem with the HTTPS CGI variable not getting set for secure requests. Needed to readd the port and address on every restart whether or not the listen port is being created or resused.
74e4bf0 Wrap exported functions in AP_DECLARE
91a26e8 * Sync with 2.2.x CHANGES
58d9412 remove an obsolete comment
14b0d1e rebuild
ef6bb19 Fix program name
3908f38 rebuild.
d8de7f4 Add a mention of the new httxt2dbm program
e6e065d * Minor performance tweak by reusing already calculated strlen in get_body.
93400c7 fix eol-style
f6f4386 update transformation
150fe46 fix properties
a7a0d09 Add typemap file to mod_authz_dbd docs (oops!)
2a8930b Note mod_authz_dbd in CHANGES
7d02f7d Documentation for mod_authz_dbd
5dbbe6d mod_authz_dbd: SQL authz with Login/Session support
5b5e981 Remove redundant link.
acae04e * Deprecate AddOutputFilterByType
efcaa3c A few markup and spelling fixes.
54c8162 Add defaults and comments for better robustness against misuse (based on comments from Chris Darroch).
3c2f47f update transformation
182dbb3 Provide at least a basic roadmap to the aaa modules as part of the tutorial.
586be46 Remove on/off arguments from AuthDigestProvider.
5f3be4a Remove on/off from the argument list for AuthBasicProvider, attempt to clarify the discussion of AuthBasicAuthoritative, and add some extra clarifications in a few places.
2797b88 Remove support for 'On' and 'Off' for AuthBasicProvider and AuthDigestProvider as it doesn't actually work as advertised.
08c97ba No functional change: remove "internal" tab spacing/formatting.
609d015 Update transformations.
dcb0ab5 Fix (Chris Darroch) to register cleanup for persistent connection in the no-threads case.
52bb047 Correct an XML validation error.
6a6b021 Make references to 2.1 and later consistent with each other.
3a67f28 Fix typo in ProxyStatus syntax error message.
baf1683 Fix wrong link
29d8e63 Backported the UCPP code to 2.2 branch
78cfb5f Typo.
988b8d6 Remove a few obsolete historical references, clean up some small inconsistencies, and use graceful-stop in the upgrading example.
a17eedf Revert UCN default change - set back to Off, which is what 2.1/2.2 has been but is opposite from the 2.0 default.
b7575cf Okay, at least be nice when "breaking" the API. Tuck the new bitfield to the tail and adjust the MMN
ce503e0 Add in the UseCanonicalPhysicalPort directive, which basically allows Apache to configurably ( :) ) use the physical port when constructing the canonical port. Also add the exact ordering to the docs, so people can easily see how it works. We now have compatibility with both 2.0 and 1.3.
254dd38 Replace dodgy cast with ap_set_string_slot
3995bb8 Fix driver-dependent potential memor-use bug in preparing statements
e9bc257 drop dependency on apr_wait_for_io_or_timeout()
8c21cd9 update convenience map
9d70c93 drop the version reference from the property file; it's no longer needed
1484fab update transformation
85c6756 this path stays as 2.0
13958c3 fix latex build
8fcb023 update transformation
26ffb0f doh! fix build error
0550e8f centralize the versioning of the httpd and the docs directories
5702cd1 Add an Irish Translation
c4d662e Update filter documentation page.
507ba76 update transformation
12e946d validate XML
e7a1b48 get properties right
1d8cdc9 Update background entry slightly.
885446f Plug some holes in the current documentation.
a04a53a 2.1 -> 2.3 changes.  Only track the 2.3/2.4 release history.
d147d2b Update transformations after version bump.
6589f76 Upgrade trunk to refer to 2.3/2.4
9334f68 Update upgrading doc; add mention of mod_imap->mod_imagemap change.
515eb16 Update transformations.
c2161cb Add some more documentation related to 2.1/2.2 authentication changes.
596e8e2 Minor refactoring: move the creation of the pollset and associated data structures outside of the listener thread function.  The point of this is to facilitate future experiments with different concurrency models like Leader/Followers as potential alternatives to the current Reactor design.
6ff0f1a7 * Sync with 2.2.x for backport r332657
b72e610 No functional change: more indenting/formatting changes due to tabbing
5061d9f No functional Change: Removing trailing whitespace. This also means that "blank" lines consisting of just spaces or tabs are now really blank lines
5d2fae4 No functional change: simple detabbing of indented code.
b87b4fa Work if check_conn is NOTIMPL in a driver
f0a3ee8 Remove an unnecessary module reference to LLDAPX
41a79e4 Note fixes that have been applied to the 2.1.10/2.2 BRANCH
7ab2d56 * Fix a null pointer dereference in dav_method_mkcol during the handling of   errors from dav_auto_checkin.
73f24d4 Warning about mixing +/- with bareword Options
36aaef3 fix memory leak. Reported by <christophe.jaillet@wanadoo.fr>
e9469f9 Add a note about sendfile on Itanium
a464e95 * build/config_vars.sh.in: Check for the *-config scripts both at the DESTDIR-relocated path and at the not-relocated path, to cope with both builds with and without the bundled APR.
81a4bc2 * build/config_vars.sh.in: Prepend DESTDIR to paths to installed apr/apu-config scripts.
6f83e04 Move to a different impl which was my 1st concept and that which Ruediger likes. Instead of adjusting pointers to areas within the URL, simply copy it over and change it as needed. Easier logic and not that much slower for normal cases.
9ab1084 Fix a problem where we are doing a case insensitive match between the worker and the URL. Instead, only the scheme and hostname are insensitive, the rest should be case sensitive.
abc0d7d Add random notes about possible weaknesses
5a653ac Moved the extended_status scoreboard update from ap_process_http_connection to the EOR bucket destructor.  Also, added some defensive code and comments regarding r->pool lifetime to ap_process_http_connection.
fea9905 Bring documentation up to date with yesterdays fix
d451ccc Fix handling of unknown state tokens in If headers:
f94eaec update transformation
1afdad0 fix svn:eol-style
b419e37 Change directives from OR_AUTHCFG to ACCESS_CONF SQL config in .htaccess doesn't make sense and could have security issues.
f0538ad Allocate the brigade containing the EOR bucket from the connection pool, rather than the request pool, because the core output filter may need to reference the brigade immediately after deleting the EOR bucket (and thus the request pool).  This fixes a coredump encountered when running t/TEST on an httpd compiled with "--enable-pool-debug."
a5af8ac Add a usage example to documentation page
0a11e35 Document ap_dbd_cacquire
eb716dd Update the transformations
990d669 Document the mod_cache / mod_authz_host problem.
d9bb203 Make the release date formats non-assbackwards and more readily readable. Corrects a regression from 2.0.
fc74689 Restore the socket timeout after setting it to zero for nonblocking writes in ap_core_output_filter.  (This fixes the mod_proxy errors that the new core output filter had been causing.)
c40db6c * configure.in: Move apr/apr-util version checks later to fix in-tree apr/apr-util build failures due to $EGREP not getting set early enough.
7e5b225 Minor language fixes:
61ba68f Add eor_bucket.c to the NetWare build
aa23b6a * configure.in: Require apr >= 1.2.0 and apr-util >= 1.2.0.
2697fc5 Typo fix (from noodl@irc)
f638997 Update mod_dbd docs to describe it as "extension"
e004bab Update mod_filter docs to mention API functions and promote out of experimental.
9b4cdd8 Make changes suggested in bugzilla #37074, update transformation.
1d89587 * Sync with 2.2.x CHANGES
0093340 * Fix PR36906 by not lower caseing the whole worker name. Only lower case the   schema when storing the worker url. Thus preventing case sensitive URI's in   BalancerMembers to get broken.
5a616f5 fix revision references
501a083 Correct the port specified to match the example given.
39b3453 * server/eor_bucket.c: Pick up ap_run_log_transaction prototype.
f8ee6a0 Logresolve style and nit fix-ups:
545079d Update transformations, mainly to reflect the fe80 -> 2001:db8 changes.
6d9c3ce fe80::/16 is for link-scope link-local addresses in IPv6, they are not for goign in Listen directives, VirtualHost blocks, or anything like that, and won't work.
326ad5b Talking to end-users has highlighted the new simpler default configuration layout as a major selling point "feature" of 2.2. Add it to the list of new features.
cb0e5db Async write completion for Event MPM (backported from async-dev branch to 2.3 trunk)
158559e Redesign of request cleanup and logging to use End-Of-Request bucket (backport from async-dev branch to 2.3 trunk)
811b286 A complete rewrite of support/logresolve.c:
5f4f323 These days in most cases, "all bound IP addresses" means :: and 0.0.0.0 or even just ::. Rather than confuse users by trying to explain this in the configuration, simply remove the now-erroneous reference to 0.0.0.0.
5257c67 Remove the generation of flush bucket in mod_logio, now that the nonblocking ap_core_output_filter knows how to defer the call to the logio hook until the last bucket is actually written to the network. (backport from async-dev branch to 2.3 trunk)
bee3400 remove debugging code
05537e3 New version of ap_core_output_filter that does nonblocking writes (backport from async-dev branch to 2.3 trunk)
4db6998 Add new connection states for handler and write completion (backport from async-dev branch to 2.3 trunk)
209658b * Backported r327179. Sync with 2.2.x CHANGES.
9d3ff0e * Fix PR37145 (data loss with httpd-2.0.55 reverse proxy method=post) by   exchanging APR_BRIGADE_CONCAT with ap_save_brigade to ensure that   transient buckets get setaside correctly between various iterations of   ap_get_brigade calls.
a9d2ab7 * Fix PR37100 (SEGV in mod_proxy_ajp), by sending the data up the filter   chain immediately instead of spooling it completely before passing it   to the filter chain. It contains a bandaid to handle intentional   flushes from Tomcat side. Further explanation in code and report.
aabe646 * Fix PR31226 (AddOutputFilterByType deflate not active with mod_proxy), by   allowing ap_add_output_filters_by_type to handle proxied requests.   Basic tests by jorton and me show that this works, nobody can actually   remember why this limitation was introduced at all (r94028) and the mailing   list archives also gave no hint.
374a607 keep the proxied Content-Length header for a HEAD response.  PR 18757
9027814 * Update to reflect changes of r325960
89edea4 Today a one-time change happens to all CAN- names as they are renamed to CVE-.  Make this change to our changelog.
16ef40e Remove CGI block on OPTIONS method so that scripts can respond to OPTIONS directly rather than via server default.
ae39692 Document Roy's recent discovery that plain Alias/Redirect only match complete path segments.  I haven't tested the examples, but they seem to be right according to the code.
6a37426 update transformation
35d3c1e adjust availabality information of mod_version
49c38a5 Proxy docs changes:
821b750 C++ comments are not supported by some  compilers (ReliantUnix).
940f8bc Faffing about with colon-delimiters (originally copied from mod_authn_dbm) is deeply superfluous in an SQL context.
c2e9d62 * modules/generators/config5.m4: Improve Solaris 10 check in mod_cgid to   know about the now-released patches that fix the AF_UNIX bugs.
fd4bdc0 * Create new filters CACHE_OUT_SUBREQ / CACHE_SAVE_SUBREQ which only differ   by the type (AP_FTYPE_CONTENT_SET-1) from CACHE_OUT / CACHE_SAVE   (AP_FTYPE_CONTENT_SET+1). This ensures that subrequests to non local   resources do not get stuck in the middle of the road with the contents   only written to the temp file, because CACHE_OUT_SUBREQ / CACHE_SAVE_SUBREQ   are inserted *before* the SUBREQ_CORE filter in the filter chain.
52c4e84 get properties right
0916db1 Add mod_authn_dbd to the NetWare build
77df2cd * Style fixes: Add line breaks for lines that are too long. No functional change.
80ac425 Update STATUS to reflect the current state of 2.1, including the backwards non-ISO date format.
18d60fb * Style fixes: Spaces, comments, typos. No functional change.
6163d20 * Cleanup: Remove dead code. No functional change.
9c1115e * modules/http/http_request.c   (ap_allow_methods): add missing va_end call
558abd4 make mod_dbd.h available for all who need it
00feac4 Do not set r->content_type directly, use our ap_set_content_type API, so that output filters can properly be applied.
f480eb4 update transformation
6c83980 get the properties and the copyright date right
454522b Add mod_authn_dbd to build
988e5e7 Note new module
1b4236d Add mod_authn_dbd
e663e40 * modules/ssl/ssl_engine_init.c (ssl_init_CheckServers): Fix IP/port key generation which passed a bogus pointer for a %pA conversion, hence could give false warnings for name-based-vhost use.
297e3ea * Added further directives that are controlled via AllowOverride FileInfo
f193cba Make ap_register_output_filter back into a function (*sigh*) but update its API doc
5134335 Make ap_register_output_filter a #define
388871d Performance Tune: Do the cheap and fast length check before we bother doing a char-by-char comparison.
3ed4f2a Fix -Wall warning... Thanks to Joe for the head's up!
99b60bf * support/ab.c (test): Increment count of started requests when a non-blocking connect completes; avoids case where more requests are made than intended.
5e7a581 Removed this file now that both the doc-only distribution file 'bootJVM-doc-M.m.p.tar.gz' and source-plus-doc distribution file 'bootJVM-srcdoc-M.m.p.tar.gz' files are in the repository (at the root level of this project).
be32e16 mod_proxy_balancer: BalancerManager and proxies correctly handle member workers with paths. PR36816. [Ruediger Pluem, Jim Jagielski]
61b016e Merge r265033 from trunk.
d7032a9 merge r265737 from trunk.
de718ae Sync changes
7d8187c Support dbd connections tied to the conn_rec.
13bceee * Fix a declaration problem introduced in r195013 that is C99 but not ANSI C   compatible. Thus move declaration of *worker to the top of find_session_route   to make it ANSI C compatible again.
6c4c099 Corrected an out-of-date comment (it's been a while since main.c has called ap_process_request)
a5d8311 remove the recycled_pool variable to keep it more in sync with worker.
1222360 remove obsolete constant
ee3ff1a use Greg's cleaner fix for CAN-2005-2970
7a221ad * Fix PR36883 (mod_proxy_ajp and tomcat issues).
879e935   Sync CHANGES, note the NET_TIME patch
f3a704a * Sync with 2.2.x branch (r306900)
088ea2d * Synic with 2.2.x branch (r306884)
8aa8c98 mod_proxy_connect: Fix high CPU loop on systems like UnixWare which trigger POLL_ERR or POLL_HUP on a terminated connection.
a4e7576 Get latex build working again.
484c08d   docs/build/ should not exist (docs/manual/build/ already in svn:ignore).
7b89ef7   httpd-docs procedures call for checking out build underneath   the docs/ tree, so add this subdirectory as an svn ignore
f5b0f0e   Bump MODULE_MAGIC_COOKIE to "AP24", as we are already changing the   binary ABI out-of-sync with any 2.1-dev (beta) development.
3c2ec8d update transformation
c46013f swap module and directive, heh ;)
7e2a549   NET_TIME, as a standalone feature, was a horrid idea.
e279db0   Spare us a wasted variable, csd is initialized null, acting   as the 'csd_set' indicator.
62d58df   Pay close attention to core_create_req() ... and note   that not one other member of the r->vars is initialized   herein.  Move this initialization elsewhere.
a25aa22 Move the AC_TRY_RUN expansion much further down, after we have had a chance to initialise the compile-environment for all platforms.
3c411bc Refresh the SSL FAQ to bring it a little closer to reality.
fc078f7 * Fix PR36507 (mod_proxy_balancer does not handle sticky sessions with   tomcat correctly).
e78c418 Invert the "yes" and "no" values for $ap_void_ptr_lt_long, which as Rudiger points out; are exactly wrong.
4674da2 One way or another, whether we leave the casts in or out, right now we are using "void *" containers to store long integers; Add a configure-time check to ensure that it is valid to assume that a "void *" container is large enough to store a long int. See <200510031150.j93Boh700945@devsys.jaguNET.com> and ensuing discussion on httpd-dev.
05c9c13 Initialise a variable, to avoid a gcc warning.
7bd608a Whitespace fixes.
1eda2a8 Actually show hot to use this.
e92e109 Remove some trailing spaces. Syncs with 2.2.x.
86c410c * Fix style nits (whitespaces / formats of comments). No Functional changes.
ec40407 * Add entry for r293123. * Fix bracket style nit.
d7bd8db Two minor whitespace cleanups. Syncs with the 2.2.x branch.
dccee73 Use the H flag to force cgi's to be handled as cgi-script.
16051d9 * run the request_status hook in proxy_handler if HTTP_SERVICE_UNAVAILABLE   is returned by ap_proxy_pre_request.
1c74433 sync with 2.2 branch
a755909 SECURITY: CAN-2005-2970 (cve.mitre.org) worker MPM: Fix a memory leak which can occur after an aborted connection in some limited circumstances.
cd3937b Fix pool in dbd_construct, and set sensible config defaults (based on feedback from Brian France)
c2a9a98 Use rsync to install manual and htdocs to speed up installation times.
638f93c Backport the Doxygen changes to the 2.2.x branch. No functional changes, however backporting these doxygen fixes makes it significantly easier to diff trunk and the 2.2.x branch, to sort out what's what. And we might as well release with nicer doxygen markup.
fc7c61e de-ref bug - balancer is always not null since it's &balancer from the caller.
c85c90e Add a changes entry for the mod_dir/mod_cache stuff.
e8c6b22 Add note about no Directory Indexes to SetHandler docs.
f5c5c2c Clean up c2x code-path by not double-setting the prefix variable.
efc39ab Remove install errors emitted when using jlibtool instead of GNU libtool.
859e696 * acinclude.m4 (APACHE_CHECK_APxVER): New macro, for checking an apr/apu version requirement.
f2bcddd When doing a subrequest lookup, do not lookup using the quickhandler if next_filter is NULL, since this implies that the subrequest will be internal_fast_redirect'ed or will never be called. See line request.c:1513 onwards (in make_sub_request) also.
86751a7 Explain why we have the regular file typecheck. No functional changes.
6eeba09 Fixes and cleanups for mod_cache;
9f6b440 As recommended by nd, build docs for all languages.
8172622 * Makefile.in   (docs): If the "docs-build" project is available, trigger its build system    to turn the XML sources into HTML.  Otherwise, display a URL to the    instructions on how to use the docs build.
67dd63a Synch with 2.2.x branch.
1a9591d * server/connection.c (ap_lingering_close): Cleanup; no functional change.
18c24c8 * server/connection.c (ap_lingering_close): Fix lingering close to really match the 1.3 behaviour: read from the client for up to ~30 seconds in total.  Current behaviour will attempt only 15 read() calls then give up.
d759ba7 * add svn:ignore to modules/database * fix some eol-style properties
065f3ab update transformation
9b6e07b * server/request.c (core_opts_merge): When AllowOverride is specified for the directory, ignore the inherited override_opts field.
7f9e4fa Add note on DBD APIs to Module Developer Changes in new_features. Update cast in mod_dbd.c as suggested by jorton.
23a3c20 Implement a (bounded) buffer of request body data to provide a limited but safe fix for the mod_ssl renegotiation-vs-requests-with-bodies bug:
62b4528 update transformation
2df2c6c update German translation
96948a8 Typo
b634ff9 Cover regex API changes for module developers, and mention support for external PCRE.
9971cfc Reflect current implementation
1ce59d1 Add mod_dbd to the NetWare build
ac067e3 Add the NetWare makefile for mod_dbd
a5663a3 Don't need the second reference to extfiltr.nlm anymore now that there are multiple submakefiles in the filters directory.
0db7f2f Fix a make problem that occurred due to the removal of the other submakefiles.  Referencing example.nlm twice is just a hack to fix the problem for now.
2ea4eb4 Add <glossary> tag for mime-type where appropriate.
c235fa9 Missed an end tag in the glossary.
c988b68 Add APR to the glossary and link it in where appropriate.
df8ad89 Fix dtd to match <glossary> change in xsl.
9d59df7 update transformation
75a9b8a update German translation
6bdc318 validate the glossary tags
db567c5   Add compatibility tag, and rebuild all.
2b1d057 Add some <glossary> markup for regular expression and regex.
2643f3d Omit reference to pre-2.0.48 versions.
6e1fadb Add htcacheclean to Makefile.win (thanks to wrowe for pointers)
356e6a8 The arrow indicator for a glossary link was cute, but I found it way too disturbing to the flow of text.  Here I replace it with a dashed-unline. Also, allow the omission of the ref attribute where the glossary term is exactly equal to the link contents.
6351805 Eliminate possible compiler warnings pointed out by Joe.
2c14a52 * modules/experimental/config.m4: Don't duplicate the mod_dbd APACHE_MODULE expansion and remove the commented-out stuff.
272d436 Document module moves
535d0ab Move mod_dbd from /experimental/ to /database/
d2fa38e Move mod_filter and mod_charset_lite from /experimental/ to /filters/
31bebda Add htcachclean to the win32 build.
f1a6106 update transformation
ec11f73 * fix some content errors of the TraceEnable description * add markup
4b01fb3 `build all`
c998a9d   Sync to 2.0.x changes
e3e60c6   At last, TraceEnable docs
526eb48 Backported to 2.2.x branch -- is 2.1.8 identical to 'the 2.2.x branch'?
21347fd Fix Bug#: 25659 (Memory leak in ssl_util_algotypeof()) Reported by David Blake in 2003, including patch.
e81d81c Fix Bug#: 25659 (Memory leak in ssl_util_algotypeof()) Reported by David Blake in 2003, including patch.
6c44f9f As of the 2.2.x docs re-sync, this change is now in the 2.2.x branch.
16032e8 As discussed previously: OID() -> PeerExtList()
3f26d58 simple German translation updates
12a609f update transformation
93caaed bring build properties up to date
e8d4bd1 Backport graceful-stop to the 2.2.x branch.
c2b947b Backport r239710, r239711, r239732, r239740 and r241815 to the 2.2.x branch; Fix PR 28167, which means we stop listening on ports when we do a graceful-restart.
d73f1f3 s/CVS/subversion/ : no policy changes.
ef061d3 Backported to the 2.1.8/2.2.x tree
47e086b * include/ap_mmn.h (MODULE_MAGIC_NUMBER_MAJOR): Bump for mod_ssl API change.
1ac93b6 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert_dn): Fix gcc 4.x different-pointer-signedness warning.
c89e152 Backport r239420 and r239421 to the 2.2.x branch; Enhance CacheEnable/CacheDisable to be of use to proxy servers.
0fb1643 * server/mpm/prefork/prefork.c: Add volatile qualifier to die_now since it is changed by a signal handler.
947368b Backport r239407 to the 2.2.x branch; Improve mod_disk_cache hit/miss ratio by canonicalising the url key.
77a1e34 Backport r265506, r240044 and r240049 to the 2.2.x branch; Appends .PID to the ScriptSock filename.
8a190d7 Catch up with the changes to mod_ssl and rename the function pointer to reflect the change. With this change this module now builds again.
ce3db86 Backport r264759 and r264788 to the 2.2.x branch. Fixes the get_suexec_identity hook for mod_cgid.
68ab9b0 Backport r239430 to the 2.2.x branch. Lets make sure WINCH is kept free.
5b981cc get rid of an obsolete comment.  the separate event thread disappeared when the event MPM moved into svn.
105543f   I'd prefer, before 2.2-final, to have AP_NEED_SET_MUTEX_PERMS defined   across all architectures as 1|0.  Comments?
42b3715 - remove ssl_ext_lookup and replace it with ssl_ext_list - change ssl_expr_eval_oid to use ssl_ext_list
54a2bf7 Remove a call to strerror(). Possibly a leftover from prior debugging code.
9e05636 Document the ReceiveBufferSize change done in r157583 Submitted by: Murray Nesbitt <murray@cpan.org>]
e122e9b   SYNC to 2.0.x/CHANGES; shift backported patches to the fixed-in-2.0.x   section, and ensure that common sections of CHANGES are 100% identical.
bfe0b8a rewrite CR mitigation logic to wipe out any trailing white space
f154e2b Any failure in apr_stat on a symlink currently gives "Symbolic link not allowed", which results in much head-scratching if the actual problem is a broken link of some sort.  The real fix would be to propogate the correct apr_stat error into the error log, but that would require more refactoring than I'm prepared to do.  This change simply expands the error message to include both possibilities.  It improves the situation for PR28515 but does not solve it.
d2f9ab1 gcc -Wall fix: depending on signedness of char.
f3ee29a gcc -Wall cleanup
8df46b6 * modules/proxy/mod_proxy_balancer.c (balancer_handler): Fix gcc warning; no functional change.
4ac48b6 Fix config file for mod_dbd
d01f2df Record the fact that we failed to set the username as requested.
d921934 Move the timeout mutex up, to limit the time we are holding it.
22c5cb4 Proxy balancer lbmethods are now registered as providers and not via hooks. Move various find() functions back to mod_proxy_balancer where they belong :)
cb68a80 New provider function, ap_list_provider_names(), which lists all available registered providers for a specified group and version number. Visible change so add CHANGES entry.
41bab00 Remove proxy_hook_load_lbmethods from Netware export list
1769dd1 update transformation
54bb998 Minor nit. Methods are server-wide, so simply use the base version table.
aec9a5f s/Redhat/Red Hat/ but use Fedora here anyway.
da3e833 Restruct of lbmethod find-best algo's, bypassing hook mechanism. Looking into provider method, but until then... Prevent core dump when balancer not in vhosts
974bc09 Language, spelling and grammar fixes for ssl_intro.xml
579ef38 Introduce SSLProxyVerify better.  Add a warning note on exactly what verification is done by the proxy in the proxy-to-SSL-server case.
aa6fdd0 httpd.exe/apachectl -V: display the DYNAMIC_MODULE_LIMIT setting
407dc73 * modules/ssl/ssl_util_ssl.c (SSL_X509_STORE_create): Catch errors returned by X509_LOOKUP_add_dir or X509_LOOKUP_load_file to detect malformed or misconfigured CRLs.  Clear error stack beforehand to ensure reported errors are relevant.
38454d4 * server/listen.c (open_listeners): Avoid shadowing the 'next' variable at function-scope.
cc841a2 Initiliase all of the first_*_limit variables to zero, so that we can actually raise limits beyond their defaults reliably.
106fdaa Revert one part. I should have tested seperately. This line isn't neccessary.
cef7ca9 Actually allow the admin to set thread_limit higher than the default.
d81de0d Add ap_append_pid(); This is performed enough to warrant a function I think, especially with the fact that the mapping of getpid() to APR_PID_T_FMT isn't consistant in some areas.
c208de0 Some simple debugging log entries
1df26ab More getpid format fixes
f2ed4fd Consistantly use APR_PID_T_FMT for getpid value
27da0d6 Start of getpid()/%d confusion fix...
5b3a9d8 mod_log_config: %{hextid}P will log the thread id in hex with APR versions 1.2.0 or higher.
5f64e4f * server/main.c (suck_in_APR): Remove weird gzeof reference which broke all the -Werror builds.
d2379c9 Make my PR references consistent with everyone elses.
7c8c772 mod_cgid: Refuse to work on Solaris 10 due to OS bugs.
a1e9d51 Fix CVE CAN-2005-2700:
19a0d05 If uid_t and gid_t are unsigned on a platform (hurd, for example), using -1 may cause a compiler warning.
c8e6fa7 Fix PR36410; Change how the get_suexec_identity hook is handled by CGID. Instead of using mod_userdir and mod_suexec specific hacks, we now run the hook on the httpd side of the handler.
4f1d428 Fix a grammar mistake; note what happens when the timeout is reached.
f87b4c1   Correct mod_cgid's argv[0] so that the full path can be delved by the   invoked cgi application, to conform to the behavior of mod_cgi.
010f409   Noticed in the development of fips-enabled mod_ssl, when we are   configured to support exactly one protocol, use that explicit server   and client mechansim to handshake with the client or proxied machine,   rather than the generic SSLv23_[client|server]_method().
146fd39 Implement graceful stop in the event MPM. Implementation is identical to the worker MPM implementation.
36b3643 *how* did I mis-spell that.
5a0531c Move the "GracefulShutdownTimeout" command definition into mpm_common
8c1e315 Doxygen fixup / cleanup
3e16840 Add graceful-stop to the list of new features.
d075344 Update transformations to reflect the graceful-stop XML documentation.
c31aede Add a note on the possible pit-falls that lie ahead when running multiple instances of httpd at the same time.
f73a68d If it makes it in to 2.2, leave it. Otherwise bump it later.
52428b7 Update CHANGES to reflect that worker now supports graceful-stop, that Bill wrote some of the graceful-stop code I stole from Ken, and to get rid of exraneous `'`'s.
fec621c Implement a graceful-stop for the worker MPM. We close our listeners, and then ask each child process to do the same. We then monitor until all children have exited.
de0b459 CGId keeps a copy of the listening sockets open, which interferes with a graceful shutdown/start. Close the listening sockets on cgid start.
b4b88ed Re-add a simple, obvious, speed-up.
04558be Remove as many ghastly scoreboard loops from the graceful-shutdown code, and replace with the new ap_relieve_child_processes() call. Add a sleep() call now, as we lost the timeout inherent in ap_wait_or_timeout(). 1 second seems a sane choice.
a500939 Add ap_relieve_child_processess(), a non-infanticidal copy of ap_reclaim_child_processes(). Allows us to waitpid() each process in the scoreboard and each "extra" process with a single call.
0dc658a suppress-error-charset now in 2.0.55-dev
b40eaaf Fix the RPM spec file: XML versions of the doc files are no longer removed. Added httxt2dbm to the sbin directory.
8b3205d Sync the all_in_one index page with the regular index page and update transformations.
16dcf59 Clean up some problems in the recently committed background faqs; Make the reference to the 1.3 FAQ a little more up-to-date; and add a FAQ on SELinux.
8a1e45e Make the arguments to the redirect directive clearer.
4237754 Allow htcacheclean to deal in gigabytes.
d7c04b1 Move the "GracefulShutdownTimeout" directive into mpm_common, for re-use with other MPM's.
d25bf11 hmm. for some reason some transformed files are missing in the last commit ;)
ae04550 Update the transformations to reflect the new graceful-stop argument.
bbb8aee Silly me, I forgot to commit this; the definitions for the GRACEFUL_STOP signal.
51daa83 Allow apachectl to support "graceful-stop" argument
ab0d82c Documentation changes relevant to new graceful-stop command line argument for httpd and apachectl, and the the "GracefulShutdownTimeout" directive.
c6fb6c5 Implement a "graceful-stop" for the prefork MPM (might aswell do the hard one first).
432af00 Make the neccessary changes to mpm_common and main to support a graceful-stop command line argument.
42ff4f9 Remove the note about WINCH on certain platforms. As of r239430, this is no longer the case and USR1 will be used on all platforms.
859b927 spell check
67e8ce3 * server/listen.c (open_listeners): If 0.0.0.0 is found before [::] for the same port, switch them so that the bind to [::] is attempted first.
4f75bd3 * server/listen.c (IS_INADDR_ANY, IS_IN6ADDR_ANY): New macros. (open_listeners): Simplify using the new macros; no functional change.
56101b2 A very minor, but particularly annoying whitespace fix. It took me 15 minutes to try and parse what was going on :-)
803cdc8 Update the documentation for the ScriptSock directive to match the .PID extension.
b379e69 Append the .PID to the ScriptSock filename. This change ensures that multiple running instances of httpd will not clobber each others script sockets.
e3d4e1f nit: Consistently CamelCase "ScriptSock".
cdb2935 Implement "de-listening" in the worker MPM. Fixes PR28167.  Comments in CHANGES file also cover r239710-1.
ea08df8 Correct the function prototype/declaration
aacf360 Implement "de-listening" for graceful restarts with the prefork MPM. With this change;
d6f8c96 Provide a function for closing all of the listeners.
11a5397 fix revision references and update transformation
11e80bd update transformation
a3932cd update German translation
e4e8151 Document change in lbmethod= argument
f065e18 add new documents to the sitemap
d6ed6d0 update transformation
2c1bdc5 update German translation
b6a51f1 `build all`
5ea66d9 `build all`
eeff385 activate LastChangedRevision expansion
b9ecf2d Update docs to document ap_dbd_prepare function.
42bcc68 fix line endings
60a8931 Remove over-zealous and invalid use of <indent></indent> in the Caching User-guide.
0f36c68 Update transformation
dc85b57 A first take at a User-Guide for caching. Covers mod_cache and mod_file_cache, and tries to place the caching modules in context.
275c89c Add APR_FOPEN_BINARY to the options passed to apr for opening the cache header files.
395896a Remove support for the threaded-mpm's on Linux 2.0, and de-autoconf the graceful restart signal. Frees up SIGWINCH for implementing graceful stop. See <20050727114058.GA3390@stdlib.net> and subsequent thread on httpd-dev.
aec1dab fix 64bit build warnings
727af3e fix 64bit build warnings in modules/dav
acf227a Enhance CacheEnable/CacheDisable to control caching on a per-protocol, per-host and per-path basis. Makes Cache(En|Dis)able useful for forward proxy servers.
c6700d7 remove some unused variables and re-name cache_select_url() to simply cache_select()
2e70288 Improve the cache hit/miss ratio by canonicalising the url key. hostname's are matched case-insensitively, port-based vhosts are catered for and the scheme included for future multi-scheme caching compatibility.
59a6823 Split mod_disk_cache.c into mod_disk_cache.c and mod_disk_cache.h to allow inclusion of mod_disk_cache.h in htcacheclean.c.
68e258c add htcacheclean to support/README
7482daa Update htcacheclean defines to match mod_disk_cache.c, Andreas is working on mod_disk_cache.h, an all-round better solution, but for now just fix the bug.
b5089a3 update transformation
c83b3be some language changes and fixes
6fcf2b4 `build extraclean all` (extraclean just to make sure I got them all :-)
29e3747 add description of background faqs, shown on the all in one page
ffe2d26 fix properties, line endings and copyright year
6aa6770 fix xml validation errors
ba37609 OID Support has been dropped from 2.2.x
5e46b98 Resync CHANGES with 2.2.x branch point.
4e2d0a4 mod_dbd:   (1) Export new ap_dbd_prepare function   (2) Put all dbd_open() stuff in one place   (3) Remove the servertoken
a75750a Arghhh.... missed the version. Sorry for the noise. Revert the hack for setting the lbmethod. The problem is deeper inside caused by the new hook to the balancer module that is never called on WIN32. Although the hack fixed core dump, the proxy is still unusable because the configuration is failing due to the empty lbmethod names array.
f2b99c5 Revert the hack for setting the lbmethod. The problem is deeper inside caused by the new hook to the balancer module that is never called on WIN32. Although the hack fixed core dump, the proxy is still unusable because the configuration is failing due to the empty lbmethod names array.
9fdf7c8 Backport patch from pcre 6.2 to fix integer overflows in quantifier parsing:
3b8fe8c Temporary make balancer working. What is needed is a setup for the finder function introduced, but never implemented.
4a91b09 Add ssl dir to include path.
48b1a69 * support/httxt2dbm.c: Fix some style nits, no functional change.
b0a7a77 Do not check the value of r->handler.
efb7785 Start adding more FAQs.  Some copied from the 1.3 FAQ.
7b11c89 Add proxy_hook_load_lbmethods to the export and imports lists for the Netware build
11e5eee Fix typo in manual [Ben Collins-Sussman]
03a7757 Move the debuging log message about the removal of a url from cache_remove_url_filter to cache_remove_url.
8998c32 mod_disk_cache: Remove the directory path of the cached file as far as possible (up to the cache root) to get rid of unused empty directories.
487504d When using the LB Balancer manager, if you disabled a member, then clicked on another member and/or itself again, the member would be re-enabled. This was due to the form being "submitted" and 'dw' being null (observed with Safari). Anyway, moving to a radio makes it explicit.
4813d8a Get rid of some warnings
a7d488a simple, functional interface to add additional balancer lb selection methods without requiring code changes to mod_proxy/mod_proxy_balancer; these can be implemented via sub-modules now.
5d7d8f2 * modules/cache/cache_storage.c (cache_remove_url): Remove unused variables.
ab0fd00 Fix mess left by incompleteness of previous ProxyPassReverse fix
1e9e5a6 * support/htcacheclean.c (directory_empty): Remove unused function.
9d7b592 Fix build error from cut&paste
929eb45 Fix incorrectly served 304 responses when expired cache entity is valid, but cache is unwritable and headers cannot be updated.
d757d82 mod_cache: Implement remove URL via a filter.
a992d08 Implement mod_disk_cache's remove_url.
39d6c7d Add const-ness to apr_dbd_driver_t
d153de5 Fix ProxyPassReverse & family to work correctly in <Location>
fef9982 Note two changes (r231349 and r231351) that are paired together.
c5db999 Add -t option to htcacheclean to clean out empty directories.
d971ca4 mod_disk_cache: Retry file rename up to three times to ameliorate race condition with htcacheclean removing the directories underneath us.
614849d Update mod_dbd to API that hides apr_dbd_driver_t struct.
7b00558 Fix bug where non-200 CGI responses will not send anything down filter chain. This is most notable when mod_cache is used.  This has been used in production on wiki.apache.org for a while now.
4a4869a * modules/proxy/mod_proxy_http.c (stream_reqbody_cl): Fix gcc warning.
d034a8e   Hopefully, address the last edge case where status may   be uninitialized.  Asserts in non-debug builds are bad things,   anyways, so this is probably more correct.  This should fix   -Werror compile warning observed by Joe Orton.
43d07d7 Remove the base href tag from mod_proxy_ftp, as it breaks relative links for clients not using an Authorization header.
623fe12 * modules/http/byterange_filter.c (ap_byterange_filter): Update some comments.
5143fec * modules/ldap/util_ldap.c (util_ldap_parse_cert_type): Fix gcc 4 warning "type qualifiers ignored on function return type".
c2c05e0 Ensure that req->dn is valid for the util_ldap_cache_compare() call. Esp make sure not null.
cc2db72 Add a User-Agent to the dummy connection code to ease admin debugging.
6b7dcfa   Two blank lines for clarity; whitespace only change.
a29f5c9   We already accept 80 bytes less than the client body's anticipated   size, so we don't need to also prefetch an extra 1024 bytes; this   was redundant.
2bdf4dd   Drop an impossible case; the while() loop already protected us   from this situation.
c9e9770   Fix a double-termination case in svn trunk/; we terminated the   headers up-front knowing the resulting headers were already   correctly composed.
d6bbff7   An impossible-to-hit edge case today; we described the request   as chunked - and if chunked always send the body termination "0"   chunk header.
675c62c * server/vhost.c (get_addresses): Fix double negative and make errors consistent; thanks Joshua.
8b92612 * server/vhost.c (get_addresses): Fail with an error message rather than an assert() for errors which plague users on Solaris boxes which don't have a properly configured resolver.
e4ff0cc * modules/ldap/util_ldap.c (util_ldap_post_config): Pass NULL to apr_global_mutex_create if no cache file name is specified, rather than inventing an inappropriate name with tmpnam().
7754d82 * server/util_pcre.c (ap_regexec): Fix --with-pcre build with older versions of pcre.
a9e8d16 Patch contributed by:	Daniel Rall <dlr@apache.org>
e3ee8fb * modules/ldap/util_ldap_cache.c (util_ldap_cache_init): Only remove the shm segment by name if a name is configured.
9582f97 For generated files, strip off an absolute path
056b92b Commit (forgotten) generated files for changed in ssl_expr_parse.y and ssl_expr_scan.l
9562ffb * modules/ldap/util_ldap.c (util_ldap_post_config): Fail if util_ldap_cache_init fails; let ap_log_error call strerror. Downgrade informational messages to APLOG_INFO from APLOG_NOTICE. (util_ldap_child_init): Remove some noisy but fairly pointless debugging output.
c1e4ed7 * modules/ldap/util_ldap_cache.c (util_ldap_url_node_display, util_ldap_search_node_display, util_ldap_compare_node_display, util_ldap_dn_compare_node_display): Use ap_rprintf.  Terminate table rows with "</tr>" not "<tr>".
1dbc141 * modules/ldap/util_ldap_cache.c: Remove various casts-from-void *, fix various minor style nits.  No functional changes.
54b8395 * modules/ldap/util_ldap_cache.c (MODLDAP_SHMEM_CACHE): Remove unused macro.
01acb7f * modules/ldap/util_ldap.c (util_ldap_post_config): Don't attempt to remove the shm segment here.
8fab5ec * modules/ssl/mod_ssl.c (ssl_hook_pre_config): Initialize all algorithms in OpenSSL; enables PKCS#8 keyfile support.
53a7062 Nitpick; changed for consistency.
d8af9c4 * modules/ldap/util_ldap_cache_mgr.c (util_ald_cache_display): Replace ap_rputs(apr_psprintf(...)) with simpler ap_rprintf(...).
1dc07b9 * modules/ldap/util_ldap.c, modules/aaa/mod_authnz_ldap.c: Stop using APLOG_NOERRNO throughout.
58c92d7 * modules/ldap/util_ldap_cache.c (util_ldap_cache_module_kill): Make private function static.  (util_ldap_cache_child_kill): Remove prototype for function which doesn't exist.
99bc6a8 * modules/ldap/util_ldap_cache.c (util_ldap_cache_init): Use the actual available size of the shm segment not the requested size. Ensure the requested size is aligned.  Check errors from apr_rmm_init.
e7479bf Add status param option so that current worker status can be changed via editing httpd.conf instead just using web page. Seems the ApacheCon is paying of. Thanks to Sander for pointing that out.
3bf6217 * modules/ldap/util_ldap_cache_mgr.c (util_ald_cache_insert, util_ald_cache_remove, util_ald_cache_fetch): Always use "unsigned long" for hash values, for consistency.
9a76da4 * modules/ldap/util_ldap_cache_mgr.c (util_ald_cache_insert): Fix a cache corruption case: ensure that there is room in the cache for a copy of the payload before inserting the node.
93004fd * modules/ldap/util_ldap.c: Remove DOCTYPE_* macros duplicated from httpd.h.  Remove redundant prototypes of static functions which aren't used before they are declared.
8a8be2d * modules/ldap/util_ldap.c (util_ldap_cmds): Make static const.
9afa154 * modules/ldap/util_ldap.c (LDAP_CACHE_LOCK, LDAP_CACHE_UNLOCK): Wrap in do/while for safety.
40eb7b3 Ignore httxt2dbm.
d3f1127 * modules/experimental/mod_filter.c (filter_trace): Fix gcc -Wformat-security warning.
84b83bc * modules/aaa/mod_authnz_ldap.c (authz_ldap_check_user_access): Remove unused variable.
495e16d Add the path to the mod_ssl include for the setenvif module.
7303aa9 * modules/ssl/ssl_expr_eval.c (ssl_expr_eval_oid): Remove unused variable.
b3163fe * modules/proxy/mod_proxy_http.c (stream_reqbody_cl): Fix format string error. (ap_proxy_http_request): Restore default case in rb_method switch to fix gcc warnings.
7e5a401 * modules/metadata/mod_setenvif.c: Unconditionally include mod_ssl.h. (setenvif_post_config): Fix prototype fubar.
085f63d we need to match the string end.
0e85b1c add generated convenience rewritemap
d95c20e add xslt script for generating the directive -> url mapping
a9d4303 rebuild docs.
17cad08 Describe the new syntax:   SetenvIf OID("2.16.840.1.113730.1.13") "(.*)" NetscapeComment=$1
4c8c573 Allow extraction of the values of SSL certificate extensions into environment variables, so that their value can be used by any module that is aware of environment variables, as in:
a8bce20 build.
5c4eafb Use -o for output of dbm files.
1ac10ad Changed cmpstri to strcasecmp as per Justin's note.
492d69d Remove some rather confusing phrasing regarding mod_proxy and how to determine if it is installed.
3fa4c5f Document change to mod_ssl's SSLRequire directive, bump version to 2.3.0 as already done in the ap_release.h header
f4b3ad2 Opps. Use the correct member of the structure.
f00dcbe Correctly restore the HTTP status from the cache handler.
18aa2b5 Using the user nobody (or similar accounts on other systems like nouser) violates the purpose of that user.  User nobody exists specifically as a user that no process runs as and that owns no files on disk.  Same for nogroup.
01d65f9 Quick hack to store varied contents under the same path, making it easier for admins to manage the cache.
b5a3f87 Collaborative work: (Thanks, dreid!) Implement OID checking for mod_ssl. This code allows for checking of arbitrary client certificate extensions by OID, in a syntax like:    SSLRequire "BaDCA Generated Certificate" in Oid("2.16.840.1.113730.1.13") \           || "committers"                   in Oid("1.3.6.1.4.1.18060.1") Note the following: * A given OID can occur multiple times in one cert, with different values. Therefore   the OID function compares the left-hand string against each of the OID values,   until a complete match is found. If none patches, the result is FALSE * The left hand side can be another expression, so can be a reference to a variable   or an file() invocation etc. * The OID is also just a reference to a string, or function, or whatever. * My manual description is very short. Someone else please help improve the description
5c887b8 The arguments to require are case-sensitive, so that "Require User" and "Require Valid-User" don't work. This makes those comparisons case-insensitive.
7d83663 Now you can run mod_deflate before mod_cache, and cache it.
f68b96f re-indent.
2a286fd Check an alternative return value for when a file or directory does not exist.  Previously this would return a forbidden on the documentation website for any URL ending in .html.
0141d72 * support/httxt2dbm.c: Include stdlib.h to pick up atexit() prototype.
fecc6fc `build bootstrap` `build all`
4320ae8 * modules/http/http_filters.c (ap_send_http_trace): Silence gcc variable-may-be-used-uninitialized warnings.
a7e4a4d Update Japanese translation. fix typo.
7cf8680 use utf-8 for our CHANGES. We have problems to add international names otherwise.
d29bc02 Update Japanese translation.
b01689a Update Japanese translation.
c50deec Update Japanese translation.
09747d4 Fix typo.
cbbd457 * fix properties * `build all`
f223567 Fix typo and recover missing sentences.
16ab528   Yet another snafu in body handling.  We need to clearly avoid any   ap_get_brigade or request body processing in every *subrequest*   proxy action.  The new code introduced more chaos because we read   the request body irrespective of any bogus header handling bugs.
157942e move trunk to 2.3.0-dev.
1befac8 Picking a nit
25596ba Fix typo.
e3b8df6 c/major bump/minor bump/
f815ba9   Fix broken while () {} loops (lingering code from the old logic),   closes an infinite loop in the most recent version.  Init the cl_val   to prevent failure of zero length bodies in the most recent version.
182c17b Documentation for the new httxt2dbm utility.
d40a655 Add Serbian error message translation
9ffe8c5 This patch adds a new hook (request_status) that gets ran in proxy_handler just before the final return.  This gives modules an opportunity to do something based on the proxy status.
63fc1b1 update transformation
be88b31   Backported a few already
f38fd1c   On Roy's suggestion; why wait to try to clear out the input   stream if it is smaller than MAX_MEM_SPOOL?  Do this upfront   before dispatching to a body handler.
5bec2aa   Fix a style problem; b is ambigous (is it a brigade or bucket?)   bb is far less ambigous.
fac43ee   leaving force-proxy-request-1.0 for broken clients, revert my   patch for forcing an HTTP/1.0 proxy request, if the client   request is HTTP/1.0, per Roy.
00b8681   Missed an edge case; once we know the C-L didn't match, it's   time to shut down the body already.  Finish reading from the   client but do nothing else, returning an error.
b05ef49   How can I fix thee?  let me count the ways...
9a44d68   Fix two fat-fingered typos from commit 216156.  Code matches previous   behavior now; time to start fixing.
bf0bd6d   send_request_body and indentation made it very difficult to follow   all the mistakes in this code.  Fold send_request_body into reindent   to make the pattern clear and skip some extra string handling.   Little functional change, that comes next.
d2ff850   End abuse of apr_strnat[case]cmp - it isn't str[case]cmp.
0b55a19 Update transformation.
c2505c3 Minor changes.
2487ce3   Added TraceEnable, and note Request Splitting/Response Splitting.
4418c45   The cookie is AP22 by unanimous consent.
b0ac173 Don't talk about request smuggling in the response handling fix.
8342bc0   Fix a ton of wrong/silly indention, and clarify the fix-notes
6bcf43d Fix the CHANGES to reflect when things were really fixed. Also remove the security tag from the proxy change, as suggested by Joe.
f457290 Good suggestion from a private Email. name changes.
4e5c16b   No UCHAR, per Joe
073384b Fix case where buggy OpenSSL internal cache continually grows. So don't bother to store it, but still force OpenSSL to provide a Session ID.
eaccca5 Fold in latest SSL doc changes
6b8a495   Joe strongly objected to this outgoing style; use this incoming   style for const modifiers so the reader can still follow that   the data is [const] unsigned char *
f63a7c4 The request smuggling issue did get assigned CAN-2005-2088.
3e2a946   The macro is simply not worth it; each of these various occurances   differ as openssl has modified pointer constness from bump to bump.
9e3b533   Add notation of Georg's patch to capture SSL_COMPRESS_METHOD.
f55ad90 Add the NetWare makefile for the httxt2dbm utility
4e21137 Add the httxt2dbm utility to create DBM files for RewriteMap.  This replaces the txt2dbm script in the manual, and allows the use of any available DBM format.
622042c   Wrap this type in a macro since it seems to be bouncing from   0.9.7g to 0.9.7h in const'ness.
340df9c   Add SSL_COMPRESS_METHOD variable (included in +StdEnvVars) to note   the negotiated compression.
a54a614   Dev Studio automatically adds the intermediate and final directory   paths to each custom build target.  However, the time stamps of these   directories will trigger a rebuild in bison where sources haven't   changed.  These targets are not necessary, as these generated files   reside in the current directory (which, obviously, already exists.)
3068237   Accomodate API changes to OpenSSL 0.9.8 (now in beta).
179ca06   This test for TraceEnable cases cannot be buried within the max-forwards   logic cases.
34e82d6 use struct assignment instead of memcpy so the compiler can decide whether to inline the copy loop or call memcpy
27b516b Fixed complaints about unpackaged files within the RPM build after changes to the config files.
049cdcf fix typo. Submitted by: kano@na.rim.or.jp Reviewed by: kawai
d90cbe8   Plug AllowTrace extended|on|off into proxy and http core.
025c799   Initially a no-op.  Add trace_enable configuration.  The http and proxy   flavors of interpreting this flag are yet to be committed.
2aac52b   Whoops - two things at once.  Document MAGIC_COOKIE "AP21"
c88cb07   Change Apache httpd 2.1 signature to "AP21" as this flavor   is binary-incompatible to any "AP20" module.
02325f7 The event MPM now works on Solaris 10. It is fast too.
11865f1 * server/mpm_common.c (dummy_connection): Fix length argument passed to apr_socket_send.  Remove redundant _shutdown call.
e6dd683 2.1.6 got released.
0fc50d9 `build all`
f7ba337 adjust revision references
fc34745 fix xml validation error and wrong directive reference
97e1e82 fix line endings
f50493c Submitted and reviewed by Vincent Deffontaines, alain B and Jean-François El Fouly.
288bb4c Argh. Style Fix. Habits are hard to kill.
d72e95a *) server/mpm_common.c: Send a simple HTTP 1.0 request to every listener socket, instead of just closing the socket.  This fixes shutdown of the Worker MPM on FreeBSD, when Accept Filters are enabled.
bee34f6 typo: submitted by Daniel Lopez (daniel at rawbyte dot com)
677838d Add more detail to the RewriteMap rnd: example, as well as rewriting some of the text that makes this feature seem less useful than it actually is.
0eb1a0b   More cleanup, organization to make README easier to follow.
b40f5a5   Rearrange some deck chairs, just reformatting, axing unmaintained   'Binaries' section.
61248db Add redirect-carefully for Dreamweaver MX.
b536107 Move on to 2.1.7-dev.
f2a9978 - Prepare for 2.1.6 tag.
363ddf3 - If the Protocol has not been set, do not crash.  Long term, we need to ensure that the protocol is set in all cases, and in all MPMs.
e077e6e Fix htdbm password validation for records which included comments.
8fbebb8 Add some comments
f5cd172 proxy HTTP: If a response contains both Transfer-Encoding and a Content-Length, remove the Content-Length and don't reuse the connection, stopping some HTTP Request smuggling attacks.
8c8f84d Add references to Apachetutor in developer docs
d67cf94 * modules/aaa/mod_auth_digest.c: Another gcc 4 "structure field may be used uninitialized" warning; fix validation of digest-uri for CONNECT requests:
ba2f28e * server/protocol.c (ap_read_request): Remove the Content-Length header if any Transfer-Encoding header is present, regardless of value.
3169261 * modules/proxy/mod_proxy_balancer.c (proxy_balancer_pre_request): Fix another valid variable-may-be-used-uninitialized warning from GCC 4 (in the !balancer->sticky case, find_session_route returns NULL without setting route).
fc3a145 * Rewritemaps use ${...} * adjust the mime type directory in mod_mime.xml.ja as well (to get it uptodate   again) * `build all`
7656bcc Correct the location of this resource.
48f72a2 Somehow I just committed the wrong file. This patch adds an example for RewriteMap
3fd2c44 Brief example of actually using a map, once defined.
28f6793 Documenting mod_dbd and monitor hook in new_features.
badfb79 mod_cgid: Fix buffer overflow processing ScriptSock directive.
e66bddb PR: 10775 Submitted by: Christian Schubert <mail apexo de> Reviewed by: niq
6977e76 Don't try to rebuild the shipping files.
98fb46d fix lineendings
383bae1 if Transfer-Encoding is not "identity" ignore Content-Length. otherwise ajp-proxy hangs when Transfer-Encoding is "chunked".
2e3f62d   caddr_t is quite non-portable, but a (void*) will do the trick.
2e6e500 Onward to 2.1.6-dev!
33180c7 * include/ap_release.h: Remove -dev to prepare for 2.1.5 tag.
357706a If a request contains both a T-E and C-L, remove the C-L, stopping some HTTP Request Smuggling attacks exploited when using HTTPD as a forward or reverse proxy.
d71c931 build all.
97220fc - Add documentation on the new AcceptFilter directive. - Update Listen with the optional protocol arg.
ac48c6b PHP 3.x + httpd-2.2 seems... unlikely.
0e5a55b Change "Files ~" to the preferred "FilesMatch"
98693ce * build/config_vars.sh.in: Expand LTFLAGS here, to fix `apxs -q LIBTOOL` again.
a5930f7 Fix up some type mismatches that are causing compiler errors in Metrowerks on NetWare
05b8e8b Delete the completely outdated httpd_roll_release script.
4c24284 * support/htdbm.c (main): Fix (valid) variable "may be used uninitialized" warning with gcc 4.0.
9687f8c Update remaining 2004 copyright notices.
6a23d6e Merge the listen-protocol sandbox branch to trunk.
13424c5 - Remove unneeded cast.
03bf1c3 - Bring htcacheclean into sync with mod_disk_cache.  It now has a very basic understanding of the Varied Headers file format, and will cleanup orphaned data files, or Vary Header Files that have expired.
d429305 - Partial revert of revision 190535.  Remove const from tempfile, since apr_file_mktemp() requires it.
e54924f * cache/mod_disk_cache.c: Make most members of disk_cache_object into const char*. This removes the need to cast the const out in several places. * cache/mod_cache.h: Make cache_object.key a const.
605cba8 - Remove unused dirlevels and dirlength from the cache info structure.
e4ef997 Based on feedback from dev@httpd, store Vary headers inside the '.header' file. These Vary headers are used to build a new hash for a URL, based on the client's headers.  This allows mod_disk_cache to store many variations of one URI, where previously it would only store a single variant.
f2f8515 * configure.in: Define MKINSTALLDIRS and INSTALL in config_vars.mk. Don't use AC_PROG_INSTALL since any system "install" command is never used anyway.
b827424 Sanitize the installed config_vars.mk to remove references to the build and source directories, and to remove variables which are internal to the httpd build system:
89cf092 update German translation; update transformation
0207850 update German translation; update transformation
4ae5658 - link/unlink are not called directly, so we do not need this extra header.
0d46d69 - Use apr_file_mktemp() and rename the header data file to its final location, instead of opening it and then writing it out as we go.  Should prevent race conditions on busy servers.
947ce24 * cache_save_filter:     *) Remove the first set of Validation code.  Use the main if structure to check for both 'Vary: *' and 'Cache-Control: no-store'.     *) Add logging of failures for a provider's store_body function.
d2ed0fd * modules/ssl/ssl_engine_io.c (ssl_io_filter_init): Initialize the nobuffer flag to zero since the structure is palloc'ed not pcalloc'ed.
d8d87c7 * Makefile.in (install-build): Make installed config.nice 0755 too.
99351e7 * Makefile.in (install-build): Fix variable names.
30d100b * Makefile.in (install-build): Install mkdir.sh since it's used by the installed special.mk now; install instdso.sh as 0755.
7fe60ec adjust revision reference; update transformation
d88559e Fix link to mod_proxy_html
721efba Rename generate_name to ap_cache_generate_name
eab819d * modules/mappers/config9.m4: Substitute INSTALL_DSO as "yes" if mod_so is linked in, or "no" otherwise.
32ed21c * build/instdso.sh: Extract LIBRARY_NAMES and DLNAME without using grep; fix extraction of LIBRARY_NAMES which was sedding the wrong variable name.
5cdbe84 * Makefile.in (install-build, install-headers, install-conf): Minor cleanup: use MKINSTALLDIRS unconditionally since mkdir.sh already checks whether the target exists; use INSTALL_DATA throughout.  Stop trying to install os/*/os-inline.c which don't exist any more.
d3691cf Synch with 2.0.x branch.
e6ddb57 * modules/ssl/ssl_engine_dh.c: Adjust the embedded perl code such that it generates the current C code again (after some refactoring a while ago); and regenerate the file.
3296153 * modules/generators/mod_cgi.c (cgi_bucket_read): Log a specific error if a timeout occurs from a blocking read; more helpful than a generic "apr_bucket_read failed" error from some higher-up filter.
40b2f8d * modules/http/byterange_filter.c (ap_byterange_filter): No functional changes: reflow/reformat after r188797.
6d5abba * Makefile.in (DISTCLEAN_TARGETS): Clean up more files generated by configure.
fef85f7 Fix for reported compile problem
b0a5cb0 Add monitor hook (discussed under "watchdog" thread).
99cc1e8 * Makefile.in: Fix brokenness with VPATH builds as the .conf files do not exist   in srcdir and sh panics; also fix one whitespace issue.
ac40284 * modules/http/byterange_filter.c (ap_byterange_filter): Refuse to byterange any response which may require the consumption of arbitrary amounts of memory.
222d82e * mod_cache.c: When 'Vary: *' is sent, do not cache, since revalidation is always required.
a5949b1 update transformation
b4369f7 * server/main.c: Remove the suck_in_apr_password_validate() hack.  apr_password_validate is part of the public APR interface and this hack should not be needed on any platform.
85015ce 'generate_name' is too generic to be in the public symbols. Rename it to ap_cache_generate_name. No functional changes.
968bb86 * modules/ssl/ssl_engine_kernel.c (ssl_callback_SSLVerify_CRL): Fix off-by-one.
aad70a1 * modules/filters/mod_include.c (handle_include): Fix possible variable corruption with nested includes.
45174f2 write a CHANGES entry for PR 34512; looks like it resolves user-visible misprocessing in proxy ftp which could result in directory listing for regular file retrieval
cf10bfa mod_proxy_ftp: Fix comparison of char* to '\0'
de610e7 - Fix closing </Files> tag.
75c1bee - Use the correct newline in htpasswd, instead of always using \n.
45e47b1 mod_mime_magic: Handle CRLF-format magic files so that it works with the default installation on Windows.
579610c - Fix style nits in the new hash config code. No Functional changes.
d4dfb2f - Fix graceful restarts with the new hashed configuration.  The hash now allocates out of the pconf pool, instead of the process pool.
a91f802 Note that SSLUsername is ignored if FakeBasicAuth is used.
e195517 * event.c: Create ptrans pool as a child of pconf, to fix APR pool   lifetime checks in apr_tables.c.
002ca14 downgrade the log level of a proc_mutex_unlock error message when it occurs during restart; it isn't at all uncommon then when SysV semaphores are used for the accept mutex
3a4de8d - Use a hash for the configuration command lookup implementation.  Now modules can properly directives without dependence on the LoadModule order.
f96c9bb - Put a prefix on this error message to have a chance of finding it in the source. Just stuffing the parser error buffer into the error log is not helpful if I didn't know where it came from.
1769b92 update transformation
2d3678a update Japanese translation.
df86e98 Fix segmentation fault in mod_auth_{basic,digest} when no provider is explicitly listed. Reported by: Ben Collins-Sussman <sussman collab.net>
4fc1adc * Makefile.win
3d55a97 Clean up the notes to the logformat section of the mod_log config docs. These have been growing using the "here's something else we should say" technique, without any serious thought for readability.
3c2b4af We have been installing config.nice in build/ for a while, so we might as well tell people about it.
53b2e84 `build all`
0f1cc92 Add mod_authn_alias to the list
5d2f77b Reverse r168030 because the not-acceptable (406) custom error doc can't provide all the information provided by the internal doc.  Also delete the corresponding .html.var file to avoid future confusion.
693107a - Use apr_uri_t to parse the proxy URL, instead of munging it by hand. Original code did not handle IPv6 Addresses correctly.
e68b037 fix line endings and keyword expansion
a77ad01 Commits 160348 and 160352 are obviated by commit 178340 in APR. httpd should have to deal with EAGAIN on a socket it doesn't know is non-blocking.
08f4747 Documentation for mod_authn_alias
76c0a8b fix minor annoyance on z/OS: __FILE__ is set to "./foo.c" instead of simply "foo.c", so filter out all but the basename before logging it with debug messages
e9323f0 EBCDIC: Handle chunked input from client or, with proxy, origin server.
052b5b8 Note the addition of the mod_authn_alias module
897691c Fix trailing backslashes in configuration directives.
14b9560 Fix typo. Submitted by: kano@na.rim.or.jp
3544523 Update Japanese translation.
0b49d4208 Add mod_authn_alias to the build
556fb59 Add the auth provider name as a note in the request so that authn_provider_alias is able to look up the original provider along with the per_dir configuration.
9b1a855 Submitted by: Rüdiger Pluem <r.pluem@t-online.de>
79a282d authn_provider_alias adds the configuration block tag <AuthnProviderAlias baseProvider Alias> Authentication directives contained within this block can be referenced as a new authProvider using the AuthBasicProvider or AuthDigestProvider directives.  These directives will be merged in to the per_dir configuration just before the base provider is called.
1e83d2e sync
b5ed63d The new function ap_logs_child_init() is intended for use only by the core server.  Require CORE_PRIVATE to obtain the prototype.
dce9ea5 Fix 32787 and the problems I have when using --enable-experimental-libtool. (libtool is an excutable in this case).
3971484 fix typo in comment
9d9b45a * server/mpm/worker/worker.c (listener_thread): Create ptrans pool as a child of pconf, to fix APR pool lifetime checks in apr_tables.c.
35aee92 update transformation
99ab686 some markup cleanup, better topic section name, fix XML validation error
7c44e39 * fix EOL properties * add LastChangedRevision keyword to mod_dbd.xml * fix copyright year in mod_dbd.xml
7f2deb1 svn:eol-style native
9b3b56d Add HTML version of manual page for mod_dbd
e696c7a Fix up header in mod_dbd.h (I remembered .c but not .h before previous commit)
b5198ab Committing mod_dbd as new.
4741d91 * server/log.c (piped_log_spawn): Don't leak an fd for each invocation.
8ceb063 WebDAVFS (1.3) is still broken in OS X Tiger.
686f7f0 update translation
feac33b update transformation.
1e5b8c6 Move the info about the params to the correct section.
6e81e7e typo
9d6a679 update transformation
8f9c95c * support/ab.c: Rewrite SSL support so that it works reliably, and enable it by default when the --enable-ssl is passed to configure. Adds support for -Z and -f arguments to tweak SSL protocol options.
5e080e6 * server/log.c (ap_open_piped_log): Remove errno handling.
534ee63 * server/log.c (piped_log_spawn): Return the APR error code, as expected by piped_log_maintenance (and fixing "Unknown error" messages in error path there). (ap_open_piped_log): Expect an APR error code.
b90c24d * server/protocol.c (read_request_line): Revert addition of error message which triggers every time dummy_connection() is used to wake up a child.
10d2058   One issue I repeatedly have with 3rd party module builds is that   they may choose to build a platform-default library with the usual   platform-default extension, as part of the compilation process.
1c8f208   Did not belong in r170253; evalute this patch seperately from   the win32 /Oy- patch.  Will recommit for seperate discussion.
8f0fdd6   This module shouldn't have been added; it's an experiment on my   local tree.
7ae218a Support the suppress-error-charset setting, as with Apache 1.3.x.
f78a4e4 Prevent hangs of child processes when writing to piped loggers at the time of graceful restart.
20d06d7   Reintroduce stack frame construction with /Oy- (removal was implied by /O2).   This makes binaries far easier to debug, during operation and for post-crash   .dmp analysis.  Do not alter /Gs optimizations per brane.
ea88cc4 Update Japanese translations.
2be0ba1 fix typo. Submitted by: Nobuyuki Morita
a6e3e88 * configure.in: Disallow use of bundled APR with external APR-util, or bundled APR-util with external APR, another cause of the dreaded PR21718.
b119277 Make sure that the LDAPVerifyServerCert patch is compatibile with apr-util 1.1.x.  Once apr-util 1.2 is released, the ifdef's need to be removed and apr_ldap_set_option() will handle the SDK differences.
19c2fda Show the Quick Handlers in mod_info. Commit it to trunk, instead of the Listen-Protocol Branch that my -dev workspace was using.
483a8ab Add the LDAPVerifyServerCert directive to the util_ldap doc
1439ca9 Add the LDAPVerifyServerCert directive to util_ldap to force verification of a server certificate when establishing an SSL connection to the LDAP server
6f43dcb I can spell 'before', honest.
c849663 Make sure mod_rewrite always runs before mod_proxy in the translate_name hook.  This makes doing RewriteRules on a Reverse Proxy.. Slightly more predictable than the order of LoadModules.
0004be6 Correct User/Group bug reported on the mailing list by Vincent Deffontaines
fcffa0f deprecation, n.: something that happens to functions before they're removed.
f09c2ad Add docs for SSLCADNRequestFile and SSLCADNRequestPath, based on patch by Tim K. Taylor.
97ef049 fix typo. Submitted by: Nobuyuki Morita
e06eaeb missed a couple.
549cf1e Backing out the AuthLDAPAllowDNAuth patch from r168016.  Because of LDAP filter issues this patch still can't guarantee unique results.
259fe77 `build all`
3bce42b Remove this old email from the source tree.
7b4e286 * server/listen.c: Remove the unused port parameter from open_listeners, and update the comment to reflect reality.
1e08208 note change in mod_authnz_ldap
da9a8de Add AP_INIT_TAKE_ARGV. There can be some inconsistent results because of the behavoir of ap_getword_conf. Do not rely upon any last argument that is "".  If the argument is in the middle of the line, it should work correctly.
5ceb57a worker and event mpms: transient thread creation errors shouldn't take down the whole server.
8f193f8 The SPMT_OS2_MPM doesn't exist.  The warning is also wrong, since both winnt and prefork MPMs call this function.
23ea0cd Missing ErrorDocument line for Not Acceptable.
c153cbd Fix the static function declarations in the prototypes
3a34476 Add the directive AuthLDAPAllowDNAuth to allow a user to authenticate against an LDAP directory using a full user DN.  This directive allows a user to authenticate against a subcontext that may contain non-unique user IDs.
2a84c5a Add a little detail about merging of .htaccess with httpd.conf, and provide an example to enforce certain settings.
a494258 * server/config.c (process_resource_config_nofnmatch): Fail with useful error message if the config file can't be opened.
1a522a1 Finish committing the transformations that I accidentally started in the last commit.
242f415 Two clarifications of ErrorDocument:
e2188d8 Typo fix.
b8fc869 Dcoument the fact that startssl is gone.
2a5893f Add a vote.
6345eca %t has logged request time for a very long time. From mod_log_config.c:     /* ###  I think getting the time again at the end of the request      * just for logging is dumb.  i know it's "required" for CLF.      * folks writing log parsing tools don't realise that out of order      * times have always been possible (consider what happens if one      * process calculates the time to log, but then there's a context      * switch before it writes and before that process is run again the      * log rotation occurs) and they should just fix their tools rather      * than force the server to pay extra cpu cycles.  if you've got      * a problem with this, you can set the define.  -djg      */
e9cac1b Disable some default LibC debugging code when compiling optimized
d4f34c5 * modules/mappers/mod_userdir.c (get_suexec_id_doer): Fix allocation size.
f05f852 Move the ldap_set_option() call to set the connection time from being global to being connection specific.
440083d - don't allow PROPFIND in the default config for public_html directories
f4da1ff update transformation.
368356d Document that SSLRequire is broken for use in threaded MPMs and .htaccess files.
f30f9b8 httpd-config would be a great thing to replace apxs with.
5e7d4b2 AllowEncodedSlashes fix was backported in 2.0.52.  Remove this STATUS file entry.
275e2b8 Oops... document ap_get_local_host() rewrite.
03c53e0 Add ap_vhost_iterate_given_conn() as I had previously mentioned on the mailing list.
af9ae7c Remove ap_method_list_do and ap_method_list_vdo as previously mentioned dev@httpd.
97817b5 * httpd/modules/ssl/NWGNUmakefile
aabfac6 * manual/mod/mod_log_config.html.ja.euc-jp   manual/mod/mod_log_config.xml.meta   manual/mod/directives.html.de   manual/mod/directives.html.en   manual/mod/directives.html.es   manual/mod/quickreference.html.de   manual/mod/quickreference.html.en   manual/mod/quickreference.html.es   manual/mod/mod_log_config.html.en   manual/mod/mod_log_config.xml.ja   manual/mod/mod_log_config.xml.ko   manual/platform/netware.xml.ko   manual/platform/netware.html.en
14a50b8 * docs/manual/mod/mod_log_config.xml
e099c91 Document BufferedLogs
9ba8a00 Ensure that we always return a FQDN... This is not guaranteed by either apr_sockaddr_info_get() or apr_getnameinfo(). Also note that under OS X, apr_getnameinfo() always seems to fail (at least on my machines) so if we don't specific ServerName at the global setting, we get a warning.
038b447 APRized ap_get_local_host()
ed2db32 use BSD sockets when building for IPV6
645809d Fix issue where mod_ssl does not pick up the ssl-unclean-shutdown setting when configured e.g. as a reverse proxy:
cda7484 * docs/conf/extra/httpd-ssl.conf.in: Don't reference directories which aren't created by "make install".  Use BrowserMatch.
e0128fb Build mod_ssl for the NetWare platform
c8e7a6c Document some environment variable options
93e6383 Link to the correct socket library depending on which one is selected
32205b5 Fix the logfile names in windows to have a .log extension.
8d32896 Make sure we don't overwrite existing config if it has a name other than httpd.conf.
f69ad9f Update German translation
b4cf62b - mod_deflate currently only does C-E, and not T-E. Fix the comment at the top saying it does T-E.
3ac9777 'server stuff' is not very descriptive. All the variables in this category are date and time variables.
b25736d mod_deflate should be merging the Vary header, not Setting it, and ignoring what other modules put there.
2d0d6ea update transformation
0bd6b5d Update Japanese translation.
9d81d2d got rave reviews from my customer on using buffered i/o for RewriteMap files, so brag about it a little.
f59e1aa * support/ab.c (open_postfile): Use apr_file_read_full, tidy up error messages, remove redundant variable.s
5ffd6ac * support/ab.c (test): Treat POST data as a binary blob not a C string.
9a4b700 Add redirect-carefully BrowserMatch for FrontPage.
4800ec9 Fix and prevent some segfaults in ab:
61ca44a Ignore generated config files.
6905d3d Allow httpd on NetWare to build using either the standard socket libraries or the Winsock libraries.
8fa473d BRIGADE_NORMALIZE could produce invalid results with 0 length buckets.
0aee87d lookup_map_txtfile: used buffered i/o rather than reading RewriteMap txt: files one byte at a time.
6efa778 As discussed on the list, change the default setting for KeepAliveTimeout from 15 seconds to 5 seconds.
ead8a4b Bring the windows config file in line with the simplifications of the main httpd.conf.
0034cf0 Uncomment the secureListen directive when building the httpd-ssl.conf file for NetWare
5071a0b svn:eol-style = native
ac399ec Update the NetWare dav.imp export/import file according to the DAV_DECLARE's in mod_dav.h
b61e2f7 `build all`
9fac5c4 Add failover to mod proxy. If the service is unavailable, check another worker in case this is balancer request. In case the error in unrecoverable, fail with returned status code.
e325039 Set default number of maxattempts to the number of balancer members.
6773926 * CHANGES
3247d60 Update the NetWare make install target to comply with the new .conf file layout
bdd9c00 Add two more APIs to the export and import lists for NetWare
b947afe Missing a space delimiter between the values
cb87819 update transformation.
cc6f77b backport
363117e Move direct_connect out of attempt loop. No need to calculate that value on each attempt, because it's always the same.
e8fb8a3 missing a closing </a>
fe20ea8 Upgrading notes for the simple-conf changes.
7dcf50f Add a CHANGES entry for the simple-conf branch changes.
fa4e866 Merged the simple-conf branch changes r159781:160695 into the trunk.
d13b2de Simplify canon_handler. There is no thing like ajps: protocol.
c4323f9 Simplify canon_handler. Blancer can have only a single scheme.
0eab042 Use two optional functions from mod_ssl so that we can receive both is_ssl and ssl_var for ajp protocol. This is combined work based on patch from Brad Boyer and Joe Orton's suggestion to use ssl_var_lookup.
000d9ac Return correct status codes in case of bad request, that is probably too large for AJP protocol.
76efada Add canon_handler for load balancer so that we have query string passed to remote.
86efa87 Revert the latest hack for setting query string. The balancer needs canon_handler.
f29c4bc Return 'real' error status codes instead APR_EGENERAL. The return status code will be used to determine wether the message is invalid or the remote host failed processing the request. This is needed to mark the worker as in error state in case it is member of load balancer.
7e67cad fix Korean translation
94f13c9 Add r->args to uri->query if the original r->uri did not contain query string. This fixes #34266.
7e5069e Remove useless loging of something that is not an error.
b6d96f3 Change the build targets Apache.exe -> httpd.exe.
b383ef3 Having an anchor directly to the rewrite flags would be very useful at times.
0deb914 Update the mod_dav import file for NetWare
3388ef3 Rethinking the module status for NetWare
564aeef Rethink the built-in vs shared modules for NetWare.  Reposition mod_asis, mod_actions, mod_cgi, mod_imagemap, mod_userdir and mod_autoindex as shared rather than built-in.
c312a18 * docs/conf/httpd-win.conf
6eabfd6 use a more general but slightly slower test for a body.
caaf282 Make the changes in the NetWare build for the image_map module rename
dcd6c01 Remove the unnecessary exported api's from the NetWare make file
9a692d5 An aggressive visit by the style faerie.  Sprinkled some comment cleanups and tightened the 'single line result' of the error message for LDAP directives (which also broke the 80 column gospel in source.)
2f91875   Fix Win32 breakage - these hook providers can't be _DECLARE()ed,   they -would- be _DECLARE_NONSTD ... except that no functions within   mod_ldap need to be exported at all.  All functions can be static,   as they are registered via callbacks.
c0459cf   Catch up with Apache.exe->httpd.exe rename; it seems svn rn can't   be combined with svn commit and source changes.
395d41d   Final bit to switch for imap->imagemap
3d89009   Need to update the default conf.
5d6aa7f   Fix Win32 imap->imagemap transformation
8fab40b update transformation
a19987c rename mod_imap to mod_imagemap. Broken by this commit:  - Win32 Build -- I didn't want to muck with .dsp files.  - Netware Build - Same Story as Win32.  - Documentation Translations (could get away with direct changes to the module name, but I am not sure)
59bdba4 Folks appear to be having trouble with multiple arguments to Allow. More examples is always a good thing.
ba778d2 Use APR_STATUS_IS_EAGAIN rather than comparing against APR_EAGAIN.
4d2733d In emulate_sendfile(), handle APR_EAGAIN from apr_socket_send().
963de58 Don't always enable mod_imap.  I always turn it off in my configs.  Now you must --enable-imap, or --enable-mods-shared=all|most to pick it up.
edf0e66 Update Japanese translation.
1ac4c9b Update Japanese translations. Submitted by: yoshiki Reviewed by: kawai
20b9c89 the style police have been sleeping
7936e91 Win32: Eliminate useless debug error message
ee8e3cf "misspelled" has been "mis-spelled" for quite long enough.
2ce86aa * modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response): Don't send an EOS after an interim response.
5640601   httpd and Apache are both anticipated now.
4f32c76   Apache.exe -> httpd.exe - per discussion on dev@httpd   to make Win32 consistent with Unix, and as importantly,   quitclaim the 'Apache HTTP Server' project's claim on   something not in the spirit of the greater Foundation.
5599351 Eliminate ldap module load ordering
38e8b5d Implement the exported function from mod_ldap(util_ldap) as optional functions so that we can eliminate the load ordering of mod_ldap and mod_authnz_ldap.
aad2e44 Actually use the compare_cache_size value that is being set by LDAPOpCacheEntries.  The actual cache_size was previously defaulting to the value of search _cache_size set by LDAPCacheEntries.
33ad728 * STATUS
f388655 * modules/proxy/mod_proxy_http.c
1073345 * modules/proxy/mod_proxy_http.c
359a77c * docs/conf/httpd-std.conf.in
3df7b53 Add inverted commas to the build script parameter so that it works correctly when which outputs an empty string.
4d6f0c4 sync with 2.0.54-dev
2b3ad91 clone_headers_no_body: remove all entity headers in addition to the Transfer-Encoding header when creating a GET subrequest
4eb1bbd sync with 2.0.54-dev
049d316 Update to reflect htdbm documentation addition.
e321523 new German translation
c9156bf update transformation
a0695b5 Delete an incomprehensible sentence. There is no posibility NOT to choose the MPM at compile time.
5c3f88a markup improvement
4ebf26b Bring German translation up to date
8eccd5b update transformation
0e87a66 adjust properties of new files
eca32c6 eol-style = native
cfd3c8c Add generated htdbm(1) man-page.
55d3f74 Update sitemap to link to new htdbm doco, update transformations.
e0eb208 Addition of htdbm documentation.  nroff was meant to be generated, but wasn't.  I suspect deps.xml in build/ needs to be modified, but could someone else with more of a clue assist here, thanks.
0a357ab Started filling in some of the details of an introduction to rewriting URLs.
235fd33 don't propagate input headers describing a body to a subrequest.  this can cause a back end server to hang in a read for a body which no longer exists.
ce90c83 update comments for *_client_block functions.
e807f6b Fix Windows CompContext buff size miscalculation
3982db6 Turn LDAPTrustedClientCert and LDAPTrustedMode into the RSRC_CONF context.  The current code is broken for use as OR_ALL.
261ba51 Synch with 2.0.x branch.
cb9a513 Test for APR and APR-Util one directory bellow httpd too.  I like not having to put them inside srclib.
9cd4bcb update transformation
2243d6b Adjust properties of those new files
f48468c   Add /D PCRE_STATIC to solve an 'exported symbol imported' bug.   We build pcre static, and do not intent to export pcre_* namespace,   but rather our ap_pcre_* wrappers.
b1d6541   Fix three problems with pcre for portability;
cdea6cc   Second fat-fingered typo in 24 hrs.  Balance parens, this now compiles.
f9587e4   Clean up emit for size truncation.  Division here ensures we fit nicely.
de026e1 One hopes this isn't 1.3 specific. :-)
437a48a Move remarks about backreferences to the introductory regex discussion.
a3a24e2 Moved some of the gorey details out of the module reference doc and into the supporting documentation. Might want to move some more, too. Haven't decided yet.
305b506 Split the rewrite guide into "Practical solutions to common problems" and "Practical solutions to advanced problems". For now, anyway.
5aad35c Oops.  Forgot to rebuild before committing.
52233be Move some the examples, technical details, and tutorial-style stuff into its own place, somewhat like we did with mod_ssl and others. The main module reference document should just be a module reference document, and nothing more.
1fe9d2e sync with mod_status hacks in the worker mpm.
5e36a5a Update the Solaris 10 & Event MPM issue.
ac9a5e8 And carry on with 2.1.5-dev.
9c49c3b Prepare for 2.1.4 tag.
a80f841 Add ReceiveBufferSize directive to control the TCP receive buffer.
8bc56b5 mod_proxy: Add proxy-sendextracrlf option to send an extra CRLF at the end of the request body to work with really old HTTP servers.
e72e671 small cleanup of the ROADMAP file.
259a519 I used to think that the order of the flags was there for a reason, but nobody seems to know what that reason is. Alphabetic order is a Good Thing.
d3e9eed update Japanese translation. English revision: 154184 (for core.xml.ja) English revision: 153116 (for mod_proxy.xml.ja)
0d9238f update Japanese translation.
97851ed Another mod_cache fixlet.
e1148fa update transformation
9caf467 update Brazilian Portuguese translation
9182642 Don't attempt to remove the cache_file if one was never specified.
a92c5fa Keep track of the number of attributes retrieved from LDAP so that all the values can be properly cached even if the value is NULL.  [PR 33901]
49ff90c Add ap_mpm_is_experimental and ap_mpm_is_threaded.  Use these instead of checking for specific MPMs.
73f6528 Since prefork is currently the only non-threaded MPM, check for it, instead of testing for each threaded MPM type.  This enables mod_cgid on the Event MPM by default, which is a "Good Thing"(tm).
7402943 Make IgnoreCacheControl do what it implies when it comes to requests and freshness checks.
bb35e2f Make sure that the secure listen sockets that are created and injected into the ap_listeners lists by mod_nw_ssl are handled correctly so that they remain open and reused across restarts.
f92cbd8 Improve caching a bit more...
c8c8263 Remove an unused function.
8a53cd1 Add two changes entries based on r156306 and r156330.
a32a693 * modules/cache/cache_util.c (ap_cache_check_freshness): Use r->headers_in not   the stored headers for the Cache-Control check.
c70cb4b More mod_cache tweakage...
438c659 Tracked down by Justin Erenkrantz.
11344ad * modules/cache/mod_cache.c
62de541 really bump MMN Submitted by: Sander Temme
3e14f16 worker MPM/mod_status: Support per-worker tracking of pid and generation in the scoreboard so that mod_status can accurately represent workers in processes which are gracefully terminating.
8af9f73 Win32: Init the args to mpm_service_install(). Prevents nasty things like segfaults
803296f If the search fails due to a bad connection, make sure that we unbind the connection so that it will be recreated the next time it is used.
1f76f2a * support/htdigest.c (main): Fix permissions of created files.
5434124 bump pending httpd version
450529b sync with 2.0.x branch.
7a10167 svn:eol-style = native
427bc9a * modules/dav/main/mod_dav.h: Wrap all public functions in   DAV_DECLARE or DAV_DECLARE_NONSTD. * modules/dav/main/liveprop.c, modules/dav/main/props.c,   modules/dav/main/util_lock.c, modules/dav/main/mod_dav.c,   modules/dav/main/std_liveprop.c, modules/dav/main/util.c:   Update function definitions.
44635dd update transformation
82a3823 Typo in german word 'Ausdrueke' -> 'Ausdruecke'
585bab1 update transformation.
e045026 Adding some initial docs for the Event MPM. I plan on updating mod/event.xml with more details this weekend.
cd0d7bc Metrowerk compiler can't handle commas in the copyright string
2d626f9 update transformation
33ca808 Update transformation.
1c0e754 Mention LFS support.
119d90c * modules/proxy/mod_proxy_http.c (ap_proxy_http_process_response): Fix spurious error at EOF.
7285403 * build/NWGNUtail.inc: Update license.
9029d24 Note 2.1.3 released as alpha.
249b7df Onward ho to 2.1.4.
5bc6a0a * include/ap_release.h: Time for 2.1.3.
8e1754f   Reverting a localization I had attempted to fix back on Saturday.   Must have closed the svn commit shell a bit to quickly.
6b27c2b Update Brazilian Portuguese translation
406b0f2 replying to why "the edge connection filter cannot be removed" is a showstopper
e8d56a8   pcre.lib is bound into libhttpd.dll - we no longer need to redistribute   yet another third party lib, while we now have an ap_reg* API exported   and supported by httpd.
4167fdc   80 col style fix, no code harmed.
4c16e86   Add mod_echo - not built by default, but this drops the warning that   the module isn't declared in BaseAddr.ref.
14aff88 Win32: output some useful debug messages when installing the service
d8cb4ec fix compile break with recent rename of real_exit_code to ap_real_exit_code
5590c52 Win32: Move call of mpm_service_install to rewrite_args hook but continue thru post_config to check httpd.conf
fc97910   Fix some symbols which should -not- be exported, and decorate real_exit_code   with ap_ (this symbol must be exported.)  If the others were desired to be   public, they should have been ap_xxx decorated.
72d19a6   Belated CHANGES, must have conflicted last time I tried to commit.
e681eb2   Get httpd-2.1 building once again on win32.
22dd8e2 Remove unused variable.
e2d4550 *) include/httpd.h: Add a brigade for temporary uses in the core input filter context. *) server/core_filters.c: Do not use brigade_split, since it allocates a new brigade. Instead move buckets to our tmpbb, and reuse the tmpbb for every call.
09f8a5c Fix a syntax error when DEBUGGING is defined.
d79feff update transformation
114c9c9 update German translation
9e7f317 typo
68c0bb9 restore google-ability of an ancient message of great importance
a10288a * modules/ssl/mod_ssl.h: Add ssl_ext_lookup optional hook declaration.
f5550d2 Fix 'Anonymous *', which denied access
8f55f1e One more NetWare tweak for the PCRE shakeup
9c3b6ae * NWGNUmakefile: Update for PCRE changes.
8062861 Improve interaction with caches in mod_dav.
b761381 Note changes.
1184182 * include/httpd.h: Fix a comment.
27759de * include/ap_regex.h: Include apr.h not stdlib.h; replace pointless regoff_t typedef with int; s/size_t/apr_size_t/;.  Comment fixes.
5026065 Support use of an external copy of the PCRE library:
edb46b1 * include/util_ldap.h (util_ldap_state_t): Fix gcc format string warnings: use a long for connectionTimeout since the code expects a long.
519b48f * modules/cache/mod_disk_cache.c (store_body): Fix format string warnings; print integers using _FMT strings.
a0570c8 Move the POSIX reg* implementations into the ap_* namespace; internalise the ap_reg*<->PCRE wrapper:
c2f37c7 * modules/ssl/ssl_engine_kernel.c (ssl_hook_Access): Move the SSLUsername-controlled assignment of r->user above the SSLRequire checks so that the "username" gets logged if SSLRequire denies access.
426571f * Makefile.in: Use buildmark.o not .lo since it was COMPILEd not LT_COMPILEd.
9e20461 More tweaks primarily driven by caching.
e578d12 Only recompile buildmark.c when we have to relink httpd.
3ad12bd build all and add new japanese transformations
df19c83 Docs update. Refresh as well as fold in (better??) docs about balancer.
f267986 Now that the crisis has passed, update the CHANGES entry...  =)
9ff46dd Remove formatting characters from ap_log_error() calls.  These were escaped as fallout from CAN-2003-0020.
c4afdce Some minimal tweaks to mod_cache.
93437c8 fix function name in developer doc
7167453 New Japanese translation. English revision: 151408 Submitted by: yoshiki Reviewed by: kawai
b947cc4 New Japanese translation. Submitted by: yoshiki Reviewed by: kawai
441086e More work to properly handle revalidated responses correctly.
d55cef8 * modules/proxy/mod_proxy_ajp.c
7b9a0e8 * modules/proxy/proxy_util.c
6f6940d Add a target to build the prebuild utilities on NetWare
f8354dc Stop exposing source filenames in the configuration files.
876ee19 More mod_cache tweakage.
f193418 Make the function declaration match the prototype
74a70d4 Return the proper status and headers when serving a revalidated response.
1d4c6d1 Cleanup structures in mod_cache and friends to remove unused or unnecessary fields.  Also resolves a number of latent bugs due to the wrong fields being accessed.
5875d5f If we rec' a bad response header line, ignore what we've rec'd so far and force BAD_GATEWAY.
1e352ba * modules/cache/mod_cache.h: Move the structure declaration of cache_handle near its typedef declaration.
268fba8 * modules/cache/mod_cache.c: One more try at proper handling of revalidated responses.
3846ec8 * modules/cache/mod_disk_cache.c: Properly load cached ETag from on-disk structures.
3c7b67c Document the new optional parameter for AuthLDAPUrl
d1db88d Better handle the case where ProxyBadHeader StartBody is in effect and we think we've started reading in the response body. Take advantage of the fact that the line read is still in buffer (and document that) to allow us to add to the bb.
98d1aa2 Change where we set r->user if we're setting it from a client certificate.
8dfeff7   Ignore both PATH_INFO as well as PATH_TRANSLATED to avoid hiccups   from additional path information passed in non-utf-8 format.
5bd1781 update revision references
905cdf9 Update copyright year to 2005 and standardize on current copyright owner line.
073df19 Sync with httpd-2.0 changes.
7e76c37 * modules/proxy/config.m4: Fix mod_proxy build after filename changes.
bcfcf2b Sync CHANGES with 2.0.x.
d7e069b Sync CHANGES with 2.0.x.
47d2261 Fix --with-apr=/usr and/or --with-apr-util=/usr.
632ec34 mod_proxy: Fix ProxyRemoteMatch directive.
15ec543 Also translate Destination headers when ProxyPassReverse'd
4162b98 Clean up some crumbs...  The sandwich is next.
0f59873 Rename proxy modules.
fcb4674 Error out on configurations where the cache provider starts with a '/'. Saves certain people a bit of time figuring out why their caching doesn't work...
7455722 Remove old FIX_15207 snippets
3d5cbff --showstoppers;
749c63b proxy HTTP: Rework the handling of request bodies to handle chunked input and input filters which modify content length, and avoid spooling arbitrary-sized request bodies in memory.
9935c31 Close PR 32459, 15207. API change for PROXY_DECLARE ap_proxy_canonenc()
13050b4 Allow AuthLDAPURL to override the default connection type with an option second parameter of NONE, SSL or TLS | STARTTLS
c3ae691 update transformation
2ef00fa svn:eol-style = native
9e6b472 Keep track of time taken to process requests again.
1400d6e Update Japanese translation. English Revision: 149276
4743f30 Add CacheStorePrivate, CacheStoreNoStore, and clarify CacheIgnoreCacheControl.
de2792b Fix a typo
e6664a0 Fix #32367 support for ProxyPass /foo !
cebf3cf Set the connection timeout for LDAP SDK's that support the option. For SDK's that don't, log a warning message.
b2fac0d update transformation
15e0d5e it's a new translation...
fd3d76a hmm, I forgot, that *.xml.ja is iso-2022-jp, not euc-jp
886e08c Make the doc agree with the implementation
da635a9 Remove upper limit on the LimitRequestFieldSize directive
4fefc35 Update Japanese translation. English Revision: 126304
e67a550 New Japanese translation. Submitted by: yoshiki Reviewed by: kawai
697bcb2 update transformation
e68e391 add charsets that should be recognized by the svnmailer
2ebc402 As per bug 33290, we probably don't want a <Limit> here.
2b08994 update transformation
a06ce0a update Brazilian Portuguese translation:
0e7aa66 update transformation
2253f74 * include/ap_mmn.h: Fix typo.
30eea48 Added a new LDAPConnectionTimeout directive to util_ldap so that the socket connection timeout value is configurable.
20be16c Change the 'lib' prefix to 'libmod_' to be really consistent with r103164 of acinclude.m4.
81f2150 * configure.in: Add --enable-pie flag; define PICFLAGS and PILDFLAGS.
fe26503 Add in a weighted byte count of all traffic (in and out) as an alternative balancing method. We do not "adjust" the byte count wrt scheme or method, simply by factoring in the lbfactor value.
96859f5 Clarify meaning of %[bB] and note difference from 1.3.
6a41fe8 * .gdbinit (dump_table): Handle NULL value pointers.
d6fb6be Word Up. ap_discard_request has used buckets for a couple years.
8c4df72 2.1 will always have >=APR-1.0. No need to worry about this then.
577eafa Update the Worker MPM+FreeBSD note.  It all works under FreeBSD 5.3/5-STABLE.
698bc0d mod_filter in 2.1 allows better ordering of the filter chain.
a9fe8ed Remove this note about a test suite failure from 2 years ago.  The test suite passes for me.
e6a0d48 PR 9457 is marked as fixed. (this is also about APR, not httpd...)
80ef0b6 I beleive this works fine on Glibc 2.2+, and I don't care about supporting glibc 2.1.2 anymore.
2c78c30 Remove the entire suspended forever section.  All of these are extremely old GNATs PRs. If any of them are still valid, I welcome a new section with the proper Bugzilla PR numbers.
b26f2fe Remove old statements about mod_proxy. It now supports both load balancing and persistent connections.
58f04b1 Solaris 10+Event MPM doesnt work. Note it as a non-showstopper.
1731589 * support/check_forensic: Fix script on platforms that do not have either   mktemp or tempfile (such as Solaris).
3955df1 Clarify some of the SSL/TLS details as used by the mod_ldap module.
1bccfffd More hardcoded schemes in mod_rewrite... :/ Cooked up in a debugging session with Justin Erenkrantz.
e597158 * modules/cache/mod_disk_cache.c: Cache r->err_headers_out headers.  This allows CGI scripts to be properly cached.
3d71c8d Remove the workaround that got client certificates to work with non Novell LDAP SDKs, as it is no longer needed.
eac000a Clarify the mod_ldap documentation to better explain handling of certificates between different LDAP toolkits.
0a2c453 Recognize the new certificate formats
8587927 * support/suexec.c (safe_env_lst): Declare array as static const.
c7e30a5 Synch with 2.0 branch.
cd8d020 Fix a problem where SSL was started twice when no client certificates were specified.
ee9eaa7 Fix some inline C++ style declarations that other compilers can't handle
2772fe5 uh, oh. This spanish translation was just for 2.0...
bf84e30 update transformation
2970cbb * manual/mod/mod_ldap.xml: Fix semantic error. There is no context "All"
afc4da7 Update Spanish translation.
93c2e14 fix XML validation errors
9cdb379 adjust revision references
c785371 mod_ldap: Updated to use the new apr-util v1.1 apr_ldap_*_option() API for the setting of server and client SSL certificates. Replaced LDAPTrustedCA directive with LDAPTrustedGlobalCert and LDAPTrustedClientCert directives to correctly support global certs (CA certs / Netware client certs) and per connection client certs as supported by Netware, OpenLDAP and Netscape/Mozilla.
208eb7a * modules/proxy/proxy_http.c (ap_proxy_http_process_response): Handle aborted connections correctly: abort if c->aborted is set.
45fdd72 mod_cache: Remove unimplemented CacheForceCompletion directive.
a804be4 support/check_forensic: Fix temp file usage Submitted By: Javier Fernandez-Sanguino Pen~a Reviewed By: Thom May
a563e7d adjust revision references
9bd6372 adjust revision references
3a41161 adjust revision references
5f7fc8a fix copyright notice
9ade04f fix copyright notice
703b401 fix copyright notice
f650d76 fix copyright notice
3bb0f8c fix copyright notice
9b57048 fix copyright notice
cdb49db oops, readd the empty line
9302994 fix copyright notice
466ffe2 fix copyright notice
2403918 fix copyright notice
23d7905 fix copyright notice
d74ef04 update transformation
bafde95 German umlauts correction
4c2aa27 German translation of configuring.xml
b1391e1 * modules/ssl/ssl_engine_io.c (bio_filter_out_flush): Fail if the connection was reset.
3f6c23e * modules/ssl/mod_ssl.c: Declare new config directives SSLCADNRequestFile and SSLCADNRequestPath.
5d4ce7f Fix VPATH errors introduced in r124104.
ef0d28b * modules/debug/modules.mk: Remove generated file.
146a597 proxy request body handling
bd10bb4 Match parameter types
46ba142 Rewrite Cookies and other headers in mod_proxy_ajp as configured with ProxyPassReverse and ProxyPassReverseCookiePath.
947d103 Sync available error languages with used LanguagePriority.
8238b47 Update transformation.
255ccc4 Fix indentation (no code changes).
b13c96a --with-module can now take more than one module to be statically linked: --with-module=<modtype>:<modfile>,<modtype>:<modfile>,... If the <modtype>-subdirectory doesn't exist it will be created and populated with a standard Makefile.in.
b1f65b2 For a static module, use a filename with a lib prefix, see also rev 102381 of acinclude.m4
5a58b70 Update mod_proxy documentation source (final doc still needs to be generated).
47c6e88 Make the combination of mod_proxy_ajp and mod_rewrite work correctly.
c4921bb Add Japanese error docs. See: http://issues.apache.org/bugzilla/show_bug.cgi?id=11521
459b02f   Handle PATH_INFO as opaque byte-wise data for cgi invocation as   handled for other variables with bug 9223.
a4e0961 update revision references
8cfc8e4 Change 'directory' to 'resource': just the word 'directory' led some users to the wrong assumption that Require isn't allowed in <Files> sections.
384efe3 Mention configuration details for AJP and the balancer.
76cc921 Sync backports.
b74e119 update config for pt-br inclusion
ee04048 update transformation
5dd2318 add new Portuguese (Brazilian) translations
b19cbaf update pt-br base file
bf4a594 build all
613049d   Use /Apache21/ for the -default- httpd 2.1 root, to assist developers   in working with the dev tree in parallel to the released httpd-2.0.
43f087a   It's perferable to use a debug build of ssleay32/libeay32, but offer   a fallback if they are built as release libraries for creating   mod_ssl in debug mode.
6b27462   limit_req_fieldsize is signed, correct a signedness error using   a cast since it's not possible to have a negative limit.
160da66   The right set of headers to obtain the pre_connection hook.
8aea7cf   Correct the order of includes to follow httpd conventions, and get   Win32 compiling again.
38810d4   Fix another signedness bug
a7b143f   Fix a signedness issue that revealed a serious bug, the 'i' was   reused for character indexing within this loop.
2967295   Deposit mod_bucketeer.so and mod_dumpio.so into the installed apache2   instance.  This does not configure httpd.conf to load them.
4a969b3   Fix up our dumpio and bucketeer build.
12e2cdd This has been coming up rather frequently on IRC, and it's a good example. It's alluded to in the SetEnvIf docs, but it's not a complete example there.
9899eba   A few new modules/debug/ projects which need base addr's.
d850e22 util_charset.h has already the needed #if APR_CHARSET_EBCDIC.
0dfcbc1 Fix some compiler warnings inside the LDAP modules
4a5e555 adjust copyright notices in the style directory
fe691c7 svn:eol-style = native
e15437c build bootstrap
4c18e6f svn:eol-style = native
c802f77 add pt-br base file
ab4d018 Add a build script to create a solaris package.
af7e148 Add including of util_charset.h otherwise ap_hdrs_from_ascii is not defined.
9df8cb2 update transformation
4976ee2 update German translation
334ef84 META elements are defined in the document head which is bart of the response body. So be a little bit more precise at this point.
77d0aef Update Japanese translation. English revision: 111581
d37e11f Update copyright to new format and year.
1db8f31 Update copyright notice to new format to show what needs to be done for all of trunk.
0683690   Eliminate a very ugly race - the parallel starting threads were picking   up thread identifiers other than their own.  Because the limit of threads   is an int, stuffing the int into the void* value is a safe argument   convention.
20e5f62   Relative paths were wrong, for the recent ap_release.h patch.   Correct to resolve to httpd-src-root/include.
6ef95d4 Kill the pool cleanup when closing non cachable connection.
d962fcf   FINALLY Correct ap_http_method()!  It is NOT a method, it's a SCHEME!
55230b2 Fix closing connection for non-cachable proxies. Do not close the entire connection, just socket if opened.
def2248 Close the connection for generic forward and reverse proxy workers.
a075a52 We generally call these slashes rather than sloshes.
6d38243 Simplify connection address and port resolving for non-cachable workers (gereric forward and reverse proxy).
81f6517 Do not cache hostname and port for forward and reverse generic proxy workers.
3d15697 update transformation
d2c6058 mod_proxy: Fix a request corruption problem and a buffering problem which sometimes prevented proxy-sendchunks from working.
677b22e As per bug 22061, this paragraph predates RedirectMatch, and is thus soemwhat inaccurate.
3d9ff93 If we're going to recommend a book, we should recommend the edition that's actually in print.
e600827 As per bug #30308, added example where a virtual host is proxied to another server. Thanks go to Matt Burke for submitting the example.
f40678e Ported changes over from 2.0 docs. Add port designation to test URL for Windows.html Corrected regular expression in DirectoryMatch document
8b62fcf The current config.guess in APR outputs i386-pc-os2-emx on OS/2 rather than i386-pc-os2_emx (dash instead of underscore), adjust the tests to match.
c7a7665 update transformation
d9e0cf6 apply markup in directive description fields
5ff6b42 update transformation
ab279b0 - use better markup - it's meta _element_ not tag
06b185f update transformation
958fcda Move the timeout explanation sentence to the proper place in the table.
53b9a10 Explain new proxy parameters.
36775a2 Typo.
978429c Fix the RPM spec file so that an RPM build now works. An RPM build now requires system installations of APR and APR-util.
c4e6462 update transformation
f622199 svn:eol-style = native
eb693a9 Add the modules/debug directory to the NetWare build
46e42b3 Add NetWare make files
dc10cf7 Clean up a type mismatch
41a4c56 Per request, add a short description of the module in CHANGES
79419db simplify the BalancerMember load factor weighting. Instead of being percentages (and adjusting when the number don't add up), loadfactors/lbfactors are now normalized values, so values like:
39072fc Fix transnote tag usage.
838eacc Change the names of the debug and release output build directories so they don't conflict with the modules/debug directory.
f615aa1 update transformation
89c6ed0 New Japanese translation. Submitted by: yoshiki Reveiewd by: kawai
0ad3071 * include/http_config.h: Add missing parameter name.
3377cec Close paren.
c1f1265 * modules/ssl/ssl_engine_io.c (bio_filter_out_flush): Revert the passed-brigade-reuse "fix" which is currently unnecessary.
f03a316 adjust revision reference
d0127de * modules/ssl/ssl_engine_io.c (ssl_io_filter_cleanup): Fix segfaults from using ap_log_cerror from a c->pool cleanup; the debug message triggers too often anyway so just remove it.
a88b71d Balancer is new, so just has the 2004 copyright.
a68539b svn:eol-style = native
c7d5f47 update whole transformation
808f0e2 adjust properties: - svn:eol-style = native - svn:keywords = LastChangedRevision for mod_dumpio.xml
8ee4ea5 this module description starts 2004
28514d8 Full ignore list
a89bce3 "transfered" is not a word.
fee1fd1 Prop update - ignore
ab03698 ignore
9635a55 Fix the directive descriptions
7b8fdb5 And auto-gened files
b5dca2e Add in 1st version docs for mod_dumpio...
98c91ed Document mod_dumpio being added. Docs to come.
ae092ca Add in mod_dumpio in the new debug module directory. Also, place mod_bucketeer in there as well, since it is more a debugging module (and as per list suggestions)
0fb2f37 grammatical parameter change... "readed" -> "read"
939710c Make proxy address cache thread safe and available only to pooled workers.
3afc458 * Style fixes only. No functional changes. Remove two tabs. Fix an If. Split a String.
cad0958 We are an int.
2ce0fb0 Seems to me that if we have a worker which is usable, we should return that. Otherwise we have no worker (worker is NULL) and we should return that or else the if clause takes care of setting worker correctly.
efd1064 FilterDeclare declares.
8298ffd Update Japanese translation.
190d1d5 switch to the new format for outdated revision references
f64f95d * Add bits to use APR_TCP_DEFER_ACCEPT * Log Warnings when adding defer accept or an accept filter fails.
8a2c15b * core_filters.c: If APR_MAX_IOVEC_SIZE is defined, make sure we are under that limit.
b906fc4 build all.
069cbe9 PCRE was ugpraded to 5.0.
56b53e8 build all
664be55 Mention TLS Upgrade Support as a new feature. Add blurb about the new -M option to httpd.
01c7bda Mention that SSLEngine can be set to 'option' to enable TLS Upgrade. A more detailed section explaining TLS Upgrade would be helpful.
3e9d5a2 * mod/mod_proxy.xml: First Draft trying to explain how to tune pooled connections.
cb80a8b update transformation
bbb4bfd Remove AddDefaultCharset from the default configuration because setting a site-wide default does more harm than good.
4a6123f Add charset to the painfully old example scripts. These should really be replaced with proper encoding of the output.
7697335 More authn/authz error.
8eb131f update transformation
bfb4758 avoid vim autoindent :)
07e0b89 Dangerous assumption, especially if apr_dir_read uses readdir_r. Be safe.
c03c4bf It's authn that manages authentication.
fe95354 One more s/authentication/authorization/.
6d49910 These modules are for authorization, not authentication.
78c1d9d undo changes made in 111386 due to veto
8433b8f Minor update to running the dftables utility on NetWare
b05f3c0 whoops, wrong PR number
fe1bfd7 add response code 226 constant (HTTP_IM_USED) and status line ("226 IM Used").  PR 31128.
1192058 ap_queue_push:  update comment to reflect reality
f08674d Set the connection addr from connection pool addres since proxy_ftp does not use the determine_connection call.
c365121 Onward ho to 2.1.3...
57a675b It's time for 2.1.2.
559d71e * modules/arch/netware/mod_nw_ssl.c (ssl_io_filter_Upgrade): Simplify the Upgrade header check; allow upgrades on any method; don't drop the ap_pass_brigade return value.
803d2b4 mod_proxy: Respect errors reported by pre_connection hooks.
1e5e7dd * modules/ssl/ssl_engine_kernel.c (ssl_callback_SSLVerify): Use X509_STORE_CTX_get_ex_data() and SSL_get_ex_data_X509_STORE_CTX_idx() to use the correct ex_data index from the context in pathological cases where SSL_get_ex_data_X509_STORE_CTX_idx() does not return 0.
a77a13f Use sligthly better markup.
3a34622 update transformation
d3887d0 typo
16bfea9 * modules/ssl/ssl_engine_io.c (ssl_io_filter_Upgrade): Simplify the Upgrade header check; allow upgrades on any method; don't drop the ap_pass_brigade return value.
694a529 Revert patch r104923.  This patch doesn't actually fix bug 18757 and breaks TLS upgrade functionality.  Also, removing the content length for HEAD requests is being handled in ap_http_header_filter().
196fce4 * mod_log_config.c: Revert r109866 which used apr_file_writev instead of an                     apr_file_write w/ a memcpy. Roy Fielding provided a -1 veto                     on the commit, based on concerns that writev is not                     guaranteed to be atomic like a write.
11ce787 update transformation
9d58018 mod_log_config.c: Use iovecs to write the log line to eliminate a memcpy
a55b3e6 One more typo.  Also, remove false promise because example is not colored in any way.
588913b Typo.
779e530 * server/mpm/experimental/event/event.c: Go through and reformat and correct comments to be more appropriate.
6f50816 update transformation
ad5121e Clean up environment variables
7be3705 fix child process aborts with   assertion "!((queue)->nelts == (queue)->bounds)" failed due to worker queue overflows. The listener/event thread needs to block when all worker threads are busy.
857a77e Small update to the build process for Netware
4433699 Allow APR-UTIL to exist and build outside of the httpd/srclib file structure
592750b worker MPM: Fix a problem which could cause httpd processes to remain active after shutdown.
7eb243b wrong format string was converted to APR_PID_T_FMT
1bb2c21 * modules/filters/mod_deflate.c (deflate_out_filter): Check explicitly for a 304 or 204 response rather than a brigade which begins with EOS, to correctly handle such responses when generated by a CGI script. Don't alter the headers for this case either.
db21c09 * modules/ssl/ssl_engine_io.c (ssl_io_filter_Upgrade): Remove the unnecessary check of the Connection request header.
a756d60 Fix gcc "no previous prototype" warnings after reorganisation:
6717100 * modules/http/mod_core.h: Prototype ap_http_chunk_filter.
944b230 nagoya isn't our Bugzilla server anymore.
7b01e2d * Makefile.in: Make install-man the last install target as it copies an   excruciatingly large amount of files.  (We should also filter the .svn   sub directories before copying it, too.)
ab67a07 Use a case insensitive compare when looking for 'Upgrade'. The first client I tested was sending 'upgrade'.
b9ccf9f Typo.
dcbcf34 Forward port <syntax> fix from 2.0.x.
4dda290 Add generic reverse proxy worker so that module-driven reverse proxying works. It is enabled by default, but IMO it should be configurable like any other worker so we can limit the number of outgoing connections.
4821674 Build proxy_ajp too when --enable-proxy is declared.
a53cbf9 Update transformation.
e8782ed Update Japanese translation.
9bc839e Declare the ap_set_listen* functions with AP_DECLARE_NONSTD for Win32 support.
804ff9a Allow APR to exist and build outside of the httpd/srclib file structure
2ecaddd   Revert my patch of this a.m. while I work out all the   potential forward declaration pitfalls.
84f5016   We are very happy with this result file on win32.  ignore.
5579c52   Catch apr-iconv for we win32 people.
d6a9f1c   Usage was inconsistent with the rest of ap_filter_t examples;   we always presume the typedef'fed flavor of such symbol names.
1362105 zap extra blank in error message
2e5c4bd Remove pcreposix.h that is now in main include dir.
e1df40c Use pcreposix.h from main include dir.
08dfbe5 Use APR_PID_T_FMT instead %d for pid logging.
25e6a4a Make sure that worker initialization is done only once per worker, as well the initialization of shared memory slot. Also log the child pid so that logging makes sense.
c8ffb08 dftables now uses output file as command line param.
f53dd44 Add missing pcreposix.h from vendor/pcre/5.0.
3002771 Update cache module project and modules location from experimental to cache.
02bbf17 Update cache module project location from experimental to cache.
c448a3d * server/core.c: Give an error instead of silently going on when a section is missing an argument.
01812ff update transformation
db01c7e Add 'New features of 2.1/2.2' to index page. Add reference to htcacheclean in mod_disk_cache docs via program.  (Yay, nd!) Update transformations.
29e919f adjust revision references and update transformation
5e31155 minor cleanups
503cf34 Properly export ap_listen_* functions.
2fb034c Update transformation.
847f482 collapse styles as in 2.0
0c13d1a Update Japanese translation.
afc2f2d * Makefile.in: In the updated 5.x pcre build, pcre.h is in builddir.
0e9a04b Update Japanese translation.
eccaa4c Update transformation.
890ee58 Oops, forgot to bump up the corresponding revision.
6f8606a Update Japanese translation...
52f4bf0 update transformation
5648627f new German translation
f585f44 update transformation
e102c67 update German translation
6ab9505 fix markup
2dce290 fix link to LoadModule
3372faf bring German translation up to date
505caf9 .htaccess is not a valid id, so cut the beginning point
22c4b97 update transformation
fd5a98d use <program> for programs
12585b4 allow <program> in man pages
edca162 add missing definition for the glossary and phonetic elements
6db6805 well, program needs to be defined, not just referenced...
18e7ee6 well, update transformation again
6dd9780 update transformation of previous changes
9314d0e add an id attribute for every anchor
d1eb12a add <program> element
bba1f75 new glossary item "hash"
f760172 format code for better readability
9fcbff7 use the <glossary> element
8baaa0a Fixing various compiler error when compiling against the latest version of LibC SDK
1c31d5e add a style for the new pronounciations in the glossary
e4c3a09 - add default values for the titles of glossary links - add / adjust English revision number (are these revision numbers interesting here?)
cbd8dd5 update English revision number
e4bb51a * docs/manual/new_features_2_2.xml: Take a pass at blurbs for auth and cache   changes.
6327050 update transformation
4e8aca8 fix semantics again.
1918883 Move mod_cache out of experimental for the NetWare build
c82b659 Moving pcreposix.h to include/ to replace the (now out of date) version there
c075aa2 Removing in order to "svn move" the new one from srclib/pcre to this location.
d94714c add titles for glossary links
e416000 add transformation for the two new elements <glossary> and <phonetic>
6ec94af Add sample algorithm for scheduler and use <pre><code> for algorithm tables.
d3c10dc add two new elements:
48d886e Update the NetWare and Windows version of the autoconf derived files.
5a4f391 Removed the documentation files because they were making the httpd source checkout too large, added a README file pointing to the reference copy of the docs in the PCRE vendor branch
410501a Add htcacheclean to the NetWare build.
da062b0 Add mod_filter to the NetWare build.
895bdde listener_thread: no functional changes, formatting changes only
4c448ac only need one main listener loop.
c5d36b1 update transformation
00d2784 readd status information
63dd462 At long last, promote mod_cache and friends out of experimental/.
3808525 bump version
0ad3a55 update transformation
ab738bf validate xml
b1cc39d introduce data tables
78cc36d Vote. mod_cache is ready for prime time
c5039a4 Remove double description of balancer manager
2302c75 Add desription for schedlurer algo and balancer manager
ed960e6 svn:eol-style = native
dde5555 * LICENSE: Update for PCRE 5.0 licence.
b90599f * srclib/pcre/pcre.c (pcre_compile): Remove unused variable.
60a840d removed call to aclocal for pcre (we're now able to build pcre-5.0 without it)
4392210 Initial pass at refactoring some files to eliminate our 150K C source behemoths.
9e804e2 Use ap_log_cerror and loglevel debug in filter_trace
99ea2ad Upgraded the copy of PCRE within srclib/pcre to version 5.0
5f83105 make the type field in listener_poll_type an enum to make gdb output more useful.
b5e9415 ap_process_http_async_connection (used by the Event MPM): fix CLOSE_WAITs/leaked connections.  The logic to deal with ap_read_request failures got lost when merging in the HTTP pipelining fix.  If ap_read_request fails, the connection state should get set to CONN_STATE_LINGER so the MPM will invoke lingering close.  Test case: client sends a Connection: keepalive header then closes the connection before the keepalive timeout pops.
8f4105e   If thread_num is long, this better be an %ld
1f4be04 call aclocal before autoconf for srclib/pcre (required for PCRE-5.0)
85ec21a * modules/ssl/ssl_engine_mutex.c (ssl_mutex_on, ssl_mutex_off): Improve error messages.
3bc87d3 property cleanup
c4c5e0a update transformation
0a4c9b0 New Japanese translation.
f8e41a4 mod_cgid: Catch configuration problem where two web server instances share same ServerRoot but admin forgot to use ScriptSock.
f816b83 Typo.
234f2af update transformation
b6bbf97   Eliminate awk autogeneration of the ApacheMonitor's .rc resource   source file.
c906f81 Close paren.
0ecbf6e Change the other install-* targets to remove the .svn directory instead of the non-existant 'CVS' one.
4569e98 Converting xml -> html
1477eff Markup improvement.
7544d67 Warning about multiple Listen directives.
47cee47 Fix broken a href anchor references.
b036a82 Added various examples to the dbmmanage documentation.
1fcf5ee Slight clarification in the role of ServerRoot
67613af property cleanup for the rest of the files
f8c3947 restore the files
0ba9b80 these files are broken by svn:eol-style
a4063b9 * modules/generators/mod_cgi.c (cgi_handler): Ensure all stderr from the script is logged if it generated a non-local redirect.
cc27d97 general property cleanup
d9f5cf3 update transformation
4ef300f New Japanese translation. reviewed by yoshiki and kawai.
d60d3e0 update transformation
d64d93d fix line endings and set svn:eol-style=native
2a565ef   Axe a dead variable
9585028   Drop a worthless emit.
603d30f * STATUS: Update a bit...
95d5391 Compile Fix for Netware Port with CodeWarrior.
d2faea5 New Japanese translation. # flush the work we did at ApacheCon2004/SVN migration.
9b1835e update Japanese translation. fix English Revision.
485a1f5 update Japanese translation. # We, Japanese staff are ready for SVN migration. :)
2687967 fix revision reference and update transformation
ed4f47c refer to the recent changes, I hope that's it.
61c4312 general property cleanup
137e6a2 Copy the charset.conv file to the /conf directory during the make install phase
4ac4e5a $Revision$ is slightly misdocumented (only available since svn 1.1) use LastChangedRevision instead
3b900e6 adjust properties and  revision expansion of the English docs
810daa7 adjust properties and revision references of the Korean translation
0f344dd adjust properties and revision references of the Spanish translation
2541602 adjust properties and revision references of the French translation
a9a3496 adjust properties and revision references of the Japanese translation
9a67f82 adjust properties and revision references of the russian translation
c95d8e3 adjust properties and revision references of the german translation
f504ff6 I forgot to add a CHANGES message for the Event MPM. See r105919.
34959f2 The Event MPM. Designed to minimize Apache's KeepAlive overhead.
f56630d Replace the hack to remove CVS directories with one for Subversion '.svn' directories.
ce1e88c Onward to 2.1.2-dev.
14fa865 * include/ap_release.h: Bump to 2.1.1.
c81af0c Preparation step to simplify merging to a newer pcre:
d02682f * buildconf: Remove the autom4te cache from srclib/pcre too, before and after running autoconf.
98176c0 * support/: Remove generated files which seem to have been resurrected during the conversion.
fb7894b Add apr and apr-util to svn:ignore.
c36ecfa Remove the .cvsignore files.
c46350f * buildconf: Point at http:// for both, and the "cd srclib" is not necessary.
cc8900e Add some magic to buildconf so it will tell you to get both apr and apr-util the first time you run it.
95a4217 'svn co' would be the important part of the command.
1b857b2 Tell users how to get APR from subversion instead of CVS.
04d53dd * STATUS: The tree is now open for business.  Some housekeeping will be   undertaken now.  But, that shouldn't effect anyone else.
0369bbb Fix handling of non-blocking reads in mod_ssl (triggered by recent change to mod_proxy_http):
50a703b update transformation
3d4282e Typo.
4efdc70 update transformation
88b0e39 Update transformation.
f36c486 Clarify the sample configuration.
0ac86d5 Update transformation.
220496f New Japanese translation.
2f237a9 Update transformation.
7029dba New Japanese translation.
65153a5 * modules/generators/mod_cgid.c (cgid_init): Fix GCC strict-aliasing warning.
3b18e3e * modules/proxy/proxy_http.c (ap_proxy_http_process_response): Don't treat the 205 status-code like 204 or 304, per recent http-wg discussion: http://lists.w3.org/Archives/Public/ietf-http-wg/2004JulSep/0083.html
356378f * modules/proxy/proxy_http.c (ap_proxy_http_process_response): Use the standard non-blocking-read/flush/blocking-read logic to ensure that buffered content is flushed to the client if the next read will block.
93b4fef * modules/proxy/proxy_ftp.c (proxy_ftp_canon, proxy_ftp_handler, proxy_send_dir_filter): Drop ap_ prefix, make static, remove forward-declarations.
9f86852 * modules/proxy/proxy_connect.c (proxy_connect_handler, proxy_connect_canon): Drop ap_ prefix, make static, remove forward-declarations.
f9cd516 update transformation
4fe8193 sync of changes with backports
c264c31 Update SSLSessionCache section.
a0694d5 - switch default session cache to shmcb - remove comment on using shmht which has been removed
6e5cdad Add -t -DDUMP_CERTS option to mod_ssl which dumps the filenames of all configured SSL certificates to stdout, useful for cron-ing through a "do I need to renew any of my certificates this week" tool:
4ada6c2 * modules/ssl/config.m4: Use libtool's -export-symbols-regex flag to hide all global symbols defined by mod_ssl other than the module structure (where possible).
413c2f1 * modules/ssl/ssl_engine_io.c, modules/ssl/ssl_engine_kernel.c, modules/mod_ssl.c: Switch to using ap_log_cerror() in place of ap_log_error() everywhere that the conn_rec * is available.
2e0cf27 Synch history with 2.0 branch.
388a7cc Synch with 2.0 branch.
cebdac0 Wording tweaks.
d834a37 new two Korean translations and up-to-date patches
514f250 Add info about mod_filter
b6eda8a First Swing at a 2.0 -> 2.2 New Features Document.
60f2152 add generated manpage for htcacheclean(8)
79e80a3 update transformation
beca161 mention the new manual page everywhere
109d444 document htcacheclean (more or less taken from the program itself)
c807bcf use a smarter way to specify the limit
ac60309 more native newlines
7ef8799 better readability, native newlines, less spam
6c3e96a another warning.
f57b382 avoid compiler warning
311cc11 just style
80d199b update transformation
1d752bb New Japanese translation.
fd69c3e New Japanese translation. Submitted by yoshiki. Reveiewd by kawai.
7a4ae99 voted. Note on the Worker MPM vote..
1a72f91 Not that I'd *need* to pre-declare a 2.1 alpha, but let's aim for something that can start the march towards 2.2 by close of AC next week...
3380d80 mod_disk_cache: Remove a bunch of non-implemented garbage collection and cache size directives that are now available through htcacheclean.
5311975 Add htcacheclean to function as cleanup utility (daemonizable) for mod_disk_cache.
d688f56 Return the correct error when the user object is not found
11488c7 update transformation
a7eff80 Added the directive "Requires ldap-filter" that allows the module to only authorize a user based on a complex LDAP search filter.
2ce37dd CHANGES entry for CAN-2004-0942 fix
3fd9239 update transformation
5da2cc3 * modules/experimental/mod_disk_cache.c (recall_headers, create_entity): Remove unused variables.
d2806c3 Add util_ldap_cache_getuserdn() prototype to the util_ldap.h header file
ab59245 Document SSLPassPhraseDialog's piped input mode.
da1be9e Remove bogus comment: for SSLPassPhraseDialog exec:..., argv is defined and documented and can't be changed.
b16fe38 remove out-of-date comment...  BillS reports that AP_MPM_DISABLE_NAGLE_ACCEPTED_SOCK provides the necessary capability to the MPM
056dd98 If the entry has a password then don't allow util_ldap_cache_getuserdn() to update the expiration timeout since it has no idea when the password was last validated.
4ddf48a Fix for memory consumption DoS, CVE CAN-2004-0942:
6f349a2 PR: 29709,32051 Submitted by: Gabriel Kalkuhl Add warning notice about basing code on mod_example.
ae928e4 Just a simple switch of mod_usertrack to run earlier in the fixup hook.
502d1cc Added the directive "Requires ldap-attribute" that allows the module to only authorize a user if the attribute value specified matches the value of the user object. PR 31913
0913e5d * docs/conf/magic: Remove trailing whitespace.
4cf99c6 Split LDAP authorization from authentication
ce0d3a2 Allow mod_authnz_ldap authorization functionality to be used without requiring the user to also be authenticated through mod_authnz_ldap. This allows other authentication modules to take advantage of LDAP authorization only [PR 28253]
0555653 Implement the util_ldap_cache_getuserdn() API so that the ldap authorization only modules have access to the util_ldap user cache without have to require ldap authentication as well.  Also required by mod_authnz_ldap so that it's authorization functionality can be used independant from the authentication functionality. [PR 31898]
3fae612 * modules/mappers/mod_rewrite.c (hook_uri2file): Revert r1.259 to fix regression in proxy and QUERY_STRING handling (though with proxy issues on HEAD mod_rewrite [P] stuff is still completely broken).
4bc7f40 * server/util_filter.c (ap_save_brigade): Be more tolerant of a bucket type which neither implements ->setaside nor morphs on ->read, such as the mod_perl SV bucket type in mod_perl <1.99_17; defer returning an error in this case until after calling setaside on each bucket.
0f1b308 * modules/ssl/ssl_engine_kernel.c (ssl_hook_UserCheck): Fix possible NULL pointer dereference in some configurations.
43eb49a Change core connection handling so that a connection-oriented error disabling nagle* is logged with the client IP address and a debug log level.  We filter out not-implemented errors from platforms which don't support TCP_NODELAY.
7788f37 Use <p></p> instead of <br> to mark paragraphs.
6ed4705 fix and update transformation
465fc26 Fix typo and update HTML version.
fc0a01f Fix compile trouble.
fb03fea Document updates to mod_filter.
62f6d3d Change FilterDeclare/FilterProvider semantics as discussed in http://marc.theaimsgroup.com/?l=apache-httpd-dev&m=109899588616670&w=2
aa194d5 Remove double calculation of tranfered bytes to backend.
fa81c17 fix prototypes in documentation to match actual const-ness
8ace27c Don't display the cache statistics if the node is empty
81e4e36 add ap_log_cerror(); use it in a couple of places in core output filter so that the client IP address is recorded in the log
a5278a9 Fixup broken handling of range header.
d68780f Add the check for an upgraded https connection when responding to the state of a connection
8bed492 Fix mod_filter to support the case where a provider sets its own f->ctx in its filter_init [grumble about filter_init ....]
ae6b8dc Move ap_filter_provider_t back out of public API (suggested by nd; makes sense to niq)
18a1a01 Since the host will include a port if the default port is not used, always specify the default ports for the port parameter.  This will allow a host string that contains multiple hosts the ability to mix some hosts with ports and some without. All hosts which do not specify  a port will use the default port.  #30592
ac4c881 fixed a type match warning on NetWare
0114848 Use a more descriptive error message, and make it an INFO insteead of NOTICE.
d1c714c PR: 31875 Fix URI parsing bug in case of a leading double-slash
35e0b8c This will put some messages in the error log when some people try a lame DoS by just opening a socket, and never sending any data.
b92da3b new Korean translations and up-to-date patches
c76dd4e veto and revert win64 patch: 64bit changes must percolate from the bottom (APR/system) up -- we can't give the client a 64bit API and then cast it to 32bits internally without introducing security holes on other platforms.
41ee745 mod_cache: Add CacheIgnoreHeaders directive.
babafd7 Note a backport. PR: Obtained from: Submitted by: Reviewed by:
8e8c94c Note a backport. PR: Obtained from: Submitted by: Reviewed by:
d129176 Note a backport PR: Obtained from: Submitted by: Reviewed by:
6c775f9 WIN64: API changes to clean up Windows 64bit compile warnings
06c1112 update transformation
1f0aecb Typo.
923e847 use the correct struct for CacheDisable. (cache_disable instead of cache_enable)
2e45920 update transformation
9ed8310 new features
a9a11aa allow <= and >= for filter dispatcher
bb5a48b minor optimizations
9336f02 style
d4e324f actually reg_extended has no effect in pcre context. It's probably more confusing for users
a3d6111 oops. removed a space too much
ab98b10 style
551b03d use more speaking names
c3e84f5 more style
59d38e2 save spaces! Soon in future we're going to run out of spaces!!!
00435c2 style
b2002ed style
ce8f5b1 - the bucket types already store their names; use them. - use APR_SIZE_T_FMT for writing an apr_size_t value.
a244596 use standard copyright notice
d219378 update transformation
628feea reformatting an reordering (a bit more alphabetical ...)
674a43e recent maf versions take the original url as base url for the pages. this is not desired.
81b50fa update transformaion
62f86e9 images to images
d19ff85 Do not use reslist if it wasn't created. This fixes cases on prefork with threads enabled and hmax set.
5dc2d73 update transformation
ad6c7a5 reflect directive restrictions
8e093a6 OR_ALL is not a good choice. Use more restrictive permissions for the mod_filter directives.
0c85c24 fix compiler warnings
6beaba4 style guide, no code changes
e5f2871 add mod_filter to the configure parameters
5893baf update transformation
9675622 markup
2e86ec8 formatting
9166ee8 use white background
0ee6126 update transformation
709f424 xml validation issues
a077feb maxredirects no longer exists
8a0ce65 Track the status of an upgradeable socket so that the http_method and default_port hooks will report the correct information.
f648ac6 Merge the proxy_status too. Thanks to Christian von Rouques for the patch.
3be30e0 mod_ldap: Fix format strings to use %APR_PID_T_FMT instead of %d. PR: Obtained from: Submitted by:	Jeff Trawick Reviewed by:
7c55f44 update transformation
0398530 * modules/filters/config.m4: Drop check for zutil.h.  Add -lz to MOD_DEFLATE_LDADD to correctly support shared mod_deflate against static zlib (where possible).
88e93b0 Today is washday :) PR: Obtained from: Submitted by: Reviewed by:
7d84a7d Add a check for SSL_ENABLED_OPTIONAL to the http_method and default_port hook so that they return the correct values for an upgradeable connection.
fa204a5 New translation. submitted by yoshiki. Reveiewd by kawai.
3727f22 update translation. reviewed by yoshiki and kawai.
5360bc9 * modules/aaa/mod_authnz_ldap.c: Fix /*-within-comment warning.
8aaa48d * modules/ldap/util_ldap.c (util_ldap_child_init): Don't segfault if the cache has been disabled (when _cache_lock == NULL). (util_ldap_post_config): Set mutex permissions if necessary.
1b3a4c2 * os/unix/os.h: Define AP_NEED_SET_MUTEX_PERMS.
549714b * modules/filters/mod_deflate.c: Remove use of zutil.h (not installed by zlib 1.2.1) and OS_CODE.  (deflate_out_filter): Simplify to use an immortal brigade for the gzip header.
438accf Minor comment fixes, no code changes:   - 'sub request' -> 'subrequest'   - @retrn -> @return   - ...
af626c2 Improve german translation.
cb9af18 Use the ap_is_initial_req() function to test for a subrequest instead of using r->main.
bab3829 ignore generated stuff
528f497 remove the RewriteOption MaxRedirects; LimitInternalRecursion is sufficient for the administrator
5824dde the compiler warns about possibly uninitialized values. He may be right.
058dec7 update transformation
0e5aa59 Fix CAN-2004-0885:
286975c Fix some typos that were missed when the documentation was updated for the new version of authnz_ldap
500d117 parm cast should be DWORD
f246d27 As the first stage of a simplification of the default config in 2.1 (only!), I'm going to remove all the html files under httpd-2.1/docs/docroot/ and replace them with an index.html file containing only <html><body><h1>It works!</h1></body></html>
51de48d remove dead code
ec66d35 clarify select() usage on Windows
4abcf93 WIN64: fix some windows specific 64bit warnings
677d43f Change Apache 2.1 to version 2.1 for political correctness. Suggested by:	nd
f7aa72d Mention when these modules are introduced.
b043998 Add reference to mod_proxy_ajp and mod_proxy_balancer.
b6d4b30 WIN64: SOCKET is not int on 64bit platforms
1dd2345 Markup improvement and typo fix
a2e54fb mod_auth_ldap: Handle the inconsistent way in which the MS LDAP library handles special characters. PR:	24437 Obtained from: Submitted by:	Jess Holle Reviewed by:
0e9a37b mod_ldap: fix a bogus error message to tell the user which file is causing a potential problem with the LDAP shared memory cache. PR:	31431 Obtained from: Submitted by:	Graham Leggett Reviewed by:
74fd534 mod_ldap: prevent the possiblity of an infinite loop in the LDAP statistics display. PR: 29216 Obtained from: Submitted by:	Graham Leggett Reviewed by:
111edd2 mod_disk_cache: don't store hop-by-hop headers on-disk.
5f236ff Markup fix and improvements.
0c0ef3a update transformation
0f413a8 Move the few BS2000 specific in unixd.c
31ca153 Update transformations.
9f68f49 Fix missing gcc.
1a3ce1a Use the right length.
67841c5 Use plain apr/apr-util for ajp.
f3c2320 The name of the module is mod_proxy not mpm_proxy.
5a27b05 No need to call the ap_proxy_initialize_worker when initializing balancer members, but make sure that balancer module is initialized after proxy module.
084ca3d Use apr_strftime instead our own format_byte_out function.
1994180 Add server_rec to initialize_worker_share so that it get's correctly.
cb0cf95 backport ldap issue
52c225b * modules/http/http_protocol.c (ap_http_filter): Always fail if the Content-Length header is an empty string; previously this was only an error with some strto* implementations.
7d2caa8 Try to correctly follow RFC 2616 13.3 on validating stale cache responses by teaching mod_cache's cache_select_url and cache_save_filter how to deal with this corner case.
d902d5e update transformation
0d9c89a Reformat code to no tab and no CR-LF
258273c Make sure that we don't increase balancer worker count on gracefull restart. Thanks to Christian...again.
9c31031 mod_disk_cache: Do not store aborted content.
2b3c920 mod_disk_cache: Correctly store cached content type.
02ac131 Bring up to date a little, and don't talk about building PHP3(!).
8b66377 Prevent .nf/.fi regions being sucked up by normalize-space in apxs.8.
bc2d677 * support/apxs.in: Ensure that only a .la target filename is passed on the libtool link line otherwise libtool tries to link statically.
70ed655 * support/apxs.in: Reset $opt so that -I, -D and -Wc,* options are not passed to the libtool link line.  For "-Wl,-foo" pass "-foo" on the link line regardless of whether gcc is used; without guessing whether libtool --mode=link will invoke gcc or some native ld the previous behaviour is not really correct.
349fbd8 Initialize workers for every virtual server not just for default one.
c48cfec * server/util_filter.c (ap_save_brigade): Handle an ENOTIMPL setaside function correctly.
568bee1 Use the Christian von Roques's idea that makes the election mechanism much simpler. This also removes the need to count the number of free connections per channel.
0fc9189 Count the bytes trasfered and readed so we can display the actual data traffic, and add additional balancer mechanism that will use the data traffic into account.
8a2d25e Remove proxy_runtime_worker and make the things simpler by sharing runtime status accross child processes. Also make sure that shared data is initialized after the scoreboard is created.
3263604 this fix backported to 2.0
be0379e port
22e1735 Tell mod_mem_cache that we will no longer be serving this object if it is stale.
5981d5f Note a backport. PR: Obtained from: Submitted by: Reviewed by:
5eba248 * server/mpm_common.c (dummy_connection): Log the address if the connect() fails.
fb8f33f Fix race conditions in mod_disk_cache by properly using the tempfile rather than the data file.  (We rename the tempfile when we're completed with the data file which is an atomic operation.)
3d6899d Cleanup a style nit.  No functional changes.
f42af96 Fix up some comments in CACHE_SAVE filter and fix a minor style nit. No functional changes.
df6a1b3 * server/log.c (log_error_core): For APLOG_DEBUG on Unix, if __FILE__ is an absolute path (as in a VPATH build), just log the basename.
ba4d908 WIN64: first in a series to get Windows IA64 builds clean, this serves pages
b38e066 Remove the second initialisation of the variable to NULL. It is already NULL in the definition. PR: Obtained from: Submitted by: Reviewed by:
4d1d856 * modules/ssl/ssl_engine_io.c (ssl_io_filter_connect): Return 502 not 501 if SSL_connect() fails for a proxy connection.
c69b0be * modules/generators/mod_cgi.c (cgi_handler): Fix possible segfaults in CGI bucket methods if invoked from a subrequest.
c343d09 * modules/ssl/ssl_scache_shmcb.c (ssl_scahe_shmcb_init): If anonymous shm is not supported, always remove the named segment first to cope with unclean shutdowns.
ba6d980 * server/scoreboard.c (create_namebased_scoreboard): Use apr_shm_remove() rather than the unsufficient apr_file_remove().
837beb6 * modules/ssl/ssl_engine_vars.c: Map "UID" suffix to the same OID (2.5.4.45) for old and new versions of OpenSSL.
4d5faaf a few new translations and up-to-date patches
0427774 Fix Expires (freshness) handling in mod_cache.
fdc9fe0 In order for mod_expires to work with mod_cache, mod_expires has to go first. Otherwise, mod_cache has no clue that the response has a limited lifetime.
15f0eaf Update to enable mod_filter harness to be a Provider (for chaining rules).
2b26d10 * server/protocol.c (ap_rgetline_core): Never NUL terminate at (*s)[-1] for caller-supplied *s.
1cc4147 * configure.in: Only export CC and CPP if a cache file is not specified.
8e99a8f update transformation
e35f03b SECURITY: CAN-2004-0811 officially part of 2.0.52
72fb770 Merge mod_filter with util_filter structs; add API for protocol stuff. Rename FilterDebug directive to FilterTrace.
bc4dd08 fix typo
91fdc42 * server/core.c (merge_core_dir_configs): Fix Satisfy merging since per-method Satisfy feature was added.
07bb0d6 update transformation
24713ca * configure.in: Ensure that $CC and $CPP are correctly passed through to the pcre configure script if config caching is disabled (the autoconf 2.5x default).
b611143 Fix the global mutex crash when the global mutex is never allocated due to disabled/empty caches. PR: Obtained from: Submitted by:	Jess Holle <jessh ptc.com> Reviewed by:
f95b63e Fix a segfault in the LDAP cache purge. PR: Obtained from: Submitted by:	Jess Holle <jessh ptc.com> Reviewed by:
c9f2bc9 Update Japanese translation.
ced3092   	Update the description of digest support for 2004, adding Konqueror, Mac IE, and Safari as supporting browsers, and lynx as an (apparently) non-supporting browser. Confirmation of the official lynx home would be welcome -- lynx.browser.org and UKans both have older versions.
dd35f4f add mod_proxy_ajp mod_proxy_balancer dependencies
0e88f02 mod_rewrite: Handle per-location rules when r->filename is unset. Previously this would segfault or simply not match as expected, depending on the platform.
550d5d2 sync with APACHE_2_0_BRANCH
130c053 Unix MPMs: Shut down the server more quickly when child processes are slow to exit.
47de6e0 Remove useless C++ comment.
d637ce6 sync with 2.0 CHANGES file
34bf794 Group effort. Thanks all!
1971e1f eliminate cleanup bit in favor of managing the object exclusively with the refcount field
8a33fdf Remove duplicate logging from alloc and send data_msg. The logging is already done in the proxy_ajp. Also remove unused function params.
fd59405 Remove logging inside ajp_send_data_msg. If send fails it is logged inside proxy_ajp with the same message.
29401b9 Do not check if the input sock param is NULL. It's already checked before the function is called.
b4442f1 Make worker retry algorithm much  simpler removing incremental timeout increase.
79dda40 update translation to english revision
103a0eb correct two links
f726314 Add failover attempts management to balancer-manager.
c2f0914 Display worker status under server-status
6799ab5 Add maximum nuber of attempts for failover and run scheme handler if worker is in error state up to that number. Another great idea from Christian von Roques.
254940a use HTML 2.0 <hr>
31df4f2 Do not set shared data from previous worker if ap_get_scoreboard_lb fails.
89bcba3 Fix core dump on WIN32 caused by the fact that there is no way to run a hook after ap_scoreboard_init. Since we only have a single child on WIN32 that isn't a big problem, cause plain memory is enough. Other platforms were not affected cause scoreboard_image is inherited from parent.
903a617 Fixed race condition when cleaning a cache object from multiple thread.
ccd30cb Fix worker retries and limit default retry timeout to 10 minutes. Thanks to Christian von Roques for spotting that.
d967283 Worker shared data has to be visible across all child processes, so remove creating that data on per-child basis. Thanks to Christian von Roques for the patch.
a536cfe Worker shared data has to be visible across all child processes, so remove creating that data on per-child basis.
ff2207a Register output function so that core can retrieve it and set scoreboard accordingly
f2d3d37 * server/util.c (ap_resolve_env): Rewrite to avoid buffer overflows.
3a008cd * modules/proxy/proxy_http.c (proxy_http_handler, proxy_http_canon): Drop ap_ prefix, declarations and make static.
f1f138a * modules/proxy/proxy_ajp.c (proxy_ajp_handler): #if 0-out variable which is only used in the #if 0'ed code in this function.
60e15ba * modules/proxy/proxy_ajp.c (proxy_ajp_handler, proxy_ajp_canon): Drop ap_ prefix, declarations and make static.
d05865b * server/protocol.c (ap_rgetline_core): Fix off-by-one.
7584e8b Fix typo in previous commit.
b31fef4 * server/core.c (default_handler): Fix the test for whether to split a file into several buckets: it is needed regardless of whether sendfile is enabled, and APR_HAS_LARGE_FILES is not sufficient to determine whether sizeof(apr_off_t) is greater than sizeof(apr_off_t).
2a234c6 Fix typo -- uri is constructed when there is no proxy in chain.
925dcf4 No need to allocate hostname on each request for persistent connections.
5cc4838 Always use prive connection pool for allocation, and call apr_pool_clear when the connection is closed on recycle, so that we don't leak on persistent connections.
2661e28 * modules/ldap/util_ldap_cache_mgr.c (util_ald_cache_display): Return empty string on error path.
b3c6ffe Oops. Do not commit private settings.
733fefe * modules/ldap/util_ldap.c (util_ldap_post_config): Fix false positives from gcc -Wformat-security.
dd9b830 * modules/proxy/ajp_msg.c (ajp_msg_dump): Cast apr_size_t to unsigned long to avoid the warning with %lx for 32-bit size_t too.
9a9b58a Add proxy_ajp and proxy_balancer to the LoadModule list.
70410ee Add proxy_ajp and proxy_balancer to the build.
34cdcdf * modules/dav/fs/lock.c (dav_fs_refresh_locks): Fix SEGV on refresh of indirect lock.
176d337 * modules/dav/fs/lock.c (dav_size_indirect): Fix indirect lock record handling on 64-bit platforms: use correct size of apr_datum_t.dsize field.
56a7d85 update transformation
4711e79 it should be a link
891fc2f update transformation
74ef965 HTTP = Hyptertext Transfer Protocol
75fe3d7 PR: 19688 Fix incorrect (and important) comments
7e55431 update translation
ed706e9 add Revision mark
0259cf5 build all
c497132 Something I've wish to change for years :).
a45247d Add ajp and balancer
5a73cff Initial balancer documentation. Just framework.
a5fbd0a Add ajp documentation. Mostly copied from jakarta site and translate to apache doc format
3e6833d Add more comments to the code -- No functional change.
08e9b92 The functionality is in mod_authz_host module in 2.1.
99af149 Add more comments to the code -- No functional change.
aeaa702 Tidying loose ends.
5a5f85a Use worker as a parameter for connection_constructor. When min connections is greater then zero connstructor is called when the reslist is created.
7114158 Add #if APR_HAS_MMAP to fix for non-MMAPing platforms.
e75696f Fix format string warnings in proxy_ajp on 64-bit platforms:
dd00fb7 Do not add forward proxy to other proxies. Use new function to create the worker that isn't by default added to the list of other workers. This enalbles mixing forward and reverse proxy functionality on the same box.
dca2aae Remove the unused close_connection function.
c1a9316 Make sure that the connection pool cleanup is called before the reslist is destroyed.
72e8398 update transformation
a64681b Initialize the forward proxy worker too.
225dd23 Just like for balancers initialize the workers on post_config instead on first request to skip the race condition.
4877098 Initialize the balancer on child_init instead on first request to skip the race condition.
aa868e2 Entering mod_filter and documentation, as previously discussed on dev@httpd. Please test-drive in time for 2.2.  Currently compatible with 2.0 and up.
e93d640 Include unistd.h for getpid.
9e235eb Fix compile time warnings (logging pointer and unused var).
be924b5 Remove the proxy_conn_cleanup. The socket will be closed when the pool is cleared or destroyed by it's own cleanup routine. Also skip clearing sockets if the workers pool is destroyed, cause the pool might already be destroyed.
faa3a85 MaxSpareServers cannot be equal to MinSpareServers.
916b02a Move the shared scoreboard data initization to the balancer module. The initialization is done like for the worker, on first request. This is done because during config phase we don't have a scoreboard to allocate from. Thanks to Chritian von Roques for spotting that.
333cd66 Remove unneeded variable. No functional change.
ced8a94 Add function protos so that -Wmissing-declarations doesn't complain.
db9425f Fix typo.
1e4baaa update transformation
e35d233 If any of steps return status != OK close the connection and call the proxy_http_cleanup.
7e60923 Make sure that the status is not overwritten.
2f4e3c8 spellcheck
4f9be53 First try the reverse proxies. If there is no worker defined for requested uri use the forward worker, but only for PROXYREQ_PROXY requests.
44d1474 Add PROXY_WORKER_IGNORE_ERRORS flags that disables puting the entire worker in retry mode, cause for forward workers the remote is not fixed.
bea1cc4 Add sockaddr to proxy_conn_rec. Using the workers address is unsafe for forward proxy workers, cause unlike reverse proxies the forward can have each connection with different remote address.
4f7554d Use forward worker for all PROXYREQ_PROXY requests.
c355a4d Add 'default' foward proxy worker to the proxy_server_conf. Forward worker is constructed on ProxyRequests directive with sceme and host equals '*', meaning all.
5593ebb Add 'default' foward proxy worker to the proxy_server_conf.
92d0f47 Forward port typo fix from 2.0.
4f2a685 document a problem with AIX native compiler and Apache 2+, and describe how to avoid it
c730803 update transformation
199bc66 The domain name example1.com actually exists and is NOT one of the example domain names reserved in RFC2606.
66286d5 update transformation
35a4208 Grammar police.
aa2e4b0 Grammar police.
9e2ffd3 use language designtated maf base urls
c015d9b clean up
1676f10 build bootstrap
d73a918 faster build of more than one offline package
5969900 build bootstrap
d4055f4 maf and zip don't differ that much. Let's create just one package for both purposes
75e27e1 Echo a warning from configure if you select an experimental MPM. Reviewed by: Jeff Trawick
dfb6949 update transformation
7efbc41 mod_info: Added all Standard Hooks to the Hook Listing. mod_info now has two sections, 'Startup Hooks' and 'Request Hooks'.
29f9e86 fix XHTML 1.0 Validation Errors.
e4a3bcb mod_info: Added ?hooks. Now outputs XHTML. Added more build info. updated mod_info docs.
176f707 Clean up STATUS. All readme files are gone. mod_example.xml and mod_status.xml are updated. custom_errordocs is gone.
345137c The functionality is provided by mod_authz_host in 2.1.
c6eb498 update transformation
fa08713 update transformation
9f66b15 better google search selector
138e357 Update translation.
63bb924 build bootstrap
aa747a7 add style support for konqueror web archive (war) and mozilla archive format (maf)
fd6dde3 Forward port changes from 2.0. <code> mark up change and whitespace changes.
f8300b5 Remove the use of sprintf. Cleanup the history parts at the top of mod_info.c
d201a7a No Functional Changes to mod_info.
0043202 these translations are still up-to-date
7ff6ced add a missing space
1ab14ee Update transformations.
1e86af5 Correct module references which are overlooked when this translation is forward ported.
aab7590 Update Japanese translations.
e4fa99c sync
37611c7 update transformation
46fb7c6 use example.com fixed the Access Control Example
55b2bc4 updated mod_info to include docs on the different arguments it can take. Submitted By: Rici Lake
dafcc55 version bump
8091053 spell check
94a0a4d Hey look, the latest commit to mod_info closes a PR from 1998. In other news, it looks like 99% of the bugs in that part of the STATUS file are completely bogus now...
79c39b3 Rewrote config tree walk using recursion the way God intended. Added ?config option. Added printout of config filename and line numbers.
e9d5823 use -z7 in the example cvs checkouts for APR/APR-Util. Makes the checkout go much faster on slow dialup modems...
3df20e7 handling of encoded non-slashes was borked in the AllowEncodedSlashes path
58534ea * configure.in: Only build against APR 1.x.
0a6ff84 "Rule" is pretty abstract in this case and seems to cause confusion for many people.
f5097ac Allow for the use of --with-module=foo:bar where the ./modules/foo directory is local only. Assumes, of course, that the required files are in ./modules/foo, but makes it easier to statically build/log "external" modules.
972df61 sync
fbe18fa CAN to CVE promotions from CVE version 20040901 PR: Obtained from: Submitted by: Reviewed by:
df0ae2a Fix a trio of bugs in how mod_proxy relays requests:
a7f3a9b Fix the handling of URIs containing %2F when AllowEncodedSlashes is enabled.  Previously, such urls would still be rejected with 404.
d37a21d Fix Bug 18388 (Set-Cookie in 304)
cf9053e Fix for Bug 18757 (sending bogus content-length of zero in no-body requests)
5e4c2f2   Add mod_authnz_ldap for the win32 build
e8f3249   Catch up for Win32 to authnz_ldap changes, and make win32's module   for util_ldap features named mod_ldap.so as on Unix.
e86a8f4 Add missing English Revision comment.
220007f typo
f7b84ad update German translation
dc3c996 two points are not better then one
58b9a4c update translation
8f0dbd2 update transformation
6a5de8f Typo
162edf2 update transformation
56ddffd Change * to *:80 to promote better habits.
ef13d0f Fix query string handling for proxied URLs.
230ea0b Fix darn typo.
0dafe09 grammar police
e449227 e -> � :)
893c206 sync
f907b85 sync with 2.0
0c041a2 Synch with 2.0 branch.
52a19e2 update transformation
d4a3526 add a note about Limit and Satisfy
3009daa sync
7fe1e76 remove unused variables and fix some compiler warnings about const qualifiers
0c4cd29 Forward-port CHANGES entry for mod_*_cache from 2.0.
a97ed90 #ifndef AP_UNSAFE_ERROR_LOG_UNESCAPED the stderr to errorlog stuff for those who don't want to escape (as in server/log.c)
8418a79 Give Brian and Justin credit for code backported into 2.0. Is this really the only CHANGES entry in 2.1 for cache?
2fe3b59 fd == file descriptor. I like fs for file system for mod_disk_cache tho
abb23e5 Preserve the return value from the apr_stat() call so that it can be displayed in the error log message. (Done right this time)
ca11a13 Preserve the return value from the apr_stat() call so that it can be displayed in the error log message.
6ecfdc8 Synch with 2.0 branch.
2a80ab7 Untabify the source.
2d7f11c Add dynamic management to load balancer: <Location /manager>   SetHandler balancer-manager </Location> It enables changing load factors, session routes, redirection routes, and disabling/enabling particular workers.
a224ba7 Add pool used for allocating proxy_server_conf to that struct. It will be used for dynamic configuration, to ensure that dynamic params has the same lifetime as the config has.
6117223 another backport
1bea93d backport
dc1b1b5 Reverting files checked in by mistake
98b5357 Update 8/25/04
000813a Allow multiple IP addresses to be configured for the same secure port
45aeb83 Win32: Fix stranded piped loggers on apache -k start,restart,config,install
00005d8 Document new API functions.
c5eb96b Remove the tabs from code.
4adc3e6 Added SSL custom indicators. They can be set using SetEnv directive, so we don't need an extra one like the JkEnvVar is in the mod_jk.
40bc85d Untabify the code. Have no idea who put all those tabs in sources.
c6e48bb Added ProxySet directive (can be rename to something else). The purpose is to be able to set the worker/balancer params withouth the need for very long config lines : <Proxy balancer://cluster>   ProxySet stickysession=JSESSIONID </Proxy> Or... ProxySet balancer://cluser nofaiover=On timeout=2
89bbf03 Remove BalancerStickySession directive. This directive was leftover from the initial implementation. The stickysession is set using 'name=val' like any other option.
3897486 Remove uneeded access_status variable.
b9bee51 Do not check the balancer param. It is already checked prior the hook is called from mod_proxy.
58e35c8 Increase the request count for each runtime worker when the worker is elected.
41b6442 Implement REQ_ATTRIBUTE using request rec environment table, so we can use standard SetEnv directive for that. The ajp specific attributes has to be prefixed using 'AJP_', and are passed withouth that prefix to the backend.
3b81c4c Use the session route from request rec notes.
e238532 Add session route to request rec notes if present. The session route is used only in proxy_ajp for now and passed inside AJP header message.
a32e605 Clean up some bogus error messages.
8f2b824 Use ap_str_tolower for lowercasing the scheme. That was the original intention (not apr_tolower).
ffc4dad Add the proxy_balancer and proxy_ajp to the build. One strange thing is that my dev studio changed the quoted links to .dsp files from: Project: "Apache"=".\Apache.dsp" - Package Owner=<4> to: Project: "Apache"=.\Apache.dsp - Package Owner=<4> Not sure if they are originally modified by hand.
4a35159 Change the links to ajp files. They are no longer in the ajp subdir.
e0c3bc4 Escape bytes returned by the errfn because it might be from an untrusted source
2da2469 ldap is out of experimental
85b1530 Since OpenLDAP doesn't validate the certificate until it tries to use it, at lease make sure that the file path is good during configuration.
e454318 Synch with 2.0 branch.
4478040 A feature crept.
889aafe update transformation
12374d5 update Japanese translation.
72e9dc7 Process request and response in ap_proxy_ajp_request() that the only way to process GET_BODY_CHUNCK after SEND_HEADER and SEND_BODY_CHUNK.
8d491b6 update Japanese translation.
053f387 update Japanese translation.
a08bdc0 sync
0226c05 use more intuitive variable names ap_sub_req_*_uri  to use new_uri ap_sub_req_*_file to use new_file
8887c5d sync
64e770c Build using the ajp code in the proxy directory.
1dc216e Fix a few references to mod_auth_ldap to be mod_authnz_ldap
0239bc6 update transformation
d7b6f07 Fix configure option for ldap (--enable-authnz-ldap)
aab0252 Document SSL_CLIENT_V_REMAIN.
afdfac6 Fix a few references to mod_auth_ldap to be mod_authnz_ldap
8b7f6e7 mod_auth_ldap has been moved to the modules/aaa directory and is called authnz_ldap.  It has also been restructured to follow the new auth module model.  The documentation has also been renamed to mod_authnz_ldap.  The old mod_auth_ldap documentation is now obsolete.
b443707 Add the documentation for mod_authnz_ldap
dfaa223 update transformation
0f40235 keep in sync
8c9b218 Clean up some compiler warnings
f7dedf9 Add build files for the util_ldap module
8eb4d10 mod_auth_ldap and util_ldap no longer build from the experimental directory
f95d7fd charset.conv has been moved to the docs/conf directory
a8f1d70 Move charset.conv configuration file out of experimental and into docs/conf.  This file holds the character set conversion table used by the authn_ldap provider.
0365434 mod_auth_ldap has been moved to the modules/aaa directory and is called authnz_ldap.  It has also been restructured to follow the new auth module model
77e4406 util_ldap has been moved to the modules/ldap directory
211ecf3 Update the netware make files to stop building the ldap modules from experimental and start building from the new locations.
871dcc3 Move util_ldap out of experimental and into ldap.
6442f72 Arrange the logic sending to body data to Tomcat. Now it works for both chunked and not-chunked. But it is not yet working when the Tomcat starts to send data before having read all the body and then reads again.
244f2d8 Sorry there were 2 typos
0b2a0d6 Typo.
ba8ab9b Prevent / beeing accepted wrongly by the proxy when having for example: <Location /examples/>    ProxyPass ajp://localhost:8009/examples/ </Location>
af2ceef The ajp subdirectory does not exist so we don't need it in the includes. The mod_proxy_ajp.dsp also refers to source files in .\ajp but that looks to be a generate file; someone with the right have to arrange it.
500074e Both the r->user and r->ap_auth_type were set previously when the username and password were extracted from the request.  Resetting them at the end of the handler will overwrite any changes made by the authn provider.  For example, the ldap authn provider can be configured to change the user name to a full user dn.
5e63bc4 jakarta-tomcat-connectors AJP files. The original location of the files in jakarta is: jakarta-tomcat-connectors/ajp/ajplib/test (That was not a good idea)
6f07c68 Note the restructuring and change in status mod_auth_ldap
bf820c3 Fix some compiler warnings in proxy PR: Obtained from: Submitted by:	Geoffrey Young <geoff@modperlcookbook.org> Reviewed by:
3acd4ea Make sure mod_authnz_ldap is included in the unix builds. PR: Obtained from: Submitted by: Reviewed by:
ef72cd4 Clarify an error message to tell the user what to do if apr-util lacks LDAP support. PR: Obtained from: Submitted by: Reviewed by:
8eb3fb0 suexec: Pass the SERVER_SIGNATURE envvar through to CGIs.
6b78471 apachectl: Fix a problem finding envvars if sbindir != bindir.
5afedd0 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert_remain): New function.  (ssl_var_lookup_ssl_cert): Support _V_REMAIN suffix for SSL_{SERVER,CLIENT} as number of days until certificate expires.
6c2a857 * modules/mappers/mod_userdir.c (register_hooks): Move suexec_identity hook to APR_HOOK_FIRST to ensure it runs before the mod_suexec hook.
7d188d3 Re-structure the auth_ldap module to fit the new authentication model.  The authnz_ldap module provides an ldap authentication provider and an authorization handler.  It implements the authorization "require" values ldap-user, ldap-dn and ldap-group.  This restructure also moves auth_ldap out of the experimental directory.
ba70576 sync
e5d80b8   Require zlib to be pre-compiled, and rely upon the srclib/zlib/   tree to contain zlib.lib and our .h files.
f5beea0   A few more modules who need their bases owned.
ebeda08   Eliminate several unused variables, observe a file size -> cache entry size   overflow, and reorder a few headers so we compile clean.
63b4ad0 * modules/ssl/ssl_engine_io.c (ssl_io_input_read): Fix rollback handling for AP_MODE_SPECULATIVE.
28a2fdc Implement -t -DDUMP_MODULES using generic test_config hook rather than hooking into mod_so from main.c:
e9977c0 Clean up the makefile
3900951 fix an infinite loop in proxy CONNECT (problem was only in 2.1-dev)
535b2c4 Relax the pointer checking for the proxy_ajp module to avoid a pointer mismatch error when compiling
2c05e62 sync
15d1ebb update transformation
02969d3 fix version number
665f860 update transformation
1e546bc fix version number
4ce939e filepath_info wasn't set by the httpd for over 7 years
8f9bdb1 Remove "PATH_INFO Changes in CGI Environment" documentation.
2163a33 don't forget the metafile
1927a77 update translation
7ea5904 fix & update transformation
6ede030 update transformation
209ddfb Conditionally build the proxy_ajp module of the ajplib file are available
fa75a62 - name Apache with its full name - markup improvement
ddc3dee markup improvement
eec68b0 WinNT MPM: Fix a broken log message at termination.
0f0a226 tweak error handling when reading the pid file
7f47aa1 Fix the parameter list for the scheme_handler ap_proxy_connect_handler() so that it matches the prototype declared for the scheme_handler hook.
9a86040 Add the new proxy protocol modules to the NetWare build
3dcd1d7 * configure.in: Ensure that apr and apr-util exported include directories are later than local source directories in INCLUDES.
e882977 axe some unused variables and don't log an error code that hasn't been initialized
ac4dcde apr_tolower() doesn't process the entire string
64119fa fix some const issues with string searching
26f21a9 fix format string mismatch (int vs. apr_time_t)
d32d0e3 * configure.in: Define AP_HAVE_DESIGNATED_INITIALIZER via ap_config.h so third-party modules don't have to pick up NOTEST_CPPFLAGS to avoid gcc warnings from http_config.h.
84b6512 * configure.in, acinclude.m4: Substitute AP[RU]_CONFIG with location of installed ap[ru]-config scripts so third-party modules can use `apxs -q APR_CONFIG`.
ef0c430   Fix signedness emit.
3b3abbd   Missing an entry for proxy_balancer in the win32 baseaddr's list
a88c908 Continue with addressing the FAQ: How to do url manipulation on the query string.
d60aa10 correct struct fields comments
84fd685 Small status displaying fix.
bf25755 Fix setting of hostname for backend. The now reflects the real name withouth scheme:// prefix.
c42bcbc Added proxy status for conf, and elected member to runtime worker Added mod_status extension for displaying runtime status informations for load balancer.
787adb7 Start porting connection pool to ftp.
9b54960 Added dynamic worker limit. It ensures that the addng dynamic workers to the balancers never excedes that limit.
855a0c3 Add some extra debugging to ease the bug chasing :)
dcbceac Make sure that the things get logged using the same look-and-feal. Also fix the return code from DECLINED to service unavailable if the connection breaks.
6590e33 Fix the url rewriting, and few minor developement bugs.
0c15126 Fix the return codes. We can not return the APR error codes.
c84854f Make sure that if the pre_request was called that the post_request gets called too, no mather what the error code is.
4d5f689 Implement the worker retry functionality. It uses either worker->retry option or default 60 second retry that is on each revolution extended by another 60 seconds.
ec90a68 Use the proxy_runtime_stat that either comes from scoreboard or directly allocating memory if there is no scoreboard support or it is not neaded, due to the fact that we have single child process.
906f2c3 Shared memory support. The shared memory is inside apache scoreboard. If it ever gets back ported we could use it on 2.0
08e97ab Use the pool for add_worker call.
8ca5c23 Add pool to functions for setting worker and balancer parameters. Still have no idea why that doesn't work without duping as JeanFrederic reported.
e1c9bf4 Add rewrite url function and calcute lbstatuses when session worker is elected.
9bdff38 The lbstatus needs to be updated for every worker, not just the candidate.
392b0fc Add finding of a most suitable worker.
b8a1766 Add route and redirect to worker so they can be set trough configuration. Add worker status flag definitions.
4c69458 Set initial lbstatus to calculated lbfactor.
3698b45 Fix structure element typo.
3c5a741 Add proxy_balancer to proxy module, including config and capturing -I ../generators for the mod_status.h
392a44c Remove setting module config.
7d605da Fix some config checking params. Added route and route redirect to the runtime worker.
2b663aa Bounding to client connection is not needed(?). Since AJP can serve multiple request trough the same backend connection, no need to create separate conn_rec. For now comment out all the set/get module config.
abfd852 Use the new connection pool for AJP.
d65c9af Always use the cleanup. Do not close the socket directly.
674cfed Fix the assertion bug for reslist caused by returning the same connection back to the pool twice.
99259de We have a proxy-http using connection pool ;) Need some thorough testing.
f99f785 Change the scheme handler hook to include worker. We will probably need the balancer too, but that can wait for now. Other undocumented changes (shame,shame) in proxy_util.c
ae18ec3 Added close_on_recycle flags for creatin connections. This flag enables to distinguish between connection types. Also added a pool cleanup bound to connection pool that recycles the connection when client disconnects from server.
6cc26c2 Added acquire and release connection functions. The acquire pulls the connection from the pool. The release returns the connection to the pool.
62ccd6c Added ap_proxy_connection_create function that makes conn_rec for opened connection. It is used bt http(s) and ftp for bounding the backend connection to client connection with the same id's.
5faf9c3 Added KeepAlive worker option. The scheme handler will override this setting if required, depending on the protocol itself and keepalive_set flag.
5ead791 Add ap_proxy_connect_backend that will replace ap_proxy_connect_to_backend. It uses worker params for setting socket options and checks for conection's connect status. It works both on empty and acquired connections.
6c7efc8 Added iobuffersize and receivebuffersize to be worker specific. As for timeout their default value is from proxy_conf.
ae33d99 Change the way the prefork connection is created. Use the same constructor as for theaded mpm's. Added API's for destroying and closing connections
a603a36 Added timeout_set for worker. Each worker can have a different timeout the ProxyTimout sets. Also changed proxy_conf's timeout_set to int.
c25b89a Added acquire timeout for obtaining resources from reslist. The timeout is in milliseconds to enable quick return in case the reslist is exceded the maximum number of connections.
66239a8 Remove proxy_mdule_conf. We will change the scheme hook api to include the worker.
3cc146e Remove proxy_conn struct and add it's params to proxy_conn_rec. Use named structure type declarations.
fd82a02 Add worker timeout inherited from ProxyTimeout.
385f71e Use the worker pool for creating proxy_conn_poll to suppress it's destruction when cleaning worker.
504d6da Arrange the handling of apr_array_header_t arrays.
c460a77 Make proxy_conn always accesible for preforked MPM and APR_HAS_THREADS enabled.
5b93a5f Add some source comments about worker DNS lookup.
4d04100 Remove unusable code. The constructor and destructor will be in proxy_util.  Add a trace.
9e63931 Added ap_proxy_determine_connection. It will be used both for http and ajp handlers. Started writing apr_reslist connection pool.
4dcf961 update transformation
933ba3a update transformation
ad3071f Use pre_pequest function and set proxy_module_conf bound to client connection so it cen be obtained inside scheme handlers.
f9596ca Add ap_proxy_pre_request API function. It calls the actual module pre_request hook if present
7063433 dup real and fake
01f7f51 Add pre_request and post_request proxy hooks. They will be mainly used for loadbalancers for finding and maintaining workers.
4c28384 Make sure that APR_MAJOR_VERSION is defined.
eb8b42d Remove all worker/balancer API's to proxy_util.
df8b1de   Missed a 2.0-HEAD proxy back-compat patch
d38ce69 Added API for creating balancers. Added property  setter for balancers.
386cc09 Use RAW_ARGS instead ITERATE. Add options for connection pool when using ProxyPass
8dda80b Move worker params parsing to a separate function. The same will be used for creating ProxyPass connection pools.
e881f5c Move min,smax and hmax params to worker, so they can be set before the connection pool is created
c47f5cb Obtain balancer using API.
55bdb14 Use API instead directly obtaining worker and balancer. Add BalancerStickySession and BalanceMember directives. Add workers and balancers to create and merge config.
cbdfbe5 Add initial structures for connection pool and load balancer.
1d2047b Enable backwards compatibility with 2.0-HEAD, define ajp module base, and note CHANGES so far to proxy
00e0806 Well, we still need that casting :)
0ee9349 Use ajp scheme when doing canonicalise.
831061a Rename parse_headers to parse_header. Some renaming and style cleanup.
3eaf1a2 Close only when needed.
8d4e9e7 Use protocol handler defines instead fixed numbers. Makes more sense what's happening.
2183c81 Added include "ajp.h", and made some casting
f9d74ac Add the logic to read the body.
ced378d Clean useless code.
900bd3c Introduce proxy_ajp.c : use --enable-proxy-ajp with configuring Apache. To load it: +++ LoadModule proxy_ajp_module modules/mod_proxy_ajp.so +++
e297ed1 Refer people to mod_rewrite if they need to manipulate the query string.  (This is a FAQ.)
820c63d Note that mod_expires also sends Cache-Control: max-age.
d2e2c4e * modules/ssl/ssl_engine_kernel.c (ssl_callback_SSLVerify_CRL), * server/log.c (ap_log_pid), * server/mpm/prefork/prefork.c (accept_mutex_on, accept_mutex_off), * support/htdbm.c (htdbm_list): Fix some non-literal format strings (warnings from gcc -Wformat-security).
371ef0b * modules/ssl/ssl_engine_io.c (ssl_io_input_read): Fix potential infinite loop in ssl_io_input_getline if connection is aborted without inctx->rc being set.
50deaf8 Ignore config.* scripts copied from APR.
f29ce5c Updated list of exported API for NetWare
6b45004 Fix typo. is->it
8317ab2 mod_disk_cache: Implement binary format for on-disk header files.
a83efa5 Remove cache hooks and custom vtable format in favor of the ap_provider_* API.
17172c4 Reverse the parameters on the apr_ldap_info() call to match the prototype.
fadec21 update transformation
d80f94e fix semantic mistakes and add version hint
4a79e33 update transformation
4f9008d fix xml error
a3bf628 * modules/experimental/mod_disk_cache.c: Don't call MD5 twice for the same   value.
bb6068b mod_disk_cache: Produce slightly more informative log messages and at more appropriate levels.  (LogLevel info will now only inform you when you are storing a cache item.  debug is required to show what is being served from cache.)
aab513a mod_auth_ldap backports
10f9e53 document AuthDigestEnableQueryStringHack
0fa9869 Fixes the build of proxy on Windows. Since the proxy_module is declared as extern using AP_MODULE_DECLARE_DATA that expands to dllexport, there is a LNK2001 error when building proxy_http. PR: Obtained from:		Mladen Turk <mturk@apache.org> Submitted by: Reviewed by:
03d2dd9 Remove LDAP toolkit specific code from util_ldap and mod_auth_ldap. PR: Obtained from: Submitted by: Reviewed by:
f001808 Copied over from 2.0 docs
cc0d670 Avoid confusion when reading mod_cache code.  write_ and read_ often imply network code; store_ and recall_ are more understandable prefixes in this context.
59e2bcf * modules/experimental/mod_disk_cache.c (open_entity): Allow the data file to   be sent via sendfile() and allow the header file to be buffered.
4cd04ff * modules/experimental/mod_cache.c: Rename CACHE_IN to CACHE_SAVE.  Our   standard in-tree convention is _IN is for input filters.  That's not what   this filter did, so that caused confusion.
c5fc9b2 * modules/experimental/mod_disk_cache.c (load_headers): Only validate that the   header file descriptor is available.  (fd is an unnecessary check here.)
39744b6 * modules/experimental/mod_cache.c: Delay no-store check until saving.   (It's a corner case with little benefit in the mainline.)   (Some nearby style nits also resolved in this patch.)
4912a05 * modules/experimental/mod_cache.h: Remove unnecessary MAX_URL_LENGTH #define.
4c9ab92 * modules/experimental/mod_cache.c (cache_url_handler): Rewrite to be more   understandable.  Also, remove bogus checks for MAX_URL_LENGTH and declining   '/'-terminated URLs.
be3d957 * modules/experimental/mod_cache.h: Always use atomics. * modules/experimental/mod_mem_cache.c: Always use atomics.
c28dfa1 * modules/http/http_request.c (ap_internal_redirect): Call quick_handler   when we do an internal redirect to allow caching.  This allows mod_dir   requests to be cached.
ea15a23 Remove duplicate AddCharsets (both old and new:-)
027251a Fix Bug 22684 and add some additional charsets. Provides a better workaround for Bug 23421.
252e7ae Teach apxs how to find ap{ru}-$AP{RU}_MAJOR_VERSION-config
f1904a7 developer/modules.xml.ja exists now
945ba7b Convert to XHTML.
022f0af Remove deprecated APR_STATUS_IS_SUCCESS() macro in favor of direct test against APR_SUCCESS.
6ca160f perchild MPM: Fix thread safety problem in the use of longjmp().
a21e435 Update the build procedure comment
c202768 Backport done
32f6dfc oops. while switching to euc-jp I've removed also the html-only .ja.jis files. recode to euc-jp and re-add them (only one in 2.1)
47ceb23 update transformation
f076334 build bootstrap
5107e42 switch to EUC-JP which is more stable in transformations than iso-2022-jp
7262ac8 Improve binary compatiblity. This fix was requested of me before it was committed, but it went in anyway - my bad :( PR: Obtained from: Submitted by:	Mladen Turk <mturk@apache.org> Reviewed by:
e548632 Add load balancer support to the scoreboard in preparation for load balancing support in mod_proxy. PR: Obtained from: Submitted by:	Mladen Turk <mturk@apache.org> Reviewed by:
4b94180 modify to better translation.
2b824f5 modified to better translation.
06913b4 update transformation
3be3eef Update transformation.
1c97776 Update Japanese translation.
0626195 New Japanese translation.
5cdc219 Update transformations.
ddea477 New Japanese translations.
136946c New Japanese translation.
7e6cc11 New Japanese translation.
376a432 Update Japanese translation.
c03c32e Update Japanese translation.
8925577 Update transformation.
5ae5822 Conform to spelling convention.
d4d0518 Tidy up handling of empty brigades (Joe Orton); Ensure we still set headers on HEAD and 204/304; and fix inflate_out_filter handling of HEAD/etc.
5aeda46 update transformation
c9eeb63 update translation.
6df79c6 update translation.
cb0bf52 update translation.
37d870f update translation.
0d4387d Workaround RHEL 3 'cuteness' for OpenSSL by calling pkg-config openssl.
2d217fe fix the invalid return value entry for ap_meets_conditions PR: Obtained from: Submitted by: Reviewed by:
fc727e2 Tidy up: get rid of dubious cast (nd) and initialise encoding.
814ef2d Fix previous patch to deal correctly with multiple empty brigades before we know if there's any content, and not re-process the headers.
ef9d0ab Fix headers in deflate_out_filter for the case of an empty first brigade
0e41475 * server/core.c (set_allow_opts): Fix gcc warning.
6e23137 Allocate memory from the temp_pool rather than the stack to avoid blowing fixed length stacks while evaluating  nested includes
9fc8e1b NWSSLUpgradeable directive
c54c2e1 Replace the strsep() call to the more portable apr_strtok() call so that we can build again
6adbfe9 * docs/conf/httpd-std.conf.in * docs/conf/httpd-win.conf
fe06293 msg
e8f98f9   Moderize our .rc generation, using the license-2.0 text,   extracting copyright dates from the version header, and   dropping a redundant s/./,/.
8bdbc19   mod_so.h doesn't live here.
3820347 commit new Korean file and up-to-date patches & rebuild html files
d16de77 remove tabs from my last commit.
9d66007 Added 'AllowOverride Options=Indexes,MultiViews' to give an admin better control over what options can be used in .htaccess files.
ccbcd56 Add the new directive NWSSLUpgradeable to mod_nw_ssl to allow a non-secure connection to be upgraded to secure connections
8994a47 Tokenize the header while parsing it for the upgrade tokens and once the protocol has been upgraded, allow the request to complete encrypted.
454ae12 * build/config.guess, build/config.sub: Remove since buildconf copies these files from APR.
fe8dd3c update transformation
af9d6d6 update transformation
d6ea22d Fix language code.
370ae61 Mention what type of regex we use, and reference the glossary.
2956f25 note backport
227df09 rev back to previous version, removing chnges to overload detach field , putting back addrspace field
23d0b26 fix compiler warnings
10bca94 update transformation
19cff7f update translation.
6a47670 update translation.
92b893b update transformation
7041631 update translation.
520c60b update translation.
d1fc7cd update transformation
548d0b8 Document the fact that FTP support in mod_proxy is limited to GET.
6801f12 update transformation
753a302 update transformation
c409d2b Sync with 2.0.51-dev
7dbfadb Small fix on ab's use of sprintf().
4072b62 Add DUMP_MODULES
e8637da Add ShowForbidden to IndexOptions to list files that are not shown because the subrequest returned 401 or 403.
0a95dba Notes changes that were made to util_ldap
f2e3f86 Overloading detached field in cgi_exec_info_t stuct in order to use same field to set detached and addrspace values for proc to be started.
0755c97 commit a few Korean files and up-to-date patches
959d246 add PR numbers
22e4d73 note backport
e2b9bf0 update transformation
0ebb8b9 Implement "Early" mode in mod_headers, and document it.
f8635f9 style
c3ddf34 badly encoded urls could cause a null byte skipping (read buffer overflow). (e.g. % as last character). avoid that.
2cd2615 style
43f5ee6 style
839becd update transformation
b3565c4 add another good reason for trailing slashes
85541e7 update transformation
17ebf7b document the brand new DirectorySlash directive
373b83c that's not really an error condition, so make the message APLOG_DEBUG.
acbb11e make trailing-slash-behaviour configurable
50a54c9 fix a bunch of compiler warnings
2b4b012 ignore copied PrintPath
3f195f5 sync with 2.0 branch
b0d1112 style fix only (previously committed from user-supplied patch)
9f99daa update transformation
ac32925 update translation
19052e3 update translation.
f488bea update translation.
8838eb0 update Japenese translation.
3c1fde0 Note a backport PR: Obtained from: Submitted by: Reviewed by:
b21420c Add the NOTICE file to the rpm spec file in compliance with the Apache v2.0 license. PR: Obtained from: Submitted by: Reviewed by:
3a0915f Remove build/PrintPath since buildconf copies it from APR already.
a198c1e Allow mod_deflate on NetWare to be compiled against zlib 1.2.1
c2db0fb Retrospective entries for major update to mod_proxy and minor update to mod_deflate.
84b3d78 update transformation
95a8ac7 Translation submitted by Vincent Deffontaines <vincent@gryzor.com>, reviewed by Jean-Fran�ois El Fouly <jean-francois@elfouly.nom.fr> & Jean-Jacques Clar
3b5b767 Add OS and APACHE_MPM_DIR to -V output
97e2af6 Use the correct Apache-2.x EBCDIC conversion function (not the old apache-1.3 routine)
7f9a011 *** Patch for EBCDIC-host and HTTP/0.9 responses only *** In dealing with a HTTP/0.9 response to a proxy request, we have pre-read data that is not an HTTP header. At this point of processing, we don't know yet whether the data is going to be interpreted an binary or not. (In fact, we may never find out because HTTP/0.9 lacks the Content-Type headers; only by configuring mod_charset_lite can we control the conversion). But mod_charset_lite will get control only later, so it cannot decide on the conversion of the current buffer full of data. => This is an extreme and rare situation normally. So, for catching the most obvious problem (talking not to a HTTP server but to some other protocol), the best guess here is to treat the buffer as "text/*" (to make error messages readable).
1577a9a Let CGI daemon die if the network layer has been shut down (problem noticed on BS2000/OSD)
ea2cedd Proxy requests are not converted by us. They should be cached and delivered bit-identical
a22426c Use standardized names for ISO-8859-1, see http://www.iana.org/assignments/character-sets (Using the name iso8859-1 may still work, because it is aliased in apr-iconv/ccs/charset.aliases)
8cd53d0 Note a backport PR: Obtained from: Submitted by: Reviewed by:
5e05d68 Complete the EBCDIC conversion support for XML documents. With this change, mod_dav works on an EBCDIC machine.
361dcd1 Document mod_proxy updates incl. new directives for reverse-proxied cookies
b6e89d8 Fix for multiple proxy bugs - review please:
46ff3a2 CAN-2004-0493 - memory exhaustion denial of service
a76c1ff Check for a NULL file name before trying to delete the file
043a7ff Replace the thread reader/writer lock that protects the shared memory cache to a global mutex so that the shared memory is protected across processes.
92f65a8 Make sure that the shared memory pointers are propagated down through the various caches that are created
c154b01 Update inflate_out_filter to support gzip compression flags.
25c9f93 * modules/generators/mod_status.c: Mark private global variables as static.
5ef3a9a start piped loggers via the shell, passing through the environment variables in the httpd process
4497da3 Added display code for the URL cache
26a3c35 update transformation
de68a3d fix chm build (allmodules.xml is no longer included directly)
ecab476 mod_log_config: Fix a bug which prevented request completion time from being logged for I_INSIST_ON_EXTRA_CYCLES_FOR_CLF_COMPLIANCE processing.
182d712 Get rid of the race conditions by first checking to make sure that a duplicate node does not already exist before inserting nodes into the different caches.
565fe7d initialize server arrays prior to calling ap_setup_prelinked_modules so that static modules can push Defines values when registering hooks just like DSO modules can Submitted by:	philippe chiasson Reviewed by:	geoff
9c0c569 Enhance the util_ldap cache-info page to display the current contents of the search, compare and dn_compare caches
4f3d551 	make the check for GMT offset occur each time through the loop, 	in case a switch between standard and daylight savings time 	occurred.  (correction to previous code courtesy of Uli Zappe.)
2c06c76 * server/util_script.c (ap_scan_script_header_err_core): Set Content-Range in r->headers_out, so that the byterange filter knows to do nothing for a CGI script which produced a content-range.
5623092 * modules/ssl/ssl_engine_io.c (bio_filter_out_flush): Create a new brigade for sending output after passing on the current one.
969a073 * modules/filters/mod_include.c (send_parsed_content): Only destroy the temporary brigade if it wasn't passed on to the next filter.
7cced87 * modules/echo/mod_echo.c (process_echo_connection): Fix brigade handling: don't re-use a passed brigade.
e8b054f sync
136ee08 Added new field in apr_procattr_t and cgi_exec_info_t structures to support loading in current or new address space (NetWare ONLY). Replaced changes that added APR_PROGRAM_ADDRSPACE committed 6/11/04. Reviewed by Brad Nicholes
784e460 oops; left over from an earlier version
b1499d9 update transformation
b2a96bb DO NOT EDIT the html file *sigh*
47bc5a7 update transformation
a7fe60b describe the onsuccess and always options better
453f9d1 update transformation
4ff2079 document -l option
955c784 update transformation
e42f79e document dropped ErrorHeader directive -> extended Header directive
0979b20 add "-l" option to indicate interval is based on localtime not gmt
8fb0fc2 Drop the ErrorHeader directive which turned out to be a misnomer. Instead there's a new optional flag for the Header directive ('always'), which keeps the former ErrorHeader functionality.
160a264 sync
a2c057d Replaced APR_PROGRAM_ENV with new enum APR_PROGRAM_ADDRSPACE
736d29c update transformation
3ee30a2 update transformation
989bf48 sync with stable branch
fef2e79 Don't deflate responses with zero length e.g. proxied 304's
c228cab Sync with the 2.0 changes file
77ed5d9 <VirtualHost myhost> now applies to all IP addresses for myhost instead of just the first one reported by the resolver.  This corrects a regression since 1.3.
9d122f7 Slightly augment the example for SSIStartTag
50e46a2 Remove remarks about --layout
4662790 Allow relative paths for LDAPTrustedCA to be resolved against ServerRoot PR#26602
14fad9b fix typo in recent commit
748a5f5 Synch with 2.0 branch.
44e726e sync
46a052d update German translation
4bb7627 sync
a2abdf4 markup improvement
9cf7d49 new German translation
0790967 update transformation
83b6260 new German translation
a1af622 update transformation
53e947e markup improvement
a45517c fix validation error
0e99a27 update transformation
d1a0903 update ifmodule documentation, w.r.t. module identifiers
7accf16 Nobody objected: <IfModule> now takes the module identifier in addition to the filename.
2a3bb01 ooooops. This file somehow got cleaned.
52f679d update transformation
00a4777 Minor wording tweaks.
c4fb625 update transformation (build all)
7e96d1c Update transformations.
607bdb4 Document SSLCryptoDevice and fix some example titles.
4728bf9 Document SSLHonorCipherOrder.
86b7148 Update transformations.
34ca6da Document SSLUserName directive.
c5e7b27 Add "SSLUserName" directive to set r->user based on a chosen SSL environment variable name.
30405dc Fix typo.
e9ef262 Add "SSLHonorCipherOrder" directive to enable the OpenSSL 0.9.7 flag which uses the server's cipher preference order rather than the client's.
0e522dc Update transformation.
34db944 Fix links and update content in introduction.  Update page content to reflect that mod_ssl in 2.0 doesn't actually provide the most of the backwards-compat hooks; leave it as a guide for migration.
4ea42b6 Drop support for the "CompatEnvVars" argument to SSLOptions, which was never implemented in 2.0 and never needed to be.
426c967 sync
83d554c sync
0c5fce9 Synch with 2.0 branch.
6119527 Eliminate the redundant compiler rules
0dd4758 Fix a path searching problem so that NetWare can build the genchars.nlm support utility before the main build is started
5154894 * modules/filters/mod_deflate.c (deflate_out_filter): Destroy buckets immediately after are used so that memory consumption is not proportional to the size of the response.
5d0a42a Fix bug in mod_deflate that unconditionally sent deflate'd output even when Accept-Encoding is not present.
0619fe8 Pass environment variables through to piped loggers, resolving a regression since 1.3.
b67b9a0 * modules/ssl/ssl_scache.c (ssl_scache_expire): Remove unused function.
cb184e8 sync
289e709 sync
9cbf415 update transformation
df550bb add description for --enable-dav-lock
e205bfd update transformation
03d7a01 add initial documentation for mod_dav_lock.
a1fec95 update transformation
02b57a4 Enable the option to support anonymous shared memory in mod_ldap. This makes the cache work on Linux again. PR: Obtained from: Submitted by: Reviewed by:
a800869 parse content-length correctly using apr_strtoff function
73666be save some cycles
e479318 this should save one or two cycles
9266375 parse byteranges correctly using the new apr_strtoff function
726c805 parse apr_off_t correctly using new apr_strtoff function
b60c941 parse content-length correctly using new apr_strtoff function
2aa48e4 use new apr_strtoff function to parse PUT ranges correctly.
e3a1bc8 Backport PR: Obtained from: Submitted by: Reviewed by:
8a8f307 Backported PR: Obtained from: Submitted by: Reviewed by:
2c37f8f * modules/http/http_protocol.c (ap_setup_client_block, ap_http_filter): Use new apr_strtoff() to support request bodies as large as apr_off_t allows (rather than as large as 'long' allows), and simplify error handling.
f10b0ad * modules/ssl/ssl_util.c, modules/ssl/ssl_private.h: Remove unused functions ssl_util_strupper, ssl_util_ptxtstub, and ssl_util_uuencode*.
3efccf4 * modules/ssl/ssl_engine_kernel.c (ssl_hook_UserCheck): Fix buffer overflow in FakeBasicAuth code if client's subject DN exceeds 6K in length (CVE CAN-2004-0488); switch to using apr-util base64 encoder functions.
6fb041d allow LimitRequestBody to be reset to unlimited
6b9b5a7 use new apr_strtoff function to parse limitrequestbody
4748727 Fix a segfault when requests for shared memory fails and returns NULL. Fix a segfault caused by a lack of bounds checking on the cache. PR:	24801 Obtained from: Submitted by: Reviewed by:
69d8d56 adjust mod_file_cache.xml.ko update transformation
49e790a typo; this fixes PR 29161
89c8360 Throw an error message if an attempt is made to use the LDAPTrustedCA or LDAPTrustedCAType directives in a VirtualHost. PR:	26390 Obtained from: Submitted by:	Brad Nicholes Reviewed by:
1bd6bb6 The backport list gets shorter. PR: Obtained from: Submitted by: Reviewed by:
c61e73c Small fix to allow reverse proxying to an ftp server. Previously an attempt to do this would try and connect to 0.0.0.0, regardless of the server specified. PR:	24922 Obtained from: Submitted by:	Pascal Terjan <pterjan@linuxfr.org> Reviewed by:
af2d2b8 * modules/dav/main/mod_dav.c (dav_method_put): Fix segfault in auto-versioning error handling path.
933f4e6 Mr ldap_simple_bind_s() bug, with three votes, you are the weakest link, goodbye. PR: Obtained from: Submitted by: Reviewed by:
9028bf9 update transformation
c142a7a Fix a potential segfault if the bind password in the LDAP cache is NULL. PR:	26686 Obtained from: Submitted by:	Jari Ahonen <jah@progress.com> Reviewed by:
3934dd7 Quotes cannot be used around require group and require dn directives, update the documentation to reflect this. Also add quotes around the dn and group within debug messages, to make it more obvious why authentication is failing if quotes are used in error. PR: 19304 Obtained from: Submitted by: Reviewed by:
ed49334 Fix a cut and paste, doh! PR: Obtained from: Submitted by: Reviewed by:
f17a4d1 The Microsoft LDAP SDK escapes filters for us, stop util_ldap from escaping filters twice when the backslash character is used. PR: 24437 Obtained from: Submitted by:	Jess Holle <jessh@ptc.com> Reviewed by:	minfrin
431e610 Overhaul handling of LDAP error conditions, so that the util_ldap_* functions leave the connections in a sane state after errors have occurred. PR: 27748, 17274, 17599, 18661, 21787, 24595, 24683, 27134, 27271 Obtained from: Submitted by: Reviewed by:
069f909 RPM spec file changes: changed default dependancy to link to db4 instead of db3. Fixed complaints about unpackaged files. PR: Obtained from: Submitted by: Reviewed by:
3b16ac4 apr_pstrcat() needs NULL at end of parameter list to know when to stop (mississi^#@75UiSIGSEGV)
7d99a3c Fix handling of IPv6 numeric strings in mod_proxy.
8409d24 replaced tabs with spaces and aligned indentation within brackets
7480ab8 external map responses were cut at 2048 bytes (and possibly got out of sync that way). Now they are unlimited.
5c1e5c9 update transformation
bb5b514 Translation submitted by Vincent Deffontaines <vincent@gryzor.com>, reviewed by Jean-Jacques Clar
3f6c2ba * modules/ssl/ssl_engine_config.c (ssl_config_global_create): Fix gcc strict-aliasing warning.
bcb62c5 * server/core.c (core_output_filter): Don't explicitly delete the EOC bucket, and don't buffer the brigade if it ends in an EOC.
0f4c8dc sync with stable branch   (there was never a CHANGES entry in 2.1-dev)
06bc34a if the call to ldap_simple_bind_s() fails, the connection is left in an unbound state.  Make sure that the connection record is updated to show the current state.
8a35d29 Fix SEGV in 'shmcb' session cache: When a 'read' or 'write' to session cache is done, we need to check the size of the data being 'read' or 'written' to avoid buffer over-run.
0e31ef0 * modules/experimental/util_ldap.c (util_ldap_cache_compare): Fix uninitialized variable warning from gcc -Wall. (util_ldap_set_cache_bytes, util_ldap_post_config): Use correct APR printf format string macros. (util_ldap_set_cert_type): Make static to fix gcc warning. (util_ldap_cleanup_module): Fix unused variable warning.
4d6f922 update transformation
05800c4 modulefilelist is no longer a valid element
03e7850 build bootstrap
73de0a4 french is no longer special
0f721d4 fix the native name and comment out the CHM part
c5c5fee Translation submitted by Vincent Deffontaines <vincent@gryzor.com>, reviewed by Jean-Jacques Clar
ef2bc83 Translation done by Vincent Deffontaines, correction done by jjclar
54cfd4d Update based on Vincent Deffontaines translation
8d19be2 :set tabstop=8 :retab
ec44c1e *** empty log message ***
96c0ef3 * modules/loggers/mod_log_config.c, server/log.c (open_error_log, ap_replace_stderr_log): Use APR_LARGEFILE when opening log files, to allow log files to exceed the 2Gb limit if necessary.
0df6a7d * modules/generators/mod_cgi.c (cgi_handler): Soak up stderr from nph- scripts correctly.
46fb957 * modules/generators/mod_cgi.c (cgi_handler): Combine common code between nph and non-nph handling; use a CGI bucket for both cases if APR_FILES_AS_SOCKETS.
47e4bf3 adjust references
2406dae fix various mispellings and style problems
bd2cc47 allmodules.xml references were removed
b0f2311 simplifications
2d0d303 remove references to allmodules.xml
ea2ef82 remove references to allmodules.xml
49d6324 remove reference to allmodules.xml from document
a0fe73b remove references to allmodules.xml
549e6fc build bootstrap
99753c0 prepare dropping the reference to allmodules.xml from documents
d56aa60 fix references to allmodules.xml.es
388dfe1 update transformation
9b9ebad new spanish translation
a0a0e7e Prevent Win32 pool corruption at startup
a1b241a update transformation
0d61af8 fix $message references
9b783f9 remove the [tm]s in this branch as well
c050840 move style/man/manpage.xsl -> style/xsl/nroff.xsl use autogenerated man.$lang.xsl
ca0e162 fixup CHM settings
99f890c fix copyright date
e2ce7c0 update transformation once more
d384b0a forgot those
fcb5d2f update transformation (mostly recoding)
09e6b83 remove autogenerated files `build bootstrap`
8014de1 update stylesheets for autogeneration move non-autogenerated chm/ stuff to xsl/
473a965 update language files to contain all necessary information remove totally outdated sv.xml
11d5f49 Add the installdev target to the help list
8dc8b7c Remove the hardcoded /Y parameter when doing a xcopy
77555ba Fix the XLFLAGS define in the NetWare makefiles so that the contents are added to the _link.opt file rather than the _link.def file
db33072 Fix up the DAV import/export files for the NetWare build
f11645d repository is opened back up.  it turns out it's basically impossible to delete a branch in CVS without manual intervention -- which i don't want to do.  we'll do it when we convert to SVN, at which point it will be trivial.  in the meanwhile, it's not hurting anything to leave it as-is. here's a note to remind us to make the change when we convert.
d8ebfb2 Sync the change logs
a0b967e Allow the memory address to change
b8e029a fix  build on systems without unistd.h
01c04f9 sync with APACHE_2_0_BRANCH
4bbda0d update transformation
060decc update transformation
d2244aa lot of new Korean translations
1e83fdd update transformation
078a139 update Korean translation
1645a68 add an example for windows and netware users not familiar with strftime()
49f48fb changed the following APIs to return an error instead of hard exiting: ap_add_module, ap_add_loaded_module, ap_setup_prelinked_modules, and ap_process_resource_config
29e1f5d ap_add_named_module is not used and maintained anymore. Drop it.
9536300 update transformation
d0f6829 note that forbidden directives in htaccess files result in a 500. (PR 28535) Additionally note that AllowOverride doesn't work in regex-<directory> containers.
67a400f readd suexec setuid and user check
18f32ed no longer refuse to process files that contain empty lines
705e3a2 prepare Spanish CHM generation
b706ba1 fix copyright date
92adfc7 update transformation
4d1f507 fix copyright dates
6bb343c add Spanish sitemap
a0eae3a update langavail and outofdate messages
bccb1c6 sync
892380b disable the use of acceptex on Win9x systems automatically
2237a80 update transformation
9a48c99 first Spanish translations
ec6cfa3 incorporate Spanish translation
cd4095b prepare Spanish translation
e9b7d5f ap_rgetline_core: insure that the output string is null terminated when exiting with APR_ENOSPC
658eb12 declare the prototypes as well.
621f12f backport sync
62e1b7b content-encoding needs to be unset.
3cec2db ap_set_sub_req_protocol and ap_finalize_sub_req_protocol are now exported on Win32 as well
6f5e92c Include directives no longer refuse to process symlinks on directories. Instead there's now a maximum nesting level of included directories (128 as distributed). This is configurable at compile time using the -DAP_MAX_INCLUDE_DIR_DEPTH switch.
26b5e01 update transformation
40007f2 Update Japanese translation.
aeedfda Update Japanese translation (only English Revesion change)
30b2588 Recursive Include directives no longer crash. The server stops including configuration files after a certain nesting level (128 as distributed). This is configurable at compile time using the -DAP_MAX_INCLUDE_DEPTH switch.
6a77125 title is already encoded.
de6b6ff add dsp and exp file for mod_log_forensic incorporate into Win32 build
e029612 &excl; is not a W3C entity. Use a simple ! instead.
7166093 update transformation
9ae45a3 describe the recent changes to mod_headers (%%, envclause everywhere)
f6d2e82 allow %% to represent a literal %.
d2dd505 allow env clauses also for 'echo' and 'unset'
71b8739 Allow ErrorHeader echo
46e408a don't segfault, when setting an empty header value
d2b6771 simplifications
e71e4d1 remove unused parameters and minor memory leak
34d7a51 :retab
6b858dd :retab + other WS changes
d4cb879 Implement the "CGI bucket" in mod_cgi to handle stderr output during script execution, preventing deadlock if stderr output fills the pipe buffer:
d81496e we no longer cvs stat for revision checking
fed50cd fix references
79bba880 add revision keyword
58094b1 fix references
f08df46 add $Revision$ keyword
db8e32e fix references / update transformation
030c74a the up-to-date checker currently depends on a properly configured cvs in path that's totally uncool. Let make cvs the work on the fly: - start adding $Revision$ keyword to english files
3d35843 remove unused variables
49fb28b don't return forbidden, if the file was just not found.
f35b462 ignore more helper files
e1282c9 update transformation
529aab3 mention force-gzip
51e8b9a mod_deflate: - New option for DEFLATE output file (force-gzip), which skips checking the accept-encoding header. - New output filter 'INFLATE' for uncompressing responses.
b39f62c * server/vhost.c (remove_unused_name_vhosts): Remove redundant check; catch all port-based NameVirtualHosts without defined VirtualHosts, preventing segfaults later in some misconfigurations.
8ef993a Synch with 2.0 branch.
6c3c47b Add mod_version to the NetWare build
289b8bf Fix a typo and clean up some tab characters.
ba2943d Don't repeatedly allocate the binddn and bindpw from the st->pool (pconf pool) in order to avoid uncontrolled memory allocations.
5466b0c update transformation
61fe8a5 add "ErrorDocument 404 default" description
62a0b43 sync
ea81d34 minor corrections
bf47849 fade out the different languages for print
334f4ef some nitpicking
5727d4c update transformation
d098fc9 describe mod_version, please review.
aeed109 the eight space tabs are harassing me. :set tabstop=8 :retab (no code changes)
ae22350 update transformation
ef27028 nobody came up with another patch or objections and it should not get lost: add mod_version and invoke it into *x (modules = all) and win32 builds
0f388e6 updae transformation
dafd008 add some notes about server admin URLs
74fa214 accept URLs as ServerAdmin contact. If it's not recognized as an URL, assume an email address and prepend it with mailto: in server outputs.
cce91f3 fix cache confusion which happens if different virtualhosts define rewritemaps with the same name. This is done using name mangling. For the cache we prefix the map name with the hex value of the current server struct pointer. This way inherited maps still use the same cache.
b00e035 "ErrorDocument default" changes broke inheritance. consider:
c2a3b20 cleanup log_header_out function: - no need to ask r->err_headers_out, because it's already merged with   r->headers_out at this stage - allow multiple headers like Set-Cookie to be logged properly
cba81ea update transformation
c7031fe Fix a bunch of cases where the return code of the regex compiler was not checked properly. This affects: mod_setenvif, mod_usertrack, mod_proxy, mod_proxy_ftp and core.
ae295b1 escape the cookie_name before pasting into the regexp.
e8d4708 let's be more lenient, in what we accept. commas are allowed as separators and whitespaces are not a must.
c1c79a8 update the Japanese translation.
782268a Fix typo.
3f8667a Enable special ErrorDocument value 'default' which restores the canned server response for the scope of the directive.
7577139 build check-all all
07cb9f3 Typo.
6a57b9d Add a cgi faq entry and point to the tutorial.
a6179cd Make sure that the CGI tutorial answers all the CGI FAQs that I commonly see.
bff7d58 Remove the autoload dependancy on util_ldap in order to allow auth_ldap to fail normally if util_ldap is not loaded or loaded out of order
cbe1841 Don't allocation large buffers on the stack to avoid over-running a fixed length stack when ap_build_cont_config() is called recursively (ie. nested <IfDefine> blocks).
e938554 Allow the NetWare makefiles to clean up some files that were missed
da484be Make sure that if auth_ldap is loaded, mod_ldap is also loaded
0c9444c Update transformation.
17dc417 Update Japanese translations.
b340172 Update Japanese translation.
4352393 Update Japanese translations.
9b4c353 update transformation
0f97772 document ErrorHeader directive
2bfb543 update transformation
67d4c4d Allow Digest providers to return AUTH_DENIED to propagate a 401 status and terminate the provider chain prior to checking the password. Reviewed by:	justin
8e625b3 document new RequestHeader behaviour
003d455 allow RequestHeader to be conditional
b4bf38f fix segfault, which occurs if no CT is set and wildcards are used.
d3ffc73 no longer remove the EOS bucket
b1ffbe9 mod_rewrite no longer turns forward proxy requests into reverse proxy requests.
e2451c1 bring these translations up to date.
9315600 `build check-all all`
05ad1cb update transformation
1bb4ed6 Stop locking all of the connections while trying to find an available connection that meets the specified criteria.  If a connection doesn't meet the criteria, unlock it so that it remains available for other requests.
896a5a5 Could that be snow I see?
d95cff5 PNG versions of gifs for pdflatex.
785affb PNG versions of gifs for LaTeX.
217de70 Forward Port:   Put a little more detail (including copyright notice) into   frontmatter of latex version.  Also prepare for inclusion   of png graphics.
5ebff1f Forward port:   Add <columnspec> and make a couple other very small changes   to let latex render tables a little better.
99754fe these files are now part of the build tools
7a639b8 Update the DN information associated with each LDAP connection after util_ldap_cache_checkuserid() rebinds the connection.
c78994a sync with APACHE_2_0_BRANCH
5cf37b3 build check-all
669fd2a typos and a wrong href
ef03042 * modules/generators/mod_cgid.c (cgid_server, set_script_socket): Remove unused variables.
0f7e5e3 Back port
feee4aa Update the comment
aa95010 Allow the experimental modules to be built in the NetWare main line build process by defining the environment variable EXPERIMENTAL
609678c add support for rewrite rules in proxy containers
8fcedf0 mod_cgid: Don't allow Scriptsock to be specified inside VirtualHost; Don't place script socket inside default server root instead of actual server root.
4e49e3e Don't include newlines in strings passed to ap_log_error.
4ece13d mod_so shows up in BUILTIN_LIBS differently now
a93c290 translate the outofdate message
48246da ignore more helper files
5b1fb35 update translation
b9164cb In the newer versions of OpenSSL, the flag SSL_SESS_CACHE_NO_INTERNAL_LOOKUP just prevents the internal lookup but does not prevent the caching. OpenSSL 0.9.6h onwards has a new flag 'SSL_SESS_CACHE_NO_INTERNAL' to prevent OpenSSL from both lookup and caching the sessions internally.
8f26402 * acinclude.m4 (APACHE_MODPATH_ADD): Give the convenience library a less generic name; libtool 1.5 gets confused when linking libssl.la against -lssl if libssl.la already exists in the cwd.
8a2f421 `build check-all all`
50497b1 add a warning when a translation is outdated.
4a4694a Yet another typo.
fea85e2 * modules/ssl/ssl_engine_io.c (ssl_io_filter_cleanup): Don't try and send an SSL shutdown from a pool cleanup.
975c5c7 A type fix and a precision about what prefix means.
f4887a3 Intergrate Kess' configure docs in the docs tree and, in particular, integrate them into install.xml by removing large chunks of that document and making it a summary with pointers into configure.xml.
be38818 * server/core.c (core_output_filter): Tag the deferred_write pool.
0bf3200 fix ported to 2.0.50-dev
234a798 ported to 2.0.50-dev
c22d7fa move backported change to proper place
6edc55f complete backport
b3661da ab mixing mean and median values, also wrong time values for start and connect when doing keep alive
cbbacdf `build metafiles`
bac8326 Can't assume the filepointer is really 0 when offset is 0. A handler can create brigades containing multiple file buckets with arbitrary offsets
e980bec Fix memory corruption problem with ap_custom_response() function. The core per-dir config would later point to request pool data that would be reused for different purposes on different requests.
fafc039 update revision info
cb15ea3 update revision info for the Korean files
424d04d update outdated :-)
848fd2f ignore helper files
d2f8fb0 Reference the config file syntax in the htaccess tutorial.
7665ccd work around MSIE Digest auth bug - if AuthDigestEnableQueryStringHack is set in r->subprocess_env allow mismatched query strings to pass. PR: 27758
7896be4 Clarify the order of processing in mod_alias.
3a47f00 Mention that mod_userdir is required for suexec to work in user directories.
c0e76ee Fix description of Indexignore argument.
5a05398 fix transformation. outdated checkout?
6dcdc83 mark outdated
fff7068 Document the ability to look at original of final subrequest.
94ef4de Fix reference to variable discussion.
b159add `build check-ja` :-)
c4eb6ce Warn people away from the more complicated mod_deflate example.
7e0b9e5 fix ntp homepage and bring this file up to date
3c81aed Send people to the correct directive to deal with AcceptEx problems.
7cb0420 Be more honest about the current state of perchild. Too many people think this module might actually work.
25050df - most of the files were outdated while adding the license. Just fixed their   rev.# - ran `build check-ja` and marked the rest of the outdated files as such   (grep for '(outdated:')
c7b5eff update transformation
afe5b49 update rev.#
f5b4fb6 fix mispelling
d41ea0c http://nagoya.apache.org/bugzilla/show_bug.cgi?id=27424
1db6e02 logresolve: Allow size of log line buffer to be overridden at build time (MAXLINE).
705ac62 update transformation
cac5755 bring these files up to date
9182a0d fix formatting
61f5265 The code was truncating the parameters for all NLM level commands.  Needed to make sure that all of the parameters are being passed to the argv parser.
beaefb5 update transformation
1d3292c bring these files up to date
b3e2599 fix directive name and link
0c83f71 update transformation
6733235 bring these files up to date
ec31446 Using ap_max() to ensure no negative values are stored in data structure.
26642a0 Fix crash when Apache was started with no Listen directives.
4d8f4c2   *) SECURITY: CAN-2004-0174 (cve.mitre.org)      Fix starvation issue on listening sockets where a short-lived      connection on a rarely-accessed listening socket will cause a      child to hold the accept mutex and block out new connections until      another connection arrives on that rarely-accessed listening socket.      With Apache 2.x there is no performance concern about enabling the      logic for platforms which don't need it, so it is enabled everywhere      except for Win32.  [Jeff Trawick]
77b387e mod_dav: Fix a problem that could cause crashes when manipulating locks on some platforms.
8b8027a Caching content from sources where Content-Length is not specified (these were passed through uncached until now):
8915b61 Add Missing parenthesis !
6065b37 Adapt the mpm_netware version of the ThreadStackSize directive to the common version
87d5e2e Limit the concurrency to MAX_CONCURRENCY. Otherwise, ab may dump core (calloc fails) when a arbitrarily huge value is used.
3574543 Remove the OMIT_DELONCLOSE #ifdef since this should happen automatically with the apr_temp_dir_get() function.
65c9f17 Add a terminate function that gets called on atexit() so that NetWare has the chance to pause the screen to view the output before the screen is destroyed.
3bbfe19 Replace calls to fprintf() with apr_file_printf()
c591775 Replace tabs with spaces
140a068 Remove the dependance on external cp/copy commands
a6aee15 using build in err function, thanks Jeff for pointing that.
5095c38 Use apr_temp_dir_get() to get the temporary directory
678376c sync with 2.0.49-dev
6fe7808 Use the default logger screen for the ab output because it is scrollable.
9cc9ba0 added check on apr_pollset_create() return value to exit ab it case it fails. On NetWare using a concurrency higher than 64 is segfaulting because of FD_SETSIZE as a value of 64.
2e0569d Report the NetWare socket error since we are using native socket calls
3df96d4 Add modules/ssl to the include path for the NetWare build
13c77af a) changed 'qs' to 'q' for examples showing request headers    with a quality value in their Accept: lines    Submitted by: Jeff Trawick
db3e1fe typo
9ac14e7 typo
43976cb update transformation
854d853 Change "new" WorkerStackSize directive to ThreadStackSize
c940ea5 use existing directive name ThreadStackSize instead of WorkerStackSize
1824537 * server/Makefile.in: Revert duplicate eoc_bucket.c in LTLIBRARY_SOURCES.
0209502 update transformation
c84615f German translation of EnableExceptionHook
f03363b clarify the enableexceptionhook description
e6abb6c   Bugfix 2 - fix the rest of the subst codes for ssl.conf on Win32.
963f47c update transformation
e987f97 add initial documentation for EnableExceptionHook. Please review.
8a84df6 Add missing source
221dd6f   whoops - moving to fast - fix 1.135 to exclude the appropriate   makefile section if ssl.conf is unneeded.
18edbaa mod_cgid: Fix storage corruption caused by use of incorrect pool.
de2dbe7   Bugfix 1; if no ssl, no reason for ssl.conf.
329a32c Forward-port from mod_dav 1.0:
56c1578 Forward-port from mod_dav 1.0:
7fbfdd7 Improve helpfulness of error messages when accept mutex has a problem.
093bd92 Satisfy directives now can be influenced by a surrounding <Limit> container.
4d651c4 repos.c: In function `dav_fs_copymove_file': repos.c:315: warning: `perms' might be used uninitialized in this function
b8a94ad update transformation
a1d5470 htpasswd.c: various cleanups and move to using apr_temp_dir_get()
28b9a34 emit the config filename when warning about overlapping aliases
4c50707 add docs for WorkerStackSize directive
6e88c5d pick of regeneration of a prior doc fix
e44704a Fix litmus test copy_nodestcoll; 2518 requires that MKCOL MUST fail with 409 on missing intermediates:
087d576 Forward-port from mod_dav 1.0: maintain the {DAV:}executable property across COPY and MOVE:
b40d18f * modules/dav/fs/repos.c (MAP_IO2HTTP): New macro. (dav_fs_copymove_file): Use it to give a 507 if open() returns ENOSPC, and use it to handle apr_file_write_full() return code. (dav_fs_open_stream): Use MAP_IO2HTTP. (dav_fs_create_collection): Use APR_STATUS_IS_ENOSPC.
670b834 * modules/ssl/ssl_engine_log.c (ssl_log_annotation): const-ify more.
99aa60f Grammar fix.
54b0959 Remove some more uneeded code. Fix setting of per-thread request limit Actually restart threads following a restart signal Try to keep the mpm_state a little more accurately.
c0b9c15 Better handling of ONE_PROCESS. Fix restarts and shutdowns so we no longer segfault.
ce9d647   Pick up mod_status.h
62515c0   Tie in ../ssl/mod_ssl.h
28f9afc * server/vhost.c: Fix comments which got search'n'replaced.
a636051 * modules/proxy/proxy_http.c (ap_proxy_http_process_response): Consistently check whether r->status is "successful" or not; fix screwy handling of 2xx-but-not-200 responses when ProxyErrorOverride is used.
af018fd * modules/dav/fs/repos.c (dav_fs_copymove_file): Update for the fact that apr_file_read() has guaranteed len == 0 at EOF for a looong time; and avoid a redundant call to write(,,0) when EOF is reached.
3f4721a * modules/dav/main/mod_dav.c (dav_finish_multistatus): New function; factored out, sends an EOS bucket after the response body. (dav_send_multistatus, dav_method_propfind): Use it.
cb5c3dd Threaded MPMs for Unix and Win32: Add WorkerStackSize directive to override default thread stack size for threads which handle client connections.  Required for some third-party modules on platforms with small default thread stack size.
044d399 Revise the beos mpm into the new world order that is heralded by APR 1.0 :) Simplification and more comments.
f23fcc8 update transformation
ddecd8a * modules/ssl/ssl_engine_log.c (ssl_log_annotate, ssl_log_annotation, ssl_log_ssl_error): const-ify annotation strings and simplify ssl_log_annotation.
6895aee * os/unix/unixd.c (unixd_accept): Eliminate now-redundant call to apr_os_sock_get(); let APR check for accept returning zero on TPF.
7d90e82 * modules/standard/mod_autoindex.c (index_directory): If stat() fails for a particular dirent, ignore that entry rather than truncating the directory listing.
11b03c4 Win32: Tweak worker thread accounting to fix hang when number of Listen directives is >= ThreadsPerChild
57b4bda German Translation of Win32DisableAcceptEx directive synopsis
b50e7a2 Document %{HTTPS} and expand on %{SSL:...} a bit.
f50a6b5 finetuning
b49c617 seems to be handedited
8322d8b add stylesheets for non-zip generation
ff20e78 Enable mod_rewrite to recognize SSL variables (using ssl_var_lookup)
bc33efe Enable mod_rewrite to recognize SSL variables (using ssl_var_lookup)
a4a9f30 Sync with 2.0.49 tag.
9b26889 Fix bug in mod_usertrack when no CookieName is set.
8bb7a80 Synch with 2.0 branch.
fb318cf Add the ssl_is_https() and ssl_var_lookup() optional functions to the  mod_nw_ssl module for Netware
c7174f4 Allow make files to create a cc.opt compiler options file per NLM rather than a single file per directory
7bb8fc0 Add the include path to modules/ssl to resolve the include of mod_ssl.h
26a2577 Add eoc_bucket.c to the NetWare makefile
15e2a44 Fix use of mod_ssl as a DSO linked against static SSL libraries; also stop linking all of support/* against the SSL libraries:
7bc45b4 * include/mpm_common.h (ap_pod_t): Remove 'sa' field.
ac2a7b6 Add maxmemfree as a default for the netware mpm
c9788a0 Revert a change to the link flags that were accidentally committed.
74c5908 Allow the enabled flag to be set to more than just TRUE or FALSE so that the OPTIONAL flag can be correctly merged within the ssl_config_server_merge() function.
344ea84 Allow the enabled flag to be set to more that just TRUE or FALSE so that the OPTIONAL flag is correctly merged within the ssl_config_server_merge() function.
1c5889d * modules/ssl/ssl_engine_init.c (ssl_init_Engine): Log the OpenSSL error stack contents if engine load/init fails.
f205725 * modules/ssl/ssl_engine_log.c (ssl_log_ssl_error): Use %lu to print an unsigned long.
4c36ea2 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup, ssl_var_lookup_ssl_cipher): Use apr_itoa instead of psprintf %d.
9191943 * modules/ssl/ssl_engine_vars (ssl_var_lookup): const'ify result and drop a bunch of casts; use apr_table_get directly in place of ssl_var_lookup_header. (ssl_var_lookup_header): Remove function.
0015ef7 * modules/ssl/ssl_engine_vars (ssl_var_lookup): Optimise such that lookup of SSL_* variables (the common case) requires 2 rather than 29 strcasecmp calls before getting to ssl_var_lookup_ssl().
0f7f410 * modules/ssl/mod_ssl.h: Declare ssl_is_https optional function.
3f58695 * modules/ssl/ssl_engine_vars (ssl_var_lookup): Fix potential segfaults if called with r=NULL, c!=NULL, spotted by Andr��.
4eabe30 sync with 2.0.49-dev
38d03c5  *) Remove compile-time length limit on request strings. Length is     now enforced solely with the LimitRequestLine config directive.     [Paul J. Reder]
2f1cf77 fix windows build: add path to mod_ssl.h
4f21074 add eoc_bucket.c to project
825da2b enable IPv6 for Windows XP and 2003. In addition this this we need a way to set APR_HAVE_IPV6 at build time in apr.hw
0dbf5a1 * modules/metadata/mod_headers.c (header_inout_cmd): Remove redundant conditional.
d796d1e update transformation
178a03c Win32: Taking down the child process on accept errors opens the possibility of a DoS attack.
37998ce sync with stable branch
547f7e0 Win32: find_read_listeners was not correctly handling multiple listeners on the Win32DisableAcceptEx path
32cbe57 * Makefile.in: Link httpd against user-supplied $(LIBS).
e878bf7 * modules/ssl/ssl_engine_io.c (ssl_io_filter_disable, ssl_io_filter_error): Clear the SSL * pointer in the SSLConnRec too.
6695669 * server/core.c (core_output_filter): Avoid using EOC bucket after deleting it.
5b7db64 Attempt to document the new cert DN lookup feature.
2dbe458 Document the %s format specifier.
dd2b6c2 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert_dn): Simplify to use apr_pstrmemdup.
cf14ebb sync
eb78a22 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_cert_dn): For a DN which includes several RDNs with the same OID, allow lookup of any particular RDN using an "_<n>" suffix on the name.
f0dcf0e update transformaation
0fed157 Add 's' format tag to mod_headers to allow access to mod_ssl variables without the overhead of SSLOptions +StdEnvVars/+ExportCertData; also ensure that any multi-line envvars are unwrapped onto a single line.
597c839 Win32: Log each listener thread
8909b0c Win32: Eliminate a Sleep(100) that always occurs on certain errors on AcceptEx(). Apply err_count threshold to all AcceptEx error conditions.
7897ad5 Win32: Shutdown the server on critical child failures that will prevent the server from operating
3ca3524 Move mod_ssl-internal interfaces into ssl_private.h; allow mod_ssl.h to be included even when mod_ssl is not enabled.
82d3f1d Use SSL_CLIENT_CERT_CHAIN_<n> with an underscore before the <n>.
9f327e4 * server/connection.c (ap_flush_conn): Fix typo.
3b31130 Relicense.
5fc3ea3 Include the new eoc_bucket.c for compilation.
48c38a4 Send the 'Close Alert' message to the peer upon closing a SSL session. This required creating a new EOC (End-Of-Connection) bucket type to notify mod_ssl that the connection is about to be closed.
9e4e693 New file for defining the End Of Connection (EOC) bucket type.
704e03f directive name changed a while back
4885f85 sync with stable branch
3273ddb fix an old misfeature: "BufferedLogs Off" would sort-of turn buffered logging on as it set the log writer to the buffered log writer, though it would leave the are-logs-buffered flag off
7122d6e a kind fix for a compile error unfortunately broke an order dependency...  the buffered logs array needs to be initialized prior to opening the logs
995a925 * include/httpd.h: Double DYNAMIC_MODULE_LIMIT, httpd alone includes about 60 modules already.
babcd5c * server/mpm_common.c (ap_process_child_status): Remove an escaped \n in the error log and add some political correctness.
0e34b8f * modules/ssl/ssl_engine_io.c (ssl_io_filter_disable): Don't leak an SSL structure for each plain-HTTP-on-SSL-port request.
b044701 update transformation
922d7cc 	Various language nits picked. 	ID consistently uppercased. 	Brought in line with 1.3 version. PR: Obtained from: Submitted by: Reviewed by:
bba569d Backported mod_auth_digest change to 2.0.
825005a * modules/ssl/ssl_engine_pphrase.c (ssl_pphrase_Handle): Wording tweaks.
ba68978 * modules/ssl/ssl_scache_shmcb.c (ssl_scache_shmcb_init): Use an anonymous shm segment by default or fall back on name-based shm.
9187dd7 Win32: Fix compile breakage
886a964 add properties
aa053e8 update transformation
1e087e6 fix anchor reference
9dc7d9f remove support for Remote_User variable, which never worked at all.
5c7e01f update according to apr
4f39c12 update transformation
270e26d add initial documentation for mod_log_forensic. please review.
d209370 forward port to not log twice
f93ccbd do not exit() from inside a module!
c3617eb ugh! Fix log open error condition, which never matched.
4f71cbd allow log pipes to be relative to serverroot as well
9ae33ec there's no such default
607f7d3 fix type of .rm extension
25c8f16 minor mod_auth_basic and mod_auth_digest sync.  mod_auth_basic now populates r->user with the (possibly unauthenticated) user, and mod_auth_digest returns 500 when a provider returns AUTH_GENERAL_ERROR Reviewed by:	justin
8db89f5 Fix segfault in util_ald_create_cache() when shared memory caching has been disabled
2fd79b7 update transformation
1b9bd21 fix missing character
31fdf2a - add reference to the 2.0 license. - TRANSLATORS: replaced "maintainedby" message by "licensed" - don't display copyright and license bold
6e851fe update transformation
fa3aeb0 replace the "maintained by" sentence in the footer with
4e50737 The phrasing was rather confusing regarding the second argument to Redirect, which should be a fully-qualified URL, rather than an absolute path.
0781a3a Document Win32DisableAcceptEx directive
8ab979d Add a new directive EnableExceptionHook that must be specified for exception hooks to be called (in addition to the build time requirements).
a7a707f fix "Expected </Foo>> but saw </Foo>" errors in nested, argumentless containers.
6355e18 Typo spotted by Sascha Kersken
012bff5 add Turkish translation
5e1b66e reorder alphabetically
81d57e7 mod_isapi: GetServerVariable returned improperly terminated header fields given "ALL_HTTP" or "ALL_RAW".
a13b194 mod_isapi: send_response_header() failed to copy status string's last character.
7421861 mod_isapi: GetServerVariable("ALL_RAW") returned the wrong buffer size.
f068d17 Added doc for LDAPSharedCacheFile directive in mod_ldap
e6a32ed Building changes from XML. Correct path and more useful example.
769e3d8 This was wrong and misleading. Correct the file path, and give a more useful example.
53b2c57 Backport of the shared memory caching issues in util_ldap
ab4f333 adding 304 support for if-Modified-Since request header, if a fresh cached entity is present.
1609950 * modules/ssl/ssl_engine_pphrase.c: Note that the ERR_clear_error() call is not merely a cosmetic fix in light of PR 21160.
8832c69 update forgotten transformation
eeb57c1 fix name of The Apache Software Foundation
a688f06 fix name of The Apache Software Foundation
b68721e fix name of The Apache Software Foundation
cb55f93 fix search parameters (2.0 -> 2.1)
4d899ac sync
d479d7d fix copyright date
96e048b fix copyright dates accorsding to the first check in
c0dcb76 fix copyright dates according the first cehck in
60bf503 fix copyright date according to the first check in
e88fcf3 fix copyright dates according to the first check in
b4a7810 fix copyright dates according to the first checkin
fa66800 fix copyright date according to the first check in
9090bb2 fix copyright dates according to the first check in
8f5cc7b fix copyright dates according to the first checkin
db7e016 fix copyright dates according to the first check in
1e8cb2d fix copyright dates according to the first check in
ba9e690 fix copyright dates according to the first check in
e0d2db5 fix copyright dates according to the first check in
7b65574 fix copyright dates according to the first check in
efd6b02 fix copyright dates according to the first check in
04bb31c fix copyright dates according to the first check in
aa08fe6 fix copyright dates and apply the license to one forgotten header file
0b6155c fix copyright dates according to the first check in
3d75c8c fix copyright dates according to the first check in
3097e08 oops
5410a0d fix copyright dates according to the first checkin
d0e05ba fix copyright dates according to the first check in
49a74c1 fix copyright dates according to the first checkin
a438c92 fix copyright dates according to the first check in
31fc2b3 fix copyright date according to the first check in
82d5cc1 fix copyright dates according to the first check in
f45372e fix copyright dates according to the first checkin
a64646f fix copyright dates according to the first check in
1afeb99 fix copyright dates according to the first check in
129635b fix copyright dates according to the first check in
2b719ec fix copyright dates according to the first check in.
4734253 done with 2.1. Add missing appendix plus an appropriate CHANGES entry.
27e7efa *sigh* xalan did some recoding :-(
c09639e apply Apache License, Version 2.0
ea2e4a9 apply Apache License, Version 2.0
5d7df91 apply Apache License, Version 2.0
598b248 apply Apache License, Version 2.0
5ec2bfb apply Apache License, Version 2.0
9581e49 apply Apache License, Version 2.0
b5e527f apply Apache License, Version 2.0
64fcec2 apply Apache License, Version 2.0
f4bd111 apply Apache License, Version 2.0
463b151 apply Apache License, Version 2.0
ab526be * configure.in: Remove long since unnecessary endianness checks.
781e932 apply Apache License, Version 2.0
9e83e76 apply Apache License, Verison 2.0
b2225c8 apply Apache License, Version 2.0
537211b apply Apache License, Version 2.0
4f02cb1 apply Apache License, Version 2.0
0d57db3 apply Apache License, 2.0
d80ff9c apply Apache License, version 2.0
9db5297 Changing the several hundred files of our code leads to fatal mistakes :-( Thanks Justin.
d91e007 apply Apache License, Version 2.0
bff628e begin relicensing httpd-2.1 to Apache License, Version 2.0
894f7a9 Re-synch with 2.0 stable branch after backport.
f9420a6 Re-synch with 2.0 stable branch after backport.
a91a2e1 We need the SSL module dir in our path in order to compile mod_ssl. Otherwise, we can't find mod_ssl.h.
29f52b0 * buildconf: Clean autoconf cache after running autoconf too.
7d9f84e Re-synch with 2.0 stable branch after backport.
93f38ff outch. Fix include guard to match the right name.
e0af458 Clean up a few minor issues with the NetWare make file
f5611d7 Re-synch with 2.0 stable branch after backport.
c62694e Re-sych with 2.0 stable branch after backport.
b0442bb FreeBSD: Use the httpready accept filter instead of dataready on newer levels of the OS.
bf3d616 Re-synch with 2.0 stable branch after backport.
634513a * support/Makefile.in (suexec): Don't link against libapr etc; suexec is self-contained.
4d2c2e5 Re-synch with 2.0 stable branch after backport.
437ecfc Commenting out the DBINFO define
aa4c436 Adding missing parenthesis in DBINFO code
3978e59 * server/Makefile.in: Remove buildmarked.c from clean.
450089c Delete some make-generated files in the server directory during "make clean" processing.
b134cb9 2nd snapshot: convert entities in document
a0bab28 Add hungarian translation (1st snapshot). Submitted by:	Lacza Vilmos at Siemens dot com
889d547 move closer to xhtml
a193efa Keep focus of ITERATE and ITERATE2 on the current module when the module chooses to return DECLINE_CMD for the directive. PR: 22299
193efc3 Synch with 2.0 branch.
aa46555 Synch with 2.0 branch.
45e60ee Synch with 2.0 branch.
118ff2b Rework the version extraction AWK script for NetWare to match the changes made in ap_release.h
2d66bfb sync
87bf129 Allow mod_auth_digest to work with sub-requests with different methods than the original request.
acda438 sync with stable branch
3c9939b function ported to 2.0
a9f556c catch another edge case
3d60226 sync
7603b2f Fixed file extensions for real media files and removed rpm extension from mime.types.
7efcd35 worker MPM: fix stack overlay bug that could cause the parent process to crash.
b924ca5 avoid losing a subpool (until restart) on a rare error path
01da115 Unix MPMs: Stop dropping connections when the file descriptor is at least FD_SETSIZE.
20e2e01 issue a warning if an external rewrite map is used without RewriteLock.
968929e fix error handling during flag parsing
fb5534b fix out-of-date comment
d78bd01 * server/protocol.c (ap_rgetline_core): Fix folding if header is continued over more than two lines.
f5aa5e9 * server/protocol.c (ap_rgetline_core): Re-indent function after being skewed by CAN-2003-0132 fix: no functional change.
5fd58ea * configure.in: Remove unnecessary $builddir/server/mpm/$mpm and $srcdir from INCLUDES.  Remove unused USE_VPATH variable.
02bc2a9 Add core version query function ap_get_server_revision and accompanying ap_version_t structure (minor MMN bump). The function is similar to apr_version() and allow for exact querying of the core revision level.
f3e22ca EOLs sent by external rewritemaps are now consumed as whole. That way, on systems with more than one EOL character rewritemap programs no longer need to switch stdout to binary mode.
acc3cfb document [handler=...] and adjust [type=...]
8a79938 Introduce the ability to force a content handler via the [handler=...] flag.
3972fb1 document -x
b7e7f6c Introduce the RewriteCond -x check, which returns true if the pattern is a file with execution permissions.
812f43e * modules/ssl/ssl_engine_io.c (ssl_io_filter_output): Use non-blocking bucket reads whilst data remains available; flush when a read returns EAGAIN.  Fixes streaming nph- CGI scripts over SSL.
a1ede38 update transformation
a560e61 sync
52b04e5 Typo: Patch submitted by Eric Cholet
243efdb Typo submitted by Jobst Giesecke
1779ef9 revert the zlib.lib linkage patch. Bill Rowe said, it's worse than before.
722d590 Correct use of libtool: libtool convenience libraries which are to be linked directly into a program must be linked using -static and not -module.  Fixes build issues with libtool HEAD.
8787f61 * server/Makefile.in: Simpler fix to ensure that buildmark.lo is always regenerated: remove buildmark.lo in delete-exports.
bc77dda * build/special.mk (install-modules): Remove redundant semi-colon.
d75d474 Document recent changes in prefork.c/r1.287:   "Bump MAX_SERVER_LIMIT by 10x (hoping to stay ahead of Moore's Law   for a little while) since the current limit is too small for at   least one high end site."
5daffde Don't include zlib files directly. That's very nasty!
0eafe62 add commented LoadModule directive for mod_deflate
866b6af in conservative C declarations still have to be the first in a function.
1adc6d8 update transformation
fb1cd03 Update transformation.
a3e9ec0 New Japanese translation.
7d1c08e Update Japanese translation.
e6834bc mod_log_config: Fix corruption of buffered logs with threaded MPMs.
e3f8175 Build array of allowed methods with proper dimensions, fixing possible memory corruption.
6ed34bc Win32: Tweak Jeff's patch to correctly handle setting server state in the parent process
d43870b Note GNU difference.
1dc72a2 bump MAX_SERVER_LIMIT by 10x (hoping to stay ahead of Moore's Law for a little while) since the current limit is too small for at least one high end site.
7b40a20 Typo, reported by Michael Schroepl
a062db8 * build/rules.mk.in: Pass CFLAGS but not CPPFLAGS or INCLUDES on LINK lines.
d472c53 allow proxying of directoryindex'd resources
afc28af internal_fast_redirect: take over important request_rec members
a77c445 bust the "recursive include" test. It's no longer necessary and prevents users from careful use of the feature.
a68ada0 allow proxying and rules in .htaccess in subrequests
db86ab2 with the new general status stuff, F and G are just shortcuts -> simplify.
7a1acab allow setting of any valid HTTP response code via R flag. except for redirects this implies [L] and match-only (no substitution).
f0ca54f If the proxy was enabled, and UseCanonicalHostname was off, then the Via: header would report not the proxy hosts's ServerName (or any of its configured VHosts's names) as it should, but the *origin hosts*'s name. Now it reports its ServerName.
7e04198 no need to copy the string again
149bf73 s/cocookie/cookie/
16a624b weekday and monthnames are locale dependent...
c14ed16 according to RFC 2965, inspect only the Cookie header (vs. Cookie2)
302947b don't overwrite other cookies
d913f82 document REMOTE_PORT
625dc56 use the UNSAFE designation for unescaped errorlogs
cf8a422 make REMOTE_PORT available
b5985f2 allow unescaped errorlogs via compile time switch
daf62db backport done
896f641 sync with 2.0.49-dev
a17fd13 update worker doc to mention that
5498ba7 sync
e39dc0b Synch with 2.0 branch.
7f52c2b * modules/proxy/proxy_http.c (ap_proxy_http_process_response): Handle all 1xx interim responses the same, one of the two 2616 compliance issues in PR 19442.
3b97e32 Cosmetic change (I dislike 'known-constant-minus-one' literal numbers): The ap_is_HTTP_INFO() macro checks for values in the 100...199 range, and is a better readable replacement for the value 199.
faf133a * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl): Fix segfault if SSL_get_session() returns NULL.
700864f sync
de14ee0 fix content_language and character_encoding of polish error messages
deb0ba4 update transformation of content updates
3c062c8 better explicit than implicit. This time it fixes namespace problems when using another processor than xalan-j. In fact, I'm not sure if it's a bug in xalan-j to not have these problems:
fe010c7 * Add dmg to application/octet-stream (PR#23902) * Add m4u to video/vnd.mpegurl (PR#25269)
1c1cfc4 Update transformation
7ce6a4c * userId -> userID * add missing bracket
a9be576 Fix typo and add reference to Anonymous directive.
03dd10c Update transformation.
8fc8e6c New Japanese translation.
dc44701 New Japanese translation.
789f96f Sorry.  Trying again.
684fdbd Oops.  Fix wrong edit in previous commit.
9c6b140 Update README.
6c698b7 Korean translation of error messages.
bdb9f6e update transformation
d2c0106 Win32: Simplify. Issue message if the Win32DisableAcceptEx directive toggles the default setting of use_acceptex. Tnx Jeff.
ee75426 * modules/experimental/mod_mem_cache.c (decrement_refcount, remove_entity): Fix "unused variable" warnings introduced in r1.102.
9b887e5 reving back to 102
59ddeaf Fix regeneration of build datestamp on every make invocation (a regression since 1.3).
36b0d57 * acinclude.m4 (APACHE_MODULE): Remove redundant $ac_n and $ac_c variables.
b92c3e3 * modules/loggers/config.m4: Fix --enable-mods-shared=all case where $enable_log_forensic gets set to the empty string.
79fb634 mod_proxy hangs when both KeepAlive and ProxyErrorOverride are enabled, and a non-200 response without a body is generated by the backend server.
f99e12e Win32: plug a socket handle leak on Win9x and when using Win32DisableAcceptex on NT
c4aa600 Use -export-dynamic only when linking an httpd which includes mod_so, not when linking modules or support programs.
cdb4f5e Oops, fixed a bit too much
c234404 If large file support is enabled allow the file to be split into AP_MAX_SENDFILE sized buckets.  Otherwise Apache will be unable to send files larger than 2 gig due to signed 32-bit limitations.
223c481 * modules/ssl/ssl_scache_dc.c: Add the Apache Software License.
3c52d23 Add support to mod_ssl for a distributed session cache using distcache.
dfa69fe Add some brackets.
d102daa * modules/dav/main/mod_dav.c (dav_handler): Reject request if the Request-URI includes a fragment part, i.e. an unescaped #.
cd53be5 Fix for  Bug 21287. Patch extracted and modified from attachment in Bug 21285. The submitted patch was combining fix for 21285 and 21287. It is extending the mutex protection in decrement_refcount() and remove_url().
8e2d453 Synching with 2.0 branch after backport.
e38b797 removed deprecated fields cache_size and object_cnt in mem_cache_conf struct
579f9fa remove email address in the hopes ppl stop emailing me directly ;(
efa40d0 Removed the #if #system(bs2000) condition since it is not compiler friendly on all compilers (it breaks under Metrowerks on NetWare) but kept the patch that it contained.  Validated the patch that moves opening of the xlation table from the fix-up stage to the output filter and it all seemed to work fine.
ee67848 Minor fix...
7671c26 Mention Polish error messages in corresponding README.
8a36a24 Correct SSLProxyMachineCertificatePath and SSLProxyMachineCertificateFile - the previous description looked like it was copied from SSLProxyCA* Also add a warning about not using encrypted keys in those two.
601c886 Undo last change in order not to break Netware builds...
951681f Improve help for --enable-modules= and --enable-mods-shared= by showing the alternative 'all' and 'most' meta-module
1d64f45 ap_log_error() prints its own newline, so none is needed. Instead, the \\n was escaped and produced an ugly output
ac8b37f PR:
ece4828 Ugly hack to get this module to compile. The path to test_char.h (which lives in the server/ directory) must either be added to one of the build/*.m4 files --which would be even uglier--, to the modules/logger/Makefile, or to the modules/loggers/mod_log_forensic.c file itself. For now, put it here.
b0e6991 Update German translation to English rev 1.32
4261215 Sync comments with STATUS/2.0
657d8aa Move SSLRandomSeed out of the <IfDefine SSL> container to support starting without SSL on platforms with no /dev/random equivalent but a statically compiled-in mod_ssl. See PR: 25867
6be212b Remove unnecessary comments about uncompleted documentation.
45ef306 * modules/filters/config.m4: Fix typo which wiped INCLUDES if zlib detection failed.
b5c4711 back out the latex/pdf stuff
3e667e2 put resulting stuff into the _dist directory
b3309d6 put the resulting file not into the parent directory
d628406 single char replacement can be done with translate()
dd1b0f0 * modules/loggers/config.m4: Add 'server' directory to include path if mod_log_forensic is enabled.
c564363 Add mod_log_forensic to the NetWare standard httpd.conf file
7272982 Add mod_log_forensic to the NetWare build
eb529a4 Don't hardcode the location of the test_char.h header.  The path should be added to the INCLUDE path.  Also, use the apr_uint32_t type for next_id which is compatible with the apr_atomic functions.
79bd8e5 Make handling of 0 back compatible.
2ba0b5e mod_logio is not compiled by default.
512ea75 typo
9936f62 Make forensic logging safe for POST data. The issue with strchr and NUL is a red herring.
b9985fa Update mod_example documentation to match 2.1 state.
b20a1ec Add missing apr_ to size_t.
7a06ef1 * support/ab.c (write_request): Fix gcc warning at -O2 in USE_SSL build.
44a849b * modules/loggers/mod_log_forensic.c (struct hlog, log_before, log_after): Use apr_size_t for storing string sizes.
b2d1545 Make forensic logging EBCDIC-safe.
069b751 Use ap_assert().
e1a8a8c leading <!--# is one token
657f5d5 fix a rewrite mistake: restore the ability to expand variables within <!--include file...-->.
a8a954f * configure.in: Check for sqrt in libm (needed by ab).
ca1c2f0 prevent module from segfaulting when not configured.
842e5d0 remove superfluous assignment
57cc9f1 update transformation
c154a09 Add forensic logging.
888e03e update tranformation
fb07607 update license to 2004.
b3e9af0 update license and copyright to 2004.
f355013 add _tools directory
4be6577 Don't use tabs.
78f23cc sync with stable branch
d58e378 Sync with 2.0.49-dev
2e105f2 fix mispelling of "happened"
b7f67e1 Bring mod_status document up to date.  This change was discussed back in June but I've never got around to do it until now.
1cbc817 Sync Japanese translation.
3425d61 Fix grammatical errors.
417e17f Correct a grammatical error.
0978c5c Fix segfault in mod_mem_cache when caching streaming dynamic content.
9a1a23a Add Polish translation of error messages.
5e5dcba add support for querying MPM state to ap_mpm_query() for the WinNT MPM
977bc94 Added mpm_state to ap_mpm_query() for the NetWare MPM
1466003 Fix the initial cache structure allocation.  Since we are calling util_ald_create_cache() to create a util_ald_cache_t structure, we can't use util_ald_alloc() to alloc the memory because we don't have a structure to allocate from yet.
325fa04 Win32: Rename WindowsSocketsWorkaround directive to Win32DisableAcceptEx. Clean up code paths.
1a62142 Pick up declaration for insert_error_filter hook
5209db5 mod_proxy with ProxyErrorOverride On in a reverse-proxy configuration attaches a body to the 302 response and a wrong Content-Length header.
80c6465 Allow retention of header fields on non-200 responses
28bd9fb We need the error strings loaded as early as possible
e4a2a26 Flame bait: mod_charset_lite would decide in the mime checker phase whether a conversion was required, and would stick with that decision, even if a later handler (like CGI script) would modify the actual MIME type returned in the response. That was fatal when an EBCDIC machine was going to return, say, an image/gif (because the initial MIME type would be text/plain, and only later on be set to image/gif). But even for "ordinary" ASCII-based machines the conversion fails if a CGI script decides to return UTF-16 data. At the moment the following change is #if #system(bs2000), but IMHO it should be enabled globally: I moved the conversion decision into the filter itself (because it is the handler which does the final decision which MIME time is tagged on the response, and we can only evaluate its decision after it started the output generation).
acd83dc Mention in the comment that we expect a _space_separated_ list of module names. Translate '-' to '_' so that the shell does not complain about invalid variable names.
e5e6558 switch to APR 1.0 other-child API
970faa2 get mod_ssl.dsp to load again (we *x weenies have to be careful :) )
1e67574 sync
c451130 fix docco
50df8e4 sync with stable branch
04980ba Fix some piped log problems: bogus "piped log program '(null)' failed" messages during restart and problem with the logger respawning again after Apache is stopped.
92227a6 remove inadvertent commit of clumsy gdb workaround (sorry!)
8dfff0a change the way the cgid daemon restart logic determines whether or not the MPM is still running...   now it works with prefork MPM too
d0f5240 update leader, threadpool, and worker MPMs to return MPM state from ap_mpm_query()
50351f7 update threadpool MPM to build and appear to work with the current APR pollset API
8fd159e update leader MPM to build and appear to work with the current APR pollset API
fe30657 fix the name of the failing API call in a log message
c41b304 fix cut-n-paste errors in the logging of the current hook
3e85c78   *) Add a hook (insert_error_filter) to allow filters to re-insert      themselves during processing of error responses. Enable mod_expires      to use the new hook to include Expires headers in valid error      responses. This addresses an RFC violation. It fixes PRs 19794,      24884, and 25123. [Paul J. Reder]
4de16bd Fix format string warnings from gcc on amd64:
c4c0399 If you ignore a problem long enough, it'll be fixed by someone else.
a6bc964 fix a problem where a crash of a non-MPM child process could result in an error log message stating that the parent had crashed
6a97ebf Typo, see PR#25420
ee818fd Win32: Tweak MaxMemFree patch. Allocate ptrans specifying pchild as the parent pool as we did prior to the MaxMemFree patch.
3efb8f7 Fix <Limit> and <LimitExcept> parsing to require a closing '>' in the initial container.
ef4b1b3 add new MPM query -- AP_MPMQ_MPM_STATE -- to find out what the MPM is doing
e3c11d6 Fix memory leak in handling of request bodies during reverse proxy operations.
6be809c Synching with 2.0 branch after backport.
e0360b3 Fix ab's SSL support a little:
d2cf3cc * server/Makefile.in: Revert changes to use an absolute path to exports.c in some (but not all) places, and subsequent fallout.
c555033 * server/main.c (suck_in_expat): Remove function, USE_EXPAT is never defined.
e2d8852 backported to 2.0.49 PR: Obtained from: Submitted by: Reviewed by:
d6b724c "Thanks for checking in the changes to mod_mem_cache.  I think there is a piece missing to that fixe;  the adjustment of the queue_clock value in cache_cache.c  (cache_insert()):  Sorry about not finding/pointing that out before asking you to check in  mod_mem_cache changes:
14de285 update the misconfigured INCLUDES skipping code to remove itself, so it'd complain only once PR: Obtained from: Submitted by: Reviewed by:	Jeff Trawick, Bill Rowe
7c200e3 Forward port Spanish error message improvement from 2.0.
e54a945      complain via error_log when mod_include's INCLUDES filter is      enabled, but the relevant Options flag allowing the filter to run      for the specific resource wasn't set, so that the filter won't      silently get skipped. PR: Obtained from: Submitted by: Reviewed by:	nd
b48291f New German translation of leader.xml
07e907f stop using apr_sockaddr_port_get() accessor function, as it will disappear from APR 1.0 API shortly
eaf4e92 Allow for binary CGI's to have file extensions other than .NLM
8175888 Fix the display of the terminate and restarting console messages
31a652b sync with APACHE_2_0_BRANCH
e933536 Clean up httpd -V output: Instead of displaying the MPM source directory, display the MPM name and some MPM properties.
6b06a79 Fix up the types used for atomics
56ae50a - New German translation of leader.xml
fc89a66 add some markup
0d985ba sunny but frigid today in charlottesville...
6c09066 Fixed mod_mem_cache so that it doesn't misfile entries in the priority queue.  Previously, since the ->priority value was positive, certain parts of mod_mem_cache would cause the priority queue to do the wrong thing when changing the priority of an object in the cache.  The end result would be that the objects would not be dequeued in the right order.
28a24b8 Synch with 2.0 branch.
522a998 Regenerate man pages.
e47af46 Minor spelling/grammar fixes.
1e1a131 If we have a comment, place in a ':' not a ';' (has this *ever* worked?) If -n is specified and we have a comment, print the comment out too.
b59d6c4 Update transformations.
c24a7e1 New Japanese translation.
11ee441 Update Japanese translations.
a4977f5 Update Japanese translation.
30e1289 Regenerate typemap files.
4721739 Update transformations.
4d120aa New Japanese translations.
32884f7 update transformation
5b92d3a Regenerate metafiles.
a6184c6 Update transformations.
da301e1 New Japanese translation. (Originally ported form 2.0 version, then updated to the newest version.)
07e94b1 New Japanese translation.
e084e6e update transformation
3cfbc31 update transformation
4616fa5 New German translation of beos.xml Submitted by: Jobst Giesecke <JGiesecke@t-online.de> Reviewed by:  Kai Blaschke <codav@wutallan.net>               Kess
428f360 add missing word
ab498cf Transformations...
09423b3 Update Japanese translations.
ac02e96 Convert to XML.
2f391ad Update transformations.
d6b108f Fix XML errors.
7cbcdb9 Update Japanese translations.
0a34bd9 Update revision marker.
ab298ae Update Japanese translations.
21e13c0 Update Japanese translation.
d1c97e7 Add restart and shutdown thread counters to the console display
2dbba35 * modules/ssl/mod_ssl.h: Remove prototypes for shmht.
8d0f256 Add fatal exception hook for use by debug modules.  The hook is only available if the --enable-exception-hook configure parm is used.
fc60a90 remove references to Irix uslock() mutex primitive
6c300dd The caller of ap_pass_brigade() relinquishes ownership of the brigade.
1dc6636 tidy up some charset recoding issues
91aa761 Sync with APACHE_2_0_BRANCH.
e2e8cc8 Extend mod_status output to include SSL session cache status information:
9ddbb80 Remove shmht session cache in favour of shmcb; shmht has had data corruption bugs since being apr_rmm'ified.
fafb5fe * buildconf: Ensure that make never regenerates the mod_ssl expression parser files from the lex/yacc sources.
7fa53b9 * modules/dav/main/mod_dav.c (dav_method_copymove): For a 401 on the destination resource, propagate the WWW-Auth header from the subrequest back to the client.
c5503f1 * modules/dav/main/util.c (dav_validate_resource_state): Simplify weak etag comparison to avoid unnecessary tests and pstrdup calls.
1ee83b9 Regenerate man pages.
8be2217 - use .SS not .Sh for subheadings, and don't capitalize them - don't indent <dl> lists
c665770 * modules/ssl/ssl_engine_vars.c (ssl_var_log_handler_x): Fix unused variable from previous commit.
7aa9696 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup): Only call ssl_var_lookup_ssl for a real SSL connection; fix lookup of "HTTPS" for non-SSL connections. (ssl_var_log_handler_x): Give results for non-SSL connections too; e.g. %{HTTPS}x does the right thing.
5bd9d41 * modules/ssl/ssl_engine_vars.c (ssl_var_lookup_ssl_version): Determine the library version string at run-time rather than at compile-time.
2c999f8 * modules/ssl/ssl_engine_init.c (ssl_init_proxy_certs): Fail early (rather than segfault later) if a client cert is configured which is missing either the certificate or private key.
a7db87b SECURITY [CAN-2003-0020]: escape arbitrary data before writing into the errorlog.
8e11477 Hook the default_port so that mod_nw_ssl will return the correct port rather than defaulting to 80
e269230 fix comment Submitted by:	Fitz
79a3c0c remove calls to the apr_proc_other_child_read function that no longer exists
b0abaae Several improvements: - some better descriptions - reorder the enable/disable module options - add --with-dbm options - some nits
416e669 add another space, for the sake of Netscape 4
fcab969 restore the space which broke all tests :-)
26c2134 add a note about the spelling of options
7c5b426 switch to new pollset api
f07d84b switch to new pollset api
0f5ba4e build with latest other-child API changes
495e608 A better solution than my previous commit as pointed out by Andre Malo. mod_expires: Initialize ExpiresDefault to NULL instead of "" to avoid reporting an Internal Server error if it is used without having been set in the httpd.conf file. PR: 23748, 24459 Submitted: Andre Malo, Liam Quinn  <liam htmlhelp.com> Reviewed: Andre Malo, Paul J. Reder
86cf5be sync
251c9e7 Stop trying to copy headers out of directories that don't exist
e030a58 mod_expires: Don't report an Internal Server error if ExpiresDefault is used and has not been set in the httpd.conf file. PR: 23748, 24459
ffd07ca Account for some bytes handed to the network layer prior to dropped connections.
68ae3ab Fix a problem with the display of empty variables ("SetEnv foo") in mod_include.  Now it works like 1.3 (see PR for details).  Setting of envvars for scripts was/is consistent with 1.3 for empty variables.
26c3384 axe a comment... as with so many things, the true part isn't interesting and the interesting part isn't true
6159e94 simplify just a bit
eeb0224 Rework OS/2 MPM to use the pollset API.
0beaea8 spell check
a2d1b52 Win32: MaxMemFree works with mpm_winnt
ac2bc5d sync with stable branch
c5b8379 Win32: Make Win32 MPM transaction pools honor MaxMemFree
0884e90 Reference the bug database in the STATUS file.
de9f35b Fix a few typos and change the description a bit.
b8f83d0 mod_autoindex: new directive IndexStyleSheet
cb9e2e9 improve this document step by step: - use --enable-layout description from install.xml
4ae7189 Unless anyone strenuously objects, I'm adding back the comments regarding ScriptInterpreterSource. We're getting an increasing number of questions about this.
0ea3a6c Switch over to the new pollset API.
6ff23b5 Switch the prefork MPM over to the new pollset interface.
c02dcf4 Sync with APR-util deprecated functions.
aaf0424 get rid of _FOREACH
c9eb9be stop using deprecated apr_atomic functions
32044c1 fix the EBCDIC path in send_all_header_fields() to actually return something
c6c263e Forwardport Kess' fixes (r. 1.1.2.3).
2d65199 sync with stable branch
1ee9b27 parsed_uri.port is only valid iff parsed_uri.port_str != NULL. Old code simply checked if it was non-zero, not if it was *valid*
c7f0065   Normalize email addresses for the purpose of deliberate but simple-to-read   obscufication.
adb3f3c Remove manual/search due to consensus ;)
61c026a Fix some typos.
3526bfb Update transformations.
7168cca Fix example.
932ff30 apache -> apache2
ed62849 Updated the latest LDAP cache changes to support platforms that do not have shared memory.  All shared memory patches must respect the APR_HAS_SHARED_MEMORY #define.
345df1e style
a4ef421 re-add explaining comment
82da89f document the aterisk
60f4a21 allow any user id when configured with 'anonymous *'
9583ac3 less confusion with identifiers && style
c76efd6 Fix a long delay with CGI requests and keepalive connections on AIX.
de5a239 Fix uninitialized gprof directory name in prefork MPM.
f5552b3 fix another segfault condition in ldap cache code
292386a Allow translation of generated output such as mod_autoindex using charsets other than EBCDIC.
81abe56 mod_auth_ldap: Fix some segfaults in the cache logic.
ad89dca * support/logresolve.c (strdup): Remove, APR already provides this if necessary.
3be85f7 * modules/loggers/mod_log_config.c (log_request_time): Log the minutes component of the timezone correctly.
256c57f darn, the patch for bug 9587 (wrong icon for directories shown) broke the directory descriptions more or less completely. Fix it now.
3b6b4b4 fix a compile failure with recent z/OS and picky settings for compiler/ library
2578a59 no longer allow an ETag header in 304 responses.
c10eeaa document the new XHTML Index option
1694aa9 - add XHTML doctypes to httpd.h - fix the (x)html output of mod_autoindex to be consistent   and make it configurable to emit either HTML or XHTML
3fb57d4 update transformation
b0902b5 use periods instead of colons
b7d7f60 add a note about the incremental behaviour of language and encoding extensions.
be807cf add a comment
c0fae75 A few more typos.
a28fd32 s/inluding/including
a1e68d9 Hmpf, ok, commit this to head.
3db2585 provide a workaround for buggy mod_setenvif
c906fa9 fix optimizer to not throw away a regex if it stumbles over it.
fb2802c improve some module descriptions
e20d6de Fix sample regex
72ff650 Don't omit the initial <tr> if SuppressIcon is set.
1a7767b Let mod_autoindex show filenames containing special chars like %.
4c3949e improve readability a (little) bit
6f916fe sync with stable branch
07a5801 sync with stable branch
6b34245 Mention force-no-vary in the content-negotiation docs.
cadda94 Revert the change to the cmd_func typedef to avoid a type mismatch compiler error in the Metrowerks compiler
9120ae5 * include/http_config.h
4bfc6d3 htdbm and checkgid need some documentation
63abfc7 * modules/generators/mod_info.c:         (mod_info_module_cmds) ap_escape_html() all directives and         arguments. PR: 24232
1a97fba * ssl_engine_log.c (ssl_log_ssl_error): Use the thread-safe interface for retrieving error strings.
ae0cef9 Fix missing human-readable error information in SSL log messages:
468254b mod_status: Report total CPU time accurately when using a threaded MPM.
3e4547a Forward port from 2.0:
67a3a71 Fold in the CAN-2003-0542 regex patch.
4578ca4 sync
0917d6e * modules/ssl/ssl_engine_vars.c (ssl_var_log_handler_c): Fix segfault on a non-SSL request.
b9f260e When UseCanonicalName is set to OFF, allow ap_get_server_port to check r->connection->local_addr->port before defaulting to server->port or ap_default_port().
0c3c5b7 Set the scoreboard state to indicate logging prior to running logging hooks so that server-status will show 'L' for hung loggers instead of 'W'.
41d4a3c * proxy_http.c (ap_proxy_http_process_response): Send a valid status-line even if the parsed status-line had no trailing spaces. Remove the warning for this case as triggers for valid status-lines too.
bc1c3f3 Fix a cosmetic issue where OpenSSL 0.9.7 will dump the error stack during pass phrase entry.
bc2aea4 Prevent slow graceful restarts on some platforms:
428d5eb sync with APACHE_2_0_BRANCH
57135ab fix segfault which occured if the filename was not set, for example, when processing some error conditions.
87ed475 backported this change to 2.0:
4196677 Add a note about the special handling of log messages with a level of 'Notice'. Fixes PR#23724. German version included ;)
45384da tag the pools created for requests and subrequests
4790ff1 Fix a typo and remove an invalid section about the non-existent mod_ssl bugdb. According to Ralf there are no plans to fix it and this doc is pretty out of date anyways. See also PR#18574.
a68c03c "Change the list of checks in the security model to more accurately reflect what happens, and in the correct order. Also fix the default locations, and add a subsection about setting paranoid permissions."
70705a1 This doesn't go in here... it goes in the BACKPORT section of the STATUS file that's on the APACHE_2_0_BRANCH
acdff27 spelling fix PR: Obtained from: Submitted by: Reviewed by:
19eb03c fix the config parser to support <Foo>..</Foo> containers (no arguments in the opening tag) supported by httpd 1.3. Without this change mod_perl 2.0's <Perl> sections are broken. PR: Obtained from: Submitted by:	"Philippe M. Chiasson" <gozer@cpan.org> Reviewed by:	stas
14ae23d a href updates, plus transformation.
e536122 reflect backported change
0f7188f match the comments in 2.0
b0fbb9a add a note about *:80 and change the example to use it.
c85111f formatting only
a95f32f remove a wrong not about file-to-file hooks.
dbec2d7 do sync.
2ce99f2 add map_to_storage hook to mod_example
bfa283e fix a typo
be1143a mod_cgid: fix a hash table corruption problem which could result in the wrong script being cleaned up at the end of a request.
f3a7a26 Check to make sure that the file name is not NULL before passing it to the strncmp() function.  At least on NetWare this prevents the strncmp() function from faulting and also brings the code into sync with similar checks for a NULL file name before calling strncmp() in other areas of this file.
1a38067 Update as a result of a backport.
18a4859 Match type of both arguments (get rid of compiler warning) in x ? y : z expression
fc16676 Cosmetics: remove redundancy
166f64a Typo
49bc06e Typo
24bf928 Update to document a completed backport
ffc97b9 make sure we have prototype for strcasecmp()
9313ad5 Backport done.
89bb4a8 Switch to the new 32-bit APR atomic API for better portability (the old code assumed that apr_atomic_t and apr_uint32_t were interchangeable). Also, add more detailed comments on how one of the synchronization functions works.
990368f Setting lr = NULL on line 399 leads the the loop closing early (see line 343) and the ap_listeners list being nonsense.
05bbc35 "Listen 80" just works now, using v4-only, v6-only, mapped address or non-mapped address.
e065495 There is no longer any need for different Listen directives to use mapped/non-mapped addresses.  Also cleared up that not all platforms support v6-only sockets.
c3a2f44 document linux TCP checksum offloading bugs.
ebe23f8 * CHANGES
625c0b3 * CHANGES
ec221c6 * CHANGES
11d0bb3 * CHANGES
e470e0e change some error log messages to be more concise
2510391 Log an error when requests for URIs which fail to map to a valid filesystem name are rejected with 403.
ae17258 The problem that this patch solves is one where cookie names are mis-identified by mod_usertrack. This is because of the use of strstr() in spot_cookie() the original mod_usertrack.c to find the name of the cookie. strstr(), by virtue of looking for a substring instead of an exact match, can mis-identify the cookie "MyID" as the cookie "ID" or "My". So, if you were looking for the value of the cookie "ID", but only the cookie "MyID" was returned by the browser, mod_usertrack.c would return the value of the "MyID" cookie in place of the "ID" you were looking for.
bfc7b8e   SSL-C doesn't declare the char* file arg const, so we shouldn't either.
9650c40 Fix mod_info to use the real config file name, not the default config file name.
a7f1773 this won't work with 5.003, so bump up the require to 5.004:
6681ad9 Revert nd's standard vs. draft changes.
60a4e23 Silly me and my tabs.
1694ed9 Corrections/fixes & transformation update.
67496e9 RFC 2617 is standard, not draft
1546dfb bring german sitemap up to date
ab0052c add relevant standards page to the sitemap.
d5d07f1 Corrections/fixes, more to come.  Transformation update.
03f6adb Update transformation.
32571f3 Minor fixes.
42f5c95 Updated trademarks to use the right entity, update transformation.
993f9af REALLY sync with APACHE_2_0_BRANCH
caa5b32 sync with APACHE_2_0_BRANCH
5c18339 sync with APACHE_2_0_BRANCH
210c5fa sync with APACHE_2_0_BRANCH
2393e19 Add casts to apr_atomic_casptr arguments to avoid compiler warnings
655691f fix snprintf format type warnings
8fcefb6  This fixes the cache code so that responses can be cached if they have  an Expires header but no Etag or Last-Modified headers. PR 23130.  Submitted by: <bjorn@exoweb.net>  Reviewed by: Paul J. Reder
765970f Fix a couple of AIX xlc_r compiler issues in the cache code I previously committed. [Paul J. Reder]
3945289 Typos in german version
09af9b4   Modified the cache code to be header-location agnostic. Also   fixed a number of other cache code bugs related to PR 15852.   Includes a patch submitted by Sushma Rai <rsushma@novell.com>.   This fixes mod_mem_cache but not mod_disk_cache yet so I'm not   closing the PR since that is what they are using. [Paul J. Reder]
a2c6b81 These silent errors have bitten me a few times, now that we use APR'd dbm. mod_ssl had hacked sdbm for larger sizes.
468445a zap an incorrect comment that remained from 1.3 days
dfc4f68 void * can't be used as a function pointer without casting
4c43adf OS/2: AP_MPM_WANT_SET_MAX_MEM_FREE needs to be defined for ap_max_mem_free to be available which is required for the recent bucket_alloc changes.
445504f   By rights this should be a subst - but it gets us building.   Need to revisit pulling this and httpd-std.conf.in so we can   drop all win32 specifics.
46941ae one_process is not a global variable
1143775 Documentation says -DDUMP_VHOSTS is equivalent to setting -S
bea15a2   Simplify includes - we always (in HTTPD 2.1 forward) are looking   for the openssl/foo.h headers explicitly.  Fix the abs.dsp build   to define HAVE_OPENSSL instead of USE_SSL so the correct headers   are included upfront.
62af9ca Still in 2003
628f433   Account for apr-1.lib and apriconv-1.lib changes, HTTPD 2.1/APR 1.0 only.
72f28e2 apu_compat.h no longer exists...
ad4ef6a revert my previous commit.  when 2.0 and 2.1 were not in sync, i went with what was in 2.0 because it was more recent, but it turns out that was the wrong choice.  reverts to 2.0 to follow
3aeb79b sync with 2.0.48 PR: Obtained from: Submitted by: Reviewed by:
0024a03 Lower the severity of the "listener thread didn't exit" message to debug, as it is of interest only to developers.
9042470 forward-port Brad's commit to the 2.0 branch that gets rid of the explicit bucket_alloc_destroy(), which is redundant
3090c1b Fix a misleading message from the some of the threaded MPMs when MaxClients has to be lowered due to the setting of ServerLimit.
aa21671 switch to APR 1.0 API (which is still in flux)
d19dc82 Point to the correct download location.
375e492 Typos...
4c6709c Resolve the ap_get_client_block() showstopper by looking at APR_BRIGADE_LAST of what we get from ap_get_brigade and set a nugget for our next call to pick up on.
c198e9b * ssl_engine_io.c (ssl_io_filter_connect): Check the library code as well as the reason code when looking for the plain-HTTP-request error.
209ef99 document the recent mod_include changes
1586769 allow the undefined echo string to be configured via <!--#config echomsg="..." -->
8fb9dad allow SSIUndefinedEcho per directory
b1169b4 add information about the == operator, && / || priorities and expression optimization/debugging
a770ae9 Updated the various MPM's to use the new bucket_alloc_create_ex API when necessary.  Which is to say that it's necessary in all cases except for prefork, where the change to apr-util to have it use the allocator from the pool passed in is already sufficient.
7e1b4f2 axe some warnings:
a9cca97 be nice and accept == as well as token_eq.
94d7c98 cleanup the TOKEN_AND/OR tree generation code. - check more exactly whether the previous token is correct - flip the tree from left-weighted to right-weighted, which is   more natural and more efficient, since we don't need to loop   up to the root, but just until the next and/or token. - that way, flip the short circuit evaluation again to cut   the right side now if possible...
3d5088b the extra buffer variable is no longer needed.
dc4cfa1 Make sure that the global ap_max_mem_free is initialized along with the other MPM globals whenever HTTPD is started or restarted.
96de3cf simplifications. Don't repeat the same code again and again.
68700b9 hrm. reverting my last commit. TOKEN_GROUP is a protection against many invalid expressions. Checking these all manually would take a lot more cycles than it'd save. Sorry.
b8caf74 TOKEN_GROUP is nothing but an identity operator, it gateways the result of the enclosed expression. Since this expression will never touched again during the tree-building stage, we can safely strip TOKEN_GROUP from the tree and later evaluate the child directly.
14e8190 cleanup TOKEN_EQ, NE, LT & co tree generator: - the left side of such an operator can *only* be a string - get a rid of the while-loop and re-organize the code   to better reflect what we're actually doing there
baf647d minor optimization.
ae3d6ba forgot to add these debugging outputs
a37f284 improve debugging output
1830a08 since our parse tree is left-weighted, the short circuit evaluation is way more useful if we short circuit the left side. So evaluate the right side first. This, however, reverses my statement about regex optimization (you have to put them onto the right side of an && or || operator to get a chance that the left side will be cutted).
36b9b1b TOKEN_RE is only valid on the right side of EQ or NE. (previously this error was caught during the evaluation stage)
2073d0a TOKEN_NOT and TOKEN_LBRACE duplicate exactly the same tree generation code. Get a rid of this duplication.
c509a2b readability improvement. Handle the case of the current token being the first parsed explicitly. There's probably also a minor performance improvement on invalid expressions ... ;-)
316c17f shorten the code by reversing the case conditions
11e8886 fix compiler warning on win32
1107cc3 Make some regex examples a little more exact.
41fd1c5 short circuit && and || evaluation. For backwards compat this is only possible if there's no regex on the short circuited side (since it fills in the backref data). The user may optimize this by putting the regex onto the left side of the operator.
ba375b8 * listen.c (ap_listen_open): Avoid casts when checking for :: and 0.0.0.0 to fix build on FreeBSD 4.2, and fix logic.
9aac283 simplify the dumper code
67083e4 if the tokenizer hits a string which begins with a backslash, this backslash will be skipped and not recognized as an escape character. That way, <!--#if expr="\)"--> or the like won't work correctly. Fix it now.
1796657 same cleanup applies to TOKEN_LBRACE
3f2be67 cleanup TOKEN_NOT tree generation code: - remove useless stuff - shorten the code by inverting the switch/case conditions
f8b6d13 keep the parse tree consistent if a binary operator occurs within parentheses.
0ec92f7 Ha! Wrote this combined tree dumper and consistency checker just for fun.
2a5b3a5 Reflect backported change into 2.0.48.
1f63832 Fixup IPv6 Listen statements on Linux by attempting to bind in the order that getaddrinfo() returned to us and skipping binding to IPv4 addresses if the previous bind was to an IPv6 of the same address and port.
26d5f75 typo
a696f17 replace is_only_below stuff with apr_filepath_merge. I hope the flags are correct :)
4598527 remove the rest of the artifical string limitations
7f43b8f cleanup the conditional expression parser for - improved efficiency and memory footprint - improved readability - style This includes an overhaul of the debugging macros, mostly that they are not always in the way if one tries to understand the code ;-)
0b7de2e style
874eafe cleanup regex stuff. regexps are now handled more graceful (give warnings on out of range or undefined captures).
c00634c don't waste memory, if someone configures another error message or timeformat during runtime. The common case doesn't need max_string_len at all and won't be configured more than one or two times.
066e0c9 overhaul of ap_ssi_parse_string - improve efficiency and memory footprint (don't use the power-of-two   allocator) - allow the combination of out = NULL && length = 0, which means that   the resulting expansion is unlimited in length
b37c094 drop superfluous argument from ap_ssi_parse_string. The new API should now be stable.
cbc1a65 cleanup handle_printenv function
e190a71 cleanup handle_set function
45eff70 cleanup handle_else and handle_endif functions
2a338e2 cleanup handle_elif function. It now allow only one argument as well.
8fc77dc cleanup handle_if function. It now allow only one expr="..." argument.
bb0f16b cleanup handle_flastmod function
288d1a9 fix doc typo PR: Obtained from: Submitted by: Reviewed by:
0959bde clarify that filter_init_func is used only in the http protocol filters PR: Obtained from: Submitted by: Reviewed by:
b5f32d2 cleanup handle_fsize function
c84198c cleanup handle_config function
564bf53 cleanup handle_echo function
1dad0ea cleanup handle_include function. - use new ctx->argc member - simplify code nesting and improve readability
71dbdad - clean up configuration routines - give bndm a neater interface - naming style improvements
45b9d4a these should be const.
b4d2c12 before working further, bring some kind of system into the stuff and (re-)order the code. That should finally improve readability...
c44c0d9 further cleanup. No *real* code change. (mostly macro cleanup)
728dc39 adjust mod_cgi and mod_cgid bump MMN for API change.
58b991f bump mod_include's external API. The API is now more simple and expected to be better extensible without breaking binary compatibility, since an opaque pointer to internal structures is part of the public context. (We can easily add APi functions that operate on this internal struct).
9f542e5 include_cmd doesn't imply the CGI interface. That code seems to be a c&p accident.
e5e25df now drop the old code
aca1a3a major overhaul of mod_include's filter parser. Note that the new code contains a thin wrapper to ensure binary compatibility. (needed for 2.0 backport).
a595a2a style
642b716 allow [T=...] forced types to get expanded.
9a2bf07 cleanup apply_rewrite_rule function. Improve readablity (? ;-) and efficiency.
e2f7f08 rename the exp_ctx to rewrite_ctx and widen its scope. That makes a lot of things easier :)
88d62b9 stressing the notes table is not necessary.
fa20e7a fix %b format to write really "-" if bytes_sent == 0.
5b1518c here applies the same. Don't skip the \0 delimiter when searching for already applied encodings. Additionally don't compress if *any* non-identity encoding was applied before. (deflate, pkzip, whatever).
ee9b0e8 Doh. If Accept-Encoding contains no gzip token, we skip the 0 delimiter and search for "gzip" somehwere in the memory. This was originally discovered by Joe Orton. But there's more. We must skip any parameters, since these do not contain what we're looking for.
870b126 fix misleading ap_get_token description
62057a6 Catch an edge case, where strange subsequent RewriteRules could lead to a 400 (Bad Request) response. Example:
9de2206 Fix LA-U and LA-F lookups in directory context. Previously the current rewrite state was just used as lookup path, which lead to strange and often useless results.
01cda7f doh. the permission thing is independent from rewrite log
cb91964 use a context structure to hold expansion information. This makes some things easier (in future commits :-)
f118b33 Add extension for XUL (PR#20558).
c46cea0 Change Listen directive to bind to all addresses returned by apr_sockaddr_info_get when a hostname is not specified.
8f96c3b More fun with IPv6 Listen statements.
32f08ac sigh.
1a13027 spelling fix PR: Obtained from: Submitted by: Reviewed by:
7f56540 Correct failure with Listen directives on machines with IPv6 enabled by removing find_default_family() and letting APR determine what should be done without a hostname.
61081be forgot this.
d42d73e Make mod_ssl consistent with itself when you have a halfass install of openssl-engine (ie, you're missing the headers).  ssl_cmd_SSLCryptoDevice() is thrown away by the preprocessor if you're missing the header, so the call to it should have the same condition applied.  otherwise, mod_ssl will fail to link.
8522c6f      Fix bug in mod_deflate, which was passing calling deflate()      without checkinig first whether it has something to deflate. (currently      this causes deflate to generate a fatal error according to the zlib spec).      PR 22259. PR: Obtained from: Submitted by: Reviewed by:
a7f39b1 Typo
3a3ecb8 fix some declarations so dump_bucket and dump_brigade will work in gdb-5.3
f36c0af Update transformations.
fc0c818 Removed index.html.fr at request of Vincent Deffontaines <vincent@gryzor.com>.
a16483c Trivial change to reporting an error when an identity spoof is encountered with respect to FakeBasicAuth.
8fc6144 Add an error msg when encountering a spoofed identity.  If this would have been here in the first place.  Makes issues like these be found easier in the future.
7a51a3d split ap_process_resource_config into two functions (since we don't wanna change the api). Only the first one (the ap_ entry point) now checks for fnmatch and the second one will be called for every file/directory included. This, however, avoids infinite recursions, if a filename contains wildcard characters.
edb4d00 fix extern "C" declaration
ee9dda0 Fix FakeBasicAuth for subrequests.  This was reported via issue #1364 in Subversion:
ab054b3 drop the test, whether apr_brigade_create returns NULL. It does never (dumps core instead :-)
1bb1108 use bucket brigades directly when reading PUT data. This avoids problems with content-length-modifying input filter (like deflate).
8c15bc9 default_limit_req_body constant doesn't exist.
55a5378 these 3 bugs were reported long time ago, but there are still there. The entries include links to the threads where these bugs were discussed PR: Obtained from: Submitted by: Reviewed by:
dc08a71 remove superfluous (heya Cliff) space from log string.
3926652 hook mimetype-forcing into fixup/LAST. This leads to consistent behaviour (server context vs. directory context), overrides all statically configured mime types and doesn't clobber multiviews any longer.
8606e3c   Although we initialize mc->pid in the child init phase,   we haven't initialized it before initially performing   our ssl_rand_seed() in the parent/postconfig phase.
127a0ce add a comment for future editors no code change.
b1b5201 There are different kinds of people:
507b868 word smithing / grammar
4f2835b make clear, that we *know* the RewriteLog directive, even if we don't support it. Thanks to kess for pointing this out.
2571aaa introduce REWRITELOG_DISABLED compiler option, which -- if supplied -- strips all logging code from mod_rewrite. This is meant as a performance improvement for production sites, not as a recommended compiler option for public distributions.
7abc0c4 remove unneccessary assignment
7634e76 improve expansion performance. If we have only small expansions (like just one variable - often used in map keys or the like), don't stress the pool with allocating memory for the linked result pointer list. This list can be safely stored on the stack.
4a66e0e Remove the general not-updated warning for perf-tuning, since the document is mostly accurate.  But since the accept-mutex section seems a little dated, leave a warning there.  That could use some developer intervention.
bc67394 cleanup compare_lexicography function. - improve readability - make sure that unsigned chars are compared - use apr_size_t for string lengths
f79b211 inline some functions for faster processing.
57cf233 subreq_ok *is* a macro.
b209aff cleanup the add_cookie function a bit. - the if(s) check is superfluid. s is guaranteed to be non-NULL   (except for out of memory) - strtok as late as possible to save some cycles.
a281ae2 incorporate the add_env_variable function in do_expand_env. I see no real reason to use an extra function call here (other than decreasing performance :)
f1c173b style
92286be distinguish between these two states:
5f94c42 restore a check for write failures which was lost for non-SSL builds
b5bdd1a sync
388a38d As suggested by Marc Slemko, document the double reverse effect of Allow/Deny.
e52a2fb gcc doesn't catch the logic and throws a warning about uninitialized fname. Get a rid of it.
9120083 update transformation
8a8987c remove some unnecessary memory operations
1a5a761 remove artifical limitation of number of env and cookie flags
d93bf49   Correct the declaration of the PFN_GETEXTENSIONVERSION type,   which gcc was rejecting (for good reasons.)
47aae83 this patch was reverted.
8392b2b cleanup RewriteCond evaluation. - avoid unnecessary memory operations - parse non-regex patterns at configuration time, which - gives the ability to throw a useful warning, where [NC] is not supported - and speeds up processing at runtime - allow [NC] for simple comparison pattern (=) - improve readability
2ae7b9c Rewritemap improvement: - map designations are now case insensitive (txt: rNd: PRG: INt:) - maps may be relative to serverroot, which appears to be _very_   helpful
9567dd0 cleanup parseargline function to be more efficient and better readable.
c3c1343 New german translation of mod_actions based on english revision 1.14
005f44c cleanup expand_tildepath function to use the pool and be more readable.
27f1591 Be more precise what type mean
3b799c3 minor optimization: the bracket search functions just search for curly brackets, so there's no need to supply that every time again.
4671e78 this was a two-tiered commit for better diffs. Now bust the old function.
241e588 speed up variable lookup. It's expected to be faster than a hash (and the previous if-else chain, of course). This also reverts the wrong patch, committed in r1.151
ad23e61   Standardize on example.com names, never bogus your-server.name style   entries.  Roy attacked this recently, but apparently there are some   holdovers or reversions to this policy.
548da41 ab: Work over non-loopback on Unix again.
6fddb80 Fixed a typo and validation error.
8fe2da4 REALLY discourage people from using <Limit>.
b2907c7 Added a missing slash.
c13d3d9 I knew I would get in trouble mucking with the build system. Use topbuilddir rather than topsrcdir to find config.nice.
2bed74f cause a lookup failure in external rewrite maps if the key contains a newline.
a896aef minor optimizations in lookup_map_program function. - make it compile time configurable, how long   a response from a rewrite map prg may be. - avoid unnecessary memory operations
0ffc7de - style & readability - procattr_cmd_type_set was called twice. shoot one.
0956602 integrate the random functions into the select_random_value_part function. This is the only place where they are needed. It is not necessary to add extra cycles for function calls here.
caa6417 cleanup fully_qualify_uri function
30ee441 cleanup splitout_queryargs function. - don't compute strlen more than one time - use ap_strchr instead of strchr
008aaa8 cleanup rewritelog function. - shorten the code - improve efficiency and readability - get a rid of fixed buffers - use %pp format string for pointers
cdddc76 axe a special check for EOF+data from apr_file_gets()...  apr_file_gets() doesn't return that combination of conditions any more
162054f Mention the limitations of ProxyPassReverse, and reference Nick Kew's mod_proxy_html.
7412e57 Install config.nice into the build/ directory to make minor version upgrades easier.
1518b86 allow piped rewrite logs to be relative to serverroot
45e7561 exit(1) should never occur in any module. Stay away from it.
c9828a5 a long time ago ... REWRITELOCK_MODE wasn't used anymore for ages. In the meantime it defined the mode of the rewritelog (sic!) file. So fix the misnaming and use constants for mode and open flags.
e28f99c Add some documentation on upgrading from one minor version to the next.
ed491cb cleanup current_logtime function. use sizeof where sizeof should be used. don't compute strlen again and again (use the supplied value from apr_strftime instead).
4f21346 add the ability to change the maximum txt:map line length at compile time without patching the code
a493a06 Sync changes with backported patches.
d4b1817 Get a rid of the oversized cache. The new map-cache consists of a simple two-tiered apr_hash structure. cachep->maps contains entries for each map, which point to a hash with the actual values (map->entries).
b863e3a cleanup the select_random_value_part function. improve efficiency and readabilty.
5406d6e update transformation
6077bd9 cleanup lookup_map_dbmfile function. improve efficiency and readablity.
dfdc321 cleanup lookup_map_txtfile function. - improve efficiency - make it better readable
13c0dfe avoid unnecessary memory operations
0d14f55 cleanup lookup_map function. - use switch instead of if-else chain - collapse txt/rnd code, which is essentially the same - make it better readable at all.
80bbbe3 rewritemaps are identified by name. Store 'em in a hash rather than an array. This is more naturally, efficient (mostly) and better readable. Leave deep indentations for now (better diff).
18ae486 re-add missing headers
74bf9ef oof. Strip all non-public stuff from mod_rewrite.h and reorder the code in mod_rewrite.c in order to get a rid of the forward declaration. Cleaned up the comments as well.
e04f666 - remove to occurences of 'instead' without reference centre - some markup improvement
b982623 remove outdated and more confusing than helping comment. no code change.
485f5ea Enhance some bits of the suEXEC docco to be a bit more precise in regard to suEXEC's docroot handling and it's preconditions; see PR#21873 and #21874.
0bbdf62 Add votes
d352d90 avoid unnecessary memory operation
d4bd00d remove more unnecessary strlen() operations
46fb97d remove another fixed buffer from the stack
8cc2889 indentation. no code change
1a53dcc vote and extend to do list
3ca16bb remove useless post increment.
0b3c2f8 remove more variables from the stack and increase readability.
70d30b0 minor optimization. this avoids a variable on stack and some internal pointer operations.
ce50cb7 remove outdated comments about different regex libs
7f68f45 optimization/cleanup. The generic flagparser (read: lexer) for RewriteRules and RewriteConds does the same except for one function call. Collapse these to functions to one and make the result more readable.
3b7ec87 Prevent the OpenSSL id_callback from pointing at a mod_ssl function after mod_ssl is unloaded.
2b8e7cb Fix typos.
a9ca268 that loop was totally bogus. r->content_type contains no more than one c-t use ap_field_noparam to strip the decoration and just a single condition to check the validity of r->content_type
cc0bce5 don't reverse the filter order in AddOutputFilterByType
1f0be05 Refresh parts of the proxy docs, with special attention to clarifying the security issues in forward and reverse proxy situations.
6fcd576 'omit' has one 'm'
6734bdc Without this hint, users often do not know how to use the proxy in an intranet
0b9acd3 Fix long-standing typo
e03ba86 More votes.
5060c35 - In 2.0 it is possible for LanguagePriority to have an effect, even for a properly configured HTTP/1.1 client.
5b38ed3 sync
6273846 sync
20deacc Hit a couple files that hadn't been adapted to account for the move from <Directory proxy:> to <proxy>
2f283a1 don't compute the strlen of dconf->directory three times
f3474ce remove duped section
6e81ba0 fix mod_status compilation on Win32 (stolen from mod_dav).
774c4e5 Don't attempt to hold all of the response until we're done.  We'll pass data on when the zlib buffer becomes full and we need to reset the buffer anyway.
a475c32 Fixed a trio of mod include bugs.  The first two were reported and investigated by Ron Park on dev@httpd in msgid <161E04AB9955D54E826FD86360578554D27087@169.32.17.10.nat.cnet.com>; the third was reported by Kevin Varley in PR 21095.
cdc491e further cleanup, and add esperanto code
f1ba7c3 Add optional hook to extend mod_status output.
f7b4d46 cleanup addlanguage/comments and languagepriority
55cfbda vote & note
eb49ea1 Prevent segfaults after SSL renegotiation failures.
6d5e39b reject overlong credentials from the commandline
70312a9 Vote; note something missing in sections.html, and decrease the priority of the var/ issue.
279a27d when prefixing document root, use the core translator instead of baking our own. The core function is much better maintained and probably more safe. Additionally this removes just another fixed buffer :)
5ce37df update transformation
8af1739 step two: get a rid of the old do_expand function.
b057236 optimization; rewrite the do_expand function in order to:   + give it a better interface   + get a rid of most of the fixed stack buffers and then   + no longer limit rewritten uris, expanded variables etc to     2k   + make it better readable and understandable at all.
6ba19e3 Speed up ap_md5digest() a little.
106cf85 Oops. Replace * with *:80 in the <VirtualHost> example also.
95f807e Replace NameVirtualHost * with NameVirtualHost *:80 in the example config.
c80f883 add some linebreaks and reorder case alphabetically for better readability. No code changes.
3aae3ae optimization: no need to use the pool here. This is obviously a static value.
1991286 optimization: - add comment about what subst_prefix_path function does - reduce the use of fixed buffers - get a rid of unnecessary memory operations
66cdcd3 Just fixing some improperly formatted entries.
f756385 Switch ap_filter_flush() to ap_pass_brigade(). This removes a layer of function calls, provides type safety for the ap_filter_t*, and clarifies what is really going on (i.e. we aren't sending a FLUSH bucket of any kind).
637ae70 * util_filter.h (ap_filter_flush): clarify that this function has     nothing to do with FLUSH buckets. It is simply a cover function     for ap_pass_brigade for use with the apr_brigade_* writing     functions.
9a685a3 optimization: speed up ruleflag parsing.
1af4264 optimization: no need to search linear for headers. apr_table_get should be more efficient nearly always.
4bf361a optimization: rewrite reduce_uri function: get a rid of static buffers and unnecessary memory operations
9d2def3 Update the header token parsing code to allow LWS between the token word and the ':' seperator.  [PR 16520] [submitted: Kris Verbeeck <kris.verbeeck@advalvas.be> and             Nicel KM <mnicel@yahoo.com>] [Reviewed: <coad@measurement-factory.com> and            Paul J. Reder]
b4eacd4 Eliminate creation of a temporary table in ap_get_mime_headers_core() Submitted by:   Joe Schaefer <joe+gmane@sunstarsys.com> Reviewed by:    Brian Pane Backported by:  Paul J. Reder
606c7d4 minor optimization. No need to use a function overhead here.
4afe1d7 Namespace protected the table label.
742a08e Ignore RewriteRules in .htaccess files if the directory containing the .htaccess file is requested without a trailing slash.
bc5b07c If a directory contains a file listed in the DirectoryIndex directive, the folder icon is no longer replaced by the icon of that file.
13a2521 Reverse the URL change in previous commit.  Also fix the name of link.
ce1d7d0 strip trailing spaces of groupnames.
cbf0523 Remove some extraneous code committed as part of the fix for 13946 pointed out by Andre Malo. [Paul J. Reder]
c1c800b mention the new capability for input filters
f411c07 remove my in-line comments
0420b56 mod_ssl: Fix a problem setting variables that represent the client certificate chain.
cf9772a Remember an authenticated user during internal redirects if the redirection target is not access protected and pass it to scripts using the REDIRECT_REMOTE_USER environment variable.
78fc3f4 not valid to modify string pointed to by szCryptoDevice...  it points to a static string or something parsed from the config
dc0eb79 Ooops, forgot the PR number for my recent mod_rewrite commit (PR #13946)...
0c1c05d mod_rewrite: fix a problem in the proxy support of mod_rewrite. The broken code was inserting multiple "proxy:" fields in the rewritten URIs. [Submitted by:  Eider Oliveira <eider@bol.com.br>] [Updated and reviewed by: Paul J. Reder]
433b02e document handler passing
e1eff53 Propagate the handler name to the action script via the REDIRECT_HANDLER environment variable.
8dbf8e9 mod_ext_filter: Set additional environment variables for use by the external filter.
17a3b92 no need to open error log for reading
3dd5583 When the top-level directory section for / was added for the sake of performance and to allow automount symlinks to be followed, we mistakenly opened access to the entire directory system by default. I noticed this because all of the /~user directories are available by default without any restrictions, which is a bad idea for anything other than one server within a department of shared users.  However, it also makes it easier to serve files anywhere on disk by mistake, and makes other URI-handling bugs more severe than they would be otherwise.  Therefore, this patch reinstates access control to deny access to all files other than under DocumentRoot, icons, and manual, until additional directory/locations are explicitly allowed by the admin.
8a6bbdf oops... add missing <br />s
54c5449 update transformation
7ba42fa document new Action modifier
75c61fe Introduce the "virtual" modifier to the Action directive, which allows the use of handlers for virtual locations.
9908ebc Update transformation.
0992876 Update Japanese translation.
e05621b Update Japanese translation.
a3f5689 Update Japanese translation.
fbb2808 Update Japanese translation.
4929657 Update Japanese translation.
886f62c Update transformation.
e7d768d Update Japanese translation.
3494cac The name of HOOK_ORDER is changed to APR_HOOK_ORDER.
ec9c2de Answer Jeff and Andres concerns regarding ssl-std.conf.in
9dd5075 Typo. PR#21539
ac9d0b2 update transformation
a27a8c5 be consistent in case
168c2b5 let mod_speling use the current AcceptPathInfo setting. Default is: reject
e1a25fc sync
ad2c145 minor style changes
80744ce Update for PR16938 task.
592b519 Added more content.
f1c6f4d   Note a list discussion topic I brought up, both items received some   positive feedback so far.
b03404a Update comment after removal of tmp_headers in r1.132.
8c86fe9 Minor cleanups:
8859ca6 Minor cleanup:
30333b8 Use three-argument form of AC_DEFINE everywhere; remove acconfig.h and the warning message from autoconf 2.5x.
32bc139 Pick up getpid() prototype.
7456462 Try to be clearer in describing the connection between AddType and AddEncoding for defining the meaning of compressed file extensions.
8a3ac96 add typemap and update transformation
7b258a1 Updated to reference the "Relevant Standards" document.
d3796cf Initial add of the "Relevant Standards" page.
3fdc853 Sync with IANA registry and W3C recommended types, the latter being necessary because the W3C committees are too lame to finish their own type registrations.  Nevertheless, they are already in use.
0e75f71 remove bogus content type overrides from the default config
d0eb16b do not put active IfModule directives around config lines that are commented out -- that is just a waste of processing.
dc7892e httpd.spec should be removed by make extraclean
89b50b4 Forward port patch for CAN-2003-0192 from 2.0.
c612299 Forward port patch for CAN-2003-0253 from 2.0.
320d035 Forward port security patch for CAN-2003-0254 from 2.0.
a4e093b Sync CHANGES entry for VU#379828 with 2.0
d220ef3 Added application/ogg for .ogg files (see http://www.rfc-editor.org/rfc/rfc3534.txt).
0cab3cd Update the header token parsing code to allow LWS between the token word and the ':' seperator.  [PR 16520] [submitted: Kris Verbeeck <kris.verbeeck@advalvas.be> and             Nicel KM <mnicel@yahoo.com>] [Reviewed: <coad@measurement-factory.com> and            Paul J. Reder]
411e8a5 Remove "Reverse Proxy" example to avoid open proxies
492413b move the entry for a fix just merged into 2.0.48-dev
15382e9 move the entry for a fix just merged into 2.0.48-dev
d40f5f4 remove proxy sample config
a9c6fc1 update transformation
4e6857c add basic xsl for French transformation
56b680d simplify type-map config
140f805 catch out of memory condition (ID 29 of reasoning report)
e3a2542 grammar fixes
3003e4d limitinternalrecursion goes 2.0.47
b62b1d5 it's in the next release
20bc67e mod_ext_filter: Add the ability to filter request bodies.
82b3f8b Note backport.
b66315b Note backport.
e35e9fe restore old zebra behaviour
51c56ba Merge the LaTeX todo list into the main docs STATUS file.
edc4a6f update transformation of recent changes
721648f5 forgot to save that change ;-)
8d42d11 Oops. This feature seems to be rarely used. Fix SSIStartTag-description.
106dd10 Just some small gramatical improvements.
dbdd2df Fix NULL-pointer issue in ab when parsing an incomplete or non-HTTP response.
caee125 Add FreeBSD directory layout
57efed6 update german translation to english revision 1.71
eb7e973 ScriptInterpreterSource Registry also uses the ExecCGI subkey
d92b169 ScriptInterpreterSource has been on my mind for a long time but forgotten until Jushua's changes. It's done now.
e934c0f explain ScriptInterpreterSource a little bit more
665225b The decision on the FAQ is basically made: we'll slowly build a new one for 2.0.
0df54ef Correct the code in ap_check_cache_feshness to check max_age, smax_age, and expires correctly. Submitted by:   Thomas Castelle  <tcastelle@generali.fr> Reviewed and altered by: Paul J. Reder
4f41700 A few small formatting changes to help the LaTeX transforms.
217da4d LaTeX:
639047d +1 against Wiki's and the FAQ.
a6ea6ff update translation to english revision 1.31
f46db1c markup improvement
9f0f96e Ben's streamy PROPFIND patch has been backported.
745afde Added a warning to the AcceptMutex directive documentation indicating that the pthread option can result in a non-responsive server on systems that can't reclaim a locked mutex from the segfaulted child holding it. [Paul J. Reder]
5dadb2b   Absorb our ssl library-foo from the mod_ssl build changes to automatically   generate an SSL/https: enabled ab binary.
94d918f   Narrow the scope of several OPENSSL-specific setup and teardown calls   to only OpenSSL based builds.
ace2765 mod_cgid: Restart the cgid daemon if it crashes.
bdf058f update to reflect a merged fix
cb820d4 Eliminate creation of a temporary table in ap_get_mime_headers_core() Submitted by:	Joe Schaefer <joe+gmane@sunstarsys.com> Reviewed by:	Brian Pane
4bf5f43 Removed superfluous whitespace.
14a01a8 Removed superfluous whitespace.
cbf5d48 Minor changes, plus whitespace removal.
ad1de41 update transformation
5206015 - mention that DocumentRoot is interpreted relativ to ServerRoot if it is   not absolute - remove description of absolute pathes (beginning with a slash) because   this is valid only for some OS
6a371fa mod_cgid: Eliminate a double-close of a socket.  This resolves various operational problems in a threaded MPM, since on the second attempt to close the socket, the same descriptor was often already in use by another thread for another purpose.
d7f6101 LaTeX:
38ea0e8 DocumentRoot always used to be interpreted relative to ServerRoot. Make it server_root_relative like in Apache-1.3
2324dc4 Use portable macro instead of the (no longer working) Apache-1.3 code
a4da940 Needed on EBCDIC systems
c67ee9d add more info to a log message so we know which "read failed" scenario occurred
9301426 Have mod_dav deal with errors that happen during a streamy provider response.
9b429aa Fix a crasher introduced on June 3.
b0770e3 Fix some really nasty markup in mod_ssl (well, just a work-around really; the <pre> needs to be removed).
f044bb2 LaTeX:
14e9e18 distclean/extraclean tweak: blow away docs/conf/ssl-std.conf
1e06820   Reaction to Jeff Trawick's observations that we are double-initializing   dynalinked OpenSSL Engines and Configs.  Move the library teardown code   so that it is torn down in the proper order, corresponding to when the   library itself was initialized.  And leave a little reminder that some   memory diagnostics would be good if OpenSSL is built for malloc debugging.
e8292fc Following the previous commit, adjust the actual parameters of ap_strcmp_match() and ap_strcasecmp_match() to use 'expected' rather than 'exp' to avoid shadowing the global exp() function.
72c0032 Use 'expected' rather than 'exp', as the latter shadows the exp() function in the math.h header. Some compilers don't like that.
bde49b0 LaTeX:
9a5e1f3 Update transformations.
b7136b6 Update Japanese translation.
e46c3e8 Update transformations.
d67095f Fix typo.
582cad7 Remove redundant paragraph.  There's an almost identical paragraph just below the example.
f033607 Clarified comment on arg constraints for ap_get_brigade() Submitted by:	Joe Schaefer <joe+gmane@sunstarsys.com> Reviewed by:	Brian Pane
c1787db - Add some <columspec> table-size hints
a305a84 LaTeX:
fc90aa5 add more ignorance
fb620f1 ignore *.tex and *.aux files
5107cf3 LaTeX:
9f4b802 Update the LaTeX TODO.
b1421c3 LaTeX:
68c6581   OPENSSL_load_builtin_modules -appears- to have been introduced in beta-1,   but boy is this a hassle to determine without gstein's viewcvs ;-)
d33f0ca core_output_filter: don't split the brigade after a FLUSH bucket if it's the last bucket.  This prevents creating unneccessary empty brigades which may not be destroyed until the end of a keepalive connection.
4ab56d5 Latex: Improve the table generation code a little and make another try at getting the # to work in urls.
8798b88 Transform <columnspec><column width=".2">... hints to help latex size tables properly.  Also change the html tranforms to ignore this and add the elements to the dtd.
d57e69a A bunch of little latex-related updates:
9fd4bed adjust config to work with typemaps.
8d00650 `build typemaps`
5e77cc9 add typemap generator
8f0cd04 Unix: Handle permissions settings for flock-based mutexes in unixd_set_global|proc_mutex_perms().  Allow the functions to be called for any type of mutex.
d7d7c6a mod_rewrite: Perform child initialization on the rewrite log lock. This fixes a log corruption issue when flock-based serialization is used (e.g., FreeBSD).
0709f61 ltconfig gets copied to build/ with old libtool, so tell cvs to ignore it
099e61e Don't respect the Server header field as set by modules and CGIs. As with 1.3, for proxy requests any such field is from the origin server; otherwise it will have our server info as controlled by the ServerTokens directive.
9d82b52 fix oops in prior commit; we don't copy libtool.m4, so no need to remove it
1240d3e steal some code from APR intended to allow you to properly switch between libtool 1.3 and 1.4+...  newer libtool doesn't have ltconfig, so having a stray ltconfig around will confuse some of our config logic
b9a9649 Fix some broken log messages in WinNT MPM.
d9c9d17 A couple notes on what is left, along with some hints for people who are good with xsl but not latex.
3eef740 A little bit of progress:
321387b A first attempt at xslt to create a latex file from our xml docs. Lots of things remain to be done here; see TODO for some ideas.
cd49025 validation issues
3724b12 ignore some generated files and directories
f3d0156 add support for localized docs download packages. (currently en only)
62b95b4 add Ben's streamy PROPFIND change
97a278f mod_dav improvement: make dav_method_propfind stream its response, rather than cache every <response> object and send the whole 207 at once.
bea84dd drop more unused image files
4b27583 this image is not referenced anywhere -> drop it.
05be96b Simplify the per-thread pool handling in the NetWare MPM
277c27d use german stylesheet
9abecdf Win32: Whack the fully qualified names that appear in the log when loglevel debug is being used.
737150c Be more consistant in how we label security issues Promote the issues that have been allocated a full CVE name (to replace CAN) PR: Obtained from: Submitted by: Reviewed by:
c79db6f Apply missing security fix CHANGELOG entries to head PR: Obtained from: Submitted by: Reviewed by:
c9067dc Update transformations.
830fb9e Update Japanese translations.
fa42ffb don't wrap in legend tables (looks ugly)
242ebeb Allow for an unclean shutdown of SSL ports to avoid timeout conditions between the client and the server.
10d2882   The right patch (thanks to Eric for identifying the wrong patch) to move   SSL_library_init() into the register hooks phase.  OpenSSL_add_ssl_algorithms   devolves to SSL_library_init, which is the same for most toolkits (and would   be accomodated in ssl_toolkit_config.h if not.)
ca90e5c preserve const-ness while searching for a char in a string
5bd9f78 "Comment out .gz etc. AddEncoding lines in our default configuration.
3d8f653 Added a note, a vote and a section about some necessary doco improvements.
4e34c6f new german translation
e087cbd markup imrovement
fd5b05d 	Allow ExpiresByType to accept and understand minor-type wildcards 	(e.g., text/*).  They'll be used if an exact type match isn't 	found; if there's no wildcard match, the expiry falls back to any 	ExpiresDefault setting as usual.
c0c9a37 As per repeated discussion on this point, I don't think that anybody wants to do the maintenance work necessary to keep the FAQ correct if a million monkeys are submitting content. So, to keep it from coming up Yet Again, removing the remark.
fd6166d More mod_expires tuning. Replace the fixup hook with an insert filter hook.
0c3703c Revert revision 1.81 which called non-existent SSL_load_library.
1bf748c some markup improvement
ce67a0c Fixing up the NetWare headers to be compatible with the GNU compiler
29b46b7 Add mod_charset_lite to the NetWare build.
0968895   OpenSSL_add_all_algorithms is simply an alias for SSL_load_library.
f74d7f0   Provide a far more useful explanation when SSLCryptoDevice fails to   find a device.  Still would be nice to implement dynamic:{options}   but this gets us to display the usual, builtin devices.
282d19b   Solve a pretty horrific bug in SSLCryptoDevice and other places where   the config cmd processors should be examining the SSL context.  We must   initialize the SSL library before we can actually obtain any useful   information from the SSL library.
fb9c4b1   Based on list discussion between myself and Geoff, it seems prudent   to check for both the existence of the openssl/engine.h header file   and some 'expected function' such as ENGINE_init() (better suggestions   are welcome.)  Also clear up some confusion; so long as we have   ENGINE_load_builtin_engines() we should attempt to preload those.
36d94fc Use apr_table_overlap. Add note about additional brokeness of fast-redirect fooness
676c029 sync
8dd8543 Rework of the recursion stopper - collapse recursion counters into one function
0c18fb4 done.
abf251c update transformation
6528683 - add rel="alternate" attribute - use rel and hreflang attribute only if the link points to another language - add newlines for better diffs (the next will be a huge one ...)
b2b0352 - revert my patch (r1.155) since it produces regressions. - add a note to STATUS that we don't forget the thing.
39217e3 Add a vote
a8d0358 change aversion number
bb361f9 - add simplified chinese welcome page - add .zh-cn extension for zh-CN language code to default config.
3858ce6 [Porting] Include <sys/mutex.h> if available, to get lock_t typedef for using  <sys/shm.h>
032b7cb thought I changed that damn module name ...
f7924d5 use german stylesheet
4115289 sync
a57e996 remove comment delimiters
da4aa11   Silly cut'n'paste error
b36a32b   These tests now exist in acinclude.m4
c7780d9   Clean up the OpenSSL/SSL-C tests...
bf7a229   Any library could benefit from SSL_set_cert_store(), if the library   sources have been patched.
64bce97   As Geoff Thorpe <geoff@geoffthorpe.net> points out, we must perform our   compilation tests for the SSL_has_foo functions while we have completely   populated the config with 'standard' libraries from our apr configuration.
d0cfbcb Sync Japanese translation.
534872f Typo
16dcbde update transformation
96e9c09 translate new directive LimitInternalRecursion and update the rest
0ee771f correct a module reference, thx nd
61f81d3 update transformation
cfdc741 typo
67b2b2d Opps. Copy/Paste problem
4d8d0c1 Copy the .XDC data file during the installdev make process.  This allows other modules to link same .XDC data file used by the httpd and APR builds.
c7f4c07 remove comma
26f1ba8   The patch below reverts the prior commit to eliminate SSL_set_state().   Some additional work or research is required in order to pass the   perl-framework regressions, but I don't have the cycles and don't   care to leave the broken code in cvs HEAD.
00ccede Add the copyright notice in the NetWare make files
2face88 German translation improvements
de184c4 update transformation
314ef05 add missing chars ...
a25a585 ad-hoc translation of AllowEncodedSlashes to German to get something into the release. (no reference in the german docs otherwise) Further review is desired!
a615264 note an issue that needs an ongoing fix
d225783 Updates with backported changes.
5cbcc8c Perform run-time query in apxs for apr and apr-util's includes.
a1891a0 Move backported patches to 2.0.46 list.
7dddc5a sync, sync (forgot one recently ...)
a9008cf mod_dav providers define a 'can_be_activity' callback.  Unfortunately, mod_dav isn't calling it before creating an activity.  This is a required precondition (along with the resource not existing), as defined in the deltaV RFC (3253), section 13.5.
cad8ebb update transformation
17b8510 no objections so far. add initial documentation of AllowEncodedSlashes, so that it will hopefully go into the next release.
1ff48c2 list all available error languages
debb162 add Czech customized error messages
22a9e9d update transformation - en
aafb222 update transformation - ja
39be318 update transformation - ko, ru
c947644 Make sure that bucket allocator for each worker thread is created from a thread specific pool.  This prevents multiple threads from trying to clean up the same pool at the same time.
a641d4d update transformation - de
a293ffa add title and hreflang attributes to the cross-language links.
d2fac03 -sitemap.xml.ja should use allmodule.xml.ja - fix download link in install.xml.ja
48e450c Update transformations.
9db2036 Update Japanese translations (only English revision comment is changed).
b1b9c8b Update Japanese translations.
aaf037b Update meta file.
8a0d13b New XML.
f8e23ba Update Japanese translations.
a3ffe11 Play nice with libtool 1.5.
8aaf407 just a typo (but automatically spread over the docs :-)
1a6f1ae   Drop SSL_set_state() in favor of a proper SSL_renegotiate() to begin   rehandshaking the SSL connection, vis-a-vis ApacheSSL.
e7da7b5   Drop archiac notes - no special steps required once we test for ENGINE_init()
a5708f1   Roll away the SSL_EXPERIMENTAL_ENGINE test in favor of testing for the   ENGINE_init() function in config.m4, and rely on HAVE_ENGINE_INIT instead.
aab0434   First point out that we lost HAVE_SSL_SET_STATE and HAVE_SSL_SET_CERT_STORE   autoconf discovery.
73428e7 update transformation
7b2bdb3 Document the LimitInternalRecursion directive.
1af0238 Prevent the server from crashing when entering infinite loops. The new LimitInternalRecursion directive configures limits of subsequent internal redirects and nested subrequests, after which the request will be aborted. [William Rowe, Jeff Trawick, Andr� Malo]
506c90c Namespace protect the mod_expires filter
8aa5eeb mod_expires filter patch has been ported
87bb42c fix LA-U lookaheads in directory context.
2daad4d Try a better explanation of core dump issues on Linux
e17a14d sync
5242f9d   Stay in sync
61d82ff update transformation
ec64dcc translate "available languages" to german.
692370b update transformation
6ccc735 update metafiles
52cbfed new Korean Translations
8c039aa Check also for r->content_encoding (now we should have them all...) for already compressed content in mod_deflate.
9ba6675 Get the AP_ and APR_ prefixes right.
1be1634   Fix my build breakage of TRU64 (hopefully, based on Jeff's feedback.)
8f2145c   Why wouldn't this be a mod_ssl header?
96e793c   Offer mod_bucketeer and mod_echo in the top-level project.  But do NOT   build them by default.
3f9f757   A few odd .dsp's to help testers and developers along (really irrelevant   for binary or default builds.)
00036ed   One item off of the plate - on to further patches.
1cce778   resync to 2.0.46 - varying whitespace is extremely irritiating when   the "Changes to 2.0.{current}" sections aught to be identical.
7da79bc   Not sure about the forest v.s. the trees - if anyone wanted to call   out the real tall trees that would be good.
f066f6c   Assure that we block on the read BIO when we invoke the read BIO for both   first-use cases (via ssl_io_input_add_filter) and when we are writing and   need response from the client (via ssl_io_filter_output).  Both of these   cases are always blocking.  [
223cc02   Fix a VPATH build install bug - the special.mk file was never installed   (because we didn't rewrite it to the VPATH from the sourcepath), so copy   any sourcepath\build\*.mk files along with the vpath\build\*.mk files.
6efb804   Fix a VPATH build issue - our command lines can sometimes hit the wall   against the shell's max command line length.  We had a number of needless   paths included in VPATH builds; this change will spare us from -I'ncluding   the module paths with no .h files.
c3b820a Hop hop i am a yop. all i like to do is hop from finger top to finger top. i hop from left to right and then, hop hop I hop right back again.
0fc9731 Remove a useless and annoying debug message
95e6e2b make ExpiresByType work on dynamic documents
6d7c4be Adding my vote for mod_cache
5548c16 mod_so can only be built statically. If the user wants modules to be built as DSOs by default (eg. ./configure --enable-mods-shared=most) then we must override the default, otherwise none of the modules will end up being installed (even though they'll get built).
751a298 My thoughts on mod_cache being non-experimental.
1ea60a8 Note votes on moving mod_cache on up
417154c This patch is now in 2.0.46
dbe5fe8 Hrm. Update the xml and generate the man page correctly. Thanks to Joshua for catching this.
28fa358 Add a delete flag to htpasswd.
c95d308 	if there are any ExpiresByType directives for the current 	scope, defer the setting of the expiration header fields 	to an output filter, which can then apply any ExpiresByType 	or ExpiresDefault settings -- including to dynamic documents.
0cca95e reflect a merge
4144e68 fix a comment to explain how to log the thread id
1139775 sync
70c6b99 update transformation
2e4e4a2 update metafiles
23a2d56 new Korean translations
ef0ab06 Backport a fix to 2.0
713b4db merge back a fix
e8a07b1 reflect another fix merged to 2.0.46-dev
0b0975c account for a couple of fixes moved back to 2.0.46-dev
a12285a This patch as been merged into 2.0.46
e686a69 fix a bogus check for IPv6 support that led to an unnecessary string search on builds of Apache without IPv6 support
7c06503 document the new exit code.
abe2879 (grabbed from archive) Check the processed file on validity. If a line is not empty and not a comment, it must contain at least one colon. Otherwise exit with error code 7.
3600e27 although the xml spec allows them, IE claims about colons in IDs. replace them with periods.
13d9fb6 language code for Czech is 'cs', not 'cz'.
3766508 typo
46bd681 update transformation
532ea84 update metafiles.
3607d83 Incorporate new Korean translations
e3137b9 I'm dumb. Revert that change, that applied only to 2.0.
a4d6ef5 Fix broken links
34ec35a remove references to BS2000Account. update transformation.
0a10e92 I stumbled over a 2002 (it's not the only one)
36455c3 Porting EBCDIC: headers wer incorrectly (i.e., not) converted
ca4f07b Porting to BS2000: the antique interface (BS2000Account) no longer exists
79036ec Updated the NetWare platform documentation to reflect changes to the NetWare OS environment and build process.
9587c5c Add a bunch of links to the Options docs and make a couple small textual adjustments.
0b5947e Allow blind accept when converting the proxy client socket to SSL if no client certificates have been provided.
48fb534 be more specific when expressing style whishes :)
2d5f88c Use generic whitespace character class when parsing "require" directives, instead of literal spaces only.
dc1817c general mod_proxy docs cleanup: - add documentation for ProxyIOBufferSize (review desired) - fix context lists of ProxyPass and ProxyPassReverse - add more notes about the accompanying modules (_http, _ftp, _connect) - markup & reformatting (sorry for the big diff) -> update transformation
04f3f77 Add in some SeeAlso's to the mod_mime filter directives to help navigate through the tangled web of directives.
3808e95 add stylesheets for Korean documents.
ea3984f Post change tidy up; wrap CHANGES properly and add ssl-std.conf to .cvsignore
b7936f0 Ensure that ssl-std.conf is generated at configure time, and switch to using the expanded config variables to work the same as httpd-std.conf
e1e0b33 refer to the correct error document.
70e64ac markup & reformatting. remove the unrelated seealso references to proxypass. update transformation
72016f8 make sure, the preferred language gets its chance, even when it's not listed in browser's accept-language list.
5c7b03d Make sure that mod_rewrite's type checker is evaluated before mod_mime.
1f04941 fix namespace problem and update a transformation that seems to be forgotten yesterday ...
a26af67 That was the LAST XML file. Additional cleanup: Get a rid of all the footer/header files
08146d0 Throw a warning if AllowOverride is used inside of <Location> or <Files>. Unfortunately there's no clean way to detect <DirectoryMatch>. It would not be sufficient, because <Directory ~> should be checked then, too. Hmm.
0fb938d omit the cross-language links in CHM files.
a621ff2 new XML
69ef285 Fix a problem with namespace mappings being dropped in mod_dav_fs; if any property values were set which defined namespaces these came out mangled in the PROPFIND response.
bee1a3e new XML
34a8037 update transformation
d9cabd1 introduce cross-language links. The links to all available languages of a document will show up on the top and the bottom of a page. Additionally, change the default config to deliver the desired results.
6a917af Forward port a fix for a pair of potential buffer overflows in htdigest from 1.3
85d6c41 tweak the const-ness of MODSSL_INFO_CB_ARG_TYPE based on the OpenSSL version
01aa3b4 new XML
7c38647 fresh manpage for dbmmanage. Some grammatical review desired ... :)
bc1a0d6 new XML
44c53b5 keep the not-yet-converted list in sync
c20f606 update transformation
e37adec bring the ab manpage up to date.
c265181 fix a space problem
1ede60f for some reason, the NAME section got lost.
d3b2c74 add fresh suexec manpage
f8589c2 update transformation
698c536 refer to the correct metafile
40c876d new xalan puts a little different encoding. update for better diffs. No content change. Sorry folks.
2cbdaed VirtualHost is a section
491b134 back out a recent change which causes the server to segfault or otherwise fail, until such time that it can be fixed properly
56cd892 update transformation
428336c german translation, copied from the 2.0 branch
3a2a332 add a <code> ...</code>
b32d584 translate most occurrences of 'Virtual Host'
5e59f9f keep in sync with page titles
9fea93a German translation
cf120bd Add a question to the FAQ.  (The first 2.0 FAQ!)
8eab74c `build man-en`
13a504a add stylesheets for conversion to nroff
94cd6fb these images are not referenced anywhere, so get a rid of them.
cf13be5 keep changes in sync.
a002fa2 prefork MPM: Use the right permissions for the directory created for gprof support.
d1d7239 the error code is in the apr_status_t, not errno
f5641cc By default, use the same CC and CPP with which APR was built. The user can override with CC and CPP environment variables.
f624621a typo
6700cdd copy worker.xml.de from 2.0
dd6f422 copy prefork.xml.de from 2.0
b67b370 add mpm_winnt.xml.de. This is actually just a copy from 2.0.
b0ff4ee markup, expression.
5764340 keep German reference rev.# in sync
c2ab03f keep in sync
e8df8b3 typos
626cbdf add another WS
ac5865d keep consistent with 2.0
c2d8de3 keep it consistent with 2.0
ecd1143 add missing space
73e58d9 move the warning on top and keep the document consistent with the 2.0 version.
c3b3360 mod_authz_file doesn't exist
fb0baa4 whitespace cosmetics
13d3dcd place a vote etc.
51f966f Yes, it's a trivial change.  But I guess we should be consistent and vote on all non-comment changes to the conf files.
b809599 The docs no longer need includes.
9057c74 Expand out all the SSI for the last time.  This will allow us to turn off SSI on httpd.apache.org, except for the /docs/ directory.
18af8a4 improve -DONE_PROCESS handling with prefork MPM so that it returns from ap_mpm_run() and allows core Apache code to run any required cleanups
789fab4 Fix a typo in the weak entity check.  The prefix is W/" not "W/.
1fc73b4 move 'em down.
39402b2 Fix ap_construct_url() so that it surrounds IPv6 literal address strings with [].  This fixes certain types of redirection.
84d49de update transformation.
11a744d first run of `build modulelists` (automatically called from `build metafiles`)
ee4979a seems to be forgotten.
6fff09f - break down the beast into smaller pieces and (try to) make it better readable. - add license - fix a small bug, where document sections were not indexed, when a   translated document was in html format only (affected Japanese only)
5c608a1 Remove the nroff man page.
383b72f Convert rotatelogs docs to xml.
d504c70 Remove the outdated nroff manpage.
efdbbbd Convert the logresolve docs to xml.
97d88cb Be a little more consistent with the pathnames, and move some DavLockDB details to its directive docs.
de7b609 I've read somewhere, that open source is required to be not obfuscated :) So did some research to puzzle out the magic values for the window definition. These are now computed at transformation time and can be easily changed within the template. Further changes: - add license - cleanup - CHM layout:   * add "toc sync" button   * use buttons with text. This widens the button bar, but looks much better, imho   * add menu to the chm window.
8cdf4fe Update transforms now that xslt is working again.
ce1a09a this patch seems to solve the xmlns="" problem. Thanks to kess for remote debugging.
93aafc3 Some serious updates to the top section of the mod_dav docs.  Many of the ideas are stolen from Greg's mod_dav site.  Some specifics:
936873c Add note about when to use <location>.  This dupes what is already discussed in sections.html, but it is important enough to repeat.
4ba5fb2 use the same charset as in the toc. (W1252 is luckily a real superset of iso-8859-1, so no problems are expected)
2321075 general cleanup. - add more comments - add the license - make the code better readable
a375ad8 add a hyphen
ab74e34 as Andre' pointed out, we don't need %{pid/tid}P since the user can do %P/%{tid}P or %{pid}P/%{tid}P
6cc5482 remove some done things, yeah!
f96aba9 change the way that thread id is specified in the log format since the previous implementation used a format string already taken by mod_logio
5d79cd7 mod_log_config: Add the ability to log the id of the thread processing the request (%I).
1b4c13f the @ was wrong.
895db06 link html formatted license (de + ja) and faq/all_in_one.html (de only)
7426c43 add missing ids.
1707159 respect the replace-space-with attribute in the toc
25129ff reflect the fact that Windows disable nagle has been backported to 2.0.46-dev
33ddbd8 update another transformation.
a970363 the style/chm directory contains styles used only for building chm files. the foo.$lang.xsl stylesheets are the entry styles for ant.
7be02f5 this css file contains definitions only for the chm html files (only required to run in IE). for now I've lowered the font-size a bit, since the chm frame steals a lot of space on the screen.
c78ba64 the html files used for chm compiling differ in detail from our normal manual pages. The target format is reflected by the $is-chm variable which is used to <if> in and out the interesting parts.
1196c77 well, start with chm-support. (more commits to come) Further development should take place in CVS.
8d53882 this document doesn't exist any longer.
bd123c9 reflect a change merged into 2.0.46-dev
8c145e5 Fix a problem that caused httpd to linked with incorrect flags on some platforms when mod_so was enabled by default, breaking DSOs on AIX.
e8851790 make this document valid
573fc66 the faq html/ssi format bites me all the time. Add initial xml/xsl version of the faq data.
72b6ff1 Silence a compiler warning.
9e522ff If we're going to generate httpd.spec, we ought to cvsignore it.
a664e8e propagate the html-formatted license and the all-on-one-page faq.
644f349 deprecate the ?ONEPAGE parameter. Use an explicit URL (all_in_one.html) instead. It's still usable (stable URI, at least for 2.0) anyway.
aed16e9 obtained from 2.0 branch (do not differ)
013339e fix some discrepancies between format strings and arguments, resolving some warnings on 64-bit systems
a070f73 Enable ap_sock_disable_nagle for Windows. This along with the addition of APR_TCP_NODELAY_INHERITED to apr.hw will cause Nagle to be disabled for Windows.
e3befc6 If a Date response header was already set in the headers array, this value was ignored in favour of the current time. This meant that Date headers on proxied requests where rewritten when they should not have been. PR:		14376 Obtained from: Submitted by: Reviewed by:
35d0dc3 Clarify an error message PR: Obtained from: Submitted by: Reviewed by:
3685b4d Correct some indenting PR: Obtained from: Submitted by: Reviewed by:
d13d7a7 Backport to v2.0 PR: Obtained from: Submitted by: Reviewed by:
c3123a7 Fixed a segfault when multiple ProxyBlock directives were used. PR:		19023 Obtained from: Submitted by:	Sami Tikka <sami.tikka@f-secure.com> Reviewed by:
cb856ed update japanese transformation.
5cd1fed update en and de transformation
06d1cf9 filter no-break-spaces in text output. In some environments (e.g. mine) they are not transformed correctly. This change defines the output to be exactly "&nbsp;" (without quotes)
f54208a Add code to buildconf that produces an httpd.spec file from httpd.spec.in, using build/get-version.sh from APR. PR: Obtained from: Submitted by: Reviewed by:
a9cddb7 remove the relativepath element from the documents.
337bd84 get a rid of <relativepath>
188c295 use the metafile to determine the relative path to manual-root. the relativepath element becomes obsolete.
cb59688 Synchronize German Translations.
486c861 add reference revision numbers.
495c5a7 re-introduce mod/allmodules.xml* The change is mainly intended to save some memory during the build process. Additionally we may get a bit more clearness in our document structure ...
1f6e8ed   Time for disclosure details
ea559a3 add metafiles. These files contain information that is relevant for one document but all variants of it (i.e. one basename), such as avail. languages, formats etc.
94fc883 add the metafile attribute to all xml files.
6dea999 add support for metafile attribute. (not backported yet; but later)
771b95f add license in xml/html format. I'll keep the text version for now, at least for url stability reasons.
a5894ba ack. unconditional content-encoding has some nasty implications.
2666bad Ya think if I hang around long enough, people will know how to spell my last name.  (Heck, I'm lucky if I get people to call me by my first name.)
64eec9e Update transformations.
7b81cca Update Japanese translations.
5748987 ptoy :)
2606dca Seems like this is decided.  It can always be revisited in the future if we sind up with lots of versions.
10c70ea Note that changes in the default httpd.conf do not violate our backward-compatibility policy.  We assume that people preserve their own config files, rather than going back to the default each time.
967f7bb   Please consider and vote - see what this choice has done to us   r.e. .tar.gz.md5 files and so forth.
4575706 consolidate code related to sig_coredump
ada7cc5 update transformation
6b92968 if there's no sidebar, there's no need to squeeze the content.
1586ffc update transformation
f9b67df use Google Search.
849ccfa 	Clarify some wording.
25189e6 done.
96801c2 Update transformations.
4a9c532 Update Japanese translations.
19587a7 Update transformations.
41850e6 Update Japanese translations.
09c1600 new XML for howto/auth I changed the references to the auth modules, so that they're matching the new model, but it probably needs a rewrite anyway.
e512395 document log escaping
fdfc435 libexex -> libexec
2d2abfe Add .NOTPARALLEL target for exports.c.  This allows a parallel make build to complete successfully.
ec469e2 Further breakage from r.1.131: MODSSL_INFO_CB_ARG_TYPE also includes the *.
483bdf7 Fix compile breakage introduced in r1.131.
ee807cd new german XML for the index page additionally add reference revision number to de.xml
f05a6c1 The content-negotiation docs are a little misleading about what the RFC says.
ac7a154 - new XML and XSLT for our start page - required some changes in DTD, CSS and style/lang/* files
474812c   Solve SSL-C breakage introduced in mod_ssl.h rev 1.129 and   ssl_engine_kernel.c rev 1.88.  SSL* is not const under SSL-C.
26b6442   Noop MS DevStudio IDE change to include ssl_toolkit_compat.h   in the list of project headers.
1a795aa   Note the recent SSL-C fixes.
54d92fe Move the dropped '--enable-layout' subdir logic into APR_SUBDIR_CONFIG macro as a third parameter rather than manually computing it ourselves.
d802d01 Update the RPM spec file (in line with changes to v2.0): - Moved mime.types back to the default location. - Added mod_ldap and friends, mod_cache and friends. - Added openldap dependancy.
cd6f871   Have some consistency!  Fixes logic I introduced in 1.37.
067c217   Reapply the fix *intended* by rev 1.79 in a safer manner.  Prior to   all assignments and the final SSL_free(), free ssl_conn->client_cert   to avoid leaks of this refcounted X509*.  Prereleasing refcounted   objects is unsafe programming; fix applied to both branches.
f2b610b   EVP_PKEY_free() is refcounted on OpenSSL, but NOT under RSA SSL-C.   Eliminate a number of test failures by conditionally reverting rev 1.79   pubkey handling in ssl_engine_kernel.c, except under OpenSSL.
f1c8675 some files are done.
0bf3cca   A cosmetic change to 1.79 - a real X509 *cert is in play, don't use   that same variable to retrieve/release the quick lookup and discard   of the peercert.
c5daf7a - new developer/index.xml - add references from the subdocuments to the index file (<parentdocument>) - fix German sitemap reference revision # to be up-to-date
68a2004 the layeredio concept was never really applied. So drop this outdated document. It may be confusing for people new to apache development.
00b18f6 new XML
9a65127 new XML
69991da new XML
24cd14f new XML
b3637f6 new XML
66ebad0 new XML
5419241 new XML
58947bc If an errordocument-cgi responds a location header it should really add a status header.
9f313d5 Document the ProxyBadHeader directive. (and update transformation)
a0fdb69 run libtool from the apr install directory (in case that is different from the apache install directory)
04e2df2 clean up a change log entry
25be2b6 Fix the inability to log errors like exec failure in mod_ext_filter/mod_cgi script children (e.g., exec failure).  This was broken after such children stopped inheriting the error log handle.
613ac62 fix a bungled comment style conversion
8a39158 get prototypes for str[n]casecmp
1aed85c I don't think we're ready for C++/c89 slash-slash comments
d8c2a7a Update transformations.
4a690b5 Update Japanese translations. Submitted by:	Hiroaki KAWAI <hawk@bcl.t.u-tokyo.ac.jp> Reviewed by: 	Yoshiki Hayashi
0797ec3 Typo fix. Submitted by:	Nobuyuki Morita <marika@plum.freemail.ne.jp>
805422e get function prototypes for strcasecmp() and strncasecmp()
4901acb Fix a compile failure with recent OpenSSL and picky compilers (e.g., OpenSSL 0.9.7a and xlc_r on AIX).
a9a0a20 keep changes and mmns in sync.
de79301 Fix a build problem with passing unsupported --enable-layout args to apr and apr-util.  This broke binbuild.sh as well as user-specified layout parameters.
7ab84c8 Update transformations.
466aca5 Oops.  Forgot to validate before committing.
d262380 Update Japanese translations.
e25454c   Introduce a number of SSLC hints to mod_ssl, including the following   type overrides;
67e8f65   We presume to HAVE_OPENSSL - we were falling into the SSLC path :-(   Win32 is non-autoconf
2fe1547   HAVE_SSL_SET_STATE=1 is a product of autoconf for OpenSSL, which we   are missing on Win32.
6b5dbf8   Resync with 2_0_BRANCH
a440364 Removed two already busted files from the 'to-cleanup'-list.
b0168c4 Fixed an unescaped '%' in rotatelogs.8 and updated the HTML page.
7960eb1 Added thread-safety info for ImageMagick and PDFlib.
5382f45 Fix tpyo in APACHE_CHECK_SSL_TOOLKIT for ap_platform_runtime_link_flag case.
bc968af Match what we do with the ssl_scache_dbm chown junk, which we know is safe and works, and more directly handles the issue with chown (agreed that a macro is needed eventually)
46578da     Must fix - Win32 can't deal with this code, and we can no longer fix     sysv mutexes with an APR_USE_ test... we have to look at the choice!
6c2b1c7   Fix a misterminated comment... noted by bpane
4da6182 Don't run regex cleanups before exec Submitted by:	Jeff Trawick Reviewed by:	Brian Pane
686f8cf   Solve segfaults from unusual error exceptions in cgid.  The daemon   has no 'real' request_rec, so we can't use ap_log_rerror() anywhere   within the cgid_server() code.
c6ed400   Quit registering *two* cleanups listening sockets prior to exec.   We open them once, register a cleanup only once.
fa53f59 Removing rpm stuff from buildconf until it becomes portable PR: Obtained from: Submitted by: Reviewed by:
3976199 - Oops - the vendor is the ASF
d197788 Added an RPM build script PR: Obtained from: Joe Orton <jorton@redhat.com> Submitted by: Reviewed by:
68bf0be Simplify and shorten the code path for scanning request headers Reviewed by:	Greg Ames, Bill Rowe
3dc90e4 Fix mod_ssl.dsp and abs.dsp to use also the openssl-0.9.7-defines for NO_MD5, NO_IDEA and NO_MDC2 (won't compile otherwise with 0.9.7+ and restricted crypto algorithms)
22092f5 - openssl won't compile unless perl Configure is called. - update the openssl version number to 0.9.7
0deed15 Because SSL's child init is run *after* we change uid/gid. So we need to ensure that file-based locks have the correct perms so that the child process can access them
4ed2d59 keep changes in sync ...
60eda29   Per JimJ's review - we prefer posix over semv, fcntl over flock,   and semv requires no file.
5d8f1b9   Addendum to r1.74; Keep only the resulting filename in the global pool,   toss the temporary strings away.
9adb48d   Addendum to r1.21... I missed the fact that we blew away the init   complete state too early in ssl_init_Module().
d4fa0a5   Fix a serious bug where the 'next' generation of the server would open   a brand new mutex.  This patch creates a single mutex in the first config   phase that survives for the life of the server (server->process->pool).
199b44f   Allow any mutex to accept a 'filename' ... and always root it to the   server root unless we are using posixsem, which can't handle big paths.   This reorganization should make the code much more readable because   all of the common code is at the beginning and end of the function,   simplifing the long conditional test case block.
a38bd02 ap_rgetline_core: set the number of bytes read & copied into the caller's buffer when returning APR_ENOSPC.  This prevents seg faults in ap_get_mime_headers_core in an error path which handles headers that are too long.
f6d704e Corrected another capitalisation issue.
ea74341 Corrected some capitalisation issues and changed 'Performance Notes' to 'Performance Tuning'.
48f1804 Update a bunch of transformations.
38a2806 helps to actually use it
9870ad8   Apache uses strncasecmp - which we wrap to strnicmp based on the platform's   preference, within apr_general.h
cb1fce4 Need to report a select() error vs a timeout.  Also avoid hogging the CPU on an error.
335a2bf ap_get_mime_headers_core: allocate space for the trailing null when there are folded headers. PR 18170 [Peter Mayne <PeterMayne@SPAM_SUX.ap.spherion.com>]
de2e94a Oops - undo wrong commit
d8f1057 On failures, try to add a hint what went wrong
34254c6 	Typos: arguments & explicitly.
d4ac459 	Many simple typos. 	RedHat's -> Red Hat's, underlaying -> underlying 	the Netherlands, the United Kingdom, the United States
217b4d6 	Typos: disribution -> distribution; overriden -> overridden
d9b482f 	Typo: internal.examle.com -> internal.example.com
e3cfad6 	Typo: derivative & "the the".
84d1ea2 	Typo: explicitly.
2078f84 	Typos: occurring & access_log.
8e0cebd 	Typos: explicit & separated.
5554155 	Fix typos: seperately, examle, refered (not the header), compatiblity, publically, Crypography.
ca79991 	Fix a couple typos: explicitly, substitute. 	Grammar: add missing comma, -> a hyperlink.
986cb6b Do not bypass output filters when redirecting subrequests internally.
0ef63a6 Fix chinese default page. Netware config still needs to be sync'd (whereever it is).
c2c7278 Update transformations.
852b5c1 Fix typo.
244c1c5 Update Japanese translations.
1e7b7d7   SECURITY:  Eliminated leaks of several file descriptors to child   processes, such as CGI scripts.
475fd26 keep changes in sync
d402d81 uh, I forgot to add the transformated mod_nw_ssl.html ;-) additionally RewriteOptions was now introduced in 2.0.45.
55c21e7 add mod_nw_ssl to sitemap (and autogenerated pages) and update transformation of recent changes.
7289968 Fixed a small logic problem when printing out the console command help
aea3ed0 OpenSSL should be included as "openssl/ssl.h" and not "ssl.h" (and rely on the INCLUDE path to be defined properly)
415283e Added documentation for the directives SecureListen and NWSSLTrustedCerts that are provided through mod_nw_ssl for NetWare
f233271 Added the optional ssl_enable functions to allow mod_proxy to hook into mod_nw_ssl on NetWare.  This allows a unsecure connection to be upgraded to a secure connection when required by mod_proxy.  Also added the directive NWSSLTrustedCerts to allow an administrator to provide a list of certificates used to upgrade the secure connections.
1775475 Added a note that indicates that forward slashes should always be used on non-unix systems even if the OS allows backslashes
826c91a Document the SSLMutex directives
1f7afcf I did the work, got out the vote, back-ported it, removed the vote, but forgot to move the CHANGES entry... Darn. I've moved it to where it *should* have been. I hope this causes less confusion than having it out of sequence would have...
c686e1d Modify the APACHE_CHECK_SSL_TOOLKIT to detect SSL-C (atleast version 2.1). Submitted by: Madhusudan Mathihalli
434aab1 Replace the APACHE_CHECK_SSL_TOOLKIT method with a cleaner one, using autoconf tools (AC_CHECK_HEADER, AC_CHECK_LIB etc).
04c6e3f Backported this fix to 2.0.45-dev
c4a985c Oops. I'd forgotten to update the CHANGES file with the shmht fix. PR: 17864 Submitted by: Andreas Leimbacher <andreasl67@yahoo.de> Reviewed by: Madhusudan Mathihalli
78235be reflect a fix merged to 2.0.45-dev
dedc843 Fix PR 17864, and also fixes a SEGV problem when SHMHT was used. The porting of the code from mod_ssl 1.3.x was still incomplete, and depended upon a complete implentation of apr_shm (hence pieces of code was #if 0'ed out).
ab54031 even users of libtool 1.3.x want out-of-tree apr builds to work
e49b934 Fix up the export list so that it is consistent between debug and non-debug builds
bc9f1db Fix up the log resolve utility to work with NetWare.  Increased the stack size and fixed WSAStartup to use the correct version number
2c4a98b reflect backport of  mod_deflate.c r1.31 change directive from compressionlevel to deflatecompressionlevel
bdb9181   Move an accepted backport.  BTW - what's with the *new* mismatches   between CHANGES in 2.0-stable and 2.1-dev under the (2.0.45) section?
281948b   After discussions at length on dev@apr/httpd, it is determined that   the older .dbg format symbols are not worth the interference with   generating complete .pdb symbolic debugging databases.
506a96c   After much discussion on dev@apr - it turns out that .dbg files served   a very limited purpose and their extraction interfered with the correct   extraction of the (much more useful) .pdb files.  Eliminating them now.
c76d726 Add the version number to the screen name
3cbaec5 mod_negotiation: quality values are now parsed independent from the current locale. level values are now really parsed as integers.
69a7126 the symbols target in apr-iconv disappeared...
8832de1 fix xml errors and build the stuff
a0ee2a4 Add a note on building the LDAP stuff on AIX PR: Obtained from: Submitted by: Reviewed by:
8de86d6 Applying patch from 2.0 branch, however, there still appears to be some invalid xml in here, although I have been completely unable to track it down. This patch adds discussion of removing unneeded modules, as well as section titles to facilitate links directly to the various sections.
5be714f update transformation.
07cf48a keep changes in sync.
24d0e16 Fixed <default> to AuthDigestProvider.
9f21e8b Check also err_headers_out for an already set Content-Encoding: gzip header. This prevents gzip compressed content from a CGI script from being compressed once more.
a2d2ae5 use APR_CHECK_APR_DEFINE() where possible
481c8dd use APR_CHECK_APR_DEFINE() where possible
148d4a6 keep changes in sync.
116c151 keep changes in sync.
ab2b662 keep changes in sync...
bc22fed Updated to reflect the backport of the auth_LDAP SSL standardization patch
5735ea2 revert my recent patch. util_debug is no longer needed :)
4b5ab29 update transformation.
85d40f2 Specify a set of APIs that are normally defined as macros and should not be included in the export list.
96cbc43 * include/http_config.h
50429af clean up the invocation of APR_CHECK_APR_DEFINE()... it no longer references the second parameter, which was incorrectly specified with out-of-tree APR anyway (which resulted in prefork being selected on Unix since we didn't ever think APR had thread support)
a17233e *gna* get/set_module_config are now defined in util_debug.c. We have to link against it.
c8185c2 Minor MMN bump:
2070055 mod_usertrack: don't set the cookie in subrequests. This works around the problem that cookies were set twice during fast internal redirects.
f57b6f9 Let mod_logio be mostly included.
b906d05 Linux 2.4+: enable coredumps when Apache is started as root if             CoreDumpDirectory is explicitly coded
d4afb99 * include/http_config.h
7088f98   Jeff reminds me, document this one (users observed the bug).
27b6a57   DougM confirms Madhu's suspicions, this change was inadvertent.   Reverting to no longer skip the first cert in the chain.
208fa4a new directive 'compressionlevel' Default compression level now changed to Zlib's default (was 'best_speed')
66835a2 Restore the ability of htdigest.exe to create files that contain more than one user. On win32 we cannot system("copy") a file, while it's open.
fa6f8aa ... as I walked by the dockside one evening so fair ...
5a8d486 Added the WindowsSocketsWorkaroud directive for Windows NT/2000/XP to work around problems with certain VPN and Firewall products that have buggy AcceptEx implementations
e917466 Fix validation issue (added missing XML declaration).
dac1e57 Unescape the supplied wildcard pattern. Otherwise the pattern will not always match as desired. In order to be correct and safe, the pattern will be re-escaped for output.
ac90d0c add some comments and WS to make it better readable (hopefully ;-)
f99c1d6 emit and accept modern query string parameter delimiters (;). Thus column headers no longer contain unescaped ampersands.
c35ab34 buhuh! use the correct target string and don't forget F=x and V=y in column headers ...
5f90dfc WS and style issues. No code changes.
064b222 STATUS update plus another opinion on the FAQ.
4ef70d0 Bust 'em :)
f70c1fe Cleaned up the misc directory and busted the following files (as proposed some weeks ago):     misc/custom_errordocs.html     misc/descriptors.html     misc/fin_wait_2.html     misc/known_client_problems.html     misc/tutorials.html     images/custom_errordocs.gif
80fdf12 document the changed behaviour of mod_negotiation. add a cross link from mod_negotiation docs to env.html
1b48ec9 Extend mod_negotiation to evaluate the environment variables no-gzip and gzip-only-text/html the same way as mod_deflate does.
bbf9a41 Fixed some minor XHTML issues (CENTER -> center).
f75c3b0 fix style and WS issues. No code changes.
da8c31d update transformations of recent changes
972bdf5 add documentation of RewriteOptions MaxRedirects
811bb3e Prevent endless loops of internal redirects in mod_rewrite by aborting after exceeding a limit of internal redirects. The limit defaults to 10 and can be changed using the RewriteOptions directive with the new MaxRedirects=n argument. (The latter required some restructuring of the RewriteOptions  evaluation code).
ec044ac Mention that ProxyPassReverse takes the hostname in respect to the UseCanonicalName setting
87da45c Apache hooks return int: so s/apr_status_t/int/ PR: Obtained from: Submitted by: Reviewed by:	trawick
cf848d2 add the two new modules mod_authz_owner and mod_ident
88ab5f9 be consistent with 1.3 and use .sv extension for Swedish documents The index file itself didn't change (only renamed)
ce8ccfe add a hint about PHP and PATH_INFO
d347d7c show a little (so called) example for --with-mpm.
63a866c fix some license text which was inadvertently lost
c7d3617 huh, add missing changelog entry ...
5261b44 mod_rewrite: Fix some problems reporting errors with mapping programs (RewriteMap prg:/something).
87de401 Updated outdated IANA url. PR: 17433
b6cdb27 account for a fix merged into stable branch
65c6209 account for a mod_ssl fix merged into stable branch
d4cfba4 Reflect some backported patches.
0341201 keep the entries consistent.
5cede9c Fix mod_rewrite's abs_URI handling. - uris were partially not correctly escaped (in particular:   ldap, news, mailto) - not all uri schemes contain an authority component (//) - add nntp:// scheme - don't add a query string (and drop r->args) if it's not   http or mailto scheme - be more efficient (think so)
0ad8eac Win32: Avoid busy wait which consumes 100% of the CPU when all the worker threads are busy.
ac35095   Brad, Stas, I presume these patches were first committed to 2.1-dev.   Please keep the CHANGES logs in sync!
3da232d check the return value of ap_run_pre_connection(). So if the pre_connection phase fails (without setting c->aborted) ap_run_process_connection is not executed. PR: Obtained from: Submitted by: Reviewed by:	trawick, jim
ebd1a5a When using Redirect in directory context, append requested query string if there's no one supplied by configuration.
eb7fb37   Confirmed by Milan Kosina that this code was still broken - I realized   we weren't updating stat correctly, and shouldn't have been trying to   pass the status, but the headers instead, from WriteClient().  This way   we can actually count the bytes consumed and begin treating the rest   as body contents.
5c6fce7 fix some const-ness problems which break the compile with the native compiler for AIX (and probably HP-UX and Tru64 as well, since they tend to be picky too)
27cefe8 It's a quite visible problem, so add a changelog entry.
6367819 LDAP stabilization work
14f34a4 Don't try to use the LDAP cache if it has been turned off.  Make sure that we have a "curl" before trying to use it.  If caching has been turned off then the curl variable will be NULL.  This fixes a problem where LDAP caching would fault when caching was disabled.
7addaa4 This is part three. It fixes the misunderstandings between local URL paths and local system paths. Note that mod_rewrite handles _both_. Fixed also some comments to make the explanations more clear.
5c89fed This is part two. It fixes the prefix_stat function. (which does a stat call on the first path segment). This function was still tailored for unix systems only. It should work on other systems as well now.
6c0e1bf Well, here comes a major fix. I've splitted the patch into 3 parts for better understanding, what I'm doing there. This is part one.
f03fc13 Keep the subrequest filter in place when a subrequest is redirected.
b574055 some votes
3cd3fc9   Someone (I need to refer back) asked that we do the same skip for the   utf-8 win32 prefix when testing for shebang lines.  Here's just such   a test with some bad sizeof(buffer) v.s. bytes read assumptions fixed,   and the code made generally a little more legible.  Please review and   comment to consider this patch for backporting to 2.0.
73bb542 guess, what happens, when l == 0 theoretical case, maybe ...
694eb48 Right now SSLMutex is bogus. It just uses APR_LOCK_DEFAULT no matter what. We now allow for the full range of APR mutex locking mechanims to be used, while maintaining backwards compatibility.
ee1225a uh, oh. Fix possible 1-byte buffer overflow.
0dec004 document new features of setenvif and mod_negotiation.
3e6cf15 fix new example in mod_alias (example is not a <pre> environment). update transformations of recent changes.
04986fe move backports into the 2.0 section
2bbb025 add a hint about handling of IPv4-mapped IPv6 addresses to the output of httpd -V
1282208 account for a fix merged into 2.0.45-dev (mod_dav lock-related)
88ac014 Fix a 64-bit porting issue.
08290ad Remind people to grant access to directories that they Alias
8607e55   After consultations on the APR list, it was decided that /map files are   fairly redundant when you retain rich .pdb debugging symbol files.  We   have rarely used them, and generally .dbg and .pdb files prove much more   useful for the cases we have.
25ac108   After consultations on the APR list, it was decided that /map files are   fairly redundant when you retain rich .pdb debugging symbol files.  We   have rarely used them, and generally .dbg and .pdb files prove much more   useful for the cases we have.
dbc226f quiet a gcc warning by adding () around && within ||
fc26eba Be more pedantic when cleaning environment. Clean it immediately after startup.
3b786e2 ignore some files copied from elsewhere
60928f8   Fix Sebastian's observed failure of the Win32 Debug _install target.
39acf65 break down the beast and explain the obvious >:->
841b848 Start tracking the PRs for known RFC 2616 violations.  (Note that the test cases in the PR are ridiculously hard to follow.)
ce66773 Return 413 if chunk-ext-header is too long rather than reading from a truncated line.
d608ebd If mod_mime_magic does not know the content-type, do not attempt to guess.
bb51a76 insert LoadModule directives only outside of sections.
49d4fda doc typo fix: s/ap_fine_path_info/ap_find_path_info/ PR: Obtained from: Submitted by: Reviewed by:
3e16c61 fix some typos in the ab man page
0f1460b Fixed missing </p> + transformation.
f576c4a Update the mod_auth_ldap and mod_ldap documentation to show the new directives for establishing an SSL connection and the addition of the Novell LDAP SDK.
e8c0a95   foo.dbgmark turned out to be the same 8.3 name as foo.dbg itself, which   was badness.  Twist this puppy to .dbr, the only name I could invent that   doesn't look like any database file extension I recall.
26689c2 Update the status of mod_auth_ldap
b289ec4 remove unused variable.
6f1e0d8 Hook mod_proxy's fixup before mod_rewrite's fixup, so that by mod_rewrite proxied URLs will not be escaped accidentally by mod_proxy's fixup.
2bf4db0 fix a typo in a comment
3c95b5e While processing filters on internal redirects, remember seen EOS buckets also in the request structure of the redirect issuer(s). This prevents filters (such as mod_deflate) to add garbage to the response, because ap_finalize_request_protocol won't send another EOS bucket then.
d83371f Don't emit an error when there is no body.
1a344d4 Allow restart of httpd to occur even with syntax errors in the config file.  (Out-of-date DSOs with bad MMNs will still be fatal unfortunately.)
d2e3c3d Rework ap_xml_parse_input to work with bucket brigades rather than doing all of the unneeded copying associated with ap_get_client_block.
14c2325 Fix potential memory leaks in mod_deflate on malformed input data.
d90ede0 Remove ap_cache_reset_output_filters.
cee1b8b Style changes only.  No functional changes.
7ff3ff2 Switch mod_deflate to 'most' status now.  It's stable enough and will disable itself if zlib isn't found.
5abd018 Use APR_LAYOUT instead of APACHE_LAYOUT in configure. (We need a bug fix in this code, so let's merge the macro first.)
d2ba87a Remove files on 'make distclean' that should be.
91c8f44 Rework the delete-exports target once more.  Leave a comment there explaining why we have to be complicated.  (Why make's dependency code doesn't catch this, I don't know.)
6726749 Added translations for romanian error documents and included missing <!--#set var="CONTENT_LANGUAGE" value="ro"-->.
fa6ef4e move backported change to the appropriate place.
92e7b76 Use correct quoting mechanism for APR_SUBDIR_CONFIG.
97326be Allow apachectl to perform status with links and elinks as well if lynx is not available.
fed2640 Note the recent segfault fix. (could not connect to *.apache.org after committing the change itself tonight...)
f1c2200 fill out parms->err_directive while looking for open parents. Otherwise when trying to log the error (a) we segfault (if the directive was in another file) (b) we show a wrong occurrence line number (start line of the previous     container) or probably segfault, too (if no previous container exists).
732d090 catch some style issues. No code changes.
21b5251 the fix for 15761 is now in 2.0.45-dev
48e60b7 the fix for PR 12353 is now in 2.0.45-dev
9f35057 clarify the meaning of "SetHandler None"
a9ba1fd Extend the SetEnvIf directive to capture subexpressions of the matched value.
f983c2a use a better text for the overlap warning.
989285c extend the check for Alias overlappings. Now test also previous (Script)AliasMatch commands.
aa796d5 Updated mod_ldap to support SSL on the Novell LDAP SDK
1957d73 Added support for Novell LDAP SDK and standardized the SSL support across the various LDAP SDKs.  Isolated the SSL functionality to mod_ldap rather than speading it across mod_auth_ldap and mod_ldap.  Also added LDAPTrustedCA and LDAPTrustedCAType directives to allow for a more common method of specifying the SSL certificate.
74f2a53 fix link to squid
e15680d fix formatting problem in IPv6 section
b69f8fa Replace the section on IPv6 with new text that accounts for --[enable|disable]-v4-mapped configure option and the varying default for it.
e3efb1a mod_log_config optional hook change PR: Obtained from: Submitted by: Reviewed by:
7f5768e change optional function to return the previous writer, allowing to have mutliple types of writers in the same server. (previously you could only have one)
34850f4 people often assume that their Aliases will be found by "best match" rather than "first match". Throw out warnings, if there are obvious overlappings, e.g.:
c84887c Forward port of mod_actions' ability to handle arbitrary methods with the Script directive.
973d927 style.
f164e3b Arghh, there was another one!
a7b11c2 Fixed example description to solve PR#17006.
cb16c9f   Tabs.  Runovers.  Style violations ... oh my!
a3a4b01 drop the guess_domain function.
cade8ab Make sure that the file extension is at least an empty string rather than NULL so that the table searches will function properly
b535985 mod_cgi, mod_cgid, mod_ext_filter: Log errors when scripts cannot be started on Unix because of such problems as bad permissions, bad shebang line, etc.
e61a3b6 style issues. no code changes.
721890a Avoid passing too many characters to getenv.  Make sure that only the environment variable string is passed.
79ec5b6 fix some nits within pt-br welcome page.
22d9817 Fix suexec compile error under SUNOS4, where strerror() doesn't exist.
bda8397 Make sure the command type defaults to APR_PROGRAM on NetWare for all CGIs
302a837 Start all CGIs as detached and allow the APR_PROGRAM_* flags to determine if the CGI should be started in its own address space.
da9f328 Do not use local paths for the domain parameter on non-unix systems.
b4c6f66 there's something todo ;-)
1023dd0 Fix an existing problem with error handling in piped_log_spawn().
f44daed   Thanks Andre... for pointing out my fat fingers.   Drop the module binaries into the correct location.
1493bd4 looking through old PRs...
e833dc0 Let suexec send a message to stderr, if it failed or its policy was violated. This message appears in the error log and allows for easier debugging.
0a09c9a   Backported based on Allen and my research (really, not many that could   review, and his original post was quite well received.)
a45632b   *) Introduce debugging symbols for Win32 release builds, both .pdb      and .dbg files (older debuggers and Dr. Watson-type utilities      on WinNT or Win9x don't support the newer .pdb flavor.)      [Allen Edwards, William Rowe]
6c9c376 update a test compile to find apr.h when apr isn't in srclib
9b85a07   Fix a bizarro entry (probably a remnant from when I had a totally bogus   project name with spaces - which I discovered will not work.)
aaef925   Fix some out of sequence project entries, and add the correct   dependencies for the apr-iconv ccs/ces modules.
6dbdd83   Fix various inconsistencies between the saved IDE structure and the   current .dsp files.
e0469ba7   Sort targets (no effective change) - this reduces the cvs diff when   modifing the project file from the IDE.
d1ad796 Fix up load dependancies to avoid LoadModule ordering
1964ac0 add missing licenses
05dc6e3 remove 90% on transnote for printing, too
aa7d6bb Make failing piped loggers work more like apache-1.3 by
c1584a4 Removed font-size:90%;
742af25 finished that boring job: update license to 2003.
ec0efe2 Updated the copyright years from 2002 to 2003 (complete docs subdirectory).
6405144 Typo (fix PR16656).
a554f67 Fix mod_cern_meta to not create empty metafiles when the metafile searched for does not exist.
5326bce add some todos
025381a fix misuse of const in a recent commit warnings with recent gcc compile break with native compiler for AIX
20e46cd note backported bugfix.
17dfe50 A little docco...
25cc884 Change the screen name default to DEFAULT for all NLMs except the Apache2 NLM
f65755f Make buildconf work with out-of-tree apr and apr-util by adding --with-apr and --with-apr-util flags.
c35540d Note a couple of backports
4a2d097 shew!  I think this is now noted in all of the right places.  ;)
0887ed1 Actually since this fix is only in apr-util and httpd-2.0 still uses HEAD of apr-util, the fix is already incorporated into httpd-2.0.  I'll move the CHANGES entry over to there.
b7877b1 Fix a nasty segfault in mmap_bucket_setaside() caused by passing an incompatible pointer type to mmap_bucket_destroy(void*).
9c18a02 Allow mod_dav to do weak entity comparison function rather than a strong entity comparison function.  (i.e. it will optionally strip the W/ prefix.)
a6d627f Enabled the -n parameter on NetWare to allow the administrator to rename the console screen
16a2d1c   Allow headers (if not already passed by other means) to be sent via   WriteFile() since the foxisapi and other thunks seem to indicate that   headers within the WriteFile() operation are expected to succeed.
da28851   Conditionally revert the otherchild logic from the WinNT MPM, based on   the APR_HAS_OTHER_CHILD flag from APR.  This gets us building again   on win32.
6e09bb0 Fix If header parsing when a non-mod_dav lock token is passed to it.  We'll now just skip over it rather than aborting.
3e939b9   Note the change to default apr behavior for the moment.  With much   luck and a little feedback on dev@apr, perhaps this can be working   by the .45 release.
c57c7fc Fix typo in echo statement.
86b3519 Throw out export_files if exports.c is out-of-date as well.
53b508b Fix "Satisfy Any" logic. The access_checker has nothing to do with auth_type.
a31814b move entry to the current 2.0 section below, because backported
a439b73 Introduce "prefer-language" environment variable, which allows to influence the negotiation process on request basis to prefer a certain language, e.g.:
0f7f4bd and add it to the racial memory
e207b05 doh, forgot to add it here
22c556a Be explicit about not creating redirect loops.
799624c The TRACE method cannotbe limited in 2.1, too ;-)
55de0c3 be consistent...
bcf6b32 d'oh!  was originally against 2.0.  yeah, that's it..
ef1af46 reflect that a couple of fixes introduced in 2.1-dev were merged back to 2.0.45-dev
12b1189 	here we go.  add a directive that will keep %2f from being 	decoded into '/', allowing the *_walk to do their magic and 	return 404 if it's in the path, and allowing it in the path-info.
bc20e54 dup the apr_mmap_t out of the request pool for sending down on the brigade
a060c92 Missed a word in a comment. Bah.
6dace5a Create a subpool when we open the propdb, but we can't clear it until the rest of the lifetime issues within mod_dav are straightened out.
5b3e025 update transformations of recent changes.
7843242 apxs: Include any special APR ld flags when linking the DSO. This resolves problems on AIX when building a DSO with apxs+gcc.
3b060bc Fix a problem whereby multiple MMapFile directives would cause a segfault on startup.
92d5897 Add mod_ident to the NetWare build
1b80324 Update the make file to be compatible with the latest Novell LDAP SDK
ce0c81c Remove rfc1413.c from the build
426077f Correct quote usage in mod_auth_ldap docs PR: 16261 Obtained from: Submitted by: Reviewed by:
2a00d8b   A fix from B. W. Fitzpatrick for the next docs regeneration.
58c6543   Fix the resource link; submitted by B. W. Fitzpatrick.
d6ddacf Comment out .gz etc. AddEncoding lines in our default configuration.
94e93d5 well, it's voting time, isn't it?
77cd198   Omitted the commit log message from the last commit, sorry;
a03b5ab *** empty log message ***
c8e5073 This has been backported to v2.0 PR: 8677 Obtained from: Submitted by: Reviewed by:
321581d This has been backported to v2.0 PR: 8677 Obtained from: Submitted by: Reviewed by:
3a4339e Ensure LDAP version is set to v3 on every bind. PR: 14235 Obtained from: Submitted by:	Sergey A. Lipnevich <sergeyli@pisem.net> Reviewed by:	Graham Leggett
735ecfe Update the copyright dates PR: Obtained from: Submitted by: Reviewed by:
ba6fad1 Fix mod_ldap to open an existing shared memory file should one already exist. PR: 12757 Obtained from: Submitted by:	Scooter Morris <scooter@gene.com> Reviewed by:	Graham Leggett
9614a03 Copy mod_auth.h when installing includes. (Allows external auth providers DSOs)
a80d04e move a couple of entries from the 2.1 section to the 2.0.45 section, since the code was subsequently merged into the stable branch
2485689 M-x untabify
796fbb4 account for a mod_ext_filter fix which was just merged into the stable 2.0 branch
16366b2   Add the missing /Fd"" option
91557ca   Add mod_ident to the BuildBin targets, and resort other targets into   alpha order
1bb6705   Taking a guess at what mod_ident.exp should look like for   David Shane Holden's reorganization.
83d2ac2   Win32 build project for David Shane Holden's mod_ident reorganization.
89d2be9   Integrate mod_ident with the Win32 build.   Submitted by David Shane Holden <dpejesh@yahoo.com>
3369309   Correct misplaced # End Group marker.
1ea8001   Missing version tags [noted while rolling win32 binaries.]
b67d127   Catch up with the changes to apr/build/win32ver.awk and name all loadable   httpd modules as .so, internally.  Credit to Mladen Turk for identifing   the issue.
4fa5110   Update libhttpd.dll filenames to reflect the .dll extension for the   newest apr/build/win32ver.awk script changes.  Submitted by Mladen Turk.
ebef197   Update support utility filenames to reflect .exe extensions for the   newest apr/build/win32ver.awk script changes.
fdb80ed Add my votes.
9967bc8 The correct syntax is <ProxyMatch> not <Proxy>.
7f609ad update transformation
ddda294 Fix some typos in the <default> and <syntax> and remove the <default>none</default>
628ec45   Essentially a noop - just changing the order to keep the httpd-2.0/2.1-dev   files closer in sync
8eca904   .dsw IDE builds were building mod_auth_ldap, while .mak builds were not.
3feff8d update transformation
bf7718c update transformations
227995a add mod_ident documentation
35afc10 link german translation of core
0d99c72 german translation
a395b5a - specify some mistakables discussed while reviewing the german translation - set a link from AccessFileName to AllowOverride - <Files> and <Location> sections and .htaccess files may be used for more   then access control - state an example more precisely
a8c72df change the changes ;-) note mod_ident.
fe5980e move rfc1413 code to a new module "metadata:mod_ident". The rfc1413 code itself is mostly c&p, but can still bear some rework ...
38e1abb   Fix the last bit of build breakage from promoting ext_filter from   experimental to filters.
f82b8c7 Missing an include path for build the dftables support utility
5f043bd Fix the ulimit command used by apachectl on Tru64.
c5f8e9b mention the apachectl ulimit fix for AIX
b62eed7 Use ap_strchr instead of strchr and get the constness right.
cd9fbd8 update transformation
4095b90 add and update transformation of mod_authz_owner docs.
3909340 add documentation for mod_authz_owner
cd0dc38 Reduce the number of parameters on the event callback to avoid a protected mode issue
9ba4e9a Add mod_dav_lock to the NetWare build
870c2e5 Add my votes
1065843 markup improvement
23364db Got the lt and gt mixed up.
be82bdb add style rules for the new <transnote> element
e00aa4c note mod_authz_owner
4c84c2c add support for "Require file-group"
e6f0842 add support for "require file-group"
ca0c66e as announced and with no objections: mod_authz_owner: forward port of require file-owner/file-group functionality
be4c212   It's up to apr-iconv to install it's own ces/ccs .pdb symbols.
4a13959 Change the ulimit command used by apachectl on AIX so that it works in all locales.
e29c32b fix the type of the idlers field to match what apr_atomic_cas() expects
8395761   Fix a typo reported by Blair Zajac <blair@orcaware.com>
0ea4211   Adapt to Brane's apr-iconv patch that provides for make install, and makes   httpd a little less intimate with apr internals.
8c4d7da   With the latest patch to config.c wildcards now work.
a2af792   ap_server_root_relative never guarenteed that the resource exists, or   isn't a file pattern.  Correct the code to accept these cases (applied   to both 2.0 and 2.1.)
1f49164   Once again, allow <Directory "C:\Users\*\html_files"> or other wildcard   patterns in Directory blocks.  Note a similar problem with Includes *.conf
97b39d2 mod_ext_filter: Fix a problem building argument lists which occasionally caused exec to fail.
8803963   After introducing tests in the cmds, we lose the absolute authority   of the CRYPTO_malloc_init() which must happen the moment we load the   module and prior to *any* ssl library fn invocation.
0a8535a Typo: apache -> apache2
322b85f Remove now unnecessary paragraph (-S/-t -D DUMP_VHOST).
e0282cd Using -S rather than -t -D DUMP_VHOSTS.
f3fa0f0 Update documentation to match prototype for ap_register_input_filter and ap_register_output_filter.
118b59c add votes/comments
85a2ec4 Added a required parameter to RegisterForEventNotification() to allow the function to be called in protected address space.
8ff4339 Some words about the Wiki, PDF and some votes...
5c7ece6 Some status updates.  I removed a few things so as not to duplicate what we already have on the docs-project website.
60375d0 Access.conf?  Nope.
b59b8c1 Don't require MMX
2181c76 Add PR to the comment PR: Obtained from: Submitted by: Reviewed by:
31ab9c7 be more specific on element ordering and allow <seealso> within the moduleindex
7469d1f fix xsl error (although xalan doesn't complain it). according to the spec it's not allowed to bind the same variable twice or more within the same scope. (<http://www.w3.org/TR/xslt#local-variables>)
a108bee   update transformation.   - core, mod_deflate, mod_speling, mpm_common because of "compatibility"     transformation change   - quickreference.html.de because of the recent core changes
c61f08c add missing pass-through-template
351f358 - further markup improvements - use a more realistic values for some examples - use better parameter names - correct a seealso title
02c210f Broken link replaced by a similar document (I hope).
6671b9d respect inline tags within <compatibility>
0ad3752 Fix win32 compile break due to file name changes in apr/include/arch/win32
a3743d0 translation improvement
8db9052 Statements about the authorship of mod_ssl being in Germany are no longer true.  And besides, the links are broken.
9d47174 PR:
e941e2a add <transnote> element
38459a8 update reference
c3dbc43 - clarify somes mistakables - some markup improvement - other peanuts (typo, etc.)
60c41dd When unlocking, the auto-checkin code does not need to refer to the parent resource. We want to (possibly) check in only the resource identified by the params.
faffd80 Um, that should have been a 'no' - you should have to explicitly enable mod_dav_lock not always include it whenever mod_dav is built.
4f919f0 Add IndexOptions IgnoreCase description.
0436eb0 fix a type mismatch (char * vs. const char *)
05caa1c   Bring forward the IndexOptions IgnoreCase option to mod_autoindex   from Apache 1.3 for both 2.0 and 2.1 (since the patch/feature was   previously accepted for 1.3, I'm committing without the usual vote   specific to 2.0.)  Only small modification of David's patch to avoid   future reformatting of the options list and better handle the strnatcmp   side effects.
cee3603 be consistent: evaluate multiple "require group" directives even for DBM files. this was always applicable for plain text group files.
ae27bd3 not very spectacular ;-) break overlong line.
7d05b7a cleanup. - remove superfluid #include - remove no longer neccessary bitmask handling - be more efficient if there are no groups for the user - call ap_note_auth_failure instead of ap_note_basic_auth_failure
550bc4d some cleanup. - The weird bit mask handling is not really neccessary. - call ap_note_auth_failure instead of ap_note_basic_auth_failure
c1ee12b use less specific ap_note_auth_failure API call, since it _is_ less specific.
fd8557b allow group authorization to be stored in either basic or digest dbm user files. This is done by looking up first "$user:$realm" and if no success then $user as key. The patch also restores the possibility of group files only ($user -> group,group... or "$user:$realm" -> group,group...). That got somehow lost during the auth rewrite.
7e38c68 well, it's a backstopper. So stop also misconfigured Digest authentication requests.
bda93ed Our standard distribution should not promote broken behavior. We can help out those packages which are already distributed, but the developers should be *fixing* their software. The WebDAVFS is pinned to a specific set of versions (1.[012]) because Apple has said they'll fix it in the next release. This change pins the gnome-vfs workaround to a specific version (1.0*), with the expectation they will fix their software. If they state they won't be fixing the behavior, then we should rip this out (and once they commit to a fix in a specific rev, then we can workaround everything up to that rev). Apache HTTPD is all about being a reference platform, not about compensating for broken clients out there...
5102cfe allow empty user ids to be supplied without responding a 500.
a3da4c5 nitpicking.
3b7508c Add a generic locking provider to DAV - mod_dav_lock.  Other DAV providers can use the dav_hooks_locks_generic structure to implement locking in a non-optimal, but compliant fashion.  (Use 'dav-lock', 'generic', '0' to ap_lookup_provider to retrieve it.)
7548524 added some documentation about MPM selection and atomic operations
f86c81e Replace most of the mutex locking in the worker MPM's "queue info" object with atomic compare-and-swap loops.
d7ea8b9 Removing obsolete entry.(me) Adding alternative description about name-based vhosts and ssl (written by Owen Boyle)
4d0dc7a oh, cool. the recent commit fixed accidentally a null pointer bug ;-) now remove the remaining scrap.
1852450 some cleanup. - use already existing apr functionality - remove unused variable
d11024c break down macro code and avoid mixed case.
28b75f2 update german & english transformation
9917844 document DeflateFilterNote changes
d81f37f add change.
be8d735 The patch allows the user to log the accurate filter input and output byte count, instead of only the rounded compression ratio. The DeflateFilterNote directive will be extended as follows:
6a93333e update german and english transformation
3047ee9 document changed context of the Auth*Providers
ee354d8 make provider selection available in .htaccess files
c05c7d9 provide better error messages for the multiviewsmatch directive.
25093c4 add support for digest authentication to the authn_dbm module. The key is "$user:$realm" (perl speaking), the value is the MD5-hash, optionally followed by a colon and other garbage.
219df48 cut password at the first colon. This readds the ability to store password and group information within the same dbm file
1cc5e44 allow the space in "xy directive" (directivesynopsis heading) to be replaced by other stuff. Requested by Kess for German translation.
fba3e2f update transformation
4e885d9 move mod_mime fix from 2.1.0 to 2.0.45
899477a Use saner default config values for suexec.
bdfee96 PR: Obtained from: Submitted by: Reviewed by: Grammar tweak. One comma half-separates a clause from the rest of the sentence. Needs a matching comma (where is ambiguous) or the existing one removed, so I yanked it.
4bba29a allow RewriteEngine Off even if Options -FollowSymlinks is set.
e600160 xml->html conversion
a7ad110 Add the various vhost docs to the "see also" links on the right where I always expect them to be.
7f6279e add neccessary template for <default>
54a94c3 allow <br/> within <default> to increase readability for directives with OS dependent defaults
cc1c7ff Sun Forte requires having the same CFLAGS passed to the link stage as was passed to the compile stage.
8409da4 Fixed link to cURL (PR15616).
d0dd7a4   All we care about is the type and name, just ask for the type and name.
9953a8d umlaut error
f9a1387 oops, do forgotten translation change
d8988a2 keep German version in sync
b027b8b update transformation
1c3115a since nobody objected, apply proposed style changes:
1943752 - mpm_common:   * fixed the <modulelist>s in mpm_common   * moved AcceptMutex to mpm_common;     document the mutex mechanism "posixsem"   * added BS2000Account to mpm_common     (I'm not sure, whether it should appear here or elsewhere. It *seems*     to be supported only by prefork and perchild (if perchild would work)).     The description is obtained from the 1.3 docs.   * fixed several default values   * moved MaxThreadsPerChild and NumServers out to perchild     (btw: we could consider to rename NumServers to StartServers...)   * rearranged some stuff and added several comments, that I found useful     ;-) - mpm_netware:   * MaxThreads 2048 (as maximum and default) - perchild:   * extended the explanations about using different user ids. Hope, that's     correct.   * extended and adjusted the directive descriptions     (remember, NumServers and MaxThreadsPerChild moved in) - prefork:   * moved AcceptMutex to mpm_common (as stated already above) - mpm_winnt:   * added reference to ScoreBoardFile - worker:   * added reference to AcceptMutex - general: markup & formatting
10a1384 add initial documentation for beos, leader, mpmt_os2 and threadpool
104df8b better formatting
933b306 markup & formatting
e97caaa typo
846c8dc markup & formatting
7ebbc7c keep german version in sync
42f2856 update transformation
b46bf0f add initial documentation for mod_proxy_connect, mod_proxy_ftp and mod_proxy_http
289b213 update german transformations due to the recent changes (core and cache.)
80800d1 update transformations of recent changes
5c5c840 negoatiation -> negotiation
151cb4d - some markup improvement - normalize notation of directive arguments - document ScriptInterpreterSource registry-strict - some odds and ends
3fff5a2 Log server version and server built info at startup
41d34f1 Correct a warning message.
e65f806 - Add MKDEP to config_vars.mk file - Do not print out the commands used when doing 'make depend'
51e58b8 Allow dependencies to be generated by something other than GCC. This allows Sun's cpp to generate valid .deps dependencies.
f5d8975 Rename CacheMaxStreamingBuffer to MCacheMaxStreamingBuffer and move it out of mod_cache and into mod_mem_cache. Note default buffer size of the lesser of 100000 or MCacheMaxObjectSize
b21abf3 Just a bit more consistency.
7d90fb4 Added another note about Windows due to the recent changes in windows.xml.
355d30e Keeping german version in sync.
5bd8fce Added another note about Windows due to the recent changes in windows.xml.
4feae10 Cut an info log entry for each object we cache. Is this too much to log?
7661fe1 Just keeping german version in sync
565fc77 Added a note about Windows and fixed links due to the recent changes in windows.xml.
a3845dd Makefile fix for building IPV6.  This stops the makefile from recursively creating IPV6 directories
03b42d5 Rename CacheMaxStreamingBuffer to MCacheMaxStreamingBuffer. Move implementation of MCacheMaxStreamingBuffer from mod_cache to mod_mem_cache. MCacheMaxStreamingBuffer now defaults to the lesser of 100,000 bytes or MCacheMaxCacheObjectSize. This should eliminate the need for explicitly coding MCacheMaxStreamingBuffer in most configurations. [Bill Stoddard]
0763a88 Corrections include: - a couple of grammatical issues fixed - use term "change privileges" instead of "read/write/delete" just like   NT/2000 does - fixed <code>System</code> to <code>LocalSystem</code>
28b775e update german transformation
8024a60 fix xml error and update transformation
a9040c5 Document the AuthLDAPCharsetConfig directive
21a1426 I must be getting old.
70ada11 use german sitemap
6c365a1 German translation
c701e73 SHould be using ths string form of exp (which is exps). Reported by:Joe Orton
706289a update transformation
d5e7830 - markup & reformatting - changed overloaded <seealso>s to (hopefully) better ones - added rather specialized <seealso>s to the directive descriptions - one may specify more than one language in the content-language header
13dc3a5 correct english revision number
77e2337 change a link and add a note where to find the signature files
6c9a80c mod_cache: Fix PR 15113, a core dump in cache_in_filter when a redirect occurs. The code was passing a format string and integer to apr_pstrcat. Changed to apr_psprintf. [Paul J. Reder]
0e3aa31 German translation
617ff41 correct a see also title
5831386 Update transformations.
6750179 Update Japanese translation.
6fef26a Update Japanese translations.
88caf13 These files were added to main trunk by mistake.  Delete them.
3567d2c - make sure, see also titles match with linked document titles - remove notes about alpha and beta releases - update download links to the mirror page
e89aef3 first rewrite of Windows platform docs has been done
7e4eb3c remove link to old document
6846c52 make sure, see also titles match with linked document titles
9ba535e make sure, see also titles match with linked document titles
649a44c update translation
2337b0f fix directive name, that caused bogus html
abdf6af section id "footer" conflicts with the generated "footer" section. Changed the section id to "standard-footer". (someone else may update the .ja transformation)
6e5e4c5 fix html errors
ad96b18 Added imports for the extended character entity sets Latin 1, Symbols and Special: for convenience all XML docs which use common.dtd can now use the well-known character entities instead of their numerical counterparts. For a complete reference see the corresponding .ent-files in the w3c directory.
eb98698 Import public W3C resources to use the extended character entities and to be able to validate the XHTML docs.
8e6d3da Merge windows.xml and win_service.xml and update content
c31938c comment an endif for clarity
afed6d2 update transformation
bab942b - markup, reformatting - remove outdated info, that mod_mime_magic has to be placed   before mod_mime in the config - kept the <pre>d examples, but squeezed them to cause   less problems - reformatted the copyright notes from <pre> to <note>s
33fa28e don't segfault in mod_mime's find_ct() if we get there without having set r->filename
022336a it's not the MIME RFC, but the HTTP RFC ;-) updated the quotation to be quoted from RFC 2616
61f472a - add "cite" attribute to <blockquote> - allow only block elements inside of blockquote.   (HTML strict requirement)
9caf315 typo
b401442 Upgrading translation
2aace0b Set some links
61242dd   After some productive feedback and no negative feedback, introduce   SSLEngine upgrade so that we can begin and continue to support these   facilities.  This makes it simpler to keep this effort (while we have   no known clients that support Connection: upgrade at this time), and   begin refactoring more of SSL into smaller and tighter (and then optional)   components.
2f62c79   After some productive feedback and no negative feedback, introduce   SSLEngine upgrade so that we can begin and continue to support these   facilities.  This makes it simpler to keep this effort (while we have   no known clients that support Connection: upgrade at this time), and   begin refactoring more of SSL into smaller and tighter (and then optional)   components.
76c103b mod_auth_ldap patch
28cee7e Added character set support to mod_auth_LDAP to allow it to convert extended characters used in the user ID to UTF-8 before authenticating against the LDAP directory. The new directive AuthLDAPCharsetConfig is used to specify the config file that contains the character set conversion table.
17f77fa German translation
d7290cf the endless story...
60c843a Register for the SERVERDOWN event to allow Apache to shutdown gracefully when the NetWare OS is shutdown
f51a3c8 Ah, we don't even need the 'ls -1' - 'ls' suffices.
ade3fb2 Reflect that this fix was merged into Apache 2.0:
ee30f7b   Fix a declaration mismatch.  We are down to const'ness errors.
3aacc89   Make the code simpler to follow, and perhaps clear up the follow-symlink   bug reports we have seen on bugzilla.  e.g. 14206 etc.
fa4d5df reformatting, markup and picking nits
decf33d further markups
d56d43b small markup issues
28d79bd A few more lazy initializations. No function change (I hope :-)
f7befb0 ap_get_mime_headers: combine some error paths to remove a conditional branch from the mainline path.
2be5ade ap_get_mime_headers:  whoops - need to insure that we use a configured field size limit if there is one
67e1dd3 Don't spend cycles finding cache-control until we actually need it.
b5402e3 update german & russian transformations
f994207 update transformation: part V/V
4d5792a update transformation: part IV
adb3627 update transformation: part III
b02ac00 Take a stab at fixing the brokenness in our tree (grr!).
4c7042a ap_get_mime_headers: tighten up the null termination of header line which is too long.  getline can return a smaller length that what it actually read in that case.
eaf36da update transformation: part II
2168fea update transformation: part I
32850be diffs with long lines are such a pain. add a bunch of line breaks for better code & diff readability
8809f32 make CHANGES reflect that the fix for PR 13914 was merged into 2.0
03a6ce3 some markup
b11a624 update german transformation (invoking.html.de had a wrong versioned header...?)
8b6fffa update english transformation
301431d cleanup and introduce a letter bar for "other" modules for better navigation. insert also some more line breaks for better diffs.
1623a68   Build ldap for win32 by default.  No extra magic required other than   some reasonably current SDK.
3919c98   The only code change required for Win32 ldap to build... these are   all abstracted in apr_ldap_uri.h ... which is grabbed by apr_ldap.h.
ec58424 update transformation
17ba320 - some reformatting - markup & <em> -> <var> - modify the argument list of MultiViewsMatch in order to better reflect   the possibilities - add several <override>s and some <seealso>s
fab2e40 prevent a potential seg fault in ap_escape_html if a header field is too long.
6236614 two parameters, not one.
85355b2 update transformation
87597cd - markup & reformatting - some rearranging of the content - fix conextlists. with the current code it doesn't make   sense to put any directive into an virtual host (the config   pointer is static...) (blame me, if I'm wrong)
2d16a17 keep german version in sync
f22c611 update transformation
2c46e90 core_output_filter: re-instate the deferred_write pool patch so we don't leak fd's until the end of a keepalive connection.
5af6b06 full clean-up of the auth-docs; feel free to shake out any nits, if there are (probably there *are* :)
7686499 If an httpd.conf has commented out AddModule directives, apxs -i -a will add an un-commented AddModule directive for the new module, which breaks the config.
e78ff13 Tweak
8ccffa0 AddModules does not exist anymore
e9f3800 clarify the no-proxy explanation of Addoutputfilterbytype.
fb957ce Update transformations.
392fee3 Rewrite how proxy sends its request to allow input bodies to morph the request bodies.  Previously, if an input filter changed the request body, the original C-L would be sent which would be incorrect.
7313ee4 link the german sitemap
5561d9c German translation based on english revision 1.2
1302759 mod_authn_anon should be a provider This drops the Anonymous_Authoritative directive
426bf3e the AccessAuthoritative directive should be AuthzDefaultAuthoritative
c4eb2f8 there is some confusion with "yes" and "no" and "on" and "off"... ;-)
4273951 outch. there are some possible NULL pointer references. Have you ever tried AuthDigestProvider dbm? This results in a great kaboom. The patch makes apache throw an error, if someone tries a provider, that doesn't support the particular auth scheme.
1f8f74d when asking the providers for authentication, the main loop should not only  break, if access is granted. It should also break, if access was *denied*  by one provider. To be safe, it has to break also, if an error occured. So  the patch turns the condition around and continues only, if the user was  not found. I find it also weird, that if auth was denied (by password usually), the  AuthBasicAuthoritative behaviour can override that by "passing to lower  modules". The patch changes that behaviour, too.
6c3569b 2.0 -> 2.1
bf86dad add some explanations how to use AOFBT correctly.
3ef9eaa Take apr include dir from beginning, not end of list given by apu-config. Submitted by: Brian Havard
99e0c89 It's late in germany. Well, now this is the correct patch to keep german version in sync.
f266a3b measuring up with english release 1.6
eb7de31 fix version number in the sitemap summary (again: didn't update the ja-transformation)
c0ccc3c fix compatibility notes (2.0.44 -> 2.1) did no update of the japanese transformations, because it creates somewhat weird on my system...
d174172 update version to 2.1 in main index.html.* (except korean, can't display) and header/footer.html files
1806293 update English transformation (a lot of stuff, sorry!; whe should really improve the page headers for better diffs....)
694359e update russian transformation
1e7c6f8 update german transformation
4d18682 switch navigation to 2.1
4574137 mod_proxy: Don't remove the Content-Length from responses
e2b86c2 keep german version in sync (Note: upgrading.xml.de is not up-to-date in both branches) (Note2: in Head also the original should be updated to 2.1 anyway)
f729573 Listing the URLs which are not cachable is useful for building the CacheDecline URL list for the config file.
9872e2d Less verbose debug message
58c002b Stuff done and more WIBNIFs.
ef6878f FreeBSD's make doesn't like the 'implied source' syntax ($<) -- using $? which works.
eaa4725 Move the check of the Expect request header field after the hook for ap_post_read_request, since that is the only opportunity for modules to handle Expect extensions.
d86c4b8   Not entirely clear if we should trust iconv or bin/iconv as the target   path for iconv modules, but here goes.
dc8a151   With BuildBin - also build our iconv ccs/ces collections.
feb2e2b   Backports accomplished ... please keep in sync
7fa5b77 zap a change log entry for a fix that is now in APACHE_2_0_BRANCH
4bcc28e - removed obs_* files - keep sitemap in sync - Note: mod_auth_digest is currently exactly the same as in 2.0   (no changes were made due to the aaa-rewrite) - modified the example in mod_info (was a bad one ;-) - forward port (i.e copy) of rotatelogs.html, so we shouldn't forget the   recent changes - fixed xslt/css for module index page -> update transformation
a028fa1 different case may confuse people.
daccd92 Add a commented LoadModule entry to the .conf file for mod_ext_filter
79ddea1 To be on the safe side...
38efddb If this worked on Mac OS-X, then OS-X should be fixed ;-) Otherwise, it looks like Apache-2.x has not been compiled on any unixoid platform anywhere since 2002-Nov-29
6085062   Must have symbolics for util_ldap/mod_auth_ldap base addresses.
7064414   Repair one oversimplification.  I was grep'ping modules/experimental   for such symbols, didn't look backwards at include/.
a729e39   Add util_ldap and mod_auth_ldap to the workspace, but do not build by   default yet [requires external 3rd party library still.]
3856896   Final corrections; much of these .dsp definitions were redundant.
8dbc82d   Decorative change - consistify .dsp verbage
8df4a0e   Although we consistently used apr_time() APIs, the declarations didn't   match up.  Nor did the indexes' types.
ca59e7c   Correct to appropriate text file formats
3e5f1e5 German translation based on english version 1.4
68d16be german translation
9995b58 update to include mod_setenvif fix
8790e33 Fix for BrowserMatchNoCase, which was incorrectly treating non-regex patterns as case-sensitive Submitted by:	Andr�� Malo Reviewed by:	Brian Pane
2d2c55c   For your consideration;
1efa9fe Per Greg's request, add a version string component to the ap_provider.h functions.  This allows modules to register different versions of the same provider.
0a9e0a1   Reflect that AAA overhaul is deferrred.
0492587 add two overview pages
171f320 Note in the security docs that people should subscribe to the announcements list.
28a3821 update translation
0119297 *** empty log message ***
e4b9203 Add export_files to EXTRACLEAN_TARGETS
7b0d2e4 Find apr, apr-util automatically if no --with-apr{-util} flag, same as other libs.
2678972   If apr and apr-util are not in-tree, we need to be able to find the   include directory for each in order to generate the server/exports.c   and server/export_vars.h files.
9018dc5 If apr and apr-util are not in-tree, we need to be able to find the include directory for each in order to generate the server/exports.c and server/export_vars.h files.
5eb2ee0 Changes to reduce dependency on in-tree apr and apr-util. Change AC_CONFIG_AUX_DIR in configure to build from srclib/apr/build. Have buildconf copy the needed files (config.guess, config.sub, PrintPath) from srclib/apr/build to build. Change binbuild.sh to stop using srclib/apr.
c0d64a9 Don't include apr_network.m4 and apr_threads.m4; we don't use them.
2253b5c Use $INCLUDES rather than adding yet another place to edit include dirs.
ffe7296 Caveat when using mod_speling in a DAV-enabled directory
f5fde2a nobody seems to have objections...
2a8c9ab add %% escaping
00f7e52 Cleaning up the NetWare make files so that they detect and find the zlib source correctly
d605111   Changes committed - and set aside a placeholder for 2.1 patches.
3d93b5a   Set the appropriate mime response headers for negotated type-map   Body: responses.
de524cd Force the screen to close on exit() if the -E option was specified on the command line
a814f22 Log reason for cache decline.
a4b9d1c   Accept '%%' in CustomLog format strings to produce a literal '%'.
5062f0c Add <IfModule> conditionals around non-core directives. Submitted by: Tim Wilde <twilde@dyndns.org>
7ec1589 Generate MD5 digest.
8511af4 No gzip? Try compress.
80278e1 Don't crap out if we couldn't gzip the file.
aa87551 teeny optimization
a9ab9fb Put then on the if line
04803f3 Don't use GNU tar. Problem here is that GNU tar creates tar archives which are not POSIX-compliant and cannot be unpacked using a POSIX tar program. Typical oopsie is a developer uses binbuild to pack up an httpd release on a system which does not include gtar in the standard distro, but it's there on the developer's computer.  User downloads it and find that it won't unpack with standard tar, even though it claims to be a tar archive.  Blah.
024814d typo
82d73f0 Conert programs/index to xml
be14063   Win32 builds populate include from modules/foo/*.h and os/win32/os.h.   Eliminate the noise.  However, I'm itching to simply move those 'standard'   module headers back down to httpd-2.0/includes/ ... any objections?
d3e94fe   State the obvious (to some).
3105040 Fix some possibly-uninitialized variables.
2d1643e update a comment
45fac81   Keep track of the changes.  My guess (although we will see in practice)   is that 'new stuff' will stay here in HEAD, while problems will probably   linger in APACHE_2_0.  History will be relative to the tree one is viewing.
a2dcb36   Just 2c and fix my old borked comment.
735798a Added ap_cache_cacheable_hdrs_out to the caching module export list
d87736e Makefile change required to move mod_ext_filter out of experimental
bd108a8 Fix the building of cgi command lines when the query string contains '='.
42f44aa Replace APU_HAS_LDAPSSL_CLIENT_INIT with APU_HAS_LDAP_NETSCAPE_SSL as set by apr-util in util_ldap.c. This should allow mod_ldap to work with the Netscape/Mozilla LDAP library. PR: Obtained from: Submitted by: Reviewed by:
60726d7 A PR was open for the ldap fix Graham just committed.
d2582bf All hail the conflict. PR: Obtained from: Submitted by: Reviewed by:
b8ccd34 Grrr... CHANGES file didn't commit :( PR: Obtained from: Submitted by: Reviewed by:
8db2b8c Reorder the definitions for mod_ldap and mod_auth_ldap within config.m4 to make sure the parent mod_ldap is defined first. This ensures that mod_ldap comes before mod_auth_ldap in the httpd.conf file, which is necessary for mod_auth_ldap to load. PR: Obtained from: Submitted by: Reviewed by:
11baef7 Fix critical bug in new --enable-v4-mapped configure option implementation which broke IPv4 listening sockets on systems with IPV6_V6ONLY socket option.
69b63c4 the name is "no-gzip".
3006aa4 update transformation
1164036   Branch tag APACHE_2_0_BRANCH now contains Apache 2.0 development.
988446b   Catch up with Trawick's change to filters/mod_ext_filter
d91c0c5 mod_autoindex: AddDescription directives for directories now work as in Apache 1.3, where no trailing '/' is specified on the directory name.  Previously, the trailing '/' *had* to be specified, which was incompatible with Apache 1.3.
ecb3aaa Fix for PR 14556. The expiry calculations in mod_cache were trying to perform "now + ((date - lastmod) * factor)" where date == lastmod resulting in "now + 0". The code now follows the else path (using the default expiration) if date is equal to lastmod. [rx@armstrike.com (Sergey), Paul J. Reder]
e4b5584 I never adequately tested these examples when writing logs.xml, and I've heard from a couple places that these examples don't work very well.
b2c9c43 When I changed the status to extension, I should have also removed this warning paragraph.
268ea6b Make a not about httpd-writable directory so that we don't forget the issue.
f24ac2d Add reference to Netware's default mpm.
039d33b Add a <default> for Multiviews Match and reference that directive in upgrading.
4b6dc51 Correct the title of the <note> about the scope of AllowOverride, and also remove the comment about the context being incorrect. The "help" link for "Context" tells you to consult sections.xml for exceptions, and this is documented there.
0170a67 Would be helpful to put it on the right line
2b2f2fd Ferg
c9a9cb4 removed absurd comment (huh, where did this come from?)
e5366da Opened <Directory> but closed </DirectoryMatch>
198fa93 Update votes...
dadc1c6 And a chicken in every pot
c7713b7 fix the sample worker configuration...  it didn't make any sense previously, and you'd see something like this when starting Apache with it:
1a13e1f Submitted by:	Mads Toftum Reviewed by:	Rich Bowen Another bunch of changes to remove some of the stuff that has been obsoleted by the inclusion of mod_ssl in apache. There is still some of the submitting bugs / mailing list stuff (see http://httpd.apache.org/ssl/ssl_faq.html#contact) that needs to be reworked - but someone needs to decide whether to point at bugzilla and/or the bugdb at modssl.org.
73985ef Big brains here say this after trying 4.7 out...
12f572f Axe some warnings in rotatelogs which came when the program was converted to use APR.  The behaviors of apr_file_read() and apr_file_write() weren't taken completely into account.
8bc57d1 bucket length parameter is apr_size_t, which isn't always signed, so be careful when comparing with the special value -1
10e706a Minor clarification on a few points. Added note about what "older browsers" means. <indent> formatting on example blocks.
a6a6c5f Use AP_DECLARE in the debug versions of ap_strXXX in case the default calling convention is not the same as the one used by AP_DECLARE.
26f1f5a use memcpy() instead of strncpy() since strncpy() is more expensive but none of its extra function is needed
c801aee - add <seealso> to mod_log_config - use same log format table style as mod_log_config -> update transformation
2db8789 update transformation
dee0112 - reformatting & markup - zebra-styled log format table - changed the directive compat notes - mentioned, that nicknames should not contain %
86e85b0 Clarify that name-based vhosts are not necessarily only for systems with a single IP address. Or at least remove the implication to the contrary.
087cfbb Submitted by:	Mads Toftum Reviewed by:	Rich Bowen This takes care of all mentions of EAPI except one in the ssl faq.
50c7eb3 Submitted by: Mads Toftum Reviewed by:	Rich Bowen Just getting rid of a reference to EAPI that shouldn't be there.
df6ae4c Broken link.
c85b3b3 PR: Debian Bug report #169431 -- Documentation of AllowOverride strongly (and wrongly) implies it is valid within a <Location> directive. This patch corrects that, as you really can't use AllowOverride in Files or Location sections.
068d475 update transformation
d7c74e4 - add several <parentdocument>s - mention the rewriteguide on misc/index   (hmm, what about the perf-hp document in /platform/?    Is it still on topic?)
ec6fa85 check whether <parentdocument> contains text(nodes).
bba226a KISS. <xsl:attribute> makes the life easy :)
1c379f0 Another typo in a german error message.
9f16245 Typos in german error messages.
c48dfd8 Forward-port force-response-1.0 change and document no-gzip.
fca1514 mod_ext_filter has switched from Experimental to Extension.
3b84be8 When storing the response headers in mod_cache, omit Transfer-Encoding and any other hop-by-hop headers that shouldn't be applied when the response is later delivered from cache: http://marc.theaimsgroup.com/?l=apache-httpd-dev&m=103727389213072 Diagnosed by: Estrade Matthieu <estrade-m@ifrance.com>
584bec3 - <em> -> <var> - little reformatting -> update transformation
f19f059 core_output_filter: back out changes to clean up resources before the end of a keepalive connection until we can figure out how to do it safely for mmap buckets
3f68414 - <em> -> <var> - add markup - fix contextlist of ISAPIReadAheadBuffer -> update transformation
e03f651 - <em> -> <var> - little markup & reformatting
b71a185 update transformation
6e9f434 more formal changes: - moved path_info section below the "enabling" section - dropped "Using Server Side Includes for ErrorDocuments" section and added   a simple seealso instead. I don't see, that we need a separate section to   set a link. - created an own subsection for every SSI element and put an overview table   on top of it, this resolves also the mozilla problem with nested <dl>s,   that was still present (sometimes) - fixed some typos - markup.
c2ba645 Updated the NetWare make conf script to handle the new Listen statements
efb31bb add missing linebreaks
f0ab8f4 mod_cgid: Handle environment variables containing newlines.
0dd47e0 remove mod_ext_filter from experimental
237703f Move mod_ext_filter out of experimental and into filters.
70886b4 Fix a memory leak in mod_deflate with dynamic content.  Because the brigade was being destroyed (ie, cleanup unregistered) rather than just emptied out and then reused anyway, the last call down the filter stack would leak buckets.
d2a8a6d It was sunny this morning, but the clouds have moved in.
5c8c32d typo
591c27d typo
c103cac Fix markup.
be6d7a4 update transformation
31948d1 - adding markup - reformatting a bit - <em> -> <var> - add seealso to UseCanonicalName - add explicit XHTML example - " inside quoted text is not impossible, it can be written as &quot;
a9071ab apachectl nroff->xml with a few content updates to document the new pass-through mode.
4c089d5 Remove the nroff httpd man page and put in an xml one in the manual. At the same time, update with some new args.  More review of this would be good.
8ca3d03 Add --[enable|disable]-v4-mapped configure option to control whether or not Apache expects to handle IPv4 connections on IPv6 listening sockets.  Either setting will work on systems with the IPV6_V6ONLY socket option.  --enable-v4-mapped must be used on systems that always allow IPv4 connections on IPv6 listening sockets.
af48450 New XML.
5abb220 - fix bogus example regex - update transformation
86ceb35 - <em> -> <var> - reformatting + adding markup - add optional env=[!]variable to formal syntax definition - fix processing order (<Location> after <Files>) - turn bogus <ul>s to <dl> - add table border
f437f71 update transformation
896c2be - add directive <description>s - <em> -> <var> - some reformatting and markup improvement
3a60663 This fixes a problem where the underlying cache code indicated that there was one more element on the cache than there actually was. This happened since element 0 exists but is not used. This code allocates the correct number of useable elements and reports the number of actually used elements. The previous code only allowed MCacheMaxObjectCount-1 objects to be stored in the cache. [Paul J. Reder]
e0f2c0e Add mod_disk_cache and mod_mem_cache to the indexes.
e2335db typo.
a3fc322 Don't hold the Apache screen open when it exits with an error if all of the error messages are going to a file anyway.  In other words, don't hold the screen open if the -E <filename> command line parameter is used.
9850da2 Add a little bit of content about the "-k" method of signaling apache and change the apachectl examples to use that.
4491f44 Deprecate the direct use of httpd and recommend instead the use of apachectl.
0639b36 A couple long-overdue changes to configuring: - Remove the over-detailed and out-of-date description of Include directories. - Link Rich's .htaccess tutorial.
a15e0ab core_output_filter: use the current input brigade's pool for the "more" brigade when we defer network writes due to small data + keepalives.  This prevents leaking resources in the "more" brigade until the end of the connection.
ec594c3 update transformation
a171a5e - <em> -> <var> - reformatted examples (no content changes, except for a ytop) - move the reference to mod_deflate on /top/ of the gzip example - general markup improvement - add short descriptions for the directives
7ebe41a update transformation
271971b - split mod_dav docs explicitely into mod_dav and mod_dav_fs - extend and rearrange the mod_dav documentation a bit   (needs some tuning)
d16d885 add change to mod_setenvif, and update .ja.jis files
7d79ef3 	Add a SERVER_ADDR keyword to match the CGI environment variable, 	to allow conditional setting according to the IP address on 	which the server received the request.
658cf25 watch out for the should-not-occur condition where the daemon can't find the script pid in the hash and returns zero...  if we send sigterm to pid zero, we knock out ourself
77d7718 update transformation
4f028d0 - <em> -> <var> - some reformatting
b6025f9 make <parentdocument> legal
2f9e68e mod_cgid: Terminate CGI scripts when the client connection drops.
f43d3e0 can't mix declarations and statements except with gcc 3.2 :) (or possibly RedHat 8's patches to it)
dc5fe70 I withdraw this complaint.
dd27a5c Actually this is working correctly as best I can tell.
25fa263 prevent seg faults when running with Electric Fence.
9b11acd Tighten up the writing a little and add an even simpler configuration example.
5514917 Rearrange OpenSSL engine initialization to support RAND redirection on crypto accelerator.
c7abede   Fix several cut 'n paste errors identified by Juergen Heckel.
25eea10 update transformation
66e5a07 - add a forgotten CSS rule; examples in warnings also   get a border around (and no bgcolor) - extend mod_deflate documentation   (better example, notes on proxies)   it still needs some fine tuning.
5099425 A couple core docs fixes:
b9f991d Add <parentdocument> to the virtual hosts docs.
87644a2 Add a <parentdocument href="...">...</parentdocument> tag to allow the docs to have a little more structure.  Used for the "back" link and for the breadcrumb links.
0e53fff Fix a couple problems with the EnableSendFile docs:
f0d94f5 Fix Andre's name, he said it's ok to remove the accent.
17cbdd0 Always emit Vary header if mod_deflate is involved in the request.
573e587 - remove bogus <em> - little reformatting
82cb221 only little markup and line break issues
6a64793 - <em> -> <var> - some whitespace reformatting -> update transformation
e9a590b   Note progress.  Lots of helpers out there emailing their feedback,   which is great.
8aa559b   Stop unsetting the 'empty' query string result with   a NULL argument in ecb->lpszQueryString, eliminating segfaults   for some ISAPI modules.
44b7872   mod_isapi: Fix an issue where HSE_REQ_DONE_WITH_SESSION notification   is received before the HttpExtensionProc() returns HSE_STATUS_PENDING.   [John DeSetto <jdesetto@radiantsystems.com>, William Rowe]
ceb5eae Improves the user friendliness of the CacheRoot processing over my last pass. This version avoids the pool allocations but doesn't avoid all of the runtime checks. It no longer terminates during post-config processing. An error is logged once per worker, indicating that the CacheRoot needs to be set. [Paul J. Reder]
2d96290 Markup-typo.
4557bd0 Fixed some typos, added a section-id and did some cosmetics.
a809b7f core_output_filter: straighten out the parens for the decision to set aside.
1576999 use a subpool of c->pool for resources which are set aside, then clear it after writing the data to the network.  This closes files sooner with keepalive connections.
ecaeaf5   We didn't atexit() the win32 keep-console-open-on-error handler early   enough to catch some preflight errors.
e3f5de9   A comment which no longer applies (proper AP_DECLARE_DATA voided the   disclaimer.)
b7a385a adjust some parents to make the expression a tiny bit clearer and to make gcc happy
d5df697 Update transformations.
8db60f2 New Japanese translation.
5916ec7 New Japanese translation.
05290b1 When doing a GET of a proxied URL as a subrequest within a POSTed request, don't send the original POST's Content-Length as part of the header for the GET.
c074645 Added code to process min and max file size directives and to init the expirychk flag in mod_disk_cache. Added a clarifying comment to cache_util.   [Paul J. Reder]
c9c03ce Small nits
2d515fa fix a typo in the syntax of LocationMatch
493fd07 Update transformations.
251f964 Update Japanese translations.
b219ca8 Update Japanese translations.
ca6e9fe New XML.
7ce4ae5   Turn DOWN the volume of these errors... they are low enough level notes   to land at loglevel INFO
10e2917 - <em> -> <var> - whitespace reformatting - little markup improvements - typo -> update transformation
3f6c889 cup of t, someone?
d2a3e5d - <em> -> <var> (hey, that was easy :)) - add some <module>s - add <seealso>s to suexec.html - add explicit <seealso> from mod_cgid to mod_cgi - add short description of the ScriptSock directive -> update transformation
ab9e0b6 As per discussion on users@httpd.apache.org and a little on IRC, clarify that "third party" modules can do basically whatever they want, and typically do it as the "User" uid, so Caveat Administrator
6d50ab2 Translation based on english revision 1.44
c5c692d update transformation
1001426 Updates to the mod_disk_cache.xml file to update formatting, improve detail and accuracy, and to align with what the code does.
e2422aa no functional change...factor out a common subexpression
6b512ad Updates to the mod_cache.xml file to update formatting, improve detail and accuracy, and to align with what the code does.
c27c1eb Updates to the mod_mem_cache.xml file to update formatting, improve detail and accuracy, and to align with what the code does.
4bfd084 Since the directives CacheIgnoreCacheControl and CacheIgnoreNoLastMod are AP_INIT_FLAG one should be able to set them explicitely to "Off".
41cb3f3 New XML.
875f5df   Per Justin's feedback, this still needed a little work to get the   four cases (block/nonblock read/nodata) straight.
0e489c7   Rule one of winsock and other one-offs (even unix EINTR) ... blocking   isn't necessarily blocking.  Should not have changed this in the prior   commit, and adding the same retry to the -1/EAGAIN|EINTR case.
79c5523   errno?  EINTR?  what planet was this code on :-?  Normalize the   ssl_io_filter_connect code to follow the filter read and write.   Notice that it's buck ugly, but we will extract an rc first from   the input BIO if it was written, and then try the output bio if   it was APR_SUCCESS, during _connect processing.
d74d0e6 - <em> -> <var> - add <seealso>s to AcceptPathInfo and the CGI spec - little markup improvements - whitespace reformatting -> update transformations
33f6086 - <em> -> <var> - some whitespace reformatting - mark example title as such one. - update transformation
1e16058 - rebuild index files - update mod_cache related transformation
a94e304 formal: - <em> -> <var> - markup changes - some whitespace reformatting
911ad57 Update some doc transformations.
b8b583d The value emitted by ServerSignature now mimics the Server HTTP header as controlled by ServerTokens.
ce28147 update transformation
edab0c4 formal changes: - <em> -> <var> - markup improvements - allow class attribute for <li>
dce6e33   Merge the last of the 'filtering' functions into ssl_engine_io.c, merge   ssl_abort into what was ssl_hook_CloseConnection, clean out a bunch of   now-static or private headers from mod_ssl.h, and final fix a very small   but potent segfault if ->pssl is destroyed within our read loop.
e082418 add index file for the howto directory
3ba0aa9 updated transformations.
9d23d28 fixed links to F. Hirsch's pages, resolves bug #14253
72d1b3b fix a lot of weird links and markup
79419f1 Correct typo, cut and past error, wrong mark up and redundant see also.
fd0031d   Actually, the APR_ECONNABORTED (EOS-only brigade) is the direction we   are contemplating for the next release, not the prior behavior   (which was APR_SUCCESS for c->aborted.)
e615292   With a last little bit of help from Justin, this should cause the   appropriate amount of tumolt and turmoil if our client has 'gone away'   on us, sparing us of further processing (and potential 'renegotiations'   with a non-existant client.)
d9203ca   At least one doc I've seen says EOF+bytes is valid.  This was a typo.
2c5b9e7   Appears we forgot to check the possibility of errors coming from the   write brigade passed down from the content generator through the body   and protocol filters.
346226e Detabbify
56ca324 SSIUndefinedEcho never defaulted to <!-- undef -->
952d5d2 Detabbify
ef70d9e   Rename the many flavors of filter_ctx (pRec, fctx etc) to filter_ctx,   wbio to bio_out, BIO new and free to create and destroy (to match OpenSSL),   refactor the bio write code to stash errors in outctx->rc,   fix the blocking read at EOF if we have some data to return,   and preempt the nonblock read on GETLINE if we have the newline already.
04da9bb Setting Listen changes where you are listening. Hence, s/in addition to/instead of/ Thanks to Peter Nelson for pointing this out.
0c7b50a Small performance tweaks to net_time_filter and core_input_filter.
91f7c5e   Fix for PR 10216 ... we should not return the status unless we want the   core to ap_die for us.  If we've handled the response (as determined   by a new response_sent flag) then the server does not need to do so.
ffd207f Add a link to another tutorial by Kevin O'Donnell.
4660d1f core_opts_merge() needs to be static
351917d Fix typo.
a9b4bbe   Mr. Trawick was dead on, and this revealed a much bigger bug.   Factor out the opts/override merging (since we do it three times)   and eliminate all the nasty goto's.  This bug likely caused all   sorts of dir_walk configuration issues including htaccess issues.   Also add a few more docs where things aren't so obvious.
fde1ff1   Well that was a little borked, if you were having stack problems using   logio the missing pre_connection hook declartion could have something   to do with it.
bfd10d1 Use APR_STATUS_IS_EOF rather than a check against APR_EOF
7310a8c Style police were called back from their vacation *No functional changes*
10323a2   Inject logio into the win32 build
e44cb38 no such thing as AP_ASSERT()
f87ec93 Add some waypoints to understanding this code
24aa081 Add some commentary on how we *think* the input filtering should be working in mod_ssl.
3544260 I don't see how *len > wanted, but leave the check there.
a75b148   Clean up the read pattern for cases when some data already exists.   Also return APR_SUCCESS once we've gathered any decrypted bytes.
e274246   Distinguish inctx, outctx, frec [and b ??? looked like bucket to me!!!]
62c6750   More nits spotted by Justin, and catch all the errors except SYSCALL   in the SSL logging section.
6a63226   Suggestions by Justin, implemention by Will.  Rename away all bogisity,   especially eliminating all of 'our' capitalized identifiers that were   easily confused with library symbols; go with APR_STATUS_IS_EOF() just   in case there is a platform result; fix a bogus *len = 0; reassignment   and fold the two flavors of input context tracking into one.
b631a9c   Completely refactor the BIO-side client input handling for the SSL library.   Should eliminate many false spurious interrupt detected errors.
22c4e62   Fix a trailing slash/last filename truncation bug observed on Linux,   which affected DAV MOVE operations and even general file access.   PR 14147, 10687, 10236 [Dan Good <debug@gooddan.com>]
6c58403 Terminate CGI scripts when the client connection drops.  This fix only applies to some normal paths in mod_cgi.  mod_cgid is still busted.
90231d3 when the connection drops, c->aborted is set but generally ap_pass_brigade returns APR_SUCCESS
b143c6a add a comment lamenting the lack of a cleanup for the CGI child process and mentioning some issues related to the problem
34f6d24 note release date
4f9b098 document a byterange filter fix
2122d4a Added my two cents worth of votes and updated the cache entry in the experimental status section.
8a1c005 record a few votes.
87bccc4 Use r->request_time in lieu of apr_time_now() in cache object age calculations
96102a4 New XML.
9eb3f86 Update transformations.
d6e6d4a Typo.
8f9c72b Update Japanese translations.
ac212ec   Fix memory leak in mod_ssl from internal SSL library allocations   within SSL_get_peer_certificate and X509_get_pubkey.
7687370   Detabbify.  With extreme prejudice.
4679160   On an errno rampage... ap_log_error takes an apr_status_t
84a5fef   Close several small leaks in SSL.
1129d24 PR 8482 is resolved
bb0c7d6   Commit rbowen's votes at his request, gotta get that access issue cleared   up for him in avail.
74e8725 it's a darned good thing these things are in the status file or I'd NEVER be able to keep up
f38f48c Votes
e3c6711 add some votes
0ab88ff Clarified the wording on backward compatibility for 2.0, and added my vote
7d61da5 Add in my 2c on the 2.1 and versioning schemes.
27b502b Added comments on the async I/O part of the roadmap
7715521 Cast some votes (my 0s are true 0s in that I'll abstain for now)
50cb967   Other humble opinions
0bd4153   Submitted for your consideration.
18676a8   Create a new VERSIONING document, splitting the 2.1/2.2 template from   our 'ROADMAP' of future development paths.
3156032 Adds example of Group directive
63b5ab7 Add examples of using ErrorLog, particularly logging to syslog.
1719e0f It seems that a lot of people get confused about where they can put header and footer files, and assume that they *must* be in the same directory as that being indexed. Just being a little more explicit on this point, as it seems to come up very frequently.
e82d706   Outch.  No freeing consts.  Fortunately, the fn's return code isn't const.
b08ea65 Nothing to say.
52eeb38 keep german version in sync:
7e86406 - Add <seealso>s to the starting & stopping documents - several markup improvements
5b74592 fix the interface to PEM_read_bio_X509() with OpenSSL versions older than 0.9.4.
8a0bef5 mod_ssl uses free() inappropriately in several places, to free memory which has been previously allocated inside OpenSSL. Such memory should be freed with OPENSSL_free(), not with free().
20ea80f Fix a segfault when the client closes the connection prematurely.
d7cb5c9 don't apply byte ranges to redirects, error documents, etc.
cc24493 i hate it when tha happens..
7392d90 more info is better than less..
b5ba424 Fix streaming output from an nph- CGI script.  CGI:IRC now works.
816177d mod_logio modification: count bytes-sent after the writev or sendfile call in the core_output_filter, in order to get a more accurate count of the total bytes transmitted in cases where the client terminates the connection before the entire response is sent.
9cfaf13 fix some problems in the perchild MPM
f54ba47 stylistic improvements
c1ec40f Update transformations.
8ebae3e Fixed also in the German version.
d9cfdc7 fix and clarify links to the online doco.
4d41fa5 Change the CacheRoot processing to check for a required value at config time. This saves a lot of wasted processing if the mod_disk_cache module is loaded but no CacheRoot was provided. This fix also adds code to log an error and avoid useless pallocs and procesing when the computed cache file name cannot be opened. This also updates the docs accordingly.  [Paul J. Reder]
ccb3fa0 Change the CacheRoot processing to check for a required value at config time. This saves a lot of wasted processing if the mod_disk_cache module is loaded but no CacheRoot was provided. This fix also adds code to log an error and avoid useless pallocs and procesing when the computed cache file name cannot be opened. This also updates the docs accordingly.  [Paul J. Reder]
eaedb6f Switch to a DNS based certificate rather than an IP based certificate as the default.
8ecc269 fix "long lost child came home!" messages after a graceful restart with MaxClients (== ap_daemons_limit) lowered.  This leaves junk at the end of the formerly used part of the scoreboard.  If you then decide to raise MaxClients via graceful, the junk prevents those scoreboard slots from being used.
74d8971 2 silly bugs. First of all, make the code match the error log (and allow 8192 to be valid). Secondly, this missplaced else made the size part (8192) non-optional for shm: PR: Obtained from: Submitted by: Reviewed by:
4c46ca3 more cache work todo.
bf0805b cache updates
de158f5 typo
c67736d keep german version in sync; no content changes
1e8bf7d markup improvements
7e5a93d Update transformations.
dc5db04 New XML.
64e801f Sync Japanese translation.
a126ba2 whoops. two parameters are two parameters are two parameters.
3504393 step by step... :) <em> -> <var> add some <seealso>s to mod_action and mod_asis little markup improvements
239213d Fix an error in the <default> for MaxSpareThreads.
4d0625fd Fix breakage in mod_mem_cache caused by the EnableSendFile patch. Specifically, we need to save the file open flags from the file opened by the default handler. Retrive those flags when building the apr_file_t on a cache hit.
e56bb95 Add technique for dealing with major version bumps. (i.e. lazily resolve them when we go to create a new stable tree)
22cfb9d Split out the stable and development release strategy. (We don't need a constipated release strategy for unstable trees.)
d9306ff Phrase that sentence even better.
07c78e9 How I forgot this spelling mistake, I dunno.
0bc8690 Add minor clarifications and word-smithing as I read through the proposal.
a75d816 the MPM module docs: - <em> -> <var> - a little other markup changes
761e85b - fix context info of ModMimeUsePathInfo (ACCESS_CONF) - improve markup - fix some typos - update the transformation (in that order ;-)
f3a63eb   By popular request, add a bit on release candidates
4412eb7 A few simplifications, and move to the perl/linux style even=stable version numbering.
2d085d4   With fixes from Greg Marr (thanks for fixing my borken englais).
ea1784b Ugg. We need to use '%pp' not '%p' since ap_log_error uses apr_vsnprint(), which has the overloaded '%p' format (not ANSI).
7d357a5 Adding the current version string to the link of each NLM
62195da General make file changes to extract the version string and create NWGNUversion.inc
e832cda AWK script that extracts the version string to be later used in the link of each NetWare binary
b2a9cd6 I guess I should fix my affiliation as well
92d5134   Reclassifying per Ryan's request.
ef44b2a   Ryan asked that these be updated.  As a no-longer-voting member, and no   longer a voulenteer to fix these things, they are staying put amoung   the open-issues, no-name-attached
8aab220 don't use deprecated function apr_sort_hooks()
d24232b Updating the NLM descriptions in the NetWare make files
02e0ac7 New and improved...
4de39c7 %qd is not portable; use APR_INT64_FMT_T for apr_time_t
79ba964 update transformation
c466d81 (re-)add the obsolete module docs. This commit is a base for some discussion and better work on the documents, feel free to add or change the files I stuck with mod_access for now, since there's no decision about yet.
bdc2bbf required changes to include the obsolete stuff. - new entries in en.xml - sidebar for moduleindex - new <hint> element for modulesynopsis - status attribute for <directive> and <module> in order to   create correct links (status="obsolete" inserts an 'obs_'   before the module file name in the href)
51ee553 Code a bit more defensively. If dav_lookup_uri() ever placed user input into lookup.err.desc for the HTTP_BAD_REQUEST case, then we could have problems (via a format string attack). This change frees us from *future* worries.
44c9ecd fixed another link.
9c4cb37 Update transformations.
5255f54 Update Japanese translation.
c18e21b New XML.
e6f560a Update Japanese translation.
a690f04   For the new EnableSendfile directive...
4160451 A happy outcome is worth waiting for... add docs for AddOutputFilterByType sorry for the long delay.
f86fff4   Been busy
0f2f4e1   Notes to close PR 10190
7fe519e discovered some useful stuff in the code, see: server/core.c:core_override_type
a3318e4 Add a note to the developer docs about Kevin O'Donnell's tutorial.
acd5a7e   Fix -k restart feature on win32.
b2e1227   Use a better name for the APR_SENDFILE_ENABLE flag.
6004163 Update transformations.
fa92540 import the proxy_module system for the NetWare project build
49d6e90   Document EnableSendfile.  I'm presuming that directives.html* and   quick_reference.html* are now autogenerated.  Could someone run the   xml builder and commit the compiled results?
9ac2b41 Switched to the APR_STATUS_IS_XXX macros
e7686fb Need to import the proxy_module symbol
a1ef192   Introduce an EnableSendfile directive (defaulted to ON) to allow users   to disable sendfile mechanics for NFS volume mounts and other kernel   objects that don't support sendfile.  And EnableSendfile off can be used   to help narrow bugs down to the sendfile mechanics or eliminate the   possiblity that sendfile is a factor on any given platform.
bb2e26f Fixed incorrect link.
334b18b   Fix for Sebastian's observation of my fat fingers.
62f1105 Haven't heard any vetoes regarding this, so might as well fold it in. Not too happy about cluttering up the list of directives either. But, at least, it allows 2.0 to proxy stupid IIS as much as 1.3. Docs to come soon. PR: Obtained from: Submitted by: Reviewed by:
658c243 This stuff shouldn't have been committed.  This is the SSL upgrade stuff, and it was included in a commit that shouldn't have touched these files.
62eedfb   Handle WSA_IO_PENDING as well.
5a3e3f0   A couple of observations
eb76ddf markup improvement and updating translation
9765f8f   Bigger hack alert.  Expand the range of unrecycled sockets to include   WSAENOTSOCK for dealing with the AcceptEx failed bug reports.  Experimental   build to go out shortly.
2c64c0f updated transformation
b686ea2   Temporary fix for the len type discrepancy, with documentation to be fixed.
f5bcea9   auth_basic and auth_digest are now exclusive of one another on Win32,   with the provider hooks moved into the core
a0a4ca0 imporve markup
e9782db   What once were macros no longer need line continuation
d93eef3   Some errors are impossible to fathom, without the user knowing certain   base numbers.  This patch introduces "(EAP ##): Eap message" for the EAP   errors, "(OS ##): Message" for modestly numbered os errors (under 100000)   and hex "(OS 0x########): Message" for huge errors, which generally have   bit-flag meanings and are usually represented in hex.
577e226   Some good casts - mem_cache cannot overflow with LARGEFILE sized objects.
168543c update transformation due to perchild.xml changes
dd5aede rewrite of ap_cache_liststr
910d96e Fix a mismatch of data types: apr_time_t vs intervals measured in seconds.  Also use 64-bit atoi conversions to avoid loss of precision (thanks to Paul Reder for the atoi fix)
56dbd00   I believe these should be the defaults under the new auth schema.   Feel free to correct me if I'm wrong.
11128b2 NetWare makefile changes to facilitate building the auth_ldap modules
0f87916 Fixed a problem with the NetWare command line builder for building the CGI command line.  It did not handle building the command line when given a script rather than an executible.
2795dc6 If the server is configured with an accept mutex type that isn't comaptible with perchild, then force it to be FCNTL.
37f9061 Fix a compile of compiler warnings.  I don't know how these slipped past. Also, uncomment a line of code that the last commit should have uncommented. Randall found this line and the fix, but I forgot to uncomment this line along with the fix.
571d1a1 Fix receive_request, it was using the same location in the iovec for both headers and body.
10ed47b Fix the docs for ChildPerUserId.
093060b Regenerate Japanese HTML files.
e9c4a44 Update Japanese translation.
69b542e Update transformations.
4550365 Convert context element back into English.
c4b048c Update Japanese translations.
e62cf53 Convert context element back into English.
2e0fdc1 Update Japanese translations.
67678e0 Update Japanese translations.
ac21cfe New Japanese translations.
510079d fix a problem generating the docs via scandoc
32870a7 Remove an unwise encoding="none" when dealing with the REDIRECT_REQUEST_METHOD because of what it might contain if the server is configured to handle unknown methods.
d949e02 Typo.
795c3a0 One line fix to get HTMLTable to validate.
1e7c567 Update README.ldap file for Windows build instructions. PR: Obtained from: Submitted by:	Andre Schild <A.Schild@aarboard.ch> Reviewed by:
8f2672d Change the LDAP modules to export their symbols correctly during a Windows build. Add dsp files for Windows. PR: Obtained from: Submitted by:	Andre Schild <A.Schild@aarboard.ch> Reviewed by:
aa5888a fix bogus anchors
ecc81a9 update transformation
54c2f34 fix many links in respect to the aaa changes. Probably overlooked one or two ;-)
26d7724 Updated translators info.
a001787 Added portuguese-brazilian error-messages.
7b672a2 core.xml: revert turns to <pre>formatted examples and use           <indent> elements update transformations of core.html.en and   quickreference.html.en (due to the mod_rewrite.xml fix)
7e9ff3f Typo.
f0f384c Fix recent exports.c breakage by referencing exports.c as being in top_builddir rather than top_srcdir.
1c10851 increase the font-size of example/warning/note title a little bit. It should look much better now ;-)
3cf5073 template parameter passed to apr_file_mktemp() must be modifiable
08a1c36 fix context abbreviation code it didn't work properly if there's a newline inside of a context (instead of a single space), so some <context>virtual host</context> were lost.
22a342b update transformation
c9ff803 context list information are now taken from $lang.xml file. the module file holds the *untranslated* "server config", "virtual host" etc.
b4004e7 remove surplus CSS files
4ef885c <context>directory</context> includes location
edd2f99 We can't just create the temporary file in the current directory.  If that directory isn't writable, htpasswd won't work.  This adds a function whose responsibility it is to find a valid directory for temporary files.
03b8f85 Fixed the new send_all_header_fields() function to properly compute the size of the iovec array.
38d154b update transformation due to the change of synopsis.xsl
f89d0be fix some style issues - red solid border around warning areas - <syntax> gets a <code> around   (more shouldn't be used, because it breaks the flow too much) - headings of warnings, notes & examples are left aligned
aea58da update transformation...
c62c5a6 New XML.
d7fadfd Remove mod_access.html.ja.jis and update transformations.
bec4740 Update Japanese translation.
5ed300e Update Japanese translation.
93d7c50 Restore contents of this file. Perhaps Justin accidentaly copied wrong one when he renamed mod_access.xml.ja to mod_authz_host.xml.ja. (It's no big deal.  It's solved by simple merge.)
a88dac3 Clarify what basename is (from 1.3). Fix typo.
631c606 remove forgotten mod_access.html.en update transforming of upgrading.xml (due to relative path errors)        (Justin, is your build.xml out of date?)
e23f2cf Update the docs to fully reflect the aaa changes by linking in the new modules and removing the deleted ones; renaming mod_auth_anon->mod_authn_anon, and mod_access->mod_authz_host.
39a227d Simpler, faster code for generating HTTP response headers: Instead of passing a callback function to apr_table_do() to generate one field at a time, just build an iovec containing all the fields and make a single call to apr_brigade_writev().
66c2e32 Mention Thom's port of -S to 2.0
b5be533 Add -S as a synonym for -t -DDUMP_VHOSTS
4897518 Removed another <samp>...and now they are validating all ;-)
8fe3393 Fixed a XML/HTML issue.
2e6f370 Update transformation.
17e63f1 zzzzippp...and another one :)
275763a New XML plus transformation.
a5e91d5 Fixed a xml issue.
4166a2a These two files have been converted. PR: Obtained from: Submitted by: Reviewed by:
30eb068 put module names into <module></module>
abe8718 add a BrowserMatch directive to enable redirect-carefully for the Gnome VFS so that WebDAV works correctly with Nautilus and other code using the Gnome VFS
8f946cc Fix a bug with dbm rewrite maps which caused the wrong value to be used when the key was not found in the dbm.
4949fcb Add a comment about the setting of no-gzip.
dfaf816 Vhosts doc hase been converted to xml. Added: remove <pre> elements
15ccbce remove reference to no-longer-existing ssl_glossary
40bed3a Ugh, I forgot some <pre> elements
67c8e21 Conversion into XML
b4e1372 removed due to convertion into xml
7fa99d8 set padding-left for span.indent to 1.5em
2573781 new Russian translation.
e662172 add xslt/html/css support for <indent> elements
efc2c6e Added <indent> element (after a discussion with and reviewed by nd)
92404a2 This is worthy of a CVE name, thanks to Joe for the headsup and text PR: Obtained from: Joe Orton Submitted by: Reviewed by:
035f532 moved a warning to the correct section
53f940a Fix a problem with streaming script output and mod_cgid.  We have to tell APR that the socket can be treated as a pipe so that the apr_file_t is initialized properly.
ef37086 Fixed the import and export lists between authldap and utilldap
c76ecd7   Get ready for a potential release this afternoon
54bae49   On to .44
077f00f   They are still here, they didn't make it into 2.0.43 however
987c814   On to the 2.0.43 candidate
cf2e90c ok, starting this: turn bogus <em> to <var> also: - several markup improvements (I hope) - remove &nbsp; from c&p examples, because:   - if you want preformatted text, use <pre>   - they may lead to invisible errors (\xA0 = &nbsp;     is not recognized by the config parser as whitespace)
dc71bf3 Add mod_logio to the NetWare project file
54425d0 Don't bother destroying the memory pools and buckets for each thread at during shutdown since it will all be cleaned up at termination anyway.
4047bee Add mod_logio to the NetWare build
72f0111 Add logic to the default_handler to enable script delivery to script processors located in the output filter stack. This is on by default, but will change "soon" to off -- the processors will then need to enable it when they are installed into the filter chain.
01b9944   *) SECURITY: [CAN-2002-0840] HTML-escape the address produced by      ap_server_signature() against this cross-site scripting      vulnerability exposed by the directive 'UseCanonicalName Off'.      Also HTML-escape the SERVER_NAME environment variable for CGI      and SSI requests.  It's safe to escape as only the '<', '>',      and '&' characters are affected, which won't appear in a valid      hostname.  Reported by Matthew Murphy <mattmurphy@kc.rr.com>.      [Brian Pane]
7fd6a8c   Until we have a mechanism to allow PHP and others to 'raise their hand'   and claim 'POST' we have to continue to accept POST in the default   handler.  Revert to rev 1.206 per Rbb's and wrowe's veto.
a878409 I can't use England for my generic location anymore! PR: Obtained from: Submitted by: Reviewed by:
70b4048 Fix a core dump in mod_cache when it attemtped to store uncopyable buckets. This happened, for instance, when a file to be cached contained SSI tags to execute a CGI script (passed as a pipe bucket). [Paul J. Reder]
0e4fab9 Sander reminded me that this was out of date.
e840276 Ensure that output already available is flushed to the network when the content-length filter realizes that no new output will be available for a while.  This helps some streaming CGIs as well as some other dynamically-generated content.
04bcc51 i was born a rambling man...
71fe98f Fix a mutex problem in mod_ssl session cache support which could lead to an infinite loop.
b865fe1 bleeble blooble blam
8b8a1ba Fix bug in the default handler. POST is not allowed on regular files. The resource must be handled by something *other* than the default handler.
43b381f Some thoughts on file-agnostic Apache.  (more thoughts later...)
be7d12f I'm borderline obsessive compulsive regarding tabs, but you knew that... (Also correct directive usage)
f00d885 added a clarification about separation of proxy functionality and mod_cache; added a link to mod_ssl (for proxy directives)
a18e332   Offer more thoughts
c77a61a some thoughts on reaching repos-agnostic behavior in apache
b25987b back out the stuff from mod_ssl that shouldn't have been committed.
a8e8725 Call out the success cases when we don't get APR_SUCCESS back from the network write.  All other status codes result in c->aborted being set, which allows the logs to note that the connection was aborted.  Previous to this patch, if the network cable was unplugged on the client, the server would get APR_ETIMEUP, but we wouldn't note that the connection was aborted.
f879000 Update place of work.
ec59fee "Make install" would fail for released versions because they do not contain CVS directories....
0ede7e5 Fix typo.
fe89071 New transformations.
0a34fed Fix a broken URL.
6dcc64a New Japanese translations. Forward port from 1.3.
2a0a2a6 Update transformations.
31c2d90 Update Japanese translations.
37aae50 New XML.
0a4da33 Update transformations.
b5f687b New Japanese translations.
c3870c4 New XML.
d1458dd Regenerate directives.html.ja.jis.
43a63eb Allow CGI scripts that use POST and mod_dav to exist in the same location.
2f970a6 a dead link is removed plus the commented paragraph what points to a not existing UR on the Apache site for former Apache 1.2 patches
1b9119c a dead link is removed plus the commented paragraph what points to a not existing UR on the Apache site for former Apache 1.2 patches
67efcdb Add a link to Binding in the Users Guide section.
10eaf07 - fix several validation errors - introduce CSS class td.centered: guess, what it does ;-)   please, use with care...
937c39f ssl xml files are done added reminder for translation cross links
738e5e9 - added two lacking definitions from old ssl_glossary   (algorithm and session) - fixed some links - changed example from whatever.com to example.com... - little markup & style fine tuning
de6ba80 New SSL XML, part two.
0a5846a - add the general ability to create zebra tables   automagically (<table style="zebra">) - allow some attributes in th (e.g. colspan) - add ability for <h4> sections - refuse to transform deeper nesting than h4
d8b0033   Clean this up a bit.
0d48aa6   --with-static-support really satisfied my arguments here.  YES, I'd still   like that as the default, but let's restart the discussion, 2/2 vote with   no activity is obviously not a pressing issue for anybody.
bb09a85   Change the tone of ROADMAP.  This isn't a hard-n-fast, we can't implement   prior to 2.1, nor a milestones document.  It is a collection of those bits   that aren't immediately relevant to the STATUS of the project.
b83dcf7 - add mod_logio entry to sitemap - add mod_logio transformation - add lacking section id to mod_log_config.xml   (and update transformation)
4e41589 Back out some changes that should't have been committed.
19b98bc Allow the UserDir directive to accept a list of directories. This matches what Apache 1.3 does.  Also add documentation for this feature.
194829c New Module --  mod_logio. This adds the ability to log the bytes sent and received for each request
3fa4aed allow inline quotations (<q>)
8bb8b35 new SSL XML, part one revised the original submission (mostly markup changes and some structural rearranges)
006e62f add some module markup
1c900d1 simplify naming of the tons of windows(tm) versions
45e5469 Re-order header files in suexec.c.  This adds apr.h, which is required to get the apr macros.  Other than that, it is just for clarity.
4139630 SuExec should use /usr/local/apache2 not /usr/local/apache as the default directory.
62d6bb3 the recent change to fully-qualify exports.c to fix the build with some BSD make broke the build for AIX make...  fully-qualifying exports.c in LTLIBARY_SOURCES makes it build again
253f87c Get mod_auth_ldap to retry connections on LDAP_SERVER_DOWN PR: Obtained from: Submitted by:	Thomas Bennett <thomas.bennett@eds.com> Reviewed by:	Graham Leggett
0df2b65 Clean up addition IPV6 build issues
6261a36 Added an entry to track mod_auth_ldap in experimental.  If anybody knows of other ldap module issues, please add them.
ed40fff Full path required for BSD make (haven't I done this before???).
ae2c654 Improve hook matching.
b31bec2 add some parens to quiet a gcc warning:
75c84ac Make sure the contents of the WWW-Authenticate header is passed on a 4xx error by proxy. Previously all headers were dropped, resulting in the browser being unable to authenticate. PR: Obtained from: Submitted by:	Dr Richard Reiner <rreiner@fscinternet.com>, Richard Danielli <rdanielli@fscinternet.com>, Graham Wiseman <gwiseman@fscinternet.com>, David Henderson <dhenderson@fscinternet.com> Reviewed by:	Graham Leggett
4d8030f Remove unused file.
c702753 Update transformations.
4ced8d2 Update Japanese translations.
8155406 New Japanese translation.
0c8bcb3 New XML.
b47b0f0 Fix the per-server config merge function in mod_cache to properly inherit CacheMaxStreamingBuffer PR: Obtained from:  Matthieu Estrade <estrade-m@ifrance.com> Reviewed by:	Brian Pane
491919f Minor simplification... The can_send_content_length variable is redundant with ctx->data_sent.
36b5c1c Update the status of 2.0.42.
d7f8bc3 New XML.
48cd495 Update Japanese translation.
655d969 I just spent a few minutes helping someone on the users list figure out how to use <IfModule> with php4 and Apache2 (solution <IfModule sapi_apache2.c>).  Document the technique for posterity.
1b31d9a Some small fixes to the windows docs; mostly add XP and improve a few titles.
e8a7793 Add a link to Ryan's stuff on ONLamp.  They are a little dated, but better than anything else in the docs.
805f42c move module list into sitemap.xml allmodules.xml is no longer needed.
69ab6ff Transformation.
7f3d5f5 Fix some links.
5bd1385 XML conversion list is shrinking.  Mostly howto/ ssl/ and vhosts/ left. Then we need to figure out what to do with programs/.
2707cf9 Remove the stylesheet kludges for incomplete translations.
7065954 Convert rewriteguide, perf-tuning and misc/index to xml.
f119de1 Removed an extra apr_atomic_init() call from the mem_cache post-config code (the APR init takes care of this at httpd startup)
c5f6ba7 kill a warning
c8627c8 rebuild of directive quickreference this mostly modifies the layout and adds a letter bar
09ce7e3 Switch the most frequent apr_brigade_write() and apr_brigade_puts() calls to apr_brigade_writev() for improved efficiency
41c9349 just another ant caching issue. This patch actually doesn't solve the problem. It works around with our current data. Probably we have to separate the build of the module docs (<modulesynopsis>) *sigh*
227c242 Some fixes for Swedish error docs.
d6d6806 Convert ebcdic to xml, move it to platform, and add a basic index file for the platform directory.
297fd57 <letters> is no longer needed.
c831ad2 <letters> is no longer needed
a917a0e use generic mechanism to detect and create linked letters nice side effect: the build speeds up ;-)
b21331d add generic mechanisms for - collecting start letters of directive names - creating a letter bar with this change, the <letters> element is no longer needed
dcec854 Clean up some left over garbage in the NetWare make files after moving the provider API's into the core.
f36f61b Added provider.c to the core and made adjustment to the auth modules in the project file
e94bcc5 Need to include the new ap_provider.h header in our export header list so that the AWK script will generate the correct export list.
551b738 A NetWare version of the httpd.conf file is no longer needed since all of the NetWare differences have been folded into httpd-std.conf.in or added through the mkconfNW.awk script.
f979a34 Add missing includes in mod_authn_file and mod_authn_dbm.
e3455cc Take a stab in the dark at fixing up the Netware build due to the addition of ap_{register|lookup}_provider.
797f3af Fix up Win32 build.
5249b89 Remove mention of AuthDBMAuthoritative and AuthUserFileAuthoritative directives.
fad5622 Fix broken link to rewritemap in rewritelock description of the quickreference. Relative anchors to directives may only be set, if we're actually transforming the particular <modulesynopsis> document.
8805356 Fix typo in doxygen comment
dd3fba4 Axe unused file.
7efe307 Add ap_register_provider and ap_lookup_provider functions which resolve the DSO link problems for DAV and the new aaa modules by moving the provider code into the core of the server and generalizing them to be used by any code.
0ff5333 Added <module>...</module> to module-references.
0888f88 add a note, that mod_alias and mod_userdir are forced to be run before mod_vhost_alias
8a329d9 Kerplop.
e1c568b Fix a slight mozilla rendering problem by scattering around some harmless <p>s.
0f20c7f Update transform due to slight build problem.
979b613 Fix up a few small xml validity problems.
ca31396 Fix a couple little mistakes that probably creaped in during the xml conversion.
77fb17a add a link to mod_echo
8f701a5 Update after the tag (and roll).
09a5b63 Prepare for the tag.
4901212 Moving on...
28bcef2 Rework the apxs -cp command to work when the source dir isn't available by querying apr-config and apu-config at link-time instead.
b9f7303 Fix a bunch of little problems that the directive quick-reference made apparent.
41b61ff If a body arrives with an OPTIONS request, and it contains an <options> tag, as defined by RFC 3253, and we don't recognize the option as a builtin one, then we pass that off to the versioning hooks of the DAV provider for it to process. However, we neglected to check whether the provider actually *had* versioning hooks first.
803bf93 Add -p option to apxs to allow unbundled modules (such as mod_mbox) to compile and link helper programs that use apr/apr-util.
5cc7007 Remove following warning:
372ec11 <var> becomes legal
846f09f Allow instdso.sh to be used with a .so file directly rather than requiring a libtool archive.
18ab049 If the user passed invalid credentials (user id or password) and auth_ldap is authoritative, allow the user to retry.  This is consistent with the other auth modules.  It previously only allowed a retry if the password was invalid.
9ac1d8c - fix examples: turn example.isp.com to domain.example.com   (isp.com is really a bad choice, YMMV) - add "none" to syntax descriptions and fix defaults - fix several <directive>s - add infos the descriptions of *IP directives   (redundant, but to reach more clearness) - add section ids - fix some typos
dcf02d4 Link up the quick-reference.
0756a63 Update transformation.
b54a8e9 CSS changes to accomodate the quickreference.
f41824c A little fine-tuning.
2a88e1b XML file and initial transformation for quickreference.
9cfb699 XSLT instrastructure for the quickreference.
af20c68 add missing unit `days' for CookieExpires
0ec82e5 add section id for "multiviews"
d387982   Restrict Win32 API replacements from interfering with 3rd-party builders   of add-ons or any other consumer of win32's os.h.  PR 12779.
e9fb061 whoops. keep revision info up to date
e29fb44 add basic files for russian translations
9e0a2a9 fix doctype definition
5ed22ae If we fixup the timestamp on modules/ssl/ssl_expr_parse.c after running buildconf when we roll a release, we should do the same for modules/ssl/ssl_expr_parse.h and ssl_expr_scan.c.
913278e Add ability to use multiple providers for basic and digest authentication.
fbf9567 Remove Authoritative functionality from the authn providers.
8d21ba1 Fixup the timestamp on modules/ssl/ssl_expr_parse.c after running buildconf when we roll a release.
3220f40 Glossary entry for MMN.
acab75a switch a list type for better readability
70a5f0c Update status of 2.0.41.
96e5043 Removed unused variable
6453fb2 The protocol version (eg: HTTP/1.1) in the request line parsing is now case insensitive. Before, 'http/1.1' would silently be forced to HTTP/1.0
17138e8 Update after the tag.
86371dd We need to set r->handler to indicate that we'll be handling the request. Otherwise, other modules may attempt to do "funny stuff" with the request (specifically: mod_dir will map /some/path/ into an index.html document if found).
89e5e16 add a todo (it grows :)
955e4a2 fix context of CacheNegotiatedDocs
7599dce Prepare for the tag.
ecc042e Added some <code></code> (suggestion by Tim Gerundt <tim@gerundt.de>)
5c71fcc We aren't at 2.0.42 yet.
69fc13b Moving the auth_provider APIs into the core binary to avoid a chicken and egg problem when loading the auth modules vs the providers.  (Can't load the auth module until the provider has registered.  Can't register the provider until the auth module is loaded and APIs are available.)
a8b297b german translation based on install.xml r.1.4
211e2f0 You know it balances on your head Just like a mattress balances On a bottle of wine
e9229fc Fix a link to the old bug database.
a3484b5   APR_HAS_MMAP == 0 in apr.hnw, so we can presume that this directive is   a noop for today.
cee87d9   Consistify the configuration files for the .41 release.  This brings   all three flavors back into sync.
de6f88c Well, I see you got your brand new leopard-skin pill-box hat.
da2fe5c platform docs transforms to XML are complete. added some todos & comments
ace4271 new XML
7e6576a Obtained from: docs@httpd Submitted by: Thom May Reviewed by: Rich Bowen Hi, this chunk of the install page is no longer accurate; you can do ./configure --enable-layout=Debian --prefix=/blah and that works fine, with all options being respected. Cheers, -Thom
b428e82 zap a gcc warning about using an uninitialized variable (new) and check for a possible syntax error
6f67265 static-ize a function which is not supposed to be exported
f4bab31 Convert cgi.html to xml
6d83ecd Conversion of ssi.html to xml
5adcd21 Get rid of my email address in yet another document.
c5b0867   Modify ap_open_logs (an internal function) to follow the hook open_logs   argument schema so it can be directly invoked by the hook handler.  Also   clean up the open_logs processing to return an error rather than simply   exit()ing.
822b5eb   Revisit the code that Ian and I discussed on list.  Actually pre-flight   the access logs so that failure conditions are noted earlier, and return   out of the code using the != OK convention from ap_hook_open_logs.
e01dcce   We log this failure (with an identical message) in the restart loop code,   there's no reason not to note it in the preflight pass.
41c6c46 Some status updates, including:
996a1a8 Fixed an invalid URL to the docs of the lockfile directive.
674ef56 platform/netware.html and perf-hp.html are transformed.
c6ab5bb new XML
02ca8af update perl version info
c3852df update perl version info
92b395d Allow AddOutputFilterByType to take in multiple filters.
0070f5c Remove warnings seen with Sun's Forte compiler.
63be389 Revert r1.57 and r1.58 per Will Rowe's veto.
894f2c0   Return mismatches... this solution simply won't work, as Ian reminded me.   Needs more work/time I don't have this afternoon, reverting to r 1.91
ffe5c96 This patch makes this page validate as correct xhtml. Obtained from: Post on slashdot - http://apache.slashdot.org/comments.pl?sid=39420&tid=148&mode=thread&pid=4210241#4210350 Submitted by: ThatDamnMurphyGuy (chris.laco at threetech.com), via slashdot
de2a40c   At least follow the proper failure path for failure to open the log file   or logging process.  Doesn't fix the lack of preflight testing.
0e6f6d6 no more hacks :) but a buggy file remains *sigh*
eac90b6 truncate existing file if "-c" is used
5272c10   Move another non-exists test into the non-existing tests block, and   clean up the comments a bit more.
807087a   Forgot a file from the build overhaul for aaa ... need all those new   modules mapped into memory.
1c04b0e Fixed the fix before :-) Thanks to Andre.
3b06b7a link typo.
f931893 More code cleanup: added some error checks and removed unused functions
40e3215 remove single-byte file reads
4de8023 cleaned up the file access checking
0ffc50f Remove the setting of the status line from the cache in mod_disk_cache, because this was causing 200s to be sent on responses that were really 304s Submitted by: Kris Verbeeck <Kris.Verbeeck@ubizen.com> Reviewed by:   Brian Pane
ae2b699   1. Eliminate perror(), it's not portable.
15e970a Add documentation (rough, but something) for new aaa modules.
128ea1d Revert the examples to use AuthGroupFile
11640d9 Upon further review, it seems silly to add z the here when we didn't add the n to the authn_file/authn_dbm backends.
da32355 - fix a typo - mention the Allowoverride FileInfo in RewriteOptions' synopsis - mention also, that pcre is used now (RewriteCond, RewriteRule)   and set a link to perldoc.com (`perldoc perlre`) - add compatibility note for the cookie-flag (RewriteRule) - add RewriteMap dbm type choice compatibility note
cbb609a   A quick-n-dirty hack.  Expose the auth_provider api from mod_auth_basic   alone, on Win32 only.
899e5d3 Added the new auth modules to the build script for building the default httpd.conf file
ebb7183 Removed access_module, auth_module and added authz_host_module in order to comply with the new auth module architecture
870bad0 NetWare project file that has been updated to build the new auth modules
3b1df81 NetWare make files and .def to build the new auth modules
2098aa6 NetWare Auth module .def files that are no longer needed due to the new auth module architecture
8ab4320 NetWare auth_digest make file that is no longer needed
572f9c3   Axe unused variable 'res'
f319aff fix broken links to container directives
d6d8198   Welcome to the new schema.  Multiply defined symbols blow.
0a2c11e mention default value of IndexOrderDefault transform update: directives.html.en
f74f3e6 insert some linebreaks for better diffs ;-)
c414d4b Add English doc for MaxMemFree Obtained from: Sander Striker
7870f5c Typo.
5c170c6 fix links to the options directive. (hope to) clarify, when parameters have to be quoted   for the AddAlt* directives
3113878 request query example goes XHTML
fb72cf1 Add support for using fnmatch patterns in the final path segment of an Include statement (eg.. include /foo/bar/*.conf). and remove the noise on stderr during config dir processing.
c844a62 mod_cache: cache_storage.c. Add the hostname and any request args to the key generated for caching. This provides a unique key for each virtual host and for each request with unique args. [Paul J. Reder, args code provided by Kris Verbeeck]
07a4681 Do not cache responses to GET requests with query URLs if the origin server does not explicitly provide an Expires header on the response (RFC 2616 Section 13.9)
b3d3eef Update transformations.
9d6e88a Update Japanese translation.
a6c23bb remove a holdover. images inside #toc and #topics don't appear in this style
25eacd1 no need to redefine all the stuff. the 100% style now imports the main CSS and adjusts particular style rules.
6c22fa6 fix "hover" behaviour on non-white backgrounds for all link types.
3aea64d New transformations.
790490a New Japanese translations. Fowared port from 1.3.
75318d9 Update transformations.
945ade3 Update Japanese translations.
f90019b Update Japanese translation.
21a8122 Update Japanese translation.
70d1e74 Oops.  I committed the file with wrong EOL.
19099ad Update Japanese translation.
56b753a Update transformations.
77991b7 New XML.
f7d8396 Make file environment variables for building Apache for NetWare with IPV6 support
5cd4500 Avoid a compiler error on NetWare
13a0a92 Fix memory leak in core_output_filter.
36b2591 revert the outsourcing of page types. It causes more problems than it helps. Thanks to Joshua for pointing this out.
2a0347b make sure we always set return_code when converting a password-check failure to an HTTP response code
de24ddc pick up prototypes for apr_base64_* and, on some platforms, strcasecmp
c865da8 fix a syntax error in an enum (as far as some non-gcc compilers are concerned)
15f7219 fix a bad parameter to ap_log_rerror()
55afd8a Add Indexes to the public_html example.
77d064d "If a program crashes in a forest and no users are around, did the program really crash?"
20202e5 Stage #2 of aaa rewrite: Add provider support so that mod_authn_* modules do not have to re-implement basic auth and to allow mod_auth_digest (and other modules) to leverage the authn backends.
3283ae9 Add ability to htpasswd (via -5) to produce non-obfuscated MD5 hashes.
76480f6 transform update, perhaps this is the last big one...
de9bba7 transform update again...
ac80d35 update transformations
e886ae8 new file: printer friendly CSS
75383dc *sigh* one change - one commit ;-)
fa223b9 move the page types into an extra file, so a new type doesn't require a change of common.xsl (and causes transforming of all xml docs...)
512abf9 revised sitemap
c34a790 sitemap revision: support for new sitemap.xml
9cdc0f0 Stage #1 of the aaa rewrite - refactoring modules.
4aae1d5 Update OpenSSL detection to work on Darwin.
88759c8 Change ModMimeUsePathInfo example from .html to .shtml
81ab010 Add documentation of ModMimeUsePathInfo directive.
3e55018 Remove underlines on links.
81331dc ... and another one ...
7f7cda6 Update transformation.
1f222f5 New XML.
346948c <example> fixups.
306c5d8 Check that r->filename is non-null before trying to use it in proxy_map_location() PR: 12340
be41a50 Allow for compile on systems lacking poll.h
8ce826a Add the missing "Source File" heading.
d07e07c Some formal changes for better readability plus an example fix in mod_charset_lite.xml.
42b41e9 Fixed a validation issue/typo.
c8d1bc9 Squish.
1041752 For Bill, add just a touch of space between table cells so that it is easier to tell what is going on when titles wrap.
b4e0cfb Update transformations.
c82a7729 Link up the "Description" heading for modules and directives, and add the "Source File" heading that was missing.
2fc18ef Make the xcopy run smoother
774d3fc Convert directive-dict and module-dict to xml (and sneak in a few small content changes).
1fcd920 Convert the sitemap to XML.  (Well, I cheated a little -- I just shoved the whole thing in <summary>.)
05853ca Convert glossary to xml.
1b72ba3 Upgrade sections.html to a link on the main page.
f0d8734 A couple small tweaks to the public_html tutorial.
d773f18 Add a couple more new features.  With all the hand-wringing over the slow adoption of 2.0, we could be doing a better sales job.
882ba5a Added the LDAP module dependancies to the link
f214460 Woops.  Accidentally committed a bad index.html.en.  Get back the good one.
31b1b62 Transform updates.
0491513 Add back one alternate stylesheet.  This is a slightly simpler style, and is the one you would want to use for printing if you have a browser like mozilla that supports it (View->Style).  But I haven't explicitly designated it that way.
aae9f33 merges the double defined sections and removes the CSS validator warnings. Also adjusted the sidebar top position (it's dependant on font-size).
4b2f37c Gernot contributed the original design mock-up.
72d8abd It appears Andr� is correct that there are still some build problems.
f65c767 This is essentially a straw-man for people to hate until they come up with something better.  In particular, it is not integrated into the xml system, I just stole the generated html style to make it more consistent.  Other than that, the major changes are:
a7c28a3 Update transformations.
63de715 Update translation so that generated HTML files will make sense.
97bd341 More calloc->malloc optimizations
324fcff Optimization: use apr_table_addn instead of apr_table_setn when unserializing tables
8c9a4c2 Optimize away some strlen and memset calls
af7cda2 Update transformations.
0226876 Removed comments inherited from worker that don't apply to leader/follower
5c4e68e One down ...
3ff1853 New XML.
cd3576c Update transformations.
5c183a3 Add Apple's DAV filesystem to list of broken clients wrt redirects. Limit to shipped versions on the theory that this will be addressed in the next version. Submitted by: Jim Luther <luther.j@apple.com>
f2ef7ec change the log_writer declaration so that it takes a request_rec instead of just a pool. (so that the writer can get to things like hostname)
642f536 Update transformations.
4cba7ee Lots of people contributed to this new style, but Andr� was primarily responsible for the design and implementation, so he deserves some credit.
b59de5a Clean up the temporary brigade in error cases in ap_discard_request_body()
d6aa2b6 Fixed some bucket memory leaks in ap_http_filter() Submitted by:	Joe Schaefer <joe+apache@sunstarsys.com>
b49340a A few little changes to the css.  I don't consider these "final". More tweaking welcome.
cd9aeb1 Updated transformation.
3edc602 1. Remove all alternate stylesheets from docs.  Some of these can be replaced later if people want them.
7125ae1 Simplify mod_dav's handler.
a72d965 Corrected the context of the remove* directives.
c73a8a8 Updated XML plus transformations. This was the last one. Puhh.
a63f6aa Updated XML plus transformations. Whhups, this is a big one :-)
ec3ac85 Updated transformation.
229a2d3 Updated XML plus transformations
cf32fbd Adding the 'heart' of the new manual style :-)
9a3aee9 Clean-up for some newly located files.
fe44e68 Additional images used by the new manual style.
7cef1b4 A few status updates including a list of files to be converted to xml.
c0136a2 don't lose const when calling strrchr()
5badae2 A tutorial on public_html/user home directory web sites has been added.
166a901 Add ModMimeUsePathInfo directive.
9c09199 Added an entry for mod_cache's new CacheMaxStreamingBuffer directive
b902cb0 Morph DONE result from a sub-request handler to OK as DONE is only relevant when we are the main request.
6cc6832 Switch hook from type_checker to fixups.
166354f Allow mod_dav to be involved with sub-requests.
95dbc8e Free the temporary working brigade upon exit from ap_get_client_block()
0015ee3 provide links to new public_html tutorial
1b82598 Add link to .htaccess tutorial
a4ab383 Add link to .htaccess tutorial
7ba99d0 Provide links to the new htaccess tutorial, public_html tutorial. Feel free to suggest better places for these.
bc73871 Give each support binary its own screen name
9aadd86 Formatting cleanup only (this is the large indent that I left out of the last commit for clarity)
7747c27 Added optional support for caching streamed responses in mod_cache. Notes:   * I've created a new config directive CacheMaxStreamingBuffer,     to set the maximum amount of data that mod_cache will buffer     per request if it hasn't yet seen an EOS.  The default is     zero, which preserves the original behavior: cache only if     the response has a known content-length or all the content     is available in the first brigade passed to the CACHE_IN filter.   * A big block of code in cache_in_filter() got wrapped in an     if-statement in this change.  To make the diff more readable,     I'm committing without indentation changes; a second commit     will include (only) the indentation update.
baa4d84 oops.. thanks Shane
bae0abe This bit me over the weekend. A module with old constants doesn't work well with a system looking for new...
0071d5f Avoid calling the real exit() function when the macro exit() is called outside of a code block.
3934829 XSL for brazilian translations (pt-br).
a18421a Translations status.
f9838be switch x-icon to httpd.conf instead of mime.types
04f45ea add image/x-icon to mime.types
bc0142d Fix a couple links.
71da11a A little fine-tuning of the new sections doc.
679f82a Rearranged the loop in fix_hostname() to run faster in the common case in which lowercase characters are the most frequent characters in the hostname
7dca444 Add reference to RemoveInputFilter and RemoveOutputFilter.
aba51fc Resolve filter handles at startup to eliminate a filter name-to-function mapping on each request
eb0b70c Corrected/added the context/override information.
77e39ce Eliminated some fixed-size buffers that didn't have proper overflow checks
a85a381 Fix FileETag None directive.
482115b Document the updates to leader/followers MPM
7d3f32a Keep track of the recent changes for the new pollset API, since they may affect performance characteristics.
2cbb115 Switched back to atomic compare-and-swap instead of mutexes to synchronize updates to the stack of idle workers
f3c0223 Added support for httpd -k option
13e524f Removing extraneous pod files for leader/follower MPM
dedff7e Switched ab to the new abstract pollset API  (this will allow ab to take advantage of future apr_pollset_t scalability improvements)
a1552a6 Get rid of mod_ldap.html; it has been replace by mod_ldap.html.en
cc3a300 Fix links.
8a1f3b0 Add mod_ldap.
d2b89dd Convert the mod_ldap docs to xml and add a cross-reference and <compatibility> info to mod_auth_ldap.
5a47153 Cut an errant word.
b6896f3 Convert mod_auth_ldap to xml.  This doesn't quite conform to the DTD because there are some <font> tags that need to be removed.  There are a bunch of other little things that could be improved, including adding proper <description> tags.
d1166ae Fixing up the broken links
9baf0c5 update README.ldap and config.m4 to reflect new location of httpd ldap code
d84468c Adding the LDAP README file
ef76e81 Make files for building the LDAP module for NetWare
f39556a Update the defaults on ThreadsPerChild and ThreadLimit and not that ThreadLimit is now part of mpm_winnt as well as update a few transformations.
214a340 actuall fix the bug
83ebce5 Win32: First cut as cleaning up mpm_default.h defaults
bd056e1 deflate's filter removal was reversed for non-html files, resulting in it never being applied for non-html files Submitted by:	Kris Verbeeck <Kris.Verbeeck@ubizen.com>
0e65ce8 OS/390: re-instate support for single listen unserialized accept
0389ecf Leon Brocard writes: > Hello, > > I love httpd2 and I really like apachebench but using the gnuplot > output option (-g) gave me this: > >   starttime       seconds ctime   dtime   ttime   wait >   Thu Aug 29 12:29:31 200        1030620571362758        0       54      54      0 > > It's truncating the year. Now according to > http://apr.apache.org/docs/apr/group__APR__Time.html#a15 "Unlike > ANSI/ISO C ctime(), apr_ctime() does not include a \n", so the code > and comment in ab.c are wrong, hence my attached patch to remove them.
6a2b11a The style police just get really annoyed with this file in general. (No code changes)
44232ac Gramar nit.
345b9bf fix a type mismatch
a7bd20a Document the Good News about Jaguar (OS X 10.2) and provide a little more insight
da6a888 new option 'path' to the cookie PR: 12172
d20d462 find the first perl, not the last
2ddfc42 just saw this bug PR: 12181
a7d7da0 shot in the arm by the style police while trying to escape
0eb174a set expiry time correctly. set Cookie on err_headers_out, and ensure it is only set once.
05eb74d config.log and config.status are created by configure and need to be removed by make distclean
658af63 suexec is sometimes built by make so it needs to be removed by make clean
4f8779c STATUS update.
f7679a7 Updated docs to conform to the recent changes.
fb411b4 Updated transformations.
bdd9dab Typo.
0cf0021 envvars-std is build by configure so it needs to be removed by make distclean or make extraclean
2bb5a70 fix the example apxs -i invocation to work with the Apache 2.0 build mechanism
de2f8a3 Use username2 so that it matches the example below.
af798cf Update transformations.
22cbe2b Update translations.
ba3800c --release_non_showstoppers_but_it_would_be_real_nice_to_wrap_these_up;
bcadc49 Update transformations.
6e2747a New XML.
3749da1 Removed unnecessary pool cleanup after a restart or shutdown
2974ba6 Fix a reference to an uninitialized pointer in util_ldap_cache_init().
f63b988 Adjust the descriptions of these directives, avoid the child/process/thread confusion. PR: Obtained from: Submitted by: Reviewed by:
2c3170c Changed the content-length filter to allow streaming delivery of content to clients
f521f0f Win32: Lower the default stack size from 1MB to 256KB.  This will allow a child process to start about 4 times as many threads (~8000 from ~2000)
e26e5d6 Win32: Add ThreadLimit directive to the windows MPM
6132428 Updated doco to conform to Pauls changes in mod_cache.
fdbc125 Remove CacheOn config directive since it is set but never checked. No sense wasting cycles on unused code. Besides, the only truly bug free code is deleted code. :)   [Paul J. Reder]
9db2328 its >>FNAME<< not >>name<< doh
57e34f9 Updated transformations.
03010e6 Typo.
2e1a0ec make the type of the variable explicit to quiet a gcc warning
f05eb5e Mark up argument in Request Header directive with <em> as in Header directive.
58bdd37 Typo.
e1cb208 introduce 2 new callback oppurtunities to allow a 3rd party module to do the actual writing of the log file. also change buffered writing to make it runtime configurable instead of compile time configurable.
0305f26 Conditionally compile mod_edir if the directory exists
33086af Corrected misspelled ISPAIFileChache/ISAPIFileCache directive into ISAPICacheFile
391a2c6 Corrected the context and added the corresponding override information. Corrected default values. Corrected the ISPAIFileChache/ISAPIFileCache directive. The correct name   is ISAPICacheFile. Added description for the ISAPIFakeAsync directive.
fb63c78   The documentation says: ISAPIReadAheadBuffer defaults to 49152 bytes,   which is exactly 48 kb. But the module actually uses a default of 48192   bytes. This seems to be a typo. Instead of changing the documentation I   attached a patch for mod_isapi.c to set the default value of   ISAPIReadAheadBuffer to 49152.
9c53fa0 Clean up style on mod_auth_anon.c before hacking it to pieces.
cd84b43 Fix a segfault in mod_cache when url isn't passed
68b6080 Turn off optimization completely when building debug
1cc92c6 Check for pthread_kill Submitted By: Thom May
1ef1223 make the output XHTML Submitted by : Erik Abele <erik@codefaktor.de>
7f0c6db Add a little documentation on how to select DBMs during build and update the RerwiteMap and AuthDBMType directives to point to it.
45b406d Updated the supported list of error-doc languages (LanguagePriority).
7b48ee1 Added encoding="none" for the ssi-output of REDIRECT_ERROR_NOTES. This fixes the output of HTML-tags through the above env-var (e.g. <p> instead of &lt;p&gt;).
b494ab9 Fix a null pointer dereference in the merge_env_dir_configs function of the mod_env module. PR 11791     [Paul J. Reder]
4ee8fa1 Convert to xml and do a MAJOR revision and expansion of the sections (<directory>, <location>, etc) docs.
f4e143058 Removed Content-type meta-tag. The headers now get set individually by the type-maps.
126ec36 Added correct Content-type header (charset).
b750a2a Included two new SSI-vars to correct the internationalized error-response behaviours. CHARACTER_ENCODING, CONTENT_LANGUAGE.
6d772e5 Fixed some typos, improved the security note.
e13a1e2 Typo.
d1aa956 Fixed a lot of typos and link errors.
a38890a Wrong directive name.
403f32a updated contributors info (alphabetized).
b792ad4 XHTMLized some tags.
cfdf6e5 Fixed XML error.
29b0070 Clarify the use and sequencing of these three hooks.
4ce6081 add some comments pertaining to the use of apr_tokenize_to_argv for building the command-line to the external program
e0f7f28 Fixed typo & link.
a7273e3 New XML.
0082ce3 Make version strings work properly with update macro definitions Submitted by : Branko Cibej <brane@xbc.nu>
c9f89b7 fix breakage of dbm maps which was introduced in the previous commit
a525e2a Major/Minor/Min[imal] now working as one (with a sane mind) would thing it should
df6a0c3 new option to ServerTokens. "Maj[or]" which displays a server response similar to Apache/2.0
6339a31 Make Caching work for subrequests. If this is not set to one under the AP_FTYPE_CONTENT_SET then the EOS is eaten by the CORE_SUBREQ (name?) filter causing us not to cache anything
dba70a7 Note that nicknames can't be recursively defined.
5b2b012 Hall of blame update.
928cd46 Changes as submitted by 	Hiroaki KAWAI <hawk@bcl.t.u-tokyo.ac.jp> and 	Peter Van Biesen <peter.vanbiesen@vlafo.be> to get a dutch version in.
a424be6 add the ability to specify the dbm type (e.g., gdbm, ndbm) for dbm rewrite maps
9cfa772 MaxSpareServers and MinSpareServers are native to prefork, not mpm_common.
22c671d Adding the LDAP docs back into the LDAP project.  They didn't seem to make it when the httpd-ldap project was created.
6efc028 Add A warning when servers don't set their status line PR: Obtained from: Submitted by: Reviewed by:
e45968b remove some remaining NO_DBM_REWRITEMAP cruft from mod_rewrite which broke the build on Win32
97808bf Darn.  There appears to be something wrong with the xml->html system. Rebuilding to get correct paths.
faf86a2 Update the environment variable docs with a couple new special-purpose variables and a reference to the mod_ext_filter use of env variables.
c14aa65 Change mod_rewrite to use apr-util's dbm support for dbm rewrite maps.
37fb026   Small fixes for SSLC
951ffb2 Fix a problem whereby RewriteMap prg:'s would get out of sync due to the inappropriate use of nonblocking reads.  Also get rid of the stderr altogether since mod_rewrite never uses it.
3d19dd1 Added contributors info for Swedish and Italian.
3c1f8b7 Added Italian error doc translations + some cosmetics.
7b07efc Submitted by: Paul J. Reder Reviewed by: Jeff Trawick
5676d38 fix the case when a server doesn't send a response string
03ae649 Mention that exec requires mod_cgi.
0a2732d Mention that server-status pages use mod_status and also change some generic domain references to use example.com.
c8ef6fe One further change to the worker docs regarding the MaxClients confusion.
e9851bb Minor error log typo
b037547 added context 'virtua host'
556961c added context 'virtual host'
13af2ae HTML transformations of last commit.
9d7f67e Update docs on MaxClients under worker, and clean up a few things.
d53f5e7   Fix bug reported as PR 11854.
1781286 Fix another compile break.
72ccaa2 Make module loading error messages more informative Bug #11213 Obtained from: Ian Darwin <ian779@darwinsys.com>
d814e93 Binaries for Apache for NetWare 2.0.40 are available
b69ca2b Use APR_PARSE_ARGUMENTS instead of APACHE_PARSE_ARGUMENTS
6c25fe0 Style fixes.  (long lines)
b0db736 PR: Obtained from: Submitted by:	Alexey Panchenko alexey@liwest.ru Reviewed by:
2598bd4 New XML.
fcea405 Get XML to conform to current DTD.
a4b7757 Fixed some XML-issues. Submitted by: David Shane Holden <dpejesh@yahoo.com>
d84ce2a Update changes
db02e7c Get mod_disk_cache working.
89dd7d9 Zero-copy output for small files delivered over keepalive connections (previously, the setaside code in the core output filter would copy file buckets <8KB into the heap, resulting in poor keepalive performance)
ca3f4ce This commit gets Perchild working again.  There are holes in this code big enough to drive a truck through, and it is NOT production quality, but I have successfully passed file descriptors between processes and served requests over the passed descriptors.  This code needs documenting, and vetting still.
b6f3a30 Fix compile break
c2768d3 Uuups. Fixed another typo.
342ed9e Correct/add some syntax, context, default and override issues in core.xml
716287d Fixed some typo.
fd5f3ee New XML. English and German versions.
f4f6309 Add a ServerSignature <-> ServerTokens cross-reference and update a few transformations.
d405d23 removed redundant HTML-file
0658952 Fixed missing transformations
a9a8b81 german translation of upgrading.xml (r1.1)
23e6796 german translation of upgrading.xml (r1.1)
7ddbc36 German version of the stylesheet.
1051b18 Make it even more clear that EVERY host must have a <virtualhost> section with name-virtual-hosts.
17d9358 I'm probably not the right guy to teach people how to write thread safe code, but I can at least document the braindead obvious issues people might face.
ac5bc72 Add note on c-client based on evidence from c-client mailing list archives and, in particular, Mark Crispin's posts.
6bcf63e Update bzip2 entry based on examination of documentation.
90688a4 OpenLDAP 2.1.x has libldap_r.* libraries.  Use that to ensure thread safety.
ab29f5f OpenSSL is thread-safe if you play its game.
84f5084 Add link to expat's site Add commentary on why zlib is threadsafe (fully threadsafe as of 1.1.2 if default zalloc and zfree used - see zlib's changelog)
9c9d999 Reformat table entries so it is easier to maintain.
75fc2c0 I'm going to hazard a guess as to why GDBM is listed as non-threadsafe and blame it on the error checking.
4be7339 Remove stray </p>
e78c19a Fix up so we have a better shot at validating. Send email to dev@httpd.apache.org if have improvements, etc, etc.
bc3269b Link to preliminary thread safety doc.
8936282 Fix a link.
3eb260b New XML.
618cc94 Transformation.
d80cb22 New XML.
a610e28 New XML
0d862b6 New XML.
1c35393 Minor copy editing
b8ab7a7 A bit of info from Ian
840790f New XML.
0951e7f New XML along with a few small content changes to bring us up to the current era.
c967b65 New XML.
05ab7ba fixed link
6f630d5 Many more to come - just committing to get the framework in there so people can start adding to it.
cec5fba XML-ized versions. Are we supposed to remove the .html files now?
98199c7 Correct link for this directive
7f0145b New XML.
f6e9bd5 add a couple more binaries
fbde20b APACHE_LAYOUT_DEFAULTS was unused. nuke it.
aca7ab7 Updating some html transformations.
2b200b8 on second thought, it actually *is* possible for this to bubble up rather than down, strange as that may seem.  this function still needs further testing, but this is better than what was there a minute ago.
6f698b2 make this more gdb-friendly.  no functional change.
a2f6b5a whittling away more cruft
c8f59c5 standardize the syntax here
1b5b841 this is a maxheap.  this function is therefore named backwards.  :) no functional change.
3f17feb add some debugging code -- verifies that the heap property is satisfied
7c5e166 mod_cache doc updates. Submitted by: Jean-Jacques Clar <jjclar@novell.com>
3156a8b Fixed links.
65b5cee fix weird things that happen with canned error messages due to using two different request_recs after an ErrorDocument internal redirect failure. examples: wrong Content-Type, garbled output from ebcdic servers due to double charset translation
cdf30bf some binaries are up, etc
e197d0c Fixing up a dependancy problem and making sure that the platform header files have been properly renamed before building.
5cf7302 Fix support references in binbuild README.
10aeb0a Don't catch more than 1 SIGTERM in the parent process as doing so results in an unkillable process if shutdown_pending doesn't manage to trigger process exit.
91c4705 Update transformations.
b943e2f Fixed typo.
cda2559 Fixed typo (Bugzilla Bug 11467).
85b9759 Modified version check on openssl so that it finds the executable first and then performs a check of the version, only warning the user if they chose, or we selected, an old version of OpenSSL. This change also allows the code to work for non-openssl libraries selected via the --with-ssl=dir option, which can override the automated library check in any case.
8dcdcbd don't lose const looking for that '/'
33b7519 Bump after the tag.
e7c412c Check for OpenSSL 0.9.6e or higher
e85db78   Security rollup for 2.0.40 release.  Tag and roll baby.
2dc7528 roll back the apr-iconv pull as it isn't required for unix
9555d66 Getting ready for the tag.
c3c5d81   Notations for win32/iconv, and fix a typo
5f73bac   Reenable apr-iconv for ongoing development effort.  Sorry that we had   to defer this, but building with the patch [which will be placed in   patches] will allow anyone to build an xlate-enabled aprutil for ongoing   svn and other development.
b32d860   Since library detection is _not_ complete, and this code is extremely   alpha quality, backout the apr-iconv for Win32 changes from the .40   release.  Many have objected [not -1 exactly] to forcing iconv for any   user to build xlate, and the detection/fixup patches are a blocker for   releasing this overdue version.
7870746 remove some dead code.  It's been there since 1996 (1.3 rev 1.28), so extra eyeballs would be appreciated.
7f74fe4 Fix proxy so that it is possible to access ftp: URLs via a proxy chain. PR: Obtained from: Submitted by:	Peter Van Biesen <peter.vanbiesen@vlafo.be> Reviewed by:	Graham Leggett <minfrin@apache.org>
5a02062 fix typo
29c4807 mod-deflate now checks to make sure gzip-only-text-html is set to 1, not anything. This will allow things like... SetEnv gzip-only-text/html 1 BrowserMatch "GECKO" gzip-only-text/html=0
27a37af apxs lost the newline at the end of print "$result", so that apxs -q doesn't return anything.
e925d0a   Pardon je, it seems the most obvious solutions are always the easiest   to incorporate new bugs.  Solve the 0index.html bad uri bug.
d04ebaf   Wasn't the only one with the essential idea, co-credit where credit is   due.
3653eaa   This was never a 'vulnerability'... the APR_FILEPATH_SECUREROOT flag   passed to apr_filepath_merge refused to merge any rooted 'addpath'.   However, that isn't the traditional 1.3 behavior, so fly past any   leading '/'s on the way to merging the uri to the DocumentRoot.
a6a7588   worth noting
0dbcbba update transform
10088ce Extra extra warnings.
27b26d5   This was an identity... sort of silly really.
8070dd1   INVALID_SOCKET is -1 and appropriate to test throughout.
c378e63   Lots o bugs and emits here.  accept_socket is a handle, although vc and   the psdk aren't good about remembering that.  never use GetLastError()   to ap_log_error.  remember that we could have a socket closed by our   neighbor while we were blocking.
9ea8090   We generate an .rc now, not a .h
9f36472   Outch!  Always check completion against actual socket/pipe/file handles,   never look at the completion event itself.  Could be part of the zone   alarm mischief.  Note also that waiting on two events is better than   waking every few minutes.  Factoring out max_requests_per_child_hit   or whatever that event name is will help here.
26e0cc6   Just an observation, we potentially read/retain far too much of the body,   and this can be optimized.  Not a problem for sendfile based byterange   requests, but potentially lethal to serve byterange requests of any   parsed or cgi generated responses.
705f189 format to 80 chars
3f29893   We describe body lengths throughout apr in apr_off_t lengths.  While we   all agree we won't ever cache an entity that huge in memory, the disk   cache is another matter [e.g. if we cache an existing file.]
f136a4f   Revert to CRYPTO_malloc_init for non-rsa [gotta read the diffs more   closely the first time.]
c7f071d   Support rsaref compilation
a6ac024   catch up with the apr_atoll -> apr_atoi64 rename
a7275f5   Ignore goodness for VC6 .mak file exporters
6d0c399   More ignore goodness
e8cfe2c Corrected a copy&paste error
fada680 typo
f5908f2 renamed upgrading.xml.en to upgrading.xml
fe47819 fix a spelling error
d396eb3 Update transformation.
bd17d68 New Japanese translation.
a2f3a9e Add description about default for some directives.
97b45da New Japanese translations.
a756cb8 Update Japanese translation.
0c53874 Reword description section to be consistent with other docs.
4b8588c Update transformations.
8123fed Ensure that we toss the autom4te.cache directory before running autoconf.
569ab16 mod_ext_filter: Add the ability to enable or disable a filter via an environment variable.  Add the ability to register a filter of type other than AP_FTYPE_RESOURCE.
0acd347 For german translations
3e7bf60 This little bit of text is what has been preventing Mozilla from working correctly.
e82f76e New XML (based on the html file r1.24) Changed some <code> to <directive>
9337666 Remove files that were moved to site-tools/httpd-docs-build (except for Makefile, which was just trashed because it isn't needed anymore)
89d5b26 we need apr-iconv now
6abda85 New XML.
8800831 Generated HTML files should depend on common.xsl. This is only done in mod directory because it is hard to list generated files by regular expression in other directories.
a3a9e99 Note that Include directory/ reads the files in alpha order.
0a626b3 Correct a couple errors in the xml markup.
c643a87 Update transformations.  Nothing to see here.
cea538a AddModule and ClearModuleList no longer exist.
68712e0 Don't print an index if there is only one section.
cfdc297 fix a typo in the last commit
d9e22d9 ignore some generated files on OS/390
0de649e fix a compile problem in util_ldap.c when APU_HAS_LDAP_NETSCAPE_SSL
ddc1242 DeflateMemLevel specifies level (1-9), not bytes.
2c87cc9 Restore the ability to specify host names on Listen directives. We needed to compare on the value we pass to apr_sockaddr_info_get(), not the IP address string.  Sometimes this is an IP address string and sometimes it is a host name.  Otherwise, on the second pass through this code we won't find the existing listen_rec for a Listen directive which had a host name, and we'll create a new listen_rec and try to bind again to the same addr/port.
2591f70 Fix typo.
e13b336   Resolve more handle leaks.
8433bfb   Drop a redundant destructor.
df9ad58   Continue the effort to back away from shared globals, in the get and   put handles for child functions.  This gives us flexibility in the exit   event to ultimately connect one exit event per child process.
158850a Add more dependencies.
83db25d Update transformations. Remove allmodules.html.en.
6f3b854 Make this file valid XML.
112bee0 Add validate target to validate XML files.
8720431 Document the content-length filter performance problems
400204b support non-threaded configurations
8250a84 if APR doesn't support threads, we don't need (and can't have) these thread mutexes
2f1325c untabify
5d53209 Log error message to the client without the path name.
f2a8d4f Fix the PATH exposure security problem I thought I fixed in 2.0.36.
61c0be7 Win32: Install libapriconv
a411af1 Replace some <code> with <directive>
8e0a6a5 When deciding on the default address family for listening sockets, make sure we can actually bind to an AF_INET6 socket before deciding that we should default to AF_INET6.  This fixes a startup problem on certain levels of OpenUNIX.
599b7eb Add in missing CVE name; make SECURITY entries more consistant PR: Obtained from: Submitted by: Reviewed by:
fb6c16e fix a spelling problem
e483765 New transformations.
ab1c391 New Japanese translations.  Forward port from 1.3.
1dc6786 Update Japanese translations.
558aa6a Update transformation.
a81f82f     The PRIOR commit ommitted the following [necessary] comments;
bbef4fe Sorry, I meant to remove references to NetWare 5.0.  Apache 2.0 is supported on NetWare 5.1 and above.
8937a8a Mark Order as directive.
58cb02f Update transformation.
5c00245 Update Japanese translation.
737a553 New XML.
e676f8a Add transformation rule for root directory Japanese XML files.
f48e228   pconf global factors out nicely.  The one other pconf appears to be   eqivilant to pchild.
d1bf152   Refactor out the child behavior from mpm_winnt.  This is the first   step in making a legible multiprocess windows mpm, or at least   structuring the code to always begin a new child as an old one is   going to die soon, rather than waiting for it's final dying breath.
74f62f8 typo in module name. mod_mine -> mod_mime
133036f This line seems to generate an awful lot of spam.
8372940 Add back a couple things I lost in the shuffle of the last commit.
a710a32 Fix a problem with commas appearing in the related module section, and factor out a bunch of common stuff into callable templates to make the stylesheet shorter and clearer.
b475cd6   Refactor the ready_event so that it's scope is the absolute minimum   necessary... we were leaking ready_event's.  Close it in the parent   and child the moment it is no longer needed.
41ec32c New XML.
0c3f874 Transform <seealso> and add an <hr> before the footer.
3efa37f Tailing slashes should match.
d7008df Overcast and humid in Montreal.
fe687a8 New XML.
0f246a1 New xml.
613ff5f No content change; style update only.
3fe17fd   Rather than an arbitrary sleep interval, improve robustness and speed   things up (in the usual case) by using an event mutex.
8958d56 Remove references to Netware 5.
ebfb2e0 Fix an inconsistency with the relativepath tag.
561b185 ldap is not part of the apache distribution.
e892f89 Remove meta tags and fix main title.
495570d Fix DTDs so that related is in common and section works properly.
8645dad Make xml docs conform to DTD
6700558 Oops.  Forgot to update this line.
b51cd02 Sync with XHTML validity change.
1a691b1 Update Japanese translations.
9eeb27d Escape >.
681c858 In some application environments, the mod_dav hook structures are allocated dynamically. The structures need a context pointer to represent that dynamic "object", so a pointer was added to the end of each of the more important structures.
d78c998 Patch submitted by David Shane Holden to make docs valid xhtml.
a0406e9 Finally have this doc the way I want it.
aa3e364 Added <code> formatting on keywords. Also ran tidy to generate valid xhtml.
3a684bc Submitted by:	Michael Schroepl Typos, grammar, and phrasing corrections.
5e52ad1 Fixed the ap_cgi_build_command() function for NetWare so that it correctly builds both the CGI and SSI command strings.
83990e2 Corrected invalid link.
6a96194 Links to module, directive, and howto documentation.
708afa1 Install the online manual unconditionally.  This gets make install closer to how it *really* works in 1.3.
2f3b7a9 First draft of .htaccess tutorial-style documentation. Reviewed by:	Several people on docs mailing list, as well as various folks on IRC.
de55ad0 Update Japanese translation.
6de46dd Update Japanese translations.
deac86d Conversion of patches submitted by Daniel Submitted by:	Daniel Lopez
e386782 Small typos in submitted patch.
be243c0 SSLProxy* directives that exist in mod_ssl for Apache 2 but are not documented anywhere. Submitted by:	Daniel Lopez Reviewed by:	Rich Bowen
a47715f Replace atol() calls which should return long long with apr_atoll() calls. Submitted by: Shantonu Sen <ssen@apple.com>
3490e06 mod_echo added to the listing.
762fc91 Style police comin' through..
68ad4f5 Thunderstorms every day for the next week
873f409 Typo Submitted by: johannes m. richter
d94db74 Typo. Submitted by: Johannes m. richter
73f7934 Hold the Apache screen open on NetWare if exit() is called for any reason during initialization and configuration of the main Apache process.
0c2725a libaprutil apps work on AIX again
8591421 not much point in having this in STATUS any more
12f94ec obviously the current apachectl interface isn't weird after all
731ebc9 shouldn't be picky about where the darn things are installed
067a84a Cast some votes.
ff63c46 the directives ignorecachecontrol & ignorelastmodified weren't being set properly for virtual hosts.
fe97d71 Add documentation for mod_echo.
e68f495 A vetoing I will go... A vetoing I will go.. hi ho the merrio .. a vetoing I will go. ;-0
c1650f9 vote on wrapper scripts
5e8ac7d Nothing to see here.  Just committing a very small change to the transformations.
dd0b8fa Introduce changes necessary to bring the remainder of the manual into xml.
f69e2c6 After an install, the default config files are useful.  After an upgrade they aren't.
4a786b8 sysconfdir/examples is my current favorite
8e276d8 vote on generating default config files.
90785d8 I'm VERY reluctant to get into this argument, but...
eb020c4 perhaps there is some magic place to copy foo-std.conf...
8fe7ae1 --clues
19702e5 Including the make file for mod_ext_filter to the main build for NetWare
0c37641 Adding the NetWare make file for mod_ext_filter
534df85 The french request-time-out error seemed to by copy-pasted and not editted.
3f3b07a Make a little effort to update the suexec docs to the 2.0 world. This still needs considerable attention.
80fee2c Remove a paragraph from the UseCanonicalName defition that is not relevant now that Port is gone.
cef75e1 a few updates
553751a Fix a resource leak where LDAP connections were not being returned to the pool after being used. PR: Obtained from: Submitted by:	Scott Lamb <slamb@slamb.org> Reviewed by:
7753fb5 Note some things that need doing for future reference.
e529fe1 Add a glossary for the apache docs.  This is NOT based on the Covalent glossary because we couldn't work out the copyright issues.  Instead, it is based on Ralf's work on the SSL glossary plus my own additions.
963d474 Fix some hook ordering problems.  mod_vhost_alias should, perhaps, be HOOK_LAST. It redefines the document root, so it should only be used if no other mapper wants the request.  I haven't made that change here; I've simply put explict ordering to make sure we get
0ecf0cc   A half hour to waste waiting for builds... this is what you get.   mod_isapi will build and run on OSX... presume others as well unless   I choose some awful errno values for portability.
837d08b   Cut-n-paste error
79a715f   Until we are building loadable iconv modules, the core iconv will always   be carried around with aprutil.
5028b07   Unless I'm missing something obvious, apr-iconv never needs to be it's   own .dll/.so library.  In the case of libapriconv, we need to anticipate   that the library will be incorporated into libaprutil and exposed through   the apr_xlate_() API.  In the case of the aprutil we can use the same   approach.
d5f0522 fix a broken build when no <prefix>/conf/ directory exists.
433a3ae Fixing the access path to apr_md5.c since it moved to apr-util
76e2983 Bringing the NetWare export script up to date with other export scripts
a20406d remove logic which looks for a non-existant ssl.conf file in the docs/conf/ build directory (it's ssl-std.conf there), then ignores its absence in the next line.
83aee5e no logic changes - just some style changes.
3151bec Install mime.types and magic in conf/ if they don't already exist.
3ce22dd spell check
8534c5a New Japanese translations.
8f24cf3 New Japanese translation.
8710aca New Japanese translation.
ffbad94   No reason not to build charset_lite anymore on Win32
f32bed7   Fix (safely) one minor emit [always positive, so apr_size_t cast is ok]   and introduce a win32 project for mod_charset_lite
19a112f   apriconv from the command-line build
3e4e2a9   Start building apr-iconv with apr and apr-util for Windows.
69a3a7f Way too busy today.. last commit was wrong in two ways. First, 1KB is 1024 bytes, not 1000 bytes. Second, max_cache_size is already represented in bytes. Time for a vacation.
3947ca4 Allow the makefiles to alter the screen name
52f391a   A few more 'silencers' from David.
ea50c3d mod_ext_filter: Ignore any content-type parameters when checking if the response should be filtered.  Previously, "intype=text/html" wouldn't match something like "text/html;charset=8859_1".
e122b78 Compare bytes to bytes.
6c421fd   Clean up a number of messages, as proposed by David.  Ignored the patch   to remove .mak builds, since that eliminates VC5 users from building.
ca0dcec mod_ext_filter: Set up environment variables for external programs.
b7d7f2f   Reorganize a bit for legibility.
e823553 Do some sanity checking on the cache config directives.
1f22250 somebody please tell me I don't know how to read C code anymore
caa6abc zap an unused variable
347341d   Solve C-L post body reads from the HTTP_IN by ap_get_brigade() so that   we know -immediately- that we've read the last of the data.  This patch   adds an EOS bucket to the brigade if ctx->remaining has been consumed.
e0d5ce4 Add some debugging logic to perchild.  This is almost working now, we just aren't popping out of apr_poll if there is data on the Unix Domain Socket.
a87da66 Get the prefork MPM using the apr_poll interface directly instead of going through the old functions which are only still available for backwards compat.
9cf303e Get proxy ftp to work over IPv6.
0fd67ef use APR_TIME_T_FMT when formatting apr_time_t
977b3ca use APR_SIZE_T_FMT for formatting apr_size_t
8a45876 axe an unused function
9437341 add notes about a portability problem -- formatting apr_time_t in hex
5946a01   Last missing symbols that I can find.
a5de2a2   suck_in wasn't sucking hard enough.  Fixed the header.
9343ad9 this file should have the asf license on it
787d4cb Add a couple of optimizations to the priority queue code:
bb1efcf header files should include everything they need to compile
4b54cfb Fix up a few gotchas in httpd_roll_release
b37ea2f Look for OpenSSL libraries in /usr/lib64.
508477b Update SuSE layout.
a560edc Revert the change in the previous commit, which broke the setting of @APACHECTL_ULIMIT@ during configuration
44e6417 AIX: Apache is slightly faster with this malloc setting
97a203a Fix definition of <section>, which was duplicated but not quite the same in manualpage and common.
a03aee7 Export functions declared by APR_DECLARE_INHERIT_SET/UNSET macros.
6efe4ac And fix the version number
30304d4 Fix the long-standing bug that "ab -t10" would loop for 10000 seconds instead of 10 as documented. Also fix an off-by-one-second error, which did not matter much (in comparison to the 1000x error ;-)
ad46a61 Add 2002
c10ecb4 If "@APACHECTL_ULIMIT@" is used in apachectl.in, then something must replace it by a sensible (platform dependent?) value upon "make install". Until that is done, $ULIMIT_MAX_FILES is set to the empty string so that apachectl does not cause a subsequent error   @APACHECTL_ULIMIT@: not found
e4e4380 Optimize away a couple 64bit integer divides.
2e18993 Improve the comments on the fd limits.
ceefbfe I hope I got everybody this time.
642b7f6 Add Swedish language to error documents LanguagePriority
eaacdaf Add Swedish error documents and do a little bit of reformating.
cf6b601 Update the info on browser support of digest auth.
655acec Add a new DTD for a basic page in the users manual, and take out the common elements from this and modulesynopsis.dtd into a common.dtd file.
849dc54 Eat our own dogfood when it comes to the time macros.
0d216b9   How isn't this built on Win32?  Thanks Sander.
d3076d6   Fixed good.  The modulos op should give us just that extra little bit we   need to be sure we sleep for a good long fraction of the second into the   next second.
676a05e   Sleep INTO the next second, not for the entire next second.   Observed by Sander Striker
ed8fc9a   http occurances to update for apr_socket_opt_get/set
7207c17 Remove a time lookup that's now unnecessary
6b69fe0   Timeout/time fixes
8df9f99   The macros remove how much legibility?
86fa777 Increase the per-process file descriptor limit in apachectl for the benefit of people running multithreaded MPMs or lots of vhosts
b05f096 Streamline the handling of C-L values in the common case by using the known properties of ANSI strtol. PR: Obtained from: Submitted by: Reviewed by:
3ef8a0f added apr_is_empty_array()
709d68c   And the other one...
795ae43   $(IntDir) doesn't go back to VC5
9a4780a   Forgot to change both release and debug opts at once
e126ac5   Get rid of the buildmark bogosity.  It never helped ide users, and   usually just hurt command line users.
b930deb   Quit it with the noise :-)
e7e1710   Quiet the conversation.
cdfc273   If we didn't build a Browse, we have nothing to kill.  Ignore the error.
57a4583   Back to a slightly modified flavor of imajes' (James Cox'es) original   design, only stay with .rc file extensions so the original resources   can be reviewed in the resource editor, rather than using .in files.
b033722   This is back to an .rc
14ddc05   Ok.  This gives us one warning - could not scan ApacheMonitorVer.h for   dependencies.  But it gives us back our top level, editable and commitable   ApacheMonitor.rc file, and doesn't mess up dependencies due to the presence   of two different .rc files in the schema (which is partly what messed up   the original case.)
37847c1   Put back the missing symbols header
2ae737e   Final tweak and CREDITs ... switch the order to simplify things, and   pull out the old dependency on ApacheMonitorVersion.rc
fa02485   Totally different solution to our dependency problems provided by   James Cox <imajes@php.net> ... create ApacheMonitor.rc dynamically,   and include our ApacheMonitor.rc.in templates of defined resources.
e233bef   Use the bare minimum permissions required to perform a given service   manager operation.
e64ee27 Some more security tips.
1fae3fd set some environment variables on AIX that improve Apache performance on SMP machines...  no difference was seen on single CPU machines
a599ee8 Missing sentence in english and slight gramatical improvement.
f3478bd Adjust the sizes of the pollsets we create/use so that we work again.
f23703b Add XML declaration. Correct markup errors.
e1ab402 Update Japanese translation.
a5be1d7 Update Japanese translations.
114513b New Japanese translations.
20b9683 New Japanese translation.
10ddac2 Correct a markup error.
00b1c6f   While this fixed the bug, no resources were build for ApacheMonitor,   so the application couldn't start.
9308569   Fix a [very few] config changes.  Yes - needs to be awk-ized, but not   at this moment.
020e835 gregames fixed this in APR a while back, I believe.
cacf15c Okey, I copied it to <URL:http://www.apache.org/dev/>.
4008f0e   Try this AGAIN.  Move ap_regkey.h to include/ and assure that this time,   it contains defined(WIN32)||defined(DOXYGEN) requirements to prevent the   other platform exports from barfing.  Please ack if this works for you.
19108b1   Fix comments
4d76f83 Fix typos.
185ece9 Make internationalized error docs xhtml compliant.
f104c1b Add missing argument in CustomLog example.
97b8739 add PROXY_OPTIONAL_HOOK() macro for modules that want to optionally provide a mod_proxy hook
97b9c76 Strength-reduce a 64-bit "mod 16" operation to "& 0xf" in cached_explode() just in case the compiler doesn't do it for us
45aec24 We where mixing #if USE_SSL en #ifdef USE_SSL. Since there where many more #ifdef's than #if's - Converted the minority to the majority.
377e1a7 Update transformations.
6680053 New Japanese translation.
be359c9 Update translation.
4b4e274   Fix code comments
3947936   Clean up docs and add a hook for clarification.
2c94eca Bring Apache in line with APR's new poll implementation.  This isn't optimal, because it still uses the compatibility functions to make it work, but it does work.  The next step will be to take the memory for the pollsets under Apache's control.
668a5cc mod_ext_filter: don't segfault if content-type is not set.
d1a337c Update translation.
3843666 Update transformation.
87405dd New Japanese translation.
6695986 Oops.  I don't know why but these files weren't committed at previous attempt. New Japanese translation.
60791df New Japanese translations.
8b0d58b Update transformation.
5806934 Correct a markup error pointed out by Xalan.
3693b67 Grammar police.
d982829 Continue the Bill Rowe apr_size_t crusade.
ade3b1b   Narrow service manager access to what is actually needed to perform   the given operations.
c173b50 spell check a comment
c372f3d   Small whitespace cleanup.
6e58d24   Fix access for non-Administrators (superusers and the like) to allow them   to start and stop services, even without full permission to create or   remove installed services.
55aa577 Documentation for the NetWare CGIMapExtension directive for mapping CGI script file extensions to the script interpreter NLM
063d987 Grammer police.
e4bc76c Correct path to the ScoreBoardFile directive.
a59dc7e Improve translation.
cbc17d1 Fix typo. Translate section accidentaly left in English. Submitted by:	Nobuyuki Morita <marika@plum.freemail.ne.jp> Reviewed by:	Yoshiki Hayashi
c94820f   We obviously have no idea if this code is right.  We can't close unopened   files.
703faba   If you want floating math, use float literals.
f0fb164   Fix alpha order so the .dsp list isn't rearranged on save.
2604f8b   Changes for deprecated apr_is_fnmatch
fc5a1de fix folding when the continuation charater is a blank Reported by:	one of Jeff T's regression test cases
07f1257 tweak a comment for readability
f410fb3 silence an unhelpful gcc warning
898b8f7 VC6 is unable to deal with dependencies that are still due to be made. This moves around the order of compilation around so that the error goes away. PR:	10130 Submitted by:	James Cox [imajes@php.net]
8286cb8 Optimize reading keep-alive requests with APR_INCOMPLETE_READ.  In the profiling I've done, the read() in apr_read() would always fail with EAGAIN. This will send the thread directly to select to wait for the next request.
69ad393 fix for compilers that don't support long long datatype
6deba78 Renames Pending:  This clears the list of renames pending in apr-util.  Parts of this list was alreadu done, but the pending list hadn't been updated.
7a939b3 Fix some Win32 compile breaks caused by Brian Pane's making apr_table_t a full incomplete type.
5a02911 Eliminated the use of AP_MODE_SPECULATIVE brigade reads to check for request header continuation lines.  Instead, ap_get_mime_headers_core() now sets aside each line of input until it sees the next line.  If the next line starts with a tab, it is appended to the previous one; otherwise, the previous line is added to the request headers table.
8eec97b This just bugs me today...
3d79cf7 Submitted by: Owen Boyle, on users@ mailing list Additional clarification on UseCanonicalName directive.
6cbe41d use new time conversion macros in place of APR_USEC_PER_SEC
65fe92e use the time conversion macros rather than dividing by APR_USEC_PER_SEC
f545f26 replaced APR_USEC_PER_SEC division with the new time macros
4ea071c fix ap_mpm_set_max_mem_free declaration to match mpm_common.c
de4e29f Add missing declarations of the new max_mem_free stuff so prefork will compile
708e1d6 Re-use the same temp brigade to read all lines of a request header, to avoid the overhead of brigade creation and deletion.  (This produced a 5% reduction in the total CPU usage of a minimalist httpd configuration: <JHEPKCEMGPKFFDHHDDKDMELFEKAA.bill@wstoddard.com>)
3b5826f Now why did I commit that symbolic constant in APR again?  Exactly... to use it here.
62faca7 Add a new directive: MaxMemFree.  MaxMemFree makes it possible to configure the maximum amount of memory the allocators will hold on to for reuse.  Anything over the MaxMemFree threshold will be free()d.  This directive is usefull when uncommon large peaks occur in memory usage.  It should _not_ be used to mask defective modules' memory use.
a036054 Make the mime types configuration file path relative to {sysconfdir}, just like the other config files.
968d28f New Japanese translation.
1a89a89 Fix typo.
0e50d51 Fix typo.
853fe91 Bump up revision.
5614e5b   Fix a const'ness conflict.
a87f441 note the C-L filter fix
73222b7 Fix C-L filter non-blocking-mode brokenness.  It was failing to ever read from pipe/socket buckets again if it got APR_EAGAIN from them due to its use of APR_BRIGADE_FOREACH.
7e0e99f Remove unused variable 'str'.
8474c2f Use the apr_file_copy function rather than doing a system call to copy the file.
1977fb4 found wasn't getting incremented when we update an exisiting record, thus an additional new record was getting created.
0787adf fix some mispellings of the word privileges
8c86d4b Optimized the addition of the core output filter
d6baa11 Replaced ap_add_input_filter() call with cheaper ap_add_input_filter_handle()
6f5f68b htpasswd needs to add a newline at the end of each record. PR:	10422 Submitted by:	Thom May [thom@planetarytramp.net]
f4a72a6   Never trust Bill when he cuts and pastes
1828aba   A bit more ap_regkey and apr-ization.  Fixes some new bugs where the   AP_REGKEY_CREATE flag wasn't passed for ap_regkey_open (when the key   is expected to not yet exist), and adds the new flags arg to value_set.
ad165f3   Introduce a _raw_set/_raw_get for regkey values.  Takes care of all the   oddballs, and lets us simplify _array_set/_array_get.
3d66bb0   The pitfalls of cut'n'paste
d3933ec Document what the threadpool MPM is
3fb6db6 Document what the leader MPM is, for the benefit of anyone who stumbles across it in a source distribution
568ea3b   Using apr_file_write_full() we have less to worry about,   and no extra os file handle.
da73839   Eliminate GetModuleFileName()
9813aec   Remove all the CreateProcess() based code... see the prior commit   to compare old CP and new APR code side-by-side.
6b49bef   Replace CreateProcess with properly formed apr threadproc code.   Although it's nearly a noop (except that we handle i18n paths that   translate into Unicode), I'm committing both so that they can be   compared.  Use this version to eyeball bit for bit what has changed.
660bd01   Bring in os.h after we let apr do its platform foo.
48805e6   Add ap_os_proc_filepath and clean up the win32/os.h file structure.
58fa76c Make security notes consistant with apache-1.3/src/CHANGES PR: Obtained from: Submitted by: Reviewed by:
56d3f1f fix make install to stop passing make operators to the shell
5cc9b76 Optimization for ap_rgetline_core(): When "folding" mode is enabled, clear and re-use the temporary brigade rather than destroying it and creating a new one
7614383 Remove my address for sending comments to, since comments are no longer of any real use.
da0969f Get the perchild MPM starting different child processes with different users and groups.  It doesn't pass requests between child processes yet.
27b7422 Replaced APR_USEC_PER_SEC division with apr_time_sec macro
6b484e7 Replaced APR_USEC_PER_SEC division with the new apr_time_sec() macro
980fac5 Replaced APR_USEC_PER_SEC division with the new apr_time_sec() macro
7d78a53 Punctuation tweaks. PR: Obtained from: Submitted by: Reviewed by:
667d57f Replaced APR_USEC_PER_SEC division with the new apr_time_sec() macro
8766dab I got sick of the error messages from copying the header files.  This removes all of the error messages.
48ee0cb Preserve existing installation directories.  We copy over binaries, the build directory, the headers, and the man pages.  Everything else, the config, htdocs, manual, error, icons, and cgi directories are not installed if the directories already exist.  I got sick of having to re-edit printenv for my tests, and this is the same logic 1.3 used.
f134bd8 Add autom4te.cache to cvsignore files.
1fd6570 Just one more showstopper on my list and I'm not sure we can do anything about this one in 2.0 due to required handler changes...
9e8f6c7   Prevent us from getting stuck in a NULL provider hash.   Reported by: Sebastian Bergmann
798c1da Add a filter_init function to the filters so that a filter can execute arbitrary code before the handlers are invoked.
2bd92ee :(
9d43c1e I've had these for over a week but finally got around to signing them.
1149429 fix compile breakage with IBM's xlc compiler caused by the attempt to lose const on progname
b274510 Fix a long-standing bug in 2.0, CGI scripts were being called with relative paths instead of absolute paths.  Apache 1.3 used absolute paths for everything except for SuExec, this brings back that standard.
f3792f4 Fix doxygen comments and add a missing line-feed.
561d4c3 Strengthen error-detection code in HTTP_IN and core_input_filter so that invalid readbytes or errors reading brigades are properly handled.
518af3f - Fix segfault in core_output_filter when we are passed an empty brigade. - Stash the remainder of the brigade in more when we see a flush bucket.   Previous to this commit, we would only process the buckets before the   flush on a HTTP/1.0 request and then return.
32e1555 Fix infinite loop when reading certain data due to two HTTP_IN filters being present for internally redirected requests.
b7f68a9   Doxygenate the rest of this header.  Had I not overlooked the #ifdef WIN32   I probably wouldn't have had any issues parking this file in httpd/include
18ba616 Re-architected the select()/accept() loop to allow all threads to rely on select() to signal when data is ready rather than only allowing a single thread at a time to be signaled by select().  This allows Apache to pull the requests off of the listen queue as fast as winsock will allow without latency introduced by the accept mutex.
60839ec add another example filter, try to clarify how parameters to the filter program are specified
001b387 Change conn_rec->keepalive to an enumerated value of
b76b71d Fix mod_ext_filter to look in the main server for filter definitions when running in a vhost if the filter definition is not found in the vhost.
9967527 Small change of phrasing on the vhosts index page. A reordering of the main links in order to put the less commonly used stuff to the bottom of the list.
3e3d43d Obtained from: IRC, various other conversations A number of people commented that they thought that beginners would find that the IP addresses used in examples did not appear "real" enough. Also, that the ".tld" domain names used in examples were confusing. Examples have been changed to use 172.20 IP addresses, and host names using more recognized tlds.
4c67f75   Some small wording improvements.
2a9d69a ap_discard_request_body: exit without reading the body if connection->keepalive is false.  This works in conjunction with ap_die which resets connection->keepalive any time ap_status_drops_connection is true.  The latter is explicity tested here in case ap_die isn't involved.
e3402bc fix some mispellings of mod_deflate
2d68aeb   Move the last little useful bit of registry.c into services.c, and   blast it.  All Win32 registry foo is going through ap_regkey now.
d545963   Add in the other complex ap_regkey_value_foo() fns and move ap_regkey.h   Out Of The Way of exports stumbling onto it!!!
7e6aae3 Include apr_lib.h for the definition of apr_toupper() to get rid of undefined symbol link failures (apr_toupper is a macro, at least on Unix).
5df0355   Incorporate ap_regkey.c into the build.
2d094ad   Replace gunk with ap_regkey calls.
14111fd   Introduce win32 registry handling through a very apr-ish interface.   Deals with apr utf-8 encoding of filesystem values, so we preserve   strings in any locality or nationalized flavor of WinNT, and avoid   the gunk for Win9x.
dfee6c1   Another excessively warm day in Chicago.
7c4af3a   Doc it.
e43bd07   Seems 9x can't delete two files at a time
3f18121   Finish the -w keep-console-open-on-error patch.
5f0df8f   The fix wasn't healthy for Win9x.  Work around pre-Unicode flavors.
b2fe8e6 Removed "tolower(++s)" idiom from ap_strcasestr(), to avoid side-effects on any platform with a macro-based tolower() that references its argument multiple times.
f24fa31 Convert the hostname to all-lowercase in fix_hostname() so that the implementation matches the comments.  (Note: The current virtual hosting code does case-insensitive host matching, so this fix is useful mostly to help ensure that custom modules and any future vhosting code don't get tripped up by case-sensitivity issues.) Submitted by:	Perry Harrington <pedward@webcom.com> Reviewed by:	Brian Pane
4de5577   Fixes Win32 cgi 500 errors when QUERY_ARGS or other strings include   extended characters (non US-ASCII) in non-utf8 format.  This brings   Win32 back into CGI/1.1 compliance, and leaves charset decoding up   to the cgi application itself.
d47c04f   Whoops... removal of the last compat was just this bit premature.
0801cef   With dav corrected, this last _compat.h bogosity leaves the core distro.
f931b8a   The real pain.  ap->apr xml and text types.
af75efc   Not really sure what this is, but it wasn't aprized.  back out rev 1.2
ad9b6ce   Adapt to use apr_ischar()
fe37fe1   Use apr_ flavors of ischar()
6e3c0c6   cleanup uses of apr_ischar() macros (no cast required)
022e36d   That's apr, not ap (any longer)
277c414   No crutches.
e5622c2   Use apr_ variants of ischar() tests.
f8511d8   No crutches, people!
7f1ed02   Simplify add_ssi_vars() and move the ssi/cgi vars into their respective   functions [so we may address r->subprocess_env in the ap_cgi_build_command   win32 handler.]
9f4d3ce   s/cgi/cgid might be just a little agressive - fix a comment
fb50f9a LinuxPPC binaries PR: Obtained from: Submitted by: Reviewed by:
5035b63 Every directive in the 2.0 documentation tree now has an example, except those directives which have a fixed set of options (such as On or Off). It might be nice to back-port some of this to the 1.3 docs, but I'm not particularly motivated to do that myself.
04b22cb Largely rewritten, based on feedback on the list, on IRC, and questions on usenet. Hopefully this is a little more what people are actually looking for, and will steer people towards better practices. Quite a lot of work still needs to be done, but this is the first cut, and, I think, somewhat of an improvement. Comments solicited.
8d6c820   Revert to the 1.39 comments about NULL for ap_sub_req_lookup() next_filter
2751c57 Cleanup some leftover cruft from the last commit.
7ef821f Move the req_hdrs pointer from the cache_object_t to the cache_handle_t. Each thread serving a request needs to update the req_hdrs pointer so it needs to reside in r->pool (where the cache_handle_t resides).
c959a9a   Note the changed meaning of the NULL next_filter argument to the   ap_sub_req_lookup() family, and fix a few oddball cases (those are,   PATH_TRANSLATED reference issues.)
e9db4e8 so much for my alphabetizing skillz. ;-/
1142c83 hpux binaries are up, or at least will be if my upload to daedalus would ever finish.
dd2ac7d new configuration option for mod_rewrite to set cookies. configuration is like the following
7dfce43 Fixing up some copy commands in the NetWare make files during the install phase of the build.
02be9eb Add a timeout option to wintty.  This allows the user to specify a number of seconds to wait after the program terminates before closing the window. Previously, the windows would remain open indefinately.  This option is not currently being used by Apache.
b61237d reword an error message
38de4bc ap_die:  get rid of bad side effects from the recursive error handling code that mess with the status and which request_rec the rest of the function uses.
8bdeaea Up and ready
fa1cab5 Fix perchild to work with apachectl by adding -k support to perchild.
54b431d prevent infinite recursion if an ErrorDocument gets an error
a276230 NetWare makefile for building the dftables utility
319d32f Back-out recent changes to the internationalized error docs to remove the server string.  Now that these error docs are no longer the default for install-and-forget-it users, having them display this useful information should no longer be a danger.
94b24b3 I've been threatening to do this for a few days, but I wanted to wait for other dust to clear.
1e62099 Remove the old EOS logic that I neglected to delete on the last commit, and add a check for ap_pass_brigade() failure
13eb0a8 Cleaner handling of unterminated SSI directives
2ffc11f   Easy to identify wrowe docs :)
12ce040 Fix some variable names
6421508   This moved, so moved.
f6342f6 Fixed a typo
c37b7fb Better document the error cases returned from get_chunk_size().
95f8a13 Updated binary status for NetWare
34831e0 Here's the rh70 version, for the heck of it.
8011872 Grrrr.  Fix the htpasswd -c -n logic bug *the right way* this time.  :(
c6f413d Fixed the EOS handling for partial SSI directives at the end of brigades.  (This was causing us to produce no output, not even an HTTP response header, for a document containing an unterminated "<!--#" directive
4608e52 Fix grammar.
065e8a1 OS/2 2.0.39 binary is up.
2b15ac6 Darwin5.5, Solaris8/intel, and Linux2.4 (Redhat7.2) are on daedalus. I also removed Darwin 5.3 since it's unlikely someone will want binaries for this kernel.
8ab0720 Add back in the original volunteers that I probably shouldn't have removed on the last run through.
2cff5d1 Update the volunteer list for binary distributions.
3eb27c7   Not standard WinFoo.  Using cd now.  Reported by Ian Holsman.
cbec37e HTML-encode the umlauts, and correct a few spelling mistakes.
b04c69c  * clear up a warning that NOFILE was redefined on HP/UX.  * fix a logic bug ... a binary and that should have been a binary or.    (that one was just reporting a commandline args error, noncritical)
be3d2dc squash warnings
6753f54 It isn't valid to check errno without setting it first, unless an error return value already indicated that errno was set.  Also, we might as well accept any error or junk remaining in the field as a parse error.
3ea796a Do not use atol() for the Content-Length parsing as its handling of error cases is undetermined by the ANSI C standard.
a997a50   Ooops... newline.  Caught it
8709990   Quiet emits for win32 folks building with zlib for mod_deflate
81c55e8 Eliminate segfault we were seeing in mod_mem_cache when collecting an expired entry from the cache. Ian?
723742b   These emits occur mainline, outside of the pphrase_callback, so we never   opened readtty or writetty.  But they are absolute failures, nothing the   user could do to deal with them.  They are logged in the ssl vhost's error   log.
4486403   Show the 'Disconnect' button to detach ourselves from another computer's   services on Win32.
508019a bump after the tag
73a5efa here goes nothing
d832b67 Getting ready for 2.0.39.  Here we go again
770c874 Get this to work on win32 :(
e196ee6 Clarify CHANGES message
b731939 Rewrite ap_get_client_block to rely on assumptions that have been solidified after this code was originally written.  Namely:
cc5d29c remove a redundant piece of code
b5b54f3 More changes to bring the performance tuning guide closer to compatibility with httpd-2.0:  - Updated the sample system call trace with a 2.0/worker example  - Removed the section on the preforking model
b80ce70 moving on.  :)
ab1bce9 Update before the tag
99d6cf6 bump before the tag
9fe1d41   Formating, whitespace, following {} rules, 80 char lines, etc.  The only   significant variation from the general Apache rules is the construct:
0fbe806 Finish the htpasswd port to APR.  This brings the file checking code to APR.
9149dd6 First pass at cleaning up htpasswd.  This removes the tmpnam call in favor of apr_file_mktemp.  This also APR-izes most of the code.  The file access code is still not using APR, but that will be fixed next.
719c71e There's already a program distributed with Apache that does this. Thanks, Joshua, for pointing this out. Do folks with binary distributions (RPM or whatever) get this program installed somewhere accessible?
5fabd14 OS/2: Stop a bunch of error messages while doing a make install.
dd4dda8   For debug builds, toss the .pdb's alongside the binaries for debugging   in the install tree [note: you still need some sources handy, at least   this solves the 80/20 headache.]
07edff2 Fix the build on BSDi machines. The bsd_makefile trick didn't completely work as autoconf may run config.status and remove the fixes we've just applied, so this allows us to workaround that problem.
4d4c905 Forward-port a change from 1.3
b900700 David Reid is testing on BSDi for me and then off we go....
528e40b Removed spurious "Setup:" hanging on at the bottom of the page for no apparent reason.
52d2963 Corrected HTML oops.
fcb8868 s/http/httpd/ in the title and page head.
c421402 A little clarification of the command line which is to be typed. People seem to like to have an example of EXACTLY what they are supposed to type. Also, added a "subtitle" for the File Descriptor Limits page, to reflect some of the material that I just added to it.
241b182 Added configuration example, code example, and a little explanation, to facilitate logging all of your virtual hosts to a single file, and then splitting them back up after. Note that if Apache has problems with this many file handles, Perl might also. I'm not sure.
1c58975 Improve on some of the documentary comments in the request_rec.
fabbd58 Close race condition cleaning up cache entry.
e397f79 New Korean translations
16a1b74 Not to pick nits, but I think that the "add this back in" phrasing will confuse people, and leave them unsure what they are actually supposed to do, in the unlikely event that they want to turn this back on. Made it a little clearer what they actually need to do. Tested.
e23a213 The '-@' seems to be more portable than '- @'.  FreeBSD complained about the latter.
c284a33 We not only want to avoid displaying it, we want to avoid sending it to the client entirely.  We need a mod_include conditional for that.
1cbda7f We must set the MIME-type for .shtml files to text/html if we want them to be parsed for SSI tags.  Add the config for that to the default config file so that it is easier to enable .shtml parsing.
54eae88 Comment out the SERVER_STRING variable from our default error documents. Some people do not like having this information in their error pages, and it makes sense to not do it by default.  If users want this back, they can uncomment it.
9357eb4 Fixed a problem with 'make install' on one of the tarballs (which have the CVS dirs removed already) with ReliantUnix's rm:
4db278f Make the default_handler catch all requests that aren't served by another handler.  This also gets us to return a 404 if a directory is requested, there is no DirectoryIndex, and mod_autoindex isn't loaded.
2c6d3ee Fixed a bug in the handling of nested if-statements in shtml files PR: 9866
230b1f5 Allow 'make install DESTDIR=/path'.  This allows packagers to install into a directory different from the one that was configured.  This also mirrors the root= feature from 1.3.  We cannot use prefix=, because both APR and APR-util resolve their installation paths at configuration time.  This means that there is no variable prefix to replace.
3213d51 Corrected typo, and added note about Directory sections applying to files accessed via a different path, such as via symlinks.
b0706de Added example for SuexecUserGroup directive
1beff46 Added examples to all mod_include directives.
1d277fd Style cleanups
57184bf   Fix serious brokenness... we abused prog_type rather than cmd_type on   Win32 when handling APR_PROGRAM_PATH and APR_SHELLCMD style invocations.
7333760 On hold for now.
05835ee the TCP guy in Austin (AIX-land) swears that 4.3.2 GA had the fix for thundering herd, so tweak the prior change just a bit
7a48798   Clean up a signedness emit
8a5c5d30   Cleanup some type mismatch emits and consistify to our new apr time helpers
3f6aa52   Cleanup proxy timeouts a bit to remove emits and make consistent to   vhost timeout.
1f8c949 AIX 4.3.3 and above: Define SINGLE_LISTEN_UNSERIALIZED_ACCEPT. These levels of AIX don't have a thundering herd problem with accept().
62cb8e1 Added <seealso> for AddHandler to the SetHandler doc
b011eb5 Added (slightly redundant) pointer from SetEnvIf directive docs to ../env.html for more examples.
17cb4e4 Fix typo.
fc9e601 Looks like a cut and paste error.
4d07c89   Don't pass args at StartService, there is no point.
37d8495 Modify the deflate input filter so that it should always return data on a blocking read.
bb798d7 prefork MPM: Ignore mutex errors during graceful restart.  For certain types of mutexes (particularly SysV semaphores), we should expect to occasionally fail to obtain or release the mutex during restart processing.
50a906c Add some information about reverse proxying to the url mapping document.
4ec6c6f Remove some directive docs from mpm_netware and point them at mpm_common, plus update the mpm_common docs to deal with multiple meanings for the same directives.
7dce69f ScriptSock example
c1be6e9 Day is done, gone the sun, From the hills, from the lake, From the skies. All is well, safely rest, God is nigh.
2619d08 Is this a new bug? NO. Let's get a release out for the fixes we have.
8e556f7 This has magically gone away, and prefork's graceful now passes my torture test.
f75ee91 this comment is way bogus
8c17965 ugggggghhhhh
520e938 Send output to the next filter even on header_only requests in mod_status and mod_info
db8d5fe Pass the brigade even on header_only requests
0eaf6dc Fix install-bindist.sh so that it finds any perl instead of just early perl 5.x versions.  This is consistent with a build/install from source, and it allows the perl scripts installed by a bindist to work on systems with perl 5.6.
d2f3734 Enabled Server-Side Includes by default in the /manual directory so that all headers and footers will be included correctly in the documentation pages.
3081601 Add a note on the overall problem with HEAD requests generating wrong headers. Again, I believe this is a showstopper, but no one seems to agree with me.
25576dd These are not showstoppers. Let's get a release out the door that includes fixes for all the bugs that have been fixed since dot-36.
c518390 moving on.
9b010e9 avoid a non-portable shell construct ("builddir=$(shell pwd)") so that the makefile created by apxs -g works on more systems
144263d Just quiet an annoying warning.
af3b46d At least get perchild to compile, getting it working is next.
1664848 fix the type of cache_pq_set_null so that it compiles with non-gcc/non-MSC (I hit the breakage with xlc on AIX)
9d8707e Add STATUS note on a newly discovered RFC violation, and add an update on the other one we know about.
adc68dd New Japanese translations.  Forward port from 1.3.
624176b Prevent browsers from wrapping "description", "status" and "module identitfier" (and their translations).
011acff New Japanese translation.
fe6a6d4 Update Japanese translation.
d7e4bf5 Update transformations.
b97311c Add missing description for AddDescription directive. Fix typo.
8220b48 Grammer police came through.
b5bc68a Per RFC 2616 section 9.4, we SHOULD return the content-length if possible on HEAD requests (even for CGI requests).  Also do it because it fixes the cause of .37's demise.
6144c7a Example for ServerRoot directive
34ac2ba Example for ScriptLog
6438d87 Example for ScoreBoardFile
3a097eb Examples for HeaderName, ReadmeName
19733b6 Examples for (Add|Remove)OutputFilter, and see also sections for each.
b5cef2f Example of PidFile directive
7509fba Added example of Using * as argument to NameVirtualHost. Added note that arg to NameVirtualHost is supposed to match the arg to VirtualHost, as this seems to come up several times a week on #apache
c8a19fb XML->HTML conversion of earlier commit. Slight clarification.
4663c43 Example for MimeMagicFile.
7af68c0   Solve the 80/20 by initializing and storing server_rec->timeout and   server_rec->keep_alive_timeout in apr_time_interval_t format (in apr   units, whatever they be), as both values exist to pass into APR, and   all APR timeouts are in apr_time_t.
ddc19c0 Slightly overkill, but added example to MetaSuffix
b69b0e0 Example of MetaDir directive
5cf5552   Use lowercased macros
689fc81 Added log rotation based on file size to the RotateLog support utility.
010e521   -T hasn't been supported for some great while.
9db1cc6   Use the new wrapper
271ee84   Use the new APR_TIME_FROM_SEC() wrapper
fc0f111   An important observations before some x86'er attacks this idea.
00e4bee Oops, found another typo
738209f Fixing a typo
1986c7b Create the distribution directory at the root of the project rather than above the root
20881b2 Fix some casting in mod_rewrite which broke random maps.
654aa16 Fix typo.
d3fa9f4 New Japanese translations.
01a0d06 Bump after the tag
2c89d9e getting ready for 2.0.38-dev
9a56554 bump before the tag
67891ef fix the infinite recursion problem with HTTP-on-the-HTTPS port.
295e115 in case there is actually a cert chain in the cache, we should be using the value of SSL_get_peer_certificate(ssl) to verify as it will have been removed from the chain before it was put in the cache.
db7a29e PR: Obtained from: Submitted by: Reviewed by: allow POST method over SSL when per-directory client cert authentication is used with 'SSLOptions +OptRenegotiate' enabled and a client cert was found in the ssl session cache.
5f0320d PR: Obtained from: Submitted by: Reviewed by: 'SSLOptions +OptRengotiate' will use client cert in from the ssl session cache when there is no cert chain in the cache.  prior to the fix this situation would result in a FORBIDDEN response and error message "Cannot find peer certificate chain"
b237145 Korean translation.
e3bc64f Clean up Korean language charcter set issues.
969ce29 detabify
c3bbb78 be consistant about how a couple of members of mem_cache_object_t are used and defined to silence compile errors on a system where apr_atomic_t is a structure.
79e177d showstoppers--
b985057 ap_finalize_sub_req_protocol() shouldn't send an EOS bucket if one was already sent.
1824c46 fix compile breakage on platforms with default atomics
ac6895f Fixed up the NetWare project files for mod_cache and mod_mem_cache to include the correct source
64427cc Fixed up the NetWare make files to include the correct source
4c13322 Fix the display of the default name for the mime types config file.
cfd23da Modified the CGIMapExtension directive to take an optional parameter that specifies how the CGI NLM should be launched.
ddf8793 hot'n'sunny in cville
a343e3c My logger timestamp cache was using an apr_time_t as the cache key.
178e10e   Well the wrappers work out well... nice to be able to put off committing   these API changes until the evening ;)
58e423d Rearrange the main doc index a little.  In particular:
d90bcd9 Remove some extraneous comparison operations
c21c07a Tighten this variable's scope to only where it is needed.
8cf0d31 Style cleanups before contemplating adding init filter hook. (No functional changes)
ffdb9f0 Tiny clarification regarding mod_cgid being a replacement for mod_cgi.
63da858 Replaced some <a href> tags with <module> directives.
b86885d showstoppers--; thanks!
a90a9ba Call ap_discard_request_body from ap_finalize_request.  Remove the call from all other modules that do not use it to determine the response for the request.
b17d62b   If nobody is proposing another name on list (that doesn't elicit   "ewww gross" comments), this is not a showstopper.
efbf9db   Descriptions are good
3091288 reverse proxy is working again showstoppers -- PR: Obtained from: Submitted by: Reviewed by:
9457ca8 try to be a better example of a process-connection hook (compiling cleanly is a good start)
902fd9b More docs for mod_example.c
b319cdb Win32: Get Ian's priority queue work compiling on Windows.
cb3975a Now that we have the functionality in apr, we can now have 2.0's startup message regarding AcceptMutex (what we are using and what the default is) "fully" match what is present in 1.3. PR: Obtained from: Submitted by: Reviewed by:
40735dc make some small steps towards getting the post config hook to return an error rather than exiting directly
01a4d17 Add missing description in ReadmeName directive, mostly taken from HeaderName.
98cbe6b Update transformation.
d3c1c3f Update transformations.
c688bef New Japanese translation.
b44862e Update Japanese translation.
4558540 Update Japanese translation.
8943e39 Remove a broken link.
c9705ff Document that ProxyPass can't take a query string, but that RewriteRule can be used for reverse proxying with much more flexibility.
b6f6bd1 At long last, document the MSIE "friendly error message" issue.
d5d0cd3 Broken link.
b040a94 Fix typo in password file name.
970fff9 Clarify note on ap_discard_request_body().  If we want to change it, we should do it before .37 - hence its remaining as a showstopper.
74ea532 Support -k argument in threadpool Submitted by:	Thom May <thom@planetarytramp.net> Reviewed by:	Brian Pane
3b331a4 I have no earthly idea what this comment is referring to.  Nuke it.
dc1e2de implement a fixed size cache in mod_mem_cache using a priority queue PR: Obtained from: Submitted by: Reviewed by:
c80742e Update Geoff's email address.  PS: Geoff still volunteers to answer any questions about shmcb:
d0be7a2 Fix apxs to allow "apxs -q installbuilddir" and to allow querying certain other variables from config_vars.mk.
703f323 get the prototype for strcasecmp() on AIX
0a48d1f I don't think Windows version uses prefork MPM.
b59f1ea Update transformations.
ffe7519 New Japanese translation.
ec6be43 Fix breakage introduced in mod_cgi commit since we need to now include mod_include's headers all the time. (Also fix mod_proxy header not being listed in builddir for VPATH builds)
384ff9a   Need to grok optional fns.
aff48c6   Experimental patch to work around Win32 services defaulting cwd() to   c:\win\system32 when invoking new service processes.
28a5256   Ordered lists are a whole lot more useful.
ce05cbf   Whoops.  Others need to peek into include and cgi module structures.
f52be25   Catch up with Brad's changes, this knocks off the CGI popup windows bug
bc60dd9   Once moved to a shared location, this bouncy #include dies
923f2a3   Cleanup an emit
3463f86 Enhancement to the optional function ap_cgi_build_command() to handle detached processes.
4291eb8 Consolidated the startup attributes for building the command line for a CGI binary into a single structure.  This allows platform integrator to manipulate the startup parameters much more easily.  Also added the detach attribute so that each CGI binary can be spawn appropriately for the OS.
a646646 Hummm. not entirely sure if ap_meets_conditions() does everything we need it to do in a proxy cache... will study more later.
99d058a7 Fix segfault at startup when the startup fails before running the post config hook. We were setting the hash table cleanup in the create_per_server_config hook and allocating the hash table in the post config hook. Move the register_cleanup to the post_config hook
f03bcae Updating 2.0.37 status.  Even though this is dragging on, I'm glad to see us ironing these issues out before the release, lest we have to deal with another month's worth of duplicates of the same three PR's like we have with the last two releases.  :)
1710d9a Get rid of some uninitialized value errors with apxs -q.
576ef14 fix a compile failure on platforms where apr_atomic_t is a structure.
73eff4e Fix a storage leak introduced by my patch last night. Free the req_hdrs on cleanup.
abe238a wrowe just committed a fix for this showstopper
6999dd0   Solve the -k start bug [thanks for the pointers, FirstBill!]
96fb284   Potential fixes.  Patch up the fact that users often expect argv[]s   to be NULL terminated, even though argc should clearly limit the array.
93dc524   cvs up/diff gets pretty hard to track with vc7 builds.
8c0e045 trying to keep the days straight (time flies regardless)
20235e3 Fix apxs to allow it to work when the build directory is somewhere besides server-root/build.
ef91c18 Oops.
933267e Update on showstoppers.
2397e87 Add content negotiation and expiration policy to mod_cache and mod_mem_cache. mod_disk_cache still needs work.
dab2730 hope I did this right /me crosses fingers
8cb51b2 Jean-Jacques is reporting that this change dramatically improves the distribution in the hash table resulting in a 20% performance boost when caching 6000+ files in a hash table with 512 collision chains.
6cc4ae3 The number of collision chains in cache_hash is MCacheMaxObjectCount or DEFAULT_MAX_OBJECT_CNT (changed from 512)
f6297fd Added conditional build instructions for building the ldap modules and mod_deflate
d5a53df General make file for building the filter modules
cef791d Update comments for Stas Bekman
916940b Allow ap_discard_request_body to be called multiple times in the same request.  Essentially, ap_http_filter keeps track of whether it has sent an EOS bucket up the stack, if so, it will only ever send an EOS bucket for this request.
5003e52 Save request_time and response_time in the info struct
5684be1 The style police have arrested mod_alias on charges of violating law and order.  It has been released after submitting to rehabilitation. (No functional changes.)
37f858a Remove all special mod_ssl URIs.  This also fixes the bug where redirecting (.*) will allow an SSL protected page to be viewed without SSL.
fcb0bec New Japanese translation.
91be236 Add missing right parenthesis.
7c3e505   Feedback appreciated - I'm guessing that we can trust the isapi app   opened file handles correctly for the TransmitFile case.
4a621ec   The only remaining question ... are nested or strictly unnested locks   expected by OpenSSL?  Right now I've left it as _DEFAULT for the platform   preference.  Very simple code really - the server_rec was superfluous.
29da3f8 demote the hpux problem since there's an easy workaround add more status updates on the two biggies
121dff9 Forgot to add cgi_module to the release build
63378e4 make a note about an issue listed as a showstopper
008f359 --funky_build_issues
92dc419 Fix the binary build install script so that the build logic created by "apxs -g" will work when the user has a binary build.
a50cd09 fix a major snafu that broke binary builds
088354e On OS/390, the compiler/linker front-end doesn't handle "-L/path/to/lib after "-o target".  After looking into build failures, it turned out that we specify EXTRA_LDFLAGS twice (once before "-o target" and once after "-o target") for httpd and for the support utilities.
383cd94 Style police come before the code police. (No functional changes.)
3e61aa4 proxy showstopper
f35e891 The recent changes require a full recompile.  Lack thereof has bitten both me and Justin today.
2b16112 Propogate apr-util change
1e38299 This has been resolved, but it never should have been added to this file. This was an issue for APR/APR-Util, not httpd.
66cb3ec Outstanding veto: the metadata flag should be per-type not per-bucket.
4d14d47 Update transformations.
de63e8a Simplify the worker mpm docs a little.
4f228f5 Too much garbage in the summary.  Just put there what "Joe Average User" needs to know.
05a5ce2 IMHO, known HTTP protocol violations fall under showstopper.
42a29ab Use the basename of the dso file rather than assuming it does not include a directory in it.
2618892 added a suggestion on one of the showstoppers
e6409a9 Updated the introduction to reflect 2.0
6027400 Removed the section about 1.3-specific patches (fortunately, most of the optimizations in these patches are included by default in 2.0)
1f1be13 Updated the section on OS configuration to cover some 2.0 issues
50db55f Added a reference to the EnableMMAP documentation for the performance tuning details
70b3213 Use directive tags on directives, rather than code tags.
599cedb Close the <proxy> container properly.
c92c530 Switched to using atomic operations for tracking the active threads rather than having to lock and unlock a mutex.
7f9865c   A few more unused/unnecessary variables and surpress an uninitialized   value warning.
aff9b8a add 2 new enviornment variables to deal with misbehaving backends "proxy-nokeepalive" which removes the Connection: line completely "force-proxy-request-1.0" which forces the request to be HTTP/1.0 this allows apache to reverse proxy misbehaving appservers
07fe8d8   Clean up new compiler emit noise
ca5fd7f The apr_bucket change requires a minor MMN bump.  Also modify Apache's filters to use APR_BUCKET_IS_METADATA macro.
0971e59 if we autoindex, discard the request body and check for any errors doing so
e5777ed If the request doesn't have a body, then don't try to read it.  Without this, the httpd-test suite was taking five minutes for EVERY test.
8dfa16f   Enable SSL negotation in ab.c.  It is that, or remove all the entirely   BOGUS ssl config options from ab.c.  If it works, nifty, if not, we now   have directives that have some effect, rather than no effect, for SSL.
e7d479c Fixed the @exp_cgidir@ replacement value so that it resolves to the correct location when the AWK file generates the default httpd.conf file for NetWare.
3f90532 Added mod_cgi and mod_netware to the NetWare make files.
6e563b2 Finally able to add real CGI functionality on NetWare
dce5669   Well, know that I'm aware that the ssl stuff was entirely premature, it's   still worth committing the correct code to handle the port number.
973b229 Implemented ap_os_create_privileged_process() for NetWare which simply maps to apr_proc_create()
d23f967 Added mod_cgi and mod_netware as built in module in the NetWare build
d1bba4a Added mod_cgi and mod_netware to the build project
0c36081 Fix segfault when x hasn't been initialized and tighten its scope.
7a3c752   Locks are good, provide locks.  ab -s -c >1 is [was?] dying on Win32   while -s -c 1 works just fine.  Still investigating.
43dbdd4 Fix typo.
08bf741 we should be copying over all metadata buckets we don't understand, not just error buckets.
6b18853 New Japanese translation.
0186760 Fix the case where we generate both a 401 and 413 and we go bonkers.
2f171d8 Judging from the example below, this sentence has one too many negative in it. Also fix what I believe is a typo.
305c215 Fix the case where if there is no ErrorDocument specified for an error, the error would be sent to the client *twice* because both the filter and the core would trigger error responses.
4b17607 items_to_fix--; cliff++;  (Cliff rocks for picking up after my mess and fixing this.)
ebfb28f fix some major badness: error buckets *cannot* use simple_copy because they're not simple buckets.  they have a private data structure which gets freed.  if you're going to copy them and share whatever ->data points to (which is what simple_copy does), you have to refcount the structure, which is the whole point of apr_bucket_refcount and apr_bucket_shared_copy.
03962ac Removing mod_bucketeer from the output filters seems to be the cure.  Why? So, this isn't a showstopper since no one will enable bucketeer in production.
9a80a73 This fixes a failed assert when r->remaining is left in a negative state and we hit some other error (like permission failure) causing an internal redirect causing us to reevaluate the input buffers (for discarding the request body).
be12d99 This should have remained cleanup not a re-creation.
1ff096b showstoppers++;  (groan)
4930450 - Fix case where the initial chunk length was 0 was not handled correctly. - Fix bucket lifetimes so that they don't live longer than their brigades.   That's not nice. - Simplify some usage of f->r->connection to f->c in the bucket creation   calls.
ae5d4fd This definitely gets the award for least useful error message of the month.
65d6580 Why the stack buffer and the copy?  This seems much more straightforward.
477d093 mod_bucketeer needs to preserve error buckets if it sees them rather than silently discarding them.
780a6b3 Let the error bucket implement the simple copy routine.
6e02b15 Add macro to check for an error bucket.  (Can't call it APR_BUCKET_IS_ERROR since error bucket is private to httpd - hence the AP_ prefix.)
2328047 some comments after testing "apxs -g" from a 2.0.36 binbuild
483b5b5   Based on DougM's feedback to the list...
7231ab6   Apparently Roy missed this comment.  Rephrase as a seperate paragraph   to more clearly split credit for OpenSSL from credit for mod_ssl.
2493323   Split out the LAYOUT
c2fc3cb   As we find the right places for this content, move them out in bits
9ffe977 clear up some warnings about unused variables
29b8f27   Thanks for verifying these are valid, Doug.  Now this [much shorter]   list should be living in our STATUS file.  Question of module maps   and file layout is already off to the list.
42b2f95 A tiny bit more clarification of _default_.
50be469 Too many people seem to try to use _default_ with name-virtual hosts. Maybe this will help?
e75d8b7 keep the signed-ness of char buffers consistent with what is expected by functions they are passed to (putLong() this time)
4d7458c Unroll the putLong and getLong loops and correct putLong's input param type to be unsigned char* instead of char*.
ba78d54 Update Japanese translation.
ba81ba6 New Japanese translation.
ba42418 Switch mod_proxy to using the brigade/filter calls directly rather than the *_client_block calls.
9808cea New Japanese translation.  Forward port from 1.3.
13a19dd New Japanese translation.  Forward port from 1.3.
389df44 New Japanese translation.
5607aff Add a PROXYREQ_RESPONSE value for request_rec->proxyreq because it is possible that there can be different behavior at the protocol level if request_rec isn't really a request but a response.
3f58700   All rather stale.  Any new/remaining issues should be moved to CHANGES   in the present tense, as opposed to the "Future port to 2.0".  Heh
4055e1d Imagine the horror.  I go to try compiling PHP4, and it bombs out on r->boundary.  BUT WAIT, I say, we have a test in there for that: #if !MODULE_MAGIC_AT_LEAST(20020506,0).  The test doesn't seem to be working.  That's odd, I think.  So I go look at the ap_mmn.h.  Egad, the tests are totally backwards.  How on earth are we going to handle this? Surely it's wrong in 1.3.x as well.  So I go look.  Nope, turns out it got fixed TWO YEARS AGO in that repository.  Sigh.  Anyway, thanks Greg. :)
efd9ed5   Now a moot issue.
0cf7371 mod_cgid got hit too with this change
9cd9ec1 Apply same patch to mod_cgid that was applied to mod_cgi so that it bypasses the *_client_block calls in favor of using the input filters and brigades directly.
b4bb667   Goodness
e5dd73b okay then :)
afd258b Yet another reason the MMN needs to get bumped.  If there are changes that anyone's been holding off on because they would affect the MMN, might as well get them in now so we minimize the number of releases with MMN changes.  I believe there are more renames pending in APR that should be done sooner rather than later, for example.
a87644f   Always using -t "Window Title" option myself, so I never caught this.
27e6813   Four column tabs, no less?  Just a formatting fix
03fc1e2 A clean prefork build starts up for me on Darwin.  Will try with worker later.
307a6be Fix some subscriptions and a typo.
4e551fc Rewrite mod_cgi's input handling to use brigades and input filters directly. This removes the unnecessary overhead of the *_client_block functions.
8ad4ce4 Thanks Ryan for cleaning up after my laziness.  :)  Here are just a few last little changes.  ->datafile should be initialized... but doing so brings up the fact that the check in run_rewritemap_programs() was expecting ->datafile to have a string attached to it.  For clarity, let's just use argv[0] there.  And since we've reinstated the use of ->checkfile, we no longer need that extra apr_stat() I hacked in, so let's get rid of it.
18e5809 - Remove APR_STATUS_IS_SUCCESS calls in favor of directly testing APR_SUCCESS. - Minor style nit with spaces. (No functional changes.)
b1d454e Catch up with the apr_allocator_set_owner -> apr_allocator_owner_set renames in APR.
ce21065 Tokenize the arguments for rewrite programs during config parsing, and just use that information later.  I was having a problem with prg directives with arguments failing the configuration.  The problem was a call to stat, which was being passed the program name and the arguments. Obviously, the arguments were messing up the call to stat.  This gets the test suite working for me again.
3686302 Call apr_file_write_full instead to achieve the same effect.
1bf35f3 As discussed previously on-list, HTTP_IN should return EOS if it thinks there is no request body.
f728b15 Stylistic changes - remove tabs, clean up long lines, etc. (No functional changes.) (Functional optimizations/cleanups coming later...)
d7b9f6f I'm holding off on the pool patches until they settle down a bit.
39b6d26 Finally got rotatelogs working on NetWare
9b8c53f   Solve a bug identified by Sebastian that we would always reaquire the   lock immediately instead of stalling for the isapi module's thread   to complete its work.  This requires the new changes to thread_mutex   that introduce a guarenteed APR_THREAD_MUTEX_UNNESTED flag.
5e9d095 Updated the NetWare makefiles to include the rotatelogs NLM and to copy all of the support NLMs to a bin directory.
60c6db1 Added a NetWare makefile to build the rotate logs NLM
4f0a535 Updated the build project to build rotatelogs.nlm as a multi-use NLM.
0186eed Make sure that z_RC is not Z_STREAM_END in case we get a 0-length bucket and we don't enter the while loop.
07ba996   Deflate inflates, who woulda known.  Glad I build clean occasionally.
947658e Fix links.
8c72cf0 A couple small corrections to the content negotiation docs:
48d4e4f Nicely done, gentlemen.  :)
2a83cd4 Ignore leading zeros when parsing hex value for chunk extensions.
ad33c26 get mod_deflate to compile with compilers that care about the signed-ness of char *
4718b32 hot
9354c36 Update URL to mirror finding script.
44c10fb Input filter support for mod_deflate.
d84f534 Add a note indicating what it would take to get MTIME field populated. (I did this locally, but didn't figure it was worth committing, but it's still worth noting.)
0310c2d Properly detect overflow when reading the hex chunk lines.
2b334fc Implement flushing support for mod_deflate. (Review of RFC 1952 indicates that this is indeed easily allowable.)
8bee367 mod_bucketeer has been tried, convicted, and sentenced in the style courts. (No functional changes, just style changes, so I can read the darn thing.)
5139318 Allow mod_deflate to be more tolerant of multiple content-encodings.
37b3fdc Simplify ap_read_pid and make it more portable.
90c19bd Error out a bit more nicely if the RewriteMap prg: is not found.  We can't just apr_stat in the first init round because we haven't run apr_tokenize_to_argv() yet, and it would be a relatively ugly hack to run it twice just for that.  Well, I suppose we could store the argv in the rewritemap structure, but ... nah.  With this, we shutdown (cleanly, as opposed to the old exit(1) method) if we go to execute a rewritemap and discover it doesn't exist, and log a nice descriptive message at the end of the error_log.
8ce39e1 Update transformations.
d12bfdd Update the content negotiation docs to incorporate some of the new stuff in 2.0. This could use review!
70d8c57 Fix RewriteMap prg:'s that have command-line args.
3edf15c Switch the limit directive enforcement error paths to match the error handling code for invalid chunk sizes.
6d8dd59 Correctly return 413 when an invalid chunk size is given on input.
ff8f98d showstoppers--;
815a20c Fix http redirecting for UserDir.  Before this patch, the directive:
793f0be why do I keep forgetting to commit CHANGES with the code change itself? ugh.
df2c51d APR-ize the localtime() fooness, since localtime() is not always threadsafe.
be1de39 just in case anybody cares
9bd4953 vote++;         (cheer) showstopper++;  (groan)
6ccda2c showstoppers--;
9bb7a6e The lock should have already been released when the connection was closed. If it was then releasing it again causes a "releasing an unheld lock" warning on NetWare.  To avoid the warning, first try to get the lock before releasing it.  The other alternative would be to just assume that the lock has been released when the connection was closed so do nothing.
3fdd723 Need to destroy the global cache during module shutdown that was created when the module what initialized.  This eliminates a memory leak.
4206edd Need to also free the cache node itself when destroying the cache.  The eliminates a memory leak on shutdown
cca4082 showstoppers--;
45e259b Fix problem where mod_cache/mod_disk_cache was setting content_type to text/plain for all cached remote responses.
eca9c0d Mostly harmless.
823596d Regenerate HTML files with latest common.xsl.
e99a4fe Add nowrap attribute to the column showing description, status, module identifier etc.
2400ef0 Add link to howto/auth.html.
14c7017 Fix typo.
1b86258 Update the proxy docs a little bit.  Still lots of work needed.
9e4296a remove a vote which was resolved PR: Obtained from: Submitted by: Reviewed by:
e3b2e4b simplified apachectl...
4792a8c fix a char signed-ness mismatc in the call to apr_table_set()
1a7a50c Document the --with-suexec-bin configure flag. PR: 9038
8b18764 Reorder these directives to match the output from ./configure --help
7458892 A bunch of small corrections, mostly to <description>s and <override>s.
40b49f1 Update transformations.
71aa3b3 A bunch of small corrections, mostly to shorten <description>s and add <override>s.
45a5eb1 Add a couple cross-references to the modules that send headers.
41c6a81 Update transformations.
990fe86 Small fixes to mod_include and mod_so docs.
45c6635 A little refactoring of the mod_setenvif docs.  In particular, consolidate the details in the SetEnvIf directive and let the others simply reference that one.
6acb2a7 style police take 2
5a25f1f style police
fb8c0fd Updated the release showstoppers section to reflect the completion of the critical suexec fixes
77a5581 Fix for suexec invocation of CGIs under user dirs when using cgid PR: 7810 Submitted by:	Colm MacCarthaigh <colmmacc@redbrick.dcu.ie> Reviewed by:	Brian Pane
46c22f4 Small mod doc updates.
c09368c Fix for suexec execution of CGI scripts from mod_include (including security patch to ensure that <!--#include file="name.cgi"--> is run as the suexec user rather than the httpd user) PR: 7791, 8291 Submitted by: Colm MacCarthaigh <colmmacc@redbrick.dcu.ie> Reviewed by:	Brian Pane
f37eddf I *think* I tracked down all the issues that have come up on list in the last week or so and remain unresolved or needing consensus.  If I missed something, PLEASE BE SURE TO ADD IT HERE.
dd149d0 Add support for ${AUTOHEADER} and ${AUTOCONF} in buildconf (apr and apr-util already support this convention.)
cbd2377 Fix the rest of the apr_pool_userdata_setn() bogosity w.r.t. DSO modules. It's totally unsafe to use apr_pool_userdata_setn() in the post_config phase of a module, since on some platforms when the DSO gets reloaded between phases, the data segment will be at a different address on the second phase and the userdata_get() call will fail.
56f71e4   Simple fix for possibly unterminated REG_SZ data
823be10   Small chance we have an unterminated or single null terminated list.   Simple workaround to protect our sizing functions from walking past   the end of allocation.
7091de1   nelts returned from a registry key may be zero... make it so.   [We previously would return an array of one empty element.]
b2a06ac Update transformations.
a1393a6 Correct the tag name for "This module provides no directives."
e533602 Get rid of the mod/index-bytype.html file.  Now that we have better cross-referencing and unifying documentation it isn't necessary.
fde539c   Bug one of two, INIT_FLAG better pair with set_flag_slot.
e30dc76 Added EnableMMAP to performance tuning guide
8483e52 Removed extraneous "{} \;" from some xargs calls Submitted by:	Joe Orton <jorton@redhat.com> Reviewed by:	Brian Pane
af53c1f Fix for mod_include's parsing of "/regexp/" expressions in <!--#if directives Submitted by:	Julius Gawlas <julius_gawlas@hp.com> Reviewed by:	Brian Pane
d7c369a tweak "requests currently being processed".  It is confusing to not have old generation requests included after a graceful restart.  But we shouldn't count workers who are starting up.
4547e2e 71 degrees F and sunny, with scattered clouds and an increased chance of a 2.0.37 release
cc62268 Fix for the worker deadlock problem
fc658e6 the "-k startssl" parameter is reverted by popular demand
308e619 Win32: Shutdown the listeners before telling the accept threads to quit.
7e3edc5 Win32: Use atomic increment/decrement on counters touched by multiple threads. I intentionally did not use atomic operators on the Win9* code paths.
8393f10 Exporting a missing API for NetWare Submitted by: Jean-Jacques Clar [JJCLAR@Novell.com]
d227cad   We appear to never have had any complaints about copy srcname dstname   not overwriting dstname ... this flavor is certain not to emit a file   exists error [with the obvious caviat - if it's write protected, your   problem.]  Much simpler than /y, <.y or set copycmd fooness.
8287889 Expose a new cache_hash function to free the hash table.
ec5dc59 Veto rescinded:  <20020523141308.A22513@lyra.org>
ac49d6b I think the recent flury of garbage flying out of docs/manual/style and docs/manual/mod warrants a CHANGES entry.
96cd585 Sunny in c-ville...
e801e40 issue the usage message if there are extraneous arguments on the command line
8f135ce fix data initialization problem in new Unix -k option processing
830ff9f Update transformation after fixing stylesheet.
fe68336 A test block snuck in sometime.
abc2f3f Fix a file permissions problem which prevented mod_disk_cache from working on Unix.
bfe7c4d Update the stylesheet reference.
68adf9f Update the stylesheet reference to the new language-specific version.
0e31e58 Fix the ja.jis file.  I hadn't cvs uped the manual.ja.xsl before transforming this.
84ed91d A little too fast on the fingers.  I didn't mean to remove these.
4e03c0b First proper (I hope!) japanese transformation.
700dc34 No change here except the filename extensions.  Sorry for the massic commit.
dc4ff3c Build file updated to work with modified ant to get us the proper extension substitution.
8ec75c1 Thanks to Yoshiki, we seem to have an (at least temporary) solution to our doc transformation problem.
0547e6e Add "-k start|startssl|restart|graceful|stop" support to httpd for the Unix MPMs.  These have semantics very similar to the old apachectl commands of the same name.
e6f51fa fix a spelling error in a comment
6fba811 add ap_log_pid() for reading an Apache pid file
234fd68 Update.
8b552c0 Update translation.
28a81e3 New Japanese translation.
25d536b Add comment to note corresponding revision in English document for easier change tracking in the future.
b4ac6a0 Rename mod_suexex.ja.xml to mod_suexec.xml.ja.
2581b49 Fix typo.
629e800 Oops.  I overlooked this typo yesterday.
7fa7605 Fix linking of OS/2 core after recent changes that took apr/apr-util out of EXTRA_LIBS. Use AP_LIBS to get all required libraries.
0436304 OS/2: export inet_addr from the core for mod_proxy & anything else that uses apr_inet_addr which is just a #define.
f897e63 New Japanese translation.  Forward port from 1.3.
ee677e7 New Japanese translation.
ade862d Lowercase ISO-2022-JP.
7a1ec91 Add a note about worker problems
130a65a Complete the shutdown and restart fixes
7cce8d5 Switch to prefork-style POD handling
0dba22a Shutdown fixes
5176216 Fixing a memory leak with the threads bucket_allocator.  We were allocating too much and not freeing up enough.  On a thread exit the bucket and the transaction pool need to be cleaned up.  When the MPM exits, the main pool needs to be cleaned up.
b5db596 Omit the second linefeed after "Syntax OK"
4ffedcf John Von Essen <john at essenz.com> contributes the diskimg.gif icon: > Hopefully this is the right place to send this comment. I have alot of > disk images (.img) on my server. By default, there is no icon for a disk > image. > > So I made one... > >      AddIcon /icons/diskimg.gif .img > > The diskimg.gif can be found at: > > http://www.essenz.com/icons/diskimg.gif > > Could this be added into future releases? Disk images are fairly popular. > Especially when making boot floppies or driver disks for linux.
0b234d2 Make sure that the runtimedir is created by make install.
eeb4a25 update language list
07cd74a - remove index.html.tw.big5 - rename index.html.tw to index.html.zh - remove index.html.ltz.utf8 - rename index.html.lu.utf8 to index.html.lb.utf8
a2ee2be just to be thorough
016497c I've been told that this is a professional translation.  I'll have to take their word for it.
6b75f38 ./configure --enable-http --enable-mods-shared=most would cause mod_http to get built as a DSO, which it can't be.  This forces it to be static only.
474dfe1 what's a static DSO?  :)
3bd29a9 1. Bring us back down into 80 character lines again.
d471b08 Shorten the comment for EnableMMap, and limit it just to the NFS issue. The most we could say about preformance is "it's usually better to leave this on, but sometimes it's better to turn it off", which is not really helpful to anyone.
9a8f398 put some more #defines in
95c5d1b propagate gregames' change to the other callers of that function
31e25d2 don't try to set permissions on the rewrite_log_lock unless it is a SysV sem
05fba48   Clean up isapi_load, removing the request_rec arg [which we never need],   and using the given server and request rather than deref'ing r->server   [which segfaulted ISAPILoadModule in the 1.73 rev.]
cb46f84   A few noops (at the moment.)  Prepare for stuffing the directive into   the conf tree, without reinvoking the directive, even when EXEC_ON_READ.
15bc0b1 Win32: Call GetOverlappedResults to get the results of an async TransmitFile() else we may return APR_SUCCESS to a call that really failed.
0ff82ee This was never resolved.  I still think it's a valid optimization, but the veto was not rescinded.
16f6555 fix for mod_deflat PR: 9222 Obtained from: kaz@asada.sytes.net (ASADA Kazuhisa) Submitted by: Reviewed by:	Ian Holsman
960c578 content with "Content-Encoding" header, content is encoded. But mod_deflate does not check it. It cause to encode content twice.
e76315c   As the prior commit message indicated, pass the accept thread a listen   rec as opposed to simply the listen socket.
b919ffc   Begin passing about apr types instead of odd local conventions.   It seems there may be other uses for tracking information within   an ap_listen_rec, outside of the socket.  One of my hassles (that   FirstBill found another way around) was tracking the current   accept socket when the only common data was the listen socket.
4f93d47   Resolve the EXEC_ON_READ bit for ServerRoot and other modules that test   the directive context.  Should eliminate the segfault.
d9f47b5   Although it appears reasonable to immediately gather the Error log and   level from the config; these are per-vhost entities that can't be   processed as we preload the config tree.  There is more work to do,   as Cliff Woolley guesses, before we can make this change.   In the meantime, -e and -E should provide the admin sufficient options   to work around problematic configs.  So I'm reverting those changes,   for now.
a6fc262 Make it so this thing doesn't segfault when apr_shm_init returns an error.
3d9c16b There's really no reason for a -dev here.
70cc1c9 Stop using the deprecated APR_XtOffsetOf
8cc8da0 apr_shm_baseaddr_get() takes an apr_shm_t*, not an apr_shm_t**.
06c69ad Fail in a more sensible way when APR-util is missing its LDAP support
81c03e8 Renames:   APR_XtOffset   -> APR_OFFSET   APR_XtOffsetOf -> APR_OFFSETOF
e3eca4a Just another huge style diff. Space-indentation is comming back in a big way. No more misaligned if's without {} blocks.
63ebabf   Ahhh, this really aught to include windows first, then the custom   defined symbols.  Better yet - throw in the copyright.
eb3ac00   We need to grab ServerRoot, LogLevel, and ErrorLog right off the bat   as we are reading the config.
76d6e76 Fix the links for the PidFile directive in stopping.html and add mpm_common and mod_cache to index-bytype.html (which, by the way, is clearly the abused stepsister of index.xml/index.html... we should find some automated way to generate the index-bytype as we have with the regular index).
d9e9c7d prevent possible segv in ssl_init_CheckServers if s->addrs is NULL. for example: <VirtualHost *:>, for which the core only spits out a warning:  Name or service not known: Cannot resolve host name *: --- ignoring!
247125e We are going to need to use the file.xml.ja order, because multiviews will not work the other way.
aa50dde Missed this in the last commit.  The content here is almost identical to the content of manual.xsl, which was just removed.
0de64a1 Change the way language-dependent xslt works.  Now a different stylesheet must be used for different languages.  The language-dependent stylesheets simply include the appropriate language settings and then include common.xsl to get the real stylesheet.
42753eb Spelling corrections.
2455804 get binbuild working again, and zap the BinaryDistribution layout at the same time
bc0cf18 stop using APLOG_NOERRNO in calls to ap_log_[pr]error()
50bac91 stop using APLOG_NOERRNO in calls to ap_log_[pr]error()
c871b41 stop using APLOG_NOERRNO in calls to ap_log_?error()
3d54d08 ignore APLOG_NOERRNO; note that it is deprecated
08092d3 This is a debug message
6433142 Win32: Shutdown the accept/listen threads a bit more gracefully.
3c2fca2 Added EnableMMAP (commented out) to the standard config
89267e3   Prepare for Thom's real patch... this is a detabify only   [passes cvs diff -w with no changes.]
82ff345 Two other quick changes needed for XHTML 1.0 validation.
3441748   An absolutely unnecessary hack around MSVC emits that the symbol may   not have been initialized.  [Of course it was initialized, the same   code protects both it's initialization and reset.]
64a7c43 Fix html validation.
35977ff The group consensus was that we're no longer supporting "make certificate," as test certificates just allow people who don't know what they're doing to dig a bigger hole for themselves and don't really help anybody who DOES know what they're doing much.  So all of the documentation references to "make certificate" are now removed.
bf5d1c7 Pass sconf into the cleanup...
c6458d2   Fix CoInitialize/CoUninitialize missing symbols, reported by Jerry Baker.
8e3f904 tweak an error message for readability
5b7f6a5 New Japanese translation.
249c866 Transformations done with Xalan-J.
dacb7f8 Ant is horribly broken for me and can't complete an entire build here without producing an "IndexOutOfBounds" exception (no stack trace), so provide info for Xalan-J make.  (Assumes you have Xalan-J stuff in your CLASSPATH.)
aed1ab3 Fix typo.
fafabb6 Remove SSLLog and SSLLogLevel directives in favor of having mod_ssl use the standard ErrorLog directives.
a44ccba Only style fixes (tabs, blocks, spelling).
d0214d5 Change mod_ssl from using ssl_log() to ap_log_error().
2eae573 Feeling more confident in the worker MPM now, so I'm with Brian on this one.
62edc31   Potential flaw --- use forward slash notation in filenames to awk
60d7a8b   Cleanup the scripts used for Makefile.win
1bd430c   Short of final troubleshooting and diagnostics, this patch introduces   Async support via the ISAPIFakeAsync directive [default - still off.]
d28c4da Stop using SSL_ADD_SSLERR option in ssl_log() and replace with new ssl_log_ssl_error() function that wraps ap_log_error instead.
b9ecba8   Document the fact that Cygwin's awk doesn't work with MSVC. This is   due to Cygwin making awk.exe a 'cygwin symlink' to gawk.exe. The windows   shell does not support symlinks, and so any Apache makefile references   to awk.exe will fail.
56595d3   Fixes to;
d880ad3 don't leave the shared library path variable commented out in envvars for non-binbuild...  OS/390 needs it set all the time
8273448 get APR to tell us the name of the shared library path variable
69017e9 OS/390 likes the -U tar option; Linux/390 doesn't
42b4343 Sure that something else will occur to me sooner or later.
0534733   Further observations from the past two weeks.
9135913 Added documentation for the new EnableMMAP directive
6f15a6a   Save on incremental build time.  libhttpd depends on gen_test_char and   libapr.  gen_test_char truly needs only apr ... however, this causes the   libhttpd to refresh the static apr and dynamic libapr.
19af7c1 binbuild.sh was using the ancient syntax --with-layout=BinaryDistribution instead of --enable-layout=BinaryDistribution
6322921 fix a comment in config.layout which told the unsuspecting user to use --with-layout instead of --enable-layout
e7eb9c3   Fix GetServerVariable() to return the buffer consumed, including the   terminating NULL.
4eff0ba   Replace our Event HANDLE with an apr_thread_mutex_t, and add completion   logic to WriteClient/TransmitFile.
b20e011   Yesterday's patch went to far, add a missing library (and drop a release   reference to an unneeded one.)
735b276   Fix command line devenv builds for MS VS 7.0 users.  msdev is a command   that no longer exists, and we won't count on .mak files [although they   are much faster if they exist, as there is no such concept as /norecurse   in this newer release.]  We will use the existance of a converted   Apache.sln (solution) file as proof of 7.0, there isn't another graceful   way to check that I see.
7e7bf1c Use new canonical URL for cronolog (http://www.cronolog.org/)
91ee01f Remove APACHE_MKDIR_P_CHECK in favor of new APR_MKDIR_P_CHECK.
fe5def7 Fix broken link.
ddd40de Fix typo.
e7dd8dd Update translation.
532c105   One last commit for tonight I'd postponed ... take variable names within   mod_isapi out of Eastern Europe.  Hungarian now applies to ISAPI and MS   defined fields of structures, only.
9dd6e44   Now for the major refactoring.  Introduce mod_isapi.h, as we have had   untold problems with compatibility between different Visual Studio and   PlatformSDK users [based on their generation of the MS ISAPI header.]   This header is coded from scratch in native APR types.
30f711a   Part 3 of the ISAPI overhaul.  Reframe the 'server conf' into 'dir conf'   options, creating one single cache of loaded modules [heck, that's what   it was before.]  This allows finer grained control of specific modules   that must be 'configured' around to deal with their peculiarities.   This actually saves much code when we can use global config accessors.
8a83dc6 Instead of using the hardcoded libtool path of srclib/apr, use the output of apr-config --apr-libtool.
15d4289 Instead of hardcoding srclib/apr{-util} in the INCLUDES, get the information from ap{ru}-config --includes which knows how to deal with VPATH builds itself.
c58e8ec   Part two; nearly inconsequential - Made the log message prefix ISAPI:   (rather than ISAPI with no trailing colon) and normalized some variables   and static fn names to 'apache names' rather than MSisms.
daab0fd   Part one of a several-fold overhaul to isapi.  This part simply   normalizes the module to the usual order of config-cmds/helpers/   handlers/setup.
d53d71c   Hmmm... gotta ask the wisdom in using aspecific types over apr_time_*_t   types.
34acc93   Ummm... checked, 0.9.6d works too
75be359 Make apxs look in the correct directory for envvars.  It was broken when sbindir != bindir.
7b833f9   Well if I got lost for a minute... make this clearer for 7.0 users.
0105166   Clean out some needless flags/libs
12921bc First pass at trying to standardize httpd-2.0's usage of APR and APR-util so that they can be separated - use an installed APR and APR-util with httpd-2.0.  This is not expected to achieve full separation, but is merely the first step in the process.  The tree should still be buildable in the source-only case.
d2b74ec Correct typo in last commit.
9ecddec Considering the overall goal of making APR and APR-util being used out-of-tree, AP_LIBS can not be a PROGRAM_DEPENDENCY, but just a library that we link against - therefore, it belongs under PROGRAM_LDADD.
1fe8315 Apply same patch (nee hack) to mod_ssl as was done to mod_rewrite to get cross-process mutex permissions working.
055c267 Fix mod_deflate corruption when using multiple input buckets.  We should only clear *_out when we are the beginning or avail_out == 0.
f1e579a Fix typo
0f622df Start with a larger buffer size in ap_rgetline_core() to avoid having to grow the buffer so often
94c67d0 Optimization: modified the power-of-two allocator in ap_rgetline_core() so that it converges on the new buffer size in a single iteration.
eb83814 Stop trying to help apr and apr-util by installing their includes.  They're smart enough to do so on their own.
b194f74 The suexec arguments now start with --with. Note that there are also two arguments missing, according to ./configure --help. Specifically, --with-suexec-bin and --with-suexec-umask. Can I can add those in, if desired, but if someone more familiar with it could do so, perhaps it would be a little more descriptive. Obtained from: #apache on openprojects.net
355c623 Faster, simpler code for form_header_field() on ASCII based platforms
7dd968b Fixed missing null-termination of ap_make_content_type() patterns list
e6819f9 Added caching of formatted timestamps to speed up the access logger when using standard time format
32c1664 Remove an extraneous loop condition
d6088d4 Optimization: skip cache setup in location_walk() if the vhost config contains no <Location> blocks
2cd262d Optimization: replaced apr_pstrcat+apr_strlen with apr_pstrcatv in basic_http_header()
3cf16ad Optimization: Replaced apr_strcat() with apr_strcatv() in ap_make_content_type()
d74c401 Added EnableMMAP directive to allow the server administrator to prevent mmap of file buckets upon read.
0f0550b avoid colliding with getline() as defined by glibc (it breaks if you need to turn on _GNU_SOURCE)
b603af8 Fix segfault triggered when the malloc() in find_entry() fails.
bc90009 Moved ap_setup_make_content_type() declaration to http_protocol.h
14f29c9 Fixed a segfault
20dd15e fix a build failure with some non-gcc compilers...
d07e5f0 mod_setenvif optimizations
0738d0e Performance fix: When a BrowserMatch or SetEnvIf pattern doesn't actually require regular expression parsing, use a fast string search instead.
7e2c4f3 Performance fix: replaced the strcasecmp calls in ap_make_content_type() with apr_strmatch()
31886a5 Address PR 8963
ed674a5   Afraid these are likely generated, just something to watch out for   in the future.  Address PR 8963
f3072ac Removed extraneous whitespace. PR: 8944 Submitted by:	Alex Batko <abatko@cs.mcgill.ca>
60456d8 Typo patrol.
3bda54d The default for DefaultType is text/plain, not text/html.
30f9e4a Massive transform commit.  Nothing to see here.  Please move along.
58912e6 A few directives where missing from the index because of some obscure xslt thing that I don't really understand ;-)
c6512b2 Fix a mod_ssl build problem on OS/390.
e3d047b Correct grammer.
ec5a585 APR_PROC_MUTEX_IS_GLOBAL is the condition where apr_global_mutex_t and apr_proc_mutex_t are interchangeable
9da6c1b Add transformation of mod_suexec.ja.xml.
68055b3 Fix if-modified-since on win32, I think.  It should fix it in theory. Verification would be nice.  At least I know it still works on Unix.  ;)
b63be3f Use the ap_get_server_xxx() calls to return the info rather than short cutting it with the server_rec.  This avoids port showing up as 0 and also respects the UseCanonicalName setting in the .conf file.
d1c78b4 Comin' at ya from the WWDC with my thoughts
7f46399 Changing *any* default behavior is a bad idea without _very_ careful consideration, IMO, as it can silently break existing configs.  Principle of least astonishment applies.  Besides, the security argument is bubkus. Security through obscurity at best, and hardly even that.
e1da88a bleh... bad idea.
2dd9f63 Added my vote on minimal server version reporting
8679303 vote:change default config so that we only report our version instead of everything PR: Obtained from: Submitted by: Reviewed by:
38e7789 Fixed how the NetWare import and exports lists are accessed by the make files.
b82e723 Updated the NetWare import and exports lists for the caching modules
e4c20ea Added caching modules to the NetWare build project
9e3ae2c get proxy CONNECT to work on EBCDIC machines
3c5aa43 get "make extraclean" and probably "make distclean" to work on AIX again...  $(RM) isn't defined everywhere (GNU make built-in?), so invoke rm the way we invoke it elsewhere in the makefile
8454485 Fix long-standing typo (as of 1.17 when mod_info was ported to apache-2.0): The containers would be printed as    <Name ...>    </,Name> instead of the proper termination    </Name> (or was it intended?) PR: Obtained from: Submitted by: Reviewed by:
26fd662 Fix win32 build breakage
d302c87 Add DeflateBufferSize directive to replace hardcoded FILTER_BUFSIZE definition.  Also speeds up ctx init since it takes the buffer and does a malloc rather than a calloc on it.
66deef4 Update mod_deflate's documentation.
0cf8e3b Reverse the hook ordering for mod_userdir and mod_alias so that Alias/ScriptAlias will override Userdir.
afbb15e Uh, yeah, make this work.
dff9853 For those with just xalan-c, drop a hint on what to do.
0aa0594f If we determine that we shouldn't be involved in this request, remove ourselves from the filter chain (so we don't duplicate this path each time a brigade comes through).
d60a704 It isn't a fatal condition if there is no lockfile name, so switch from APR_EINVAL to APR_SUCCESS.  (rewritelock_remove already returns SUCCESS in this case.)
981f0e1 Move mod_deflate from experimental to filters to represent our belief in its stability.
a3cd00e Update to reflect the release.
7713016 Protect us from this dirty hack that gets SysV Sem working again on mod_rewrite. This, along with the original usage of a unix-only function in mod_rewrite, is a temporary stopgap measure designed only to workaround limitations in APR's handling of permission attributes. It shall be removed as soon as that interface is improved.
4b3691a Get proxy CONNECT basically working (IE seems to be happy with secure connections).
43037e9 Note the mod_rewrite hang fix.
28ef5dd Fix mod_rewrite hang when APR uses SysV Semaphores. Before we were silently failing when locking/unlocking the mutex, since httpd child processes didn't have permissions to access the root-created semaphore.
c33e457 Add unixd_set_global_mutex_perms so we can set permissions on things like SysV Semaphores in the core and modules.
00d5972 Add some error checking in mod_rewrite for the mutex lock/unlock calls.
4083df3 Updated the NetWare make file to match the latest changes
3f40d72 Protect from buffer overflow when populating a HEAP based cache object.
21d484a Fix compile break on Netware.
20ccb10 mod_mem_cache/mod_cache requires APR_HAS_ATOMIC_* feature macros.
ad530ca This looks complete.
7b4023a fix the type of the pointer returned by the hash lookup
a9164f7 Cast the constness away when the object is returned to the caller/owner of the object.
136d244 Fetch the filename to be cached from the file bucket rather than from the request_rec.
135599c Done
d63f22c Be more tolerant.
4c32a98 Updated to work with the DTD.
e6e1aac Added several strings. Tried to group strings according to usage. Tried to comment where strings are used.
843c4a4 Replaced all hard-coded strings with localized versions. Some clean ups.
8b10742 for 2.0.36: showstoppers = 0; for 2.0.37: showstoppers = 1;
f37d50c cleanup old-school backward uses of APR_BRIGADE_CONCAT to use APR_BRIGADE_PREPEND instead, plus optimize away a bunch of repetitive brigade destructions/creations by hanging onto ctx->saved even after we empty it out.
2991d7a Added DTD.
75b4009 Renamed <modulelist> into <modulefilelist>, so as not to clash with <directivesynopsis>/<modulelist>.
33187b2 Simple Makefile for those who prefer make over ant.
fc40b68 Removing a field in a core structure (r->boundary) merits a MMN bump, unfortunately.  They got 2 GAs out of the old MMN.
2dd4d89 Added <directiveindex>, <moduleindex>, and <modulefilelist>.
19dcad1 Simplify a bit
d2cd22b Update generated file.
4127968 Fix typo.
105cb01 Rewrite ap_byterange_filter so that it can work with data that does not have a predetermined C-L - such as data that passes through mod_include. Previously, these requests would generate 416 since when the byterange filter ran, r->clength would be 0.  r->clength is only guaranteed to be valid after C-L filter is run, but we need C-L to run after us so that our data can have a proper C-L returned.  So, we need to rearrange the code so that we can deal with this case.
e82c077 First cut of Japanese translation of module docs. These files don't play nicely with current transformation scripts yet.
a1e360d Reformat/rephrase some things.
e80327a Added an optional function (ap_register_rewrite_mapfunc) which allows third-party modules to extend mod_rewrite's "int:" internal RewriteMap functionality.
3a8f54d Changed to a <dl> in warning note to comply with the DTD.
c637da7 grr... mod_mem_cache didn't take kindly to that constness fix.  So I'm reverting it and will just have to live with the warning for now.  FirstBill, what's The Right Way to fix this?  Should we drop all the const qualifiers in there, or should cache_hash_set() return a const void * and mod_mem_cache should cast away the const, or what?
e4d5bdf cache_hash_set was dropping the const qualifier from its return value
9ad43c1 mod_mem_cache needs cache_hash.lo in order to link properly
3552e0e Fix compile break: mod_mem_cache.c: In function `cleanup_cache_mem': mod_mem_cache.c:251: too many arguments to function `cache_hash_first' make[4]: *** [mod_mem_cache.slo] Error 1
b0f3dfb Introduce a dedicated cache hash adt that does not rely on pools. This cures a storage leak when garbage collecting expired entries out of the hash table. cache_hash is just apr_hash with some of the function removed and reimplemented to use malloc/free in place of apr_pool calls.
a70b0e4 Mention PR 8462 fix
cfd029b Fix for PR 8462: When tokenizing an unquoted string literal, don't consume a ')' that immediately follows it.
aa351c1 Typo in a link.
62e5c1f Remove autom4te.cache when doing make distclean.
1d65666 Fix generated httpd.conf to respect layout for LoadModule lines. PR:	8170 Submitted by:	Thom May <thom@planetarytramp.net> Reviewed by:	Justin Erenkrantz
af6c74f Simplify the cleanup logic a bit. Fix a bug that could leave freed entries the cache hash table.
7510378 Don't open for business before the cache objec is fully initialized.
70cb9f2 Typo fix.
8bb39e8 Try to get sitemap up to date.  Maybe some day there will be an automated way to do this...
88a9634 Keep rollin', rollin', rollin' Though the streams are swollen, Keep them dogies rollin', Rawhide!
a05adbc By using _setn instead of _set, this call is setting a pointer to a stack variable in the hash entry.  Once initialize_module() returns, the key pointer in the hash entry is invalid.  This causes a fault the next time that the hash entry key is checked.  Calling the _set() version will store a copy of the key which has the same lifetime as the hash table entry.
1532c1f fix a typo
474d340 Done
167bdab Win32: Fix bug in mpm_win32 which allowed multiple threads to access the same scoreboard slot across graceful restarts.
bca1a00 Missed a closing tag.
f291368 Update the filter documentation to mention AddInput/OutputFilter and DEFLATE.
944952d Further cleanup of mod_mime docs: - Shorten up the summary a little. - Remove some cross-references where the link is already in the directive text.
a44c583 Some cleanup, cross-referencing, and description additions for mod_mime.
1323bf7 Update transformations.
b476bfc Be a little more specific about what Location matches against.
9c77edc Bring tutorial page updates forward from 1.3, but preserve the "this may be out of date" warning.
8d637c1 Performance fixes: * eliminate some copying of sub-parts of the content type in analyze_ct() * take advantage of the fact that we know the lengths of those sub-parts   in find_ct() to avoid having to recompute their length for concatenation
37060b9 Fix some minor formatting issues with ab. Part of this is      in reference to PR 8544, the rest I noticed while testing      the PR fix. [Paul J. Reder]
241acc7 Failed to mentionthe PR in the first pass. This just adds the PR number to the CHANGES file. (PR 8320)
4a243a4 Fix a case where an invalid pass phrase is entered and an error message is given, but the prompt is not shown again. This left the user in an ambiguous state.
a07f9b8 wait for worker threads to exit even in graceless termination (we already have code to make them exit sooner now)
1aa1043   Always build this experimental module (which has no library dependencies).   Build failure reported by Jerry Baker to dev@httpd
f6b612b Defer starting the listener until we have at least tried to start all the worker threads.  We want to get the workers in the pool of available threads ASAP to keep perform_idle_server_maintenance from thrashing and starting too many processes prematurely.  The code before this patch would dribble workers into the worker pool over an extended period of time and this prevented perform_idle_server_maintenance from accurately deciding when new processes were needed.
cfff0fd Update prior to bumping the tag
8fb4848 Close sockets on worker MPM when doing a graceless restart.  This should resolve some segfaults see when doing such restarts.
e556e52 Eliminate some sprintf calls
319d1c8 NetWare make files for building experimental module mod_cache and its associated support modules.
60934d2 NetWare make files for building experimental modules mod_deflate, mod_example and support utilities ab, htdbm and logresolve
4c4ea8b default_handler: move the code to handle unusual methods out of the middle of the hot path without using goto.
a412db0 Revert optimization from circa 2.0.34 that caused very long vhost id's to be unusable with mod_ssl.
61b3b73 Readjusting how the bucket alloc is done for each worker thread.  Allocate the bucket once per thread rather than on every request.  This change increases our performance significantly.
b85e4d6 Fix the link to the description of the CoredumpDirectory directive in the server-wide document.
878296f note a desirable goal
4a0447c SHMCB should not have been using apr_rmm -- it was doing so incorrectly, for one thing.  But it just plain doesn't need it.  Rip it out to avoid segfaulting.
0db4d51 - Sync with modssl 2.8.8-1.3.24 - Also a minor change to add more useful error   logging for shmcb startup failures
0ca3410 mod_cache doc update (note this is still very primitive)
47f300e Enable mod_mem_cache to be configured to cache open file handle using new directive option: CacheEnable fd / will enable caching fds. If for some reason the fd cannot be cached, the directive will effectively morph into CacheEnable mem /
267591e Remove APR_WANT_SIGNAL from apr_want.h because code must include apr_signal.h in order to get consistent definitions.
3e32f7d remove_entity should only work on complete cache_objects
c94bb89   Please, Win32 hackers, review this doc!!!  Talk about out of date and   horribly stale.  A dry run report would be a great thing for feedback.
12bade8   Worth noting, I guess
d80591d   Should correctly build mod_ext_filter, mod_deflate dependant upon zlib,   and change the license-add code for openssl+zlib based on the newest   changes to a global LICENSE for all bundled components.
be5f867 Forget to update the error messages
aa75094 Name space protect mod_mem_cache config directives
d8a43f4 finish getting apxs to work with a binary build
5dcc1f9 Fixing up the distribution and install section of the NetWare make files
f03539b Added some missing export to the proxy module
107f38e   Demote to a minor bump for .36 - those affected by API changes should   be a very small subset of modules.  Here are the afflicted types & fns;
2153835   Attach a bugz number
18daafd Update prior to bumping the tag
4c04f98 Replaced a sprintf("%d") with itoa
da008d4 Short-circuit out of mod_userdir's translation handler faster on non "/~*" requests
879f6fe Updated ap_getword_white() to use the same coding style (and optimizations) as ap_getword()
28a503a Updating my vote on the worker MPM
fd2ab27 Document this weekend's worker MPM changes
05097b8 Fix spelling/typo
69371c8 Removed some code from the mutex-protected block in ap_queue_pop(). If the worker thread synchronization is working properly, it's not necessary to set these fields to NULL after removing an element from the queue, and it's IMO more important to have a shorter code path leading up to the mutex_unlock.  I left in support for NULLing the fields when debugging, though.
6d523a8 Because mod_imap's handler runs on every request in the default configuration, rearrange the code to keep it from allocating a few pages worth of local variables on the stack on requests that don't use imagemaps
0abe985 What did I do today?
26f565b Don't install *.in config files.
cb83b74 Rename the worker_stack_interrupt_all() function as worker_stack_terminate(). Also, broadcast a signal after we set the terminate flag on the worker stack.
d3d545e Removed the "not_full" condition variable and associated conditional logic from the file descriptor queue, now that we can rely on the idle worker reference count to keep the listener from trying to push connections into a full queue Reviewed by:	Aaron Bannert (concept)
c332ff3 Remove unused variable.
5e64736 Some more threadpool MPM changes:
464b626 Clarify an incorrect statement about why we're purposfully putting the signal inside of a mutex.
31a81c8 Some threadpool fixes:
03966a6 Detect APR_EINTR from ap_queue_pop() and avoid calling ap_queue_info_set_idle() more than once at a time per worker thread. This fixes an assert coredump.
f0b6929 When we signal a condition variable, we need to own the lock that is associated with that condition variable. This isn't necessary for Solaris, but for Posix it is.
19c2013 Fix a bug in the mod_status display caused by some uninitialized fields. Prep for taking mpm_winnt to multi-process...
fa117e4 Style cleanup (remove tabs, fix alignment).
8025186 Typo fix.
108504a kill a warning on Darwin for NONCE_LEN becoming a long int by math.
d8b443e If a subreq added a filter (say INCLUDES) and the subreq was promoted via fast_redirect, the filter would still point at the subreq - rather than the original r.  So, we must update any filters pointing at rr to be r.
f8ead96 Simplify this little chunk of code since r is set to f->r earlier.
6625520 Moved the recycled pool list from the queue to the queue_info structure. The advantage of doing this is that it enables us to guarantee that the number of ptrans pools in existence at once is no greater than the number of worker threads, and that we'll never have to delete ptrans pools.
91aefd5 Added a missing pool deletion case and simplified the conditionals for the error-case return (thanks to Justin for suggesting the latter)
669d2ac Move a potentially expensive pool cleanup operation outside the mutex-protected critical path of ap_queue_pop()
c87eec9 Preserve the original error, or if the unlock fails then use that error instead.
a306396 Removed creation of unused struct
0a1ffb5 Modify the worker MPM to not accept() new connections until there is an available worker thread. This prevents queued connections from starving for processing time while long-running connections were hogging all the available threads.
23fa964 Add a "queue_info" structure to the worker MPM. This is used to prevent the listener thread from accept()ing more connections than there are available workers. This prevents long-running requests from starving connections that have been accepted but not yet processed.
69c2dba Fixed the creation of the worker threads' data structures
384a8a1 my_generation is in the shared scoreboard now.
61f4134 Added a vote on MPMs
e712670   After review and testing against all of the PSDK examples (see   http://www.apache.org/~wrowe/ for commentary on building the   examples and making them work) ... this disable-optimization   should no longer be required.
ca3c650 Added a check to make sure that h_aliases is not NULL before we try to dereference it in the for(...) loop.  Attempting to dereference a NULL pointer was causing a fault if there were no aliases found.
3b2f5ce Apply a patch to compile cleanly again against changes to the shared memory implementation in APR. PR: Obtained from: Submitted by:	Eduardo Garcia Lopez <egarcia@stream18.com> Reviewed by:
66851dd get closer to having apxs work from a binary distribution we need to copy libtool and instdso.sh verbatim, and we need to edit config_vars.mk and apxs
f758125 Update release info.
442f156 Even though this is in APR, it is causing big problems in Apache.
7d303d9 The worker's fdqueue is now a queue again.
77adcc0 Convert the worker MPM's fdqueue from a LIFO back into a FIFO. Since elements in the queue represent accept()ed connections, we want them to be processed in the order that they were received.  (I erroneously converted it to a LIFO quite awhile ago in the hopes that it would improve cache efficiency.)
3b7f35c fix a compile break on EBCDIC machines
9a1842b get basic HTTP proxy working on EBCDIC machines
c32f6f1 Switch back from atomic_cas to mutexes, based on all the current portability challenges with atomics
0d95c1c Some of these worker bugs may or may not be showstoppers, but I'll let Striker decide that. I hope to have the top two of these finished in the next 24 hours, but the third I may need some help with.
d439ef1 get mod_proxy to build on EBCDIC machines
e5234ec remove a goto
8832e7a Typoed HTML tag. </ br> -> <br />
61a3620 Added example of the Redirect status syntax.
472d9e1 fix a compiler error with picky compilers that (correctly) don't let you add to void *
e90180c Correct SSI time format reference.
f0395e0 Allow mod_unique_id to work on systems with no IPv4 address corresponding to their host name.
ed9fcea   Trade one signedness mismatch for another, but choose the one that is   known to be a positive value.
0f183a2   Not yet added to the default build, but curious if they build and run.   mod_deflate tested with both zlib 1.1.3/1.1.4, unpacked in srclib/zlib/.   Zlib only seems to have .dll builds, not very efficient when a single   binary is built against sources, so we compile the appropriate sources.   Your mileage may vary.
3451271 I just posted a few bug fixes that need to go into the worker MPM, so I'm -1 here until those are fixed. I also think we need to do a lot more load/soak/burn testing on worker before we switch it to be the default. (and maybe by that time we'll have a better candidate for the hybrid MP/MT MPM).
93ac2c0 Brain dump and a vote
81407c6 demote the Content-Range/416/SSI problem to non-showstopper.
0e7cbd4 Bump after the tag.
8073752 Bump for the tag
353bf6e During the 1.3->2.0 migragrion; ab its #defined VERSION own string was replaced by that of the base server distribution it sits in. Propably by accident.
924fc33 Fix suexec invocations from userdir - the ~ was not being prepended to the uid per our convention.  Therefore, bad things would happen (like we wouldn't cd to the right directory).
c39cfec Since UserDir is a raw argument, our config system allows it to be blank. To save us all the hassle, just flat out reject this silliness.  We could treat blank as ".", but let the user shoot themselves in the foot explicitly (and don't give them any ideas on how to do it).
8e1a89e We must always use case-insensitive comparisons in mod_mime even if our platform is not "case-blind."  This matches 1.3 behavior and our docs say that the extension argument is case-insensitive anyway.
cd4b403 Get proxy protocol modules to build on OS/2. This adds the mod_proxy dll's import library to the link, making the public symbols in it available to the protocol modules at build time.
90ed820 Document the recent AB changes since they have the potential to change the meaning of test results.
a630e71 Oooops! PR: Obtained from: Submitted by: Reviewed by:
7eec825 Add an intelligent error message should no proxy submodules be valid to handle a request. PR: 8407 Obtained from: Submitted by: Reviewed by:
7bf533b Mention my AB fixes.
5b19a40 Major improvement in concurrent processing for AB: - Enable non-blocking connects. - Prevent quasi-blocking mode apr_recv (which would prevent AB from   multiplexing over the entire descriptor set). - Catch other fatal apr_recv() errors.
6b40ae2 default_handler: short circuit the method checks.  Move the code to deal with unusual methods to the end of function to reduce i-cache clutter.
7b1890f1 Add a configuration block for the OS/2 MPM.
03723b0   A nice end to a crazy day... laptop's fixed and life goes on.
e9f0ec4   A bug affecting any platform that had pre-lstat'ed the file or directory   in question.  We neglected to clear the FINFO_LINK bit that told us this   was lstat()ed, but also causes stat() to follow an lstat() approach.   This is part 2 of 2 to correct the NTFS Junction (symlink) bug.
0b0f73b   Formatting irk grinding at me while stepping code
ef83b62 Fixed the NetWare AWK script that produces the httpd.conf file so that it understands the new macros.
4f05a16 There were multiple PR's about this one
889085f formatting buglet
411fd76 Switch to using new exp_* macros to fix disjointedness problems.
0523f06 Whoops, NULL is a macro, hence not available here
33e0746 The force-response-1.0 and downgrade-1.0 checks were swapped.  This would mean that downgraded requests were ineligible for force-response checks.
e224c36 I seem to recall this about FreeBSD
0acce44 Just add a file to use to house some platform dependent knowledge... Right now, just some Darwin notes. PR: Obtained from: Submitted by: Reviewed by:
80b6a5d Sync to the latest English version.
ffc7022 Sync to the latest English version.
ef41276 s/.html.html/.html/
2e9b9fa Clarify the remaining problems with Range: headers.  The seg faults went away when we changed ap_send_error_response to get rid of resource filters.
385479d This one appears to have been fixed by Greg and Jeff in http_protocol.c rev 1.408.
bf8b6f0 Fix perchild MPM so that it can be configured with the move to the experimental directory.  Fix perchild MPM so that it uses ap_gname2id for groups instead of ap_uname2id.
ab67ee4   Fix this optimization.  We will skip along so long as we aren't at the   right number of components, -or- we mismatch on the current component.
0468e9b   Small optimization, if we are behind (at the 5th segment, for example),   catch up the segment-count-sorted directory list without string compares.   Mostly affects win32 which jumps from seg 0 (root) to 4 for UNC path names.
71f9608 Update for APR rename of apr_get_groupname to apr_group_name_get.
768d65e AcceptPathInfo was totally backwards... it would reject when set to on and by default and accept when set to off for the default handler, and would reject only if set to accept for mod_cgi(d) and mod_isapi.
a040b26 Optimization: short-circuit out of ap_set_byterange() more quickly if the client isn't requesting a range
6b59ee4 Skip a potentially heavyweight call to sysconf, plus some local variable initializations, in the common case where the request is not for the server status page
f0cee8f Added the APLOG_TOCLIENT flag to ap_log_rerror() to explicitly tell the server that warning messages should be sent to the client in addition to being recorded in the error log. Prior to this change, ap_log_rerror() always sent warning messages to the client. In one case, a faulty CGI script caused the server to send a warning message to the client that contained the full path to the CGI script. This could be considered a minor security exposure.
921846b Failure to fork cgid is a shooting offense.
cb27325 Ignore stuff
2a644fb Fix HTML 3.2 validation error: &O is not a valid entity.  Should be &amp;O
219a3a1 Fix mod_autoindex output with SuppressRules turned on.
292fbad Use the day and month names exported from APR, rather than duplicating them
166b62f Added ap_recent_rfc822_date(), which uses the recent timestamp cache Obtained from: Submitted by: Reviewed by:
279b274 Workaround to get leader/follower compiling on recent Linuxes: apr_atomic.h includes some <asm/*.h> header files that clash with stdlib.h, so I've moved apr_atomic.h so that it's included after all the other header files.
649137f Propogate the change to insert "bucket_" into the names of the static functions that operate on various bucket types to make backtraces more sensible-looking.
da40864 um, one too many negatives in that paragraph.  :)
94734ed showstoppers--;
0a982c5 somebody just wrote a PR on something Paul fixed earlier today; mention that PR in the changelog
f9ae198 Added the NetWare make files to build the proxy modules
e08a484 Added the NetWare .def files to build the proxy modules
831fa49 Corrected the NLM names for the proxy modules
61153b2 Added new targets to the project build file to build the separate proxy modules
ddb56aa   Fix Restart and Stop from the service taskbar list.
ef6c5b6  Moved the call to apr_mmap_dup outside the error branch so  that it would actually get called. This fixes a core dump  at init everytime you use the MMapFile directive. [Paul J. Reder]
e90e977 Trigger an error when a LoadModule directive attempts to load a module which is built-in.  This is a common error when switching from a DSO build to a static build.
3509f33 hot hot hot
eea953f   SOCKETs are HANDLEs, but they type mismatch.  This fix has now been   verified by the vast majority of folks complaining about the "Not a   handle" failures in WSADuplicateHandle, later in the code flow.
22e726f fix a spelling error in a comment
5d2a647 Change instdso.sh to use libtool --install everywhere and then clean up some stray files and symlinks that libtool leaves around on some platforms.  This gets subversion building properly since it needed a re-link to be performed by libtool at install time, and the old instdso.sh logic to simply cp the DSO didn't handle that requirement.
4ebcf38 fix a typo in a comment for ap_get_client_block()
1c3a94b Some code transformations to improve the generated assembly code within the critical region inside the spin locks.  (Shortening this code path reduces the probability that we'll have to spin.)
49098ff Replaced the mutex around the idle worker stack with atomic compare-and-swap loops
1826f62 Switch ap_http_filter to use ap_get_brigade and apr_brigade_flatten instead of ap_getline - this prevents some odd looping issues that can cause problems.
5f46ab5 Simplify last commit by only calling cat once (this should hopefully resolve rbb's concern about maintainability and still address mine about annoying /s).
920e7be Replace this bogus check with something that actually works.  I have no idea what this line is attempting to do, but it doesn't work in the top-level Makefile - causing an error.  Therefore, take the line we use in APR to check if a file exists.
6deb72f The pedant in me wishes to see all extraneous trailing / go away. So, if we are in the top-level makefile, don't add an extra trailing slash to srcdir, builddir, or VPATH.  It's annoying.
767b98f back out ill-conceived attempt to fix a segfault during graceless termination
dce8d77 Move the mkdir_p check outside of the cache check so that we will always set that variable.
11e7e50 Allow VPATH builds to succeed when configured from an empty directory.
ba6cf79 Fix so that we can compile with OpenSSL 0.9.8-dev.
7f594c6 Fix 'control reaches end of non-void function' warning
5fbab7d Ccccccchanges.
a999901 Perchild has been deemed experimental and has been moved to server/mpm/experimental/perchild.
b9ee6fd Perchild has been deemed experimental and has been moved to server/mpm/experimental/perchild.
81af178 Sync up to the latest English version (convert to XHTML).
0db2b39 Sync up to the latest English version (convert to XHTML).
ddcc1e6 Typo.
e4b60df Remove images that are no longer needed.
f4d6229 - reference has been moved to the modules directory - overview is no longer needed
1596cb3 Continuing wml removal.
04e3eec Removing old WML stuff from the ssl directory.  These files are now just plain old html.
82e823e Fix seg fault when garbage collecting an expired entry.  remove_entity should just remove the object from the cache and set the cleanup flag in the object. decrement_refcount will clean the object up when the refcount goes to zero.
c37e151   Experimental patch that may mitigate (but not eliminate) the errors in   [crit] (32538)An operation was attempted on something that is not a socket.        : Parent: WSADuplicateSocket failed for socket ...   if the particular stacks' bug is that it won't associate a handle as a   socket if that handle was duped with DuplicateHandle().  Other bugs with   unimplemented WSADuplicateSocket are not addressed by this patch.
a43f5c4      Introduced -E startup_logfile_name option to httpd to allow admins      to begin logging errors immediately.  This provides Win32 users      an alternative to sending startup errors to the event viewer, and      allows other daemon tool authors an alternative to logging to stderr.
3f449a6 use an independent pool for threads so that when we abandon them during graceless termination the cleanups on pchild won't mess with stuff they are still referencing
9bdcd90 When an exception in a worker thread initiates a child shutdown, get things moving sooner by sending a SIGHUP to the accept thread, breaking it out of its accept/poll.
8afc887 don't call strchr(); we have a safer version -- ap_strchr_c()
4d16513 Fix subreqs with non-defined Content-Types being served improperly.
abfad02   Tired of 'foo.h not found' messages in the build.  Checked ms's docs,   seems xcopy's /y arg goes all the way back to Win95.  This shouldn't   introduce any hassles.
7f9ccb5 Add warning message when selecting an experimental MPM.
55ed69b Added support for the threadpool MPM
77146c5 Another experimental MPM derived from worker:
c0c7c0b Merge in latest GNU config.guess and config.sub files.  Synchronize all config.guess/config.sub files to be identical.  Previously, we had three different versions of the guess files - now they are the same.
7586599 worker is not the default Unix MPM.  [This statement has been in the docs ever since this was copy-and-pasted from the threaded MPM documentation, and threaded *was* the default at one point.]
574a57d I doubt this was the intention.
b92d0b6 Move 100 - Continue support to the HTTP_IN filter so that filters are guaranteed to support 100 - Continue logic without any intervention.
6f208d3 Adds support for reading trailers on input by exporting get_mime_headers to ap_get_mime_headers and calling it in the appropriate place in ap_http_filter.
30889a0 Eliminated the extraneous code that caused each exiting worker to wake up the next one in the list
7d3a437 Fix an uninitialized variable
226d19e Fixed some broken shutdown code
d4a51d0 ap_send_error_response: reset r->output filters to the protocol filters. The equivalent logic was deleted when request filters were renamed to RESOURCE filters.  This fixes the seg faults that sometimes happen on daedalus after a bogus 416 HTTP response is generated.
6690fd7 Fixing the link to the bug reporting page.
704d15c Add some additional shutdown synchronization so that we don't get the OS message to force the module to unload.
8804ad9 Bring the beos mpm into the new age with the new lock functions and some small corrections to get us building again.
9dc34b2 Add note about closed PR.  If a PR was filed, it's probably worthy to be listed in CHANGES (IMHO).
e955e53 Allow empty Host: header arguments.
04d8afc Ack.  That was bad.  Revert this.
0e4e224 Properly substitute sbindir as httpd's location in apachectl.
c0892c4 Remove some leftover debug code that was closing an already-closed socket
06aa1af Addmodule doesn't exist in 2.0.
509b710 Fix html comments in directive examples and defaults.
71da6ee Let people know what a "cgi-script" is and how to reference it.
9b7b469 Messed up that last one.  Here is the proper xhtml+xml type.
bd4972c Add a couple requested (and properly registered) mime types. See: http://www.iana.org/assignments/media-types/application/ http://www.rfc-editor.org/rfc/rfc3236.txt http://www.iana.org/assignments/media-types/image/vnd.djvu
965c3a8 fixed a typo
d54a593 Get local address info in listener sockets initialized when constructed in the child process from a descriptor passed from the parent. This fixed vhost address matching.
d98925f apr_bucket_alloc_create() now registers a cleanup that does a apr_bucket_alloc_destroy(). Don't double free by calling it explicitly.
a087aac Fixed a race condition
8d26799   Respect the process_cgi argument
e97e2e5   process_cgi is more descriptive than replace_cmd.
c182bbe   The fix requires a bump
14bba29   If we have a registry command or a shebang line invocation, correct the   invocation type to APR_PROGRAM_PATH so we will both search the path, and   accept undecorated names, e.g. "perl" should be acceptable for "perl.exe".
fe28459   Wasted at least 20 minutes reparsing this code till I determined it's   correct.  But make the sucker legible so noone else repeats the experience.
596ccf1   In order for Win32 to accept the shebang line of #!perl so we 1) search   the PATH and 2) resolve perl.exe for perl, we must add the progtype so   we can override APR_PROGRAM with APR_PROGRAM_PATH.  This is the API change   only for the cgi build command line option function.
01ba81a   Correct const'ness of argv in all support apps, and use the new   apr_app_initialize over apr_initialize for win32, and other platforms   that may wish to tweak 'apr-ized' application support (e.g. Netware?)
6e8efec Adapt to the rename of apr_explode_localtime to apr_time_exp_lt in APR.
11c09e8 Fixed the shutdown logic
3873554 Too many incomplete changes to the code base.
f5a0ca8 NetWare binaries have been posted
f317c2c Readjustment of where the bucket is being allocated now that they are being cleaned up.  Need to move the call to after apr_pool_clear() so that it doesn't get cleanup too soon and never reallocated.
435bd23 Back out most of the previous commit, because part of it was useless and part of it was vetoed.
162a4d3 worker MPM: Fix a situation where a child exited without releasing the accept mutex.  Depending on the OS and mutex mechanism this could result in a hang.
ce2ce8a * make sure the -alpha name is not _inside_ the gzip (I have to try this and   to see if it works that way though)
131658d Touch these files so that their datestamps are newer than the corresponding .y and .l files.  These must be kept newer than those at all times to avoid introducing a dependency on flex and yacc.
4b8619d update the instructions for how to get started with mod_example
fe4ce8b   Flip the order.  If the user specifies ScriptInterpreterSource,   either Registry or RegistryStrict, test the registry in preference   over a shebang line.  This is how 1.3 behaved, and allows scripts   with invalid shebang lines (straight from another box, for example)   to run without modification.
33e2f1c Added in the worker MPM's version of the POD code
846015f switch back to the worker's version of the pod code
2000325 Added support for MPMs that live in subdirectories under server/mpm like server/mpm/experimental/*
8643fec Added support for MPMs that live in subdirectories under server/mpm like server/mpm/experimental/*
d9618f7 fixes to make it compile
91ad652 initial check-in of supporting code for leader/follower MPM
10ba33d Justin is off to a new adventure...
da91ebd Change httpd.pid placement to rel_runtimedir instead of rel_logfiledir. With the standard apache layout, this changes nothing (since runtimedir == logfiledir), but for other layouts, this makes a lot more sense.
b4bb41d Initial check-in of leader-follower MPM code, derived from worker
36a70b0 A *major* upgrade for the dump_brigade and dump_bucket gdb macros.
47a4a37 ignore generated file httpd-std.conf
1269b72 Closed up some holes where a thread could escape and exit without releasing the mutex.  This would leave all of the other threads deadlocked.
698170f The accept loop was sleeping way too long when we ran out of completion contexts. All that is really necessary is that the accept look yield the rest of its time slice when this condition is hit.
90c9abe Ooops. Don't whack our ptrans pool.
f6d114c Move the socket info initialization into the winnt_accept() loop (this more closely follows Apaches socket abstraction design principles).  Made similar change to Win9x code to keep that OS working. Reuse the ptrans pool across transactions.
ec72dfe Get rid of hungarian notation. No function change.
04d7174   Time for sleep
6c4c5fc LinuxPPC binaries uploaded... PR: Obtained from: Submitted by: Reviewed by:
9ff0d84 Convert mod_ssl to the new apr_global_mutex.h API and remove all uses of apr_lock.h [deprecated]. Tested that I could serve simple SSL (v3) pages.
01f26b0   Eliminate cyclic dependency that broke 2.0.35 command line build
3f3d6de move a loop-invariant computation out of the thread loop and at the same time quiet a gcc warning (it assumed that thread_limit could be zero, which would leave ps_record uninitialized when referenced after the end of the thread loop)
af88e88 get the strchr() declaration
0e6a1ec Note a bug fix in apr-util.
ab32e62 Proxy was bombing out every second keepalive request, caused by a stray CRLF before the second response's status line. Proxy now tries to read one more line if it encounters a CRLF where it expected a status. PR: 10010 Obtained from: Submitted by: Reviewed by:
5bd8bef Deprecated the apr_lock.h API.
0184900   Compiler/platform bogosity is apr's job.
0a91c63 Remove many unnecessary includes, incl. apr_lock.h
fe32089 Remove unnecessary includes of apr_lock.h
d716a83 Remove uses of apr_lock.h. This patch is untested, but I don't see where the apr_lock.h include was necessary anyway.
4157e57 PR: Obtained from: Submitted by:   Ryan Morgan <rmorgan@covalent.net> Reviewed by:	dougm, jimjag Change mod_status to use scoreboard accessor functions so it can be used in any MPM without having to be recompiled.
9464e18   Correct a simple typo
9a38841 problem already fixed in 2.0.36-dev
ed26210 mention the fix for parsing certain AP_DECLARE_DATA decls; for some platforms that fix is crucial
4b9c550 Fix export of variables that have "extern" before their AP_DECLARE_DATA. This includes ap_subreq_core_filter_handle which mod_autoindex.c now needs.
ffacfc8 "FINAL" is ... well, too final.
6115b87 2.0.36 showstoppers
fa4d9c3 Red Hat 7.0 and 7.2 builds for i686 are in place.
e34ebac another todo
360b069   Well, soon I hope - but yes, I'm on it.
9fb5b38 PR: Obtained from: Submitted by:	Daniel Lopez <daniel@covalent.net> Reviewed by:	dougm, rbb add optional fixup hook to proxy
2657987 AIX binaries on the way (compile and link god willing)
4d42ae7 FreeBSD 4.5 and Solaris8/i386 binaries available.
724abc1 Remind the admin about the User and Group directives when we are unable to set permissions on a semaphore.
ec2f387 Just added
e2b0bd2 Volunteering for i386-unknown-freebsd4.5 (from daedalus).
52402e2 Signing up for the NetWare binaries
86b7fe6 Added this am
6cc6cc0 I port perchild last week.
1c9341d We should note that this has gone GA.
7d66b64 I made this available yesterday.
f4c4f97 fix the function name in the prototype for dav_get_search_hooks()
e3db2e5 Fixup product name PR: Obtained from: Submitted by: Reviewed by:
8ba63b4 I can take care of LinuxPPC (YDL v2.1)... PR: Obtained from: Submitted by: Reviewed by:
233088a Reformat this to look pretty (blatently stolen from the 1.3 STATUS file). AFAIK none of these are available, so my pardons if they are available.
58782d1 I can take care of sol8/intel and some old sk00l lee-nux.
bb2d86e PR: 7802 Obtained from: Submitted by: Reviewed by: fix compilation problem in ssl_engine_kernel.c if SSL_LIBRARY_VERSION >= 0x00907000
79d2c14 noteworthy since yesterdays change actually fixes the problem
df17897 Minor formatting plus add arch
4a6304c Remove a patch that is no longer needed (bug was fixed a LONG time ago)
0d810eb Update CHANGES to reflect the mod_dav change.
5653644 PR: Obtained from: Submitted by: Reviewed by: ssl_io_input_read now returns APR_EOF if ssl_io_hook_read returns 0 bytes for a reason other than SSL_ERROR_WANT_READ.  this should prevent a possible endless loop.
1138615 fix ProxyPass when frontend is https and backend is http
36fad69 Pass the --includedir flag to the apr and apr-util configure calls.
8c5fa6e Generate rel_libdir and exp_libdir variables.
184d245 Allow us to override the default --libdir from the config.layout if it was specified to configure.
b165be1 Add libdir entries to config.layout.
3b2488e Fix export of variables that have "extern" before their AP_DECLARE_DATA. This includes ap_subreq_core_filter_handle which mod_autoindex.c now needs.
22d4e9e Quick fix to an incorrect comment. PR: Obtained from: Submitted by: Reviewed by:
05eb8c1 Add DASL(SEARCH) support to mod_dav.
5618613 Port over some fixes to mod_dav 1.0 so that the Apache 2.0 DAV code will pass the "litmus" DAV test tool.
f6aa116 Added a call to apr_bucket_alloc_destroy() to the clean_child_exit() code that is called when each worker thread terminates.  This stopped the memory leak.
61ffb59 Use the new format for the tarballs.   httpd-2.0.xx-alpha.tar.gz
3333b6a Bump after the tag and roll
d8dc6e8 Added replacement values for the new tags in the httpd.conf file template
210e9e1 Changed the make file to pick up the renamed httpd.conf file template.
c3d4e47 Fix a segfault.  Only try to set this if the sub_Request has a c-t.
b18ca18 If we are doing a fast_redirect, and we don't have a main request, then make sure that we don't have the sub_req_output_filter.  This was causing problems when there were multiple sub_Requests, and some should have had the filter, but the last one shouldn't.
e866b9d   Whoops, missed this.  Moved these symbols to mod_core.h
e520073   Correct partitioning of filter handles between core and http, and   export the handle pointers on Win32.
4135468   Clean up breakage introduced recently that sent the wrong headers through   the http_headers output filter.  Now we will always point every filter at   the 'redirected' request, e.g. the actual error message response rather   than the request that failed.
1481a06 Bump for the 2.0.35 tag.  Just waiting for Will's commit to actually do the tag.
1e8b1a0 Update mod_rewrite to use the new APR global mutex type.
e11231f With VPATH builds, the httpd.conf-std file is found in the build directory, not the source directory.  Make sure we check both from now on.
e695ae9 PR: Obtained from: Submitted by: Reviewed by:    Ryan Bloom remove flush bucket from ap_proxy_http_process_response. this allows for the response content-length header to be properly calculated/inserted.
58d6327 Document the mod_include fixes from yesterday
45cb1e8 This is a HACK!  The problem is that the fast_internal_redirect is removing the OLD_WRITE filter. Obviously that is wrong.  For right now, the fix is to hack around the problem and just make it work.  Long term, we need to find a real solution to this, but this gets autoindex working today.
f25b712 This fixes the mod_autoindex problem of not getting the list of files. The problem was that the internal_fast_redirect removed the SUB_REQ filter, but we are still in a sub_request.  The solution is to have the fast_internal_Redirect function check if we are in a sub_Request and re-add the filter if we are. Submitted by:	Ryan Bloom, Greg Ames, Jeff Trawick, and Will Rowe
d48f81a With a cool spin cast...
2fc975e Fix for the boundary case in which each character of an SSI directive is in a separate bucket...the code in send_parsed_content() doesn't expect a case where ctx->state==PARSE_DIRECTIVE but ctx->tag_start_buffer is NULL.  So in found_start_sequence(), we set ctx->tag_start_buffer to point to the next bucket if the end of the <!--# is at the very end of the current bucket.
c1c5834 Get the HTTP-on-HTTPS hint to come through again.  We're in AP_MODE_GETLINE at this point, so the \r\n\r\n just confuses the http input filter.
43ed288 Get rid of overlay bogosity by copying the static string to the stack. This keeps DEBUG_INCLUDE from segfaulting.
60bfb86 Remove an invalid comment.  (The only way that the bucket will contain only a single byte is if slen==1, meaning that we've replaced <!--# with a single-character token, and that character is the first character in the bucket.  If that happens, then pos+slen (aka 1) is the right amount by which to increase bytes_parsed.
f81d8b6 Silence an irrelevant gcc warning
386e8ec Fix variable name typo
95270aa   One for 2.0.34 - to fix the problem of utf-8 configuration files saved   from MeSsed up editors that believe zero byte joiner lead bytes signify   a utf-8 file.  Someone point me at an RFC ... gheesh.
066aeb1   Mix 'n match signedness?  Make some emits go away.
7bb6d7d PR: Obtained from: Submitted by: Reviewed by: avoid the error_log message: [error] mod_ssl: Certificate Verification: Error ... if SSLProxyVerify is not configured or set to "none". the verify callback does not happen in the server context when SSLVerify is not configured or set to "none".
d29493f quiet a bogus gcc warning that crops up with -O2
3f396cf implement FOREGROUND for perchild and beos MPMs too
20a1bf6 worker MPM:  add -DFOREGROUND option to use when you want              the parent process to run in the foreground
ac512bb   Uhmmm... notices only when we are running as a service [I hate strcmp.]
49d4592   One emit is an error, not a notice.  Neither have 'error codes'...
a140f23   Another, potential race.  Assure we are allowing worker threads to finish   from the time we begin our shutdown exercise.
7391ec9   Race condition one ... we were occasionally escaping all the way out to   WSATerminate() before this thread picked up it's sleepy head to discover   the world was gone beneath it on 1GHz+ CPU WinXP configurations.
c1b11bc This patch fixes a core dump that occurs in mod_include during tag parsing if the starting sequence (<!--#) finishes at the end of a bucket and the directive starts at the beginning of the next bucket.
674fcdd ignore generated file ap_config_layout.h
cc7157e Added support for Posix semaphore-based mutex locking (AcceptMutex posixsem). It's between pthread and sysvsem in the DEFAULT priority ranking. This makes it the new default for Darwin, and adds support for it for other platforms as well (like Solaris). PR: Obtained from: Submitted by: Reviewed by:
aa91643 AIX: Fix the syntax for setting the LDR_CNTRL and AIXTHREAD_SCOPE      environment variables in the envvars file.
d14107e Remove hardcoded paths from MPMs and move them to a more central place.  Expand paths in httpd-std.conf in a similar fashion as we do in our headers.
36a1c90 Fix a potential size mismatch (apr_off_t might be 64bits on some platforms).
683debf Fix a couple of edge cases when the content being cached is generated locally. (ie, the HTTP_HEADER_FILTER has not yet run)
b1bc201 Add mod_cache to allmodules.xml and do the transforms to get it into the indexes.
087c771 Make comments and function name agree with what the functions actually do.
8551f53 worker MPM:
7343783 prefork MPM: add -DFOREGROUND option to use when you want              the parent process to run in the foreground
be70283 style change only
cdb0212 Allow worker MPM to build on systems without pthread_kill().
0a363ca   Elimiate references of subreferences to simplify rebuild logic
8fdee6f   Much easier to clone first than fix later - next batch of builds this   poorly thought out will simply be vetoed - do you really expect M$'s   defaults to make any sense?  And what's with /I "C:\foo" ???
d39795a   Would really prefer if the authors of the .dsp's would maintain this...   better yet - clone existing .dsp's to assure they are correct
7af93a8   Can't we -please- rename mod_file_cache if it doesn't fit in the   mod_cache scheme of things?
76f4d7c   Gheesh
b768ad4   On second thought ... I can see some weird sign bit magic messing this   up on some hypothetical CPU... better to cast the net expression.
c286857   A very safe cast for any ^2 based cpu.  Are we expecting any trinary CPUs   any time soon for Apache support?  Cleans up an emit on 32 bit builds.
c6b4bf8 First meager steps to documenting mod_cache
8c1cf82 fix SSL_X509_INFO_load_path so SSLProxyMachineCertificatePath works
78ee605 copy-n-pasto: need to use SSL_X509_INFO_load_*path* on pkp->cert_path
d07edc0 copy-n-pasto: ssl_cmd_SSLProxyMachineCertificatePath needs to set cert_path
26a5b7f fix copy-n-pasto: ssl_cmd_SSLProxyCACertificatePath needs to use ssl_cmd_check_dir rather than ssl_cmd_check_file
1accb1b another todo
a9fbf24 Update the transformations.
c3af25b Just a little change so that this will validate.
266bd15 PR: Obtained from: Submitted by: Reviewed by:    Ryan Bloom ap_remove_output_filter no longer works for connection filters. change logic in the case of "HTTP spoken on HTTPS port" to disable the ssl filters rather than attempt to remove the filters.
8fd9a81 various updates
7c0bb25 Check for a NULL pointer in the case of the OS address space
7d94a82 Win32: tweak some messages
31db5ad Win32: Change startup/shutdown message class to NOTICE. These messages should always be written to the error log regardless of the loglevel.
27c9114 Add myself on this bright and sunny day.
cf7be3d PR: Obtained from: Submitted by: Reviewed by:	Ryan Bloom remove call to ap_proxy_reset_output_filters() and the function itself. this call breaks ssl proxy when the client is using keepalives. this function is also no longer needed with recent-ish filter changes.
62dbb4d Note about ap_cache_msec2hex() and ap_cache_hex2msec() to keep me from forgetting to fix it...
e345c59 Win32: Add mod_cache, mod_mem_cache and mod_disk_cache to the build and install.
1cef62a Use runtime library linking. This reduces the size of the *.so files substantially
670f685 Cleanup some compile warnings.
ec8e8ad A few additional examples added to the docs.
b43d2c5 Grammar police.  (Well, you asked for it.  ;)  There's still a split infinitive in the last sentence, but I don't really believe in that rule, so...
19edeab Update the docs on the ScoreBoardFile directive for the new apr_shm.h API and the removal of the old SCOREBOARD_FILE stuff.
dc2e5a5 Replaced a hack for getting the address space with the real API
a9960eb Prevent ap_add_output_filters_by_type from being called in ap_set_content_type if the content-type hasn't changed.
f0d5452 Fix some of the cache size checks.
577f9ab And it only took me what, 10 months?  :)
c7853dd Win32: Move apr_bucket_alloc() to a more reasonable location to fix memory leak.
193f4a9 Remove some gratuitous comments.
40f4958 Destroy the connection pool (and therefore run the cleanups) before destroying the bucket_alloc as the cleanups refer to buckets allocated by the bucket_alloc.
40e8dd1 If this is a subrequest, register the cleanup against the main request. This will prevent the cache object from being cleaned up from under the request after the subrequest is destroyed.
3010b21 Don't allow initialization to succeed if we can't get a socket corresponding to one of the Listen statements.
ad5321f Migrate perchild to the new lock API, and clean up some of the logic surrounding the FD passing.  This doesn't work yet, but it is getting closer.  Currently, the problem is that we don't correctly read the data from the socket so that it can be passed to the correct child.
7d0712e Match the new APR_BUCKET_BUFF_SIZE.  We want this to be slightly less than 8KB to leave room for the various allocators' internal structures while still fitting into a total of 8KB.
639b242 Made AB's use of the Host: header rfc2616 compliant as reported by Taisuke Yamada <tai@iij.ad.jp>
f017ec8 A bunch of Perchild changes.
9e061a6 Make perchild work with the new bucket_allocation API.  Also, allow the Perchild directives to take both numerical UID/GID and the logical user name/group name. PR:	9784 Submitted by:	named UID/GID logic: Scott Lamb <slamb@slamb.org>
9f9fa4e   pointer subtraction yeilds a ssize_t, fix emit by notating the   expression in terms of addition
9644d3c   Fix another linkage error for 2.0.34 and cvs head
759c6cc Get the Perchild MPM to compile and serve pages again.  There are a lot of bugs left in this, but I am taking things one step at a time.  This will work again.  This also gets perchild using the correct variable for MaxRequestsPerChild
c4151c3 it is sunny and warm in tahoe, still plenty of snow on the mountains
93084ef   Roll these changes into 2.0.34
43be77c Handle CR/LF terminated lines from CGI scripts.
3e479f6 Removed the single-byte header reads from mod_cgid
3f381e3 Fixed script error logging, which I'd left commented out after making the changes to use a brigade to read the script headers Obtained from: Submitted by: Reviewed by:
94de892 Fix for a bug that I introduced when eliminating the single-byte reads in mod_cgi: eof wasn't treated as an error condition when reading the script headers, so we were delivering a 200 when a CGI script produced no output.
140006b add/use EVP_PKEY_reference_inc and X509_reference_inc compat macros to get these changes working with sslc
d019ceb add sslc compat for sk_X509_INFO_free
3fa9f2b add SSLProxyCARevocation{File,Path} directives to support CRLs in the proxy
663baf3 pass sc to myCtxConfig macro
97b5911 make it possible for proxy to use CRL callback
51bbfba enable the verify callback for proxy
51ee9a7 ap_proxy_http_request needs to check the return status of ap_pass_brigade
0d93dc2 change sc->server references to myCtxConfig, so proxy can use the verify callback.
a456732 add myCtxConfig macro
9ee8bc1 implement proxy client certificate callback (uses SSLProxyMachineCertificate{File,Cert} when downstream server requires a client certificate)
ada316e input filter should not return failure when ssl runtime wants to read more
a12425c ssl_io_input_read needs to return something other than APR_SUCCESS when bucket read from socket was successful, but there was an error within the ssl runtime.
5021db7 load SSLProxyMachineCertificate{File,Path}
e430071 enable/cleanup SSL_X509_INFO_load_{file,path} functions for use in proxy context
5b5cccc Fix the version string.  We want to end up with "mod_ssl/2.0.xx", not "mod_ssl/Apache/2.0.xx".
eecf383 Cloudy today.
3ffd24a Removed email address on request - as obviscation was slammed down on the list - and Google is your friend in any case
5e1c0e2 add SSLProxyEngine directive.  this was not required in the 1.x based mod_ssl because the SSL_CTX was created and configured for *every* request.  unlike in 2.0 where we configure the proxy SSL_CTX at startup time, which is much better for performance.  but we don't want to configure a proxy context for every vhost if it isn't going to be used, for the same reasons we don't create a server context for every vhost unless SSLEngine is on.
f4d0e50 check the return value of ap_proxy_ssl_enable
536cfa1 Syncing makes no sense now
78ae2a9 PR: Obtained from: Submitted by:	Paul J. Reder Reviewed by:
70bb257 The old, legacy (and unused) code in which the scoreboard was totally and completely contained in a file (SCOREBOARD_FILE) has been removed. This does not affect scoreboards which are *mapped* to files using named-shared-memory at all. This implies that scoreboards must be based, at some level, on native shared memory (mmap, shm_open, shmget, whatever), but the code has assumed that for quite awhile now. Having the scoreboard be *based* on a file makes no sense today.
3e2ce19 BUCKET FREELISTS
b699ec0 import ssl_proxy_enable in the post config phase, otherwise LoadModule order may leave us without the function.
bd13d51 remove ssl_engine_ext.c
1d73933 removing old proxy extension code
c3e2155 hook into mod_ssl for https support
c079758 need to flush output buffer before reading in proxy mode
5d625d9 in proxy mode we need to SSL_connect rather than SSL_accept in ssl_hook_process_connection.
0129e9c These two variables were left uninitialized accidentally.
769f2f6 Document the variable expansion enhancements for mod_include
7d55dec Allow variable expansion within in the "var" arg to <!--#echo and <!--#set, so that people can do things like this:   <!--#echo var="${foo}_${bar}" -->
722125d add optional function (ssl_proxy_enable) to turn on ssl proxy
f8ce625 init proxy context
54ae6c9 Replaced my fix for the is_only_below() bug with Cliff's faster and simpler version. Submitted by:	Cliff Woolley
409e7fe s/id/mode/ in ssl_cmd_SSLProxyVerify
f9f62ab use ssl_cmd_verify_parse for SSLProxyVerify directive handler
a24fd6a cleanup the proxy context
987edc6 s/ctx/dcfg/g in ssl directive handlers
b31faa5 enable proxy directives
7b86fe9 change existing ssl_init_ctx() to ssl_init_ctx_protocol()
440d5f0 Fixes for three problems in mod_include:   * The ctx->tag_length computation in find_end_sequence() was a bit     broken in cases where there was a "false alarm" match on a partial     "-->"   * The ap_ssi_get_tag_and_value() function needs to avoid walking off     the end of the string.  After debugging this some more, I ended up     using Cliff's original patch.   * Infinite loop in is_only_below()
6d42555 proxy will have a different verify callback
192828c proxy needs to use client ssl method
ea4cfaa setup sc->proxy->sc
5436608 add ssl_config_server_new function to fold some duplication in server create/merge and to make sure merge config is fully inititialized
3539d5d inititialize and merge proxy config
6b10597 no point in merging things which are not set until after merge happens. make a note of those which are set during module init.
d5116bc 'ctx' traditionally refers to an SSL_CTX.  change modssl_ctx_t instances to 'mctx'
1f31c48 Stop the while loop from incrementing twice per iteration before checking for the NULL terminator.  This was causing the while loop to walk off the end of any string with an odd number of characters.
b08517c ctx->sc is set during init
78b02f8 switch from SSLSrvConfigRec* to modssl_ctx_t* in the ssl_init_ctx* functions
038f201 make merging of modssl_ctx_t's generic
cb8d762 Update Redhat layout to v7.
0679fa7 moving cfgMerge macros to ssl_engine_config.c, they are not used anywhere else
045abcf remove unused cfgMerge{Table,Ctx} macros
0569a2a moving protocol location
1d76ab3 breakup SSLSrvConfigRec in preparation for proxy support: + modssl_pk_server_t - certs/keys for the server + modssl_pk_proxy_t  - certs/keys for the proxy + modssl_auth_ctx_t  - stuff related to authentication that can also                        be per-dir, used by both server and proxy + modssl_ctx_t       - context that can be used by both server and proxy + SSLSrvConfigRec    - now contains original stuff specific to the                        server config and modssl_ctx_t *server, *proxy
e90c7fb ripping out some proxy stuff that isn't currently in use and is going to change anyhow.
388657a already added configure check for SSL_set_cert_store
d5c395f de-hungarian-ize server config member names which are going to stay
bb986b6 reorder a bit of the server config structure, moving items that are going to stay there to the top.
8f04ed6 signature of quick_handler hook changed
d40a4f8 remove error msg hint that is no longer true
5a39279 fixup naming:  ssl_init_ctx_* will be used for both proxy and server  ssl_init_server_* is specific to the server
f69256a move context callback setting to ssl_init_ctx_callbacks function
972e8bd move server cert/key initialization to ssl_init_server_certs function
44f9397 copy DSA params to server server during key import
0a76ba1 fix logic from last commit, need to always try importing _both_ rsa and dsa
1712e06 fold some duplication into generic ssl_server_import_key function
7f7d0c0 Revert my last fix, which broke more things than it fixed
b63b80a fold some duplication into generic ssl_server_import_cert function
886376b move server cert checking into generic ssl_check_public_cert function.
832f28d Don't walk past the end of the tag in ap_ssi_get_tag_and_value() Discovered by: Cliff Woolley
e6f3b17 move server specific init config checks into ssl_init_check_server function (ssl_init_check_proxy will be different)
52d5e83 break out certificate chain initialization into ssl_init_cert_chain function
527d4fc ap_run_sub_req does not return apr_status, so we shouldn't be checking APR_STATUS_IS_EPIPE(). Also, remove the code that assumed the sub_req_lookup_uri actually served up the content in the quick handler. We now call the quick_handler in ap_run_sub_req()
2495196 there is a heaping pile of:  ssl_log(s, flags, "Init: (%s) ...", sc->szVHostID) add SSL_INIT flag to cut down some noise and end up with:  ssl_log(s, flags, "...")
934bb7f break out certificate revocation list initialization into ssl_init_crl function
a413cb6 break out cipher suite initialization into ssl_init_cipher_suite function
8bf48c5 "new" is a c++ keyword; s/new/mrg/g in config merge functions
20ae69a move warning about session cache not being configured to ssl_scache_init
9379b72 break out SSL_CTX session initialization into ssl_init_session_cache_ctx function
2abc4ba add entry for sslc compat layer changes
7da34b0 Add a new parameter to the quick_handler hook to instruct quick handlers to optionally do a lookup rather than actually serve content. This is the first of several changes required fix several problems with how quick handlers work with subrequests.
030ac06 add license
4859b58 Switched to xcopy commands in the make file so that we are sure all of the document directories are copied during the install processing
ca9511a Ensure CACHE_OUT gets installed in front of SUBREQ_CORE on subrequsts.
af9bfbb "Oops" has two o's in it.  :)
948cab9 break SSL_CTX initialization into ssl_init_ctx function
bbd6a5e (starting to break apart the init code into smaller, generic functions, preparing for proxy support)
9765963 worker MPM:
f3e92e1 bringing back MOD_SSL_VERSION macro, define it to AP_SERVER_BASEVERSION
309a7b6 adjustment for sslc where its PEM_read_bio_PrivateKey does not take a callback arg.
6f05957 Update the MSVC++ project files. The debug databases were conficting between the different cache projects.
367fcf3 static-ize {write,read}tty variables
b425a0f move prototype for modssl_session_get_time to ssl_util_ssl.h
72518a3 add modssl_dh_configure() function to fold some duplication in get_dh{512,1024} and provide toolkit compat for sslc 2.x
aeb7f9e add configure checks for ssl functions: -SSL_set_state: macro in OpenSSL, might be a function in a patched sslc -SSL_set_cert_store: patch submitted to OpenSSL, might be applied to OpenSSL or sslc
469412f This might be helpful to folks readong code and reading this document to understand how their filter should work.
66d315d Document the APR change that bubbles up to affect Apache. The default ordering of the accept metux method has been changed to match 1.3
743eeb2 style improvement for checking whether the result of an assignment was NULL
68a2772 Depreciate mod_proxy's own CHANGES file
1a827bf fix doofo in last commit
33922c8 sslc 1.x does not have an x509v3.h
979adba sslc does not currently support X509V3_EXT_d2i
c88a192 toolkit compat for PEM_read_bio_PrivateKey
c121113 use compat macro for another PEM_read_bio_X509
9614067 toolkit compat for PEM_read_bio_X509
0f2dbb9 adjust to another const char vs char mismatch between OpenSSL and sslc
e848b9b use SSL_SESSION_ api since SSL_SESSION cannot be dereferenced when using sslc
5b74033 typo fix s/EDG/EGD/g
20ed127 modssl_set_cipher_list was in the wrong place for OpenSSL
49e69c7 RAND_status macro was in the wrong place
008b963 sslc does not currently support RAND_egd or RAND_status
fecf892 in sslc PEM_F_DEF_CALLBACK == PEM_F_DEF_CB
e639276 2nd arg to SSL_set_cipher_list in sslc is char *
66419ef sslc 1.x SSL_set_verify only takes 2 args
642262e sslc does not currently implement an SSL_set_state function
7f4a6ff sslc adds a second, unused param to X509_verify_cert
11cf728 sslc does not have a safestack.h, implement a minimal subset required for mod_ssl
2eefae0 some compat macros for sslc 1.x
1d2a395 moving OpenSSL+sslc compat foo to ssl_toolkit_compat.h
5bfe936 3rd arg of BIO callbacks in 'const char' in OpenSSL and 'char' in sslc, make both happy.
22c5fe3 OpenSSL uses void * for callback data, sslc uses char *, cast to void * to make both happy.
ebe92b6 add modssl_session_get_time() function to give mod_ssl what it needs from SSL_SESSION_get_time() if using OpenSSL or sslc.
0fb13a8 another step towards compatiblity with rsa sslc: define the STACK_OF macro if not already defined.
d37bf62 configure already checks OpenSSL version so dont bother here
7a5af0b Anal-retentive factor -- be consistent in our whitespace.
74c77cc   Up to .35 [no need to call out .35-dev in changes, that's just silly.]
965709d   Ready for .34 evaluation.
4dd3d43   Somewhere about server/main.c rev 1.54, we lost the stop|shutdown|uninstall   when the .conf file is missing or horribly corrupt.  Move those actions   into the rewrite args phase so we don't trip over a missing .conf file,   we couldn't care less if we are stopping/uninstalling Apache.
345bfe7 Ensure that the build directory is created when using VPATH.
a83350d Add text/xml, audio/mpeg, video/quicktime support to mime magic file. (Justin changed the audio/mpeg sequence to match file(1)'s listing.)
53298f2 make it harder for spammers to harvest this email address in the future.
1c430e2 note about the temporary DH keys
6edf8d0 a few updates
7c1521f per-dir SSLCACertificate{File,Path} cannot use SSL_CTX_set_cert_store as the 1.x based module does, since the function is not thread-safe. a patch has been submitted to OpenSSL to support SSL_set_cert_store which is thread safe.  this feature is enabled by default in the current 1.x based module, we only enable it if the SSL_set_cert_store function is available.
62cba0c Fixed up the access paths for building the code generation utilities
9303382 constificationization of some char * config items
6fba414 performance enhancement: mod_ssl config directives that can have both a per-server and per-dir context were configuring the per-dir context for per-server commands.  this triggered ssl_hook_Access to always compare the per-server context against per-dir configs that were exactly the same.
dd679ac correct comment in previous change
dc0b193 PR: Obtained from: Submitted by: Reviewed by: fix bug seen on win32 with netscape client where output filter is run triggered by lingering_close after ssl_hook_CloseConnection has been called
71a2c46   -i and -u were deprecated some time ago, they still work in 1.3, but   shouldn't be expected to work in 2.0.  Replacement command line options   are -k install|uninstall
1a167d5   Integrate rbb's forward port of -k config into the -h(elp), and   reorder some directives in the -h(elp) so they 'flow'.
a4d005c Better test for the presence of $(sbindir) since that is where we are going to install.
a31e5cc nit
388bb6d Fix a segfault because ap_method_registry_init() was never called unless ap_method_register() was called [ie, unless mod_dav was installed]
0cdeea4 What, we don't support HEAD requests now?  ;)
f75049a Small performance optimization for find_end_sequence(): when we find the start of a directive, scan through the rest of it in a minimal loop before popping back out to the main char-at-a-time parser loop
2030234 eliminate unused variables
804f94d Changed mod_cgi to not do single-byte reads to consume the script headers
1613657 eliminate an unused variable
0adefd4 Eliminate an 8KB buffer from the stack in mod_info's handler function
9e378ee Completed going through mod/code.xml ensuring that every directive contains at least one example. A little additional clarification a few places. Updates STATUS to reflect the status of this task.
f447733 We have to return valid HTTP status codes from filters.  This fixes two cases in the core_output_filters where there was a problem, and the core returned an error code instead of an HTTP status code.  This keeps us from putting status codes like 32 and 104 in the access log.
eab06b2 fix some abuse of apr_port_t (flagged by Sun WorkShop)
ee4a64c add an extra level of parentheses to say "yes I know what I'm doing with that single '='" and more importantly to quiet a gcc -Wall warning
89b670a Tag some pools
d317a65 Tag some pools.
78759ac record a vote.
5e00945   Reclasses and notes; cheers reverberate through the cybersphere.
9cb9ca8 When a proxied site was being served, Apache was replacing the original site Server header with it's own, which is not allowed by RFC2616. Fixed. PR: Obtained from: Submitted by: Reviewed by:
ed2a59a Not a showstopper IMO. But posting a patch anyway...
85de69a Yep, it's cold today in Raleigh
ca2e91b Vote and remove from showstopper status the win32 install PRs. Those will be fixed in the installer after the Apache tarball is rolled.
3876dbc comment on a "showstopper" which is apparantly dormant.
965b1ae cold
00afbe2 get the prototype for ap_set_content_type()
e8dd037   An error is an error.  Since we replace the message with 'failed to   invoke command; ...' we aught to log it at the right level.
3105b7e   Trace the invoked command when we use CreateProcess()-style emulation   of execxx() for apr_proc_create().
9f94a00   Err, that was a bit redundant.  Eliminate the redundant test [and clean   up some tabs I inadvertantly introduced.]
db1f866 document yet another worker MPM glitch
e410111 Fix a mod_cgid problem that left daemon processes stranded in some server restart scenarios.
fa9ea75 One showstopper down...
8315a9d Use the accessor to set r->content_type
ba4014a Port the -k config option to Apache 2.0.  This allows users to reconfigure their service after it has been installed.
61c0797 remove some unnecessary, commented-out code; add a comment about a use of signals
3400f03 the mod_ssl provided with Apache >= 2.0 no longer has an independent version number
459d2b1 things are looking up...
f2ca17e Added exp_foo and rel_foo variables to config_vars.mk for all Apache and Autoconf path variables (like --sysconfdir, --sbindir, etc). exp_foo is the "expanded" version, which means that all internal variable references have been interpolated.  rel_foo is the same as $exp_foo, only relative to $prefix if they share a common path.
b0ef3b6 Allow spaces in the --prefix-like arguments.
4867fb1 Don't drop connections during graceful restart.  Previously, worker threads could exit even though there were connections waiting in the queue.
d1122ee graceful shutdown (no dropped connections) requires that the listener go away before the workers...  introduce separate XXX_may_exit flags for our different categories of threads so that a future fix for graceful shutdown can terminate them in the right order
533551f document a glitch that prevents complete graceful termination of the process when one of the threads encounters a critical error
3289de6 make the comment for the call to apr_signal_thread() a little more correct about what it is going to do
ca62366 fix a comment
1e799a8 axe some unused fields in ap_queue_t
19c0213 Change the header merging behaviour in proxy, as some headers (like Set-Cookie) cannot be unmerged due to stray commas in dates. PR: Obtained from: Submitted by: Reviewed by:
b2bb3f6 Update callers of apr_explode_gmt to apr_time_exp_gmt.  The function was renamed in apr.
5f469e7   Now-meaningless-commentary.
029da7d   Correct our list of escape characters to include percent and the   carriage return on Win32/OS2, and modify the \r \n escaping to account   for the fact that Win32/OS2 don't pass these characters through a true   argv[] mechansim; replace them with a whitespace since they effectively   are for most applications.
987b84f Performance optimization: use a temp buffer on the stack instead of a malloc'ed buffer in regexec() in cases where the required buffer size is small.
5ffc63f don't log a failure of ap_queue_pop() at termination; it is expected
c366452 in a worker thread, don't dare try to process a connection if ap_queue_pop() failed...  csd is not cleared by ap_queue_pop() so checking csd is not helpful
302c2bd Update license description for PCRE inclusion
730e99e Fold the compiled-in knowledge of the allowable AcceptMutex settings into its help entry. Requires the use of a extern string rather than a function call for the initialization to be valid in the macro (Thx to Jeff!). In the meantime, bump down the error logging until we deal with true default and configured setting information ala 1.3.
eada6f8 no need to kill the scoreboard cleanup anymore on graceful restart; the scoreboard is longer-lived PR: Obtained from: Submitted by: Reviewed by:
d94b9f3 ap_create_scoreboard() now initializes the scoreboard if it already exists, so MPMs shouldn't call it for a graceful restart
e8dc265 write a debug message to the log when we're stuck in the sicko state of trying to take over scoreboard slots that aren't going to be released (we could also be stalled while taking over slots if a thread in child gracefully terminating is serving a long-running request)
0fd1fa6 Fix the build on Win32 by syncing up the .hw headers
76bef99 Commit 2 of 2 to: 1. rename ap_rset_content_type to ap_set_content_type 2. reverse the arguments to aligh with ap_set_content_length
d5c2472 Commit 1 of 2 to: 1. rename ap_rset_content_type to ap_set_content_type 2. reverse the arguments on the call to aligh with ap_set_content_length
a65170a Bring 2.0 up to parity, a bit, with how much info we provide to the admin regarding valid values for AcceptMutex. Should also tell 'em what "default" actually maps to, but that can wait.
2dae77b status on ap_rset_content_type() fix.
b8c867e OS/390: install apachecore.[dll|x] in lib/ rather than bin/ .
5f8b426 Get nph- CGI scripts working again by avoiding filters that can't possibly deal with a script that generates the protocol header.
f3c3ebe ap_rset_content_type() should take const char * instead of char * this is friendlier to callers and r->content_type is const char * too so it isn't harmful
cb7bb7b   No sense in opening this event when it's already opened in the parent.
1105d41 Updated version of the PCRE lib under httpd-2.0/srclib
b20779d   Here's the patch that really sucks.  old_listeners points to an array   of apr_socket objects already destroyed by their cleanups, and in any   case they now live in invalid memory.  Extend their lifetimes.
73cf0ac Fix for some damage that I did to configure.in while merging the latest version of PCRE
0a28d58   More process lifetime changes, and simplify some ambigious cruft.
e135270 removing configure file that got picked up in PCRE 3.9 import
175a726 PCRE 3.9 merge
a3b01fe PCRE 3.9 merge
3585b72 resolve merge conflicts for PCRE 3.9
cda6c47   Fix a few listener-related lifetime issues [they are created in the   open logs phase, only once.]
6e8a873   The source of some ills ... there is no reason to keep going if the   scoreboard exists.  I suspect this should be a general cleanup as well   [at the end of ap_create_scoreboard.]  But calling ap_run_pre_mpm with   the process->pool should take care of a clobbered scoreboard shm on   graceful restart.
cec6d4b   The pre_mpm hook creates server-lifetime objects (or at least, for the   generations across graceful restarts.)  They should use the process pool.
dcfb4eb This commit was generated by cvs2svn to compensate for changes in r8100, which included commits to RCS files with non-trunk default branches.
da5612c Initial revision
1ab2f45   When restarting [always graceful on Win32], we don't repeat pre_mpm   (Unix doesn't, we shouldn't either.)  [Ryan Bloom]
ae65c40 Make the listener thread stop accepting new connections and exit cleanly at graceful restart time.  This is a basic requirement of reliable graceful restarts (the kind that won't drop connections). This allows a future fix to make worker threads hang around until they service all connections previously accepted by the listener thread.
f882790 get the start thread to exit when we have reached termination but it is still trying to create worker threads
e9ec908 Final commit to add ap_rset_content_type accessor. Add AddOutputFiltersbyType filters during call to ap_rset_content_type()
470edb9 First commit to introduce accessor function to set r->content_type..
32fe8d0 be a little more specific in a thread-create error message
cfcab38 "apachectl stop" shouldn't send the gracefully-terminate char down the pod...  the child processes need to know that it isn't a graceful termination and they shouldn't wait for old connections to finish
0c4aa3b Bump ap_mmn for the M_INVALID change. Add a note to CHANGES.
9e7b6b7 forgot the actual change
c71d703 my i key is broken PR: Obtained from: Submitted by: Reviewed by:
ad3eabe remove sock_enable_linger (unused function) PR: Obtained from: Submitted by: Reviewed by:
80788ba get rid of unnecessary code to track the number of worker threads
b951487 The underlying change here was to add the new WebDAV/DeltaV methods now that it has an RFC. At the same time, I revamped a good chunk of the name <-> number mapping code in http_protocol.c
f887ea2 Forgot to document this when I committed the patch yesterday...
9999686 What is "zop"?  :)
e4c1aaf Update the transformations again.
8be3676 Add a reference to mod_alias.
072603b Put the "seealso"s after the directive index.
255c1fd Get rid of some extranous xml tags that were leaking through to the html.
2b4cfc0 Update transformations.
bf92257 Forward port warning against open proxies.
1616923 A little mgmt overhead for the mod_dav API change.
f39844f Change the REPORT handling APIs to deliver the content directly into the filter stack, rather than buffering everything into memory(!).
751da4e It's trying to rain in C'ville....
928aff8 Fix a hang condition with graceful restart and prefork MPM in the situation where MaxClients is very high but much fewer servers are actually started at the time of the restart.
67f3ac2 prefork and worker:
fab7f0a don't check for EINTR after a call to apr_file_write(); you'll never see it
8ef1d7f Fix check for APR feature
55d4960 Get mod_mem_cache to compile cleanly again on linux, where apr_atomic_t is a struct.
731f6ef Carriage returns??
1e54774 Hacks on top of hacks... UNIX needs unistd.h for the close() prototype
5a52f37 Fix a possibly-uninitialized warning and a boolean logic bug
bebc477 Fix some possibly-uninitialized warnings and some incorrect format strings
9e3a1fc added myself to contributor list
d2fdf5b Fix for vhosts where the hostname is followed by '.' PR: 9187 Submitted by:	Ryan Cruse <ryan@estara.com>
5c12597   Seems like this is the end of the compiler emits on Win32, once again.
fc979c9   Spell out the merged log name, if we succeeded in merging the path
9443a2a Fix some formatting
485161a Added a note about mod_include optimizations
c6f154a Performance fix for ap_ssi_get_tag_and_value: do a lightweight scan through the tag value until/unless we reach a backslash that necessitates the more complicated scanner loop.  In cases where there isn't a backslash in the tag value, this reduces the overhead of the scan from 5 comparisons per character to 3.
05ae021   Clear up a const warning, and recognize some arrays by changing the   variable names to the plural [rather than aszFoo, which I hope continues   to be cleaned up as folks have time.]
9738c5b   Fix a signedness emit based on session_id_length [unsigned]
5aea2e8 get the prototype for ap_recent_ctime()
908c6de Another optimization for find_end_sequence: once we're in the middle of parsing a tag, consume the entire tag in a quick loop, rather than jumping back to the outer state-machine loop for each character
f70f782 Small performance improvement for find_end_sequence()
e3bfcb1 Use the "recent time" cache to optimize timestamp generation for the httpd error log
f4a27d9 fix a compile error
0bd9790 fix the type of a string argument to ap_log_error()
76057f4   Lost the prior log message ... [this is an empty commit]
189e3aa PR: Obtained from: Submitted by: Reviewed by:
643bc85   Clean tree ... commit all [?]
d07e31f   Simplify s/APR_OS_PROC_T_FMT/APR_PID_T_FMT/, apr_os_foo entities aren't   for external consumption.
65a3775   Eliminate potential ap_server_root_relative segfaults, with the input   of Jeff Trawick's style changes to the first patches.  Doesn't include   the fixes to ssl [more complex], and we won't trap errors that involve   ap_serverroot, since we presume that was normalized on the way in.   Therefore, testing ap_server_root_relative(DEFAULT_FOO) cases   should never become necessary.
8bc668d   Silly module, we don't need compat.h :)
ba2d76f Solaris 8 doesn't have a thundering herd problem according to the sun experts
d7c6f23 make sure we set rc before referencing it
abaf919   Axe unused variable
a070cd5 clean up the use of apr_sockaddr_t (stay out of family-specific struct sockaddr* as much as possible)
feaf0b8   Another potential ap_server_root_relative failure
0642946   Style touchup
07a0a45   Another potential ap_server_root_relative failure.
2e8d8b0   A coworker discovered that really bogus path names segfault the server   on Win32.  ap_server_root_relative() doesn't have an apr_status_t result,   so we are limited in what we can figure out - but 99.99% of the time,   the file's path is just plain bogus.
5ae2455 speed up the short_report path...  we were unnecessarily walking the scoreboard
8a5b90c Factor out a bunch of commonality between the HAVE_TIMES path and the !HAVE_TIMES path.  This will help avoid future errors similar to the ones fixed earlier today.
e4f6ae6   Outch!  DougM reports that I never committed this file.  Lo and behold,   he was right.  Sorry I killed the NT build for a few days!
0f0bc6e Allow URIs specifying CGI scripts to include '/' at the end (e.g., /cgi-bin/printenv/) on AIX and Solaris (and other OSs which ignore '/' at the end of the names of non-directories).
d403a74 fix a couple of formatting bugs in the !HAVE_TIMES path
f308424 make mod_status a little faster by checking for an active server sooner in the main loop
8537b65 Since noone seemed to have a real problem with it, change !! to something that raises fewer questions.
9e64daf Typo (noticed while browsing http://docx.webperf.org/)
1cd38a9 get rid of some -Wall warnings
6363a96 remove stray log message (from madhu)
9a0f703 OtherBill took care of my mod_negotiation concern.
8ecffe4 Remove the pools API change from the showstoppers section.
50ba0ce Update the mpms to call the new allocator/pools API
97b148c3 PR: Obtained from: Submitted by:   Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:	dougm implement SSLSessionCache shmht and shmcb based on apr_rmm and apr_shm
008ca7d FYI...
2df1a02 deal with the rename of kill_after_timeout to APR_KILL_AFTER_TIMEOUT
2eb72f4 mention an outstanding scoreboard alignment issue (not a showstopper :) )
5fe463a Import file for NetWare
343ec1e This was fixed last week but I didn't notice the bug report or the STATUS entry until today. The bug report had to do with recursively removing all CVS directories from a person's home directory.
4a86a96 Fix a comment about the /<target> appended to config.layout variables postpended with a '+' character. We don't currently support --target (and as Thom pointed out, --target means something completely different to Autoconf). Also change the default for '+' replacement to 'apache2' so 1.3 and 2.0 can coexist on such distributions.
4fccbc6 Switched to the new winsock header for NetWare
da65586 Added code to extract the current address space name so that each instance of Apache can be identified by the address space that it is running in
9813433 fix comment
e00ddfd PR: Obtained from: Submitted by: Reviewed by: fix bug in ssl_io_input_getline(): in most cases we get all the headers on the first SSL_read. however, in certain cases SSL_read will only get a partial chunk of the headers, so we now try to read until LF is seen.
2a0e4fd   Some lingering debug cruft that isn't needed
c466624   Use fprintf to stderr over printf.  Better yet - replace with the   logger, but my brain just isn't quite there tonight.
f2e2cdc   My [sixth?] major revamp of service.c.  Traded an event for a mutex   to the service_init completion, expanded timeouts, moved SERVICE_STOPPED   message posting to the main thread since sometimes, in odd cirumstances,   our SCM thread wasn't resumed prior to termination, and ripped the code   for the stderr logs to use nt_eventlog.c instead.  And generally tried   to make the code just a little bit more grokable [as if such a thing   is really possible.]
3dab107   Cleanup the eventlogger code, and split it into its own source.   [got the copyright correct, no less.]
6d0a930   Now that we test ownership of the listeners in listen.c, -k "start"   can no longer hang on to the listeners after it checks that they are   free.  Also, we cannot be checking listeners if we are using -k "config"   to alter the service config, since the service might be running as we   try this, and we cannot check the listeners in -k "restart", since we   are pretty certain they are owned by the running service we are about   to try restarting..
fa3ba04   The be-certain-we-own-the-socket patch to listen.c fails if we hang   on to the originals after duplicating sockets.  If you dup, you aught   to be closing the source.
92cf62d   Our ap_listeners were binding to IIS sockets, other Apache instances'   listeners, the bottoms of peoples' shoes, etc.
3a2b571 Fix apxs -g handling. Move config_vars.mk from the top build directory to the build directory. Get build/rules.mk cleaned up for distclean/extraclean.
2d9939a Fix win32 compile breakage.
971767f Fix a couple typos.
0a62271 Decline urls ending with /
845cbfd Update our copyright for this year.
52e9962 fix the remaining sizeof(token.value) bogosity
0d850d0 Fix some mod_include bugs which broke the evaluation of some expressions.
6752a95 Move the quick_handler comment to the new quick handler location.  Do not call quick handler on a dirent subrequest. This fixes a nasty problem in mod_cache where it was serving up content on a dirent subrequest.
ff76c93 simplify the way we find the family of an apr_sockaddr_t
e89fcb9 use ssl_asn1_keystr
07965e6 add ssl_asn1_keystr() util function that returns string representation (RSA or DSA) of the key index.
9432ed4 use ssl_asn1_table_keyfmt() function and only format each (rsa,dsa) lookup key once, rather than twice.
98786b6 use ssl_asn1_table_keyfmt() function
cc09059 add ssl_asn1_table_keyfmt() function for clarity
78dd935 get some hardcoded paths out of apxs
0b5ac66 PR: Obtained from: Submitted by:   Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:	dougm adjust to SSL_SESSION_id2sz() prototype change
7d097d1 generalize session logging into ssl_session_log() function
ca79431 Remove incomplete cache_objects from the cache if the cache update fails. This fixes a bug where the cache was referencing freed cache_objects.
ea00960 zap some crufty NO_GETTIMEOFDAY code
5baa83e fix the calculation of request time in mod_status
d86a35b Fix the calculation of thread_num in the worker score structure.
ed35c47 SSL_SESSION_id2sz() was NOT THREAD SAFE.  it returned a pointer to a static variable.  fixed.
ccaced8 SSL_SESSION_id2sz() is somewhat expensive, make sure we only call it if SSLLogLevel >= info
5de4869 cleanup logging of CRL, includes ridding of some malloc/frees
9dbc0c3 couple o minor style/log fixos
5529411 use ptemp in ssl_init_FindCAList() rather than creating a subpool.
e38e207 switch to ptemp pool for ssl_pphrase_Handle
22b44bf only call: ssl_rand_seed(s, p, SSL_RSCTX_STARTUP, "Init: ");
ab91c2a remove ssl_engine_ds.c
cc61103 remove obsolete ssl_ds_{table,array} api
3b380d5 replace ssl_ds_array usage with apr_array_header_t
3b5e58b Enable mod_mem_cache to use apr_atomic operators in managing cache_object reference counting. Enabled by default via the USE_ATOMICS preproc directive. This compiles cleanly and serves pages on Windows. Not compiled or tested on any other OS.
ee42c38 A bit more cleanup
ec39586 minor ssl_init_CheckServers() enhancements: - pass the ptemp (temporary pool) so we don't need to create a subpool   and destroy it ourselves.
e7f00d8 folding more duplication in ssl_tmp_keys_init
63e70cd cleanup tmp key callbacks.  each had assigned the same (1024 bit) value in 3 different places.  the old code did nothing special in the case of the export flag either.
53d837b simplify the way we find the family of an apr_sockaddr_t
d9d26c6 for the sake of readablity, change: SSL_TKPIDX_{DH,RSA}{512,1024} to:     SSL_TMP_KEY_{DH,RSA}_{512,1024}
52ff7b7 split ssl_init_TmpKeysHandle function to init/free functions, and make them static to ssl_engine_init.c
15d581b it is not required that temporary keys survive restarts, since they are generated and destroyed on every restart.
1eddc44 cleanup some code paths
bed8256 remove version checks for using EGD
e77f92b remove call to legacy X509V3_add_standard_extensions() function, not needed with OpenSSL 0.9.6+
47c4501 we require OpenSSL 0.9.6+
fcc65d9 Remove some deprecated comments.  Delete some unused variables.
c502a4a removing unused ssl_init_ChildKill
4e2c595 making ssl_init_SSLLibrary() static
7be8a55 cleanup version component construction.
280912e fold duplication of SSL{Proxy}VerifyDepth directives into ssl_cmd_verify_depth_parse function.
d61c53d Fixed a type mismatch
e225b0e moving SSLVerifyClient directive parsing into ssl_cmd_verify_parse function, which can also be used for SSLProxyVerify directive.
d7615f9 Added NetWare to the ifdef list
8c80929 Fixed the slashes on the server root path
e73c68d Added the AWK script to the build that generates the default HTTPD.conf file
8cbdd8d fold duplication of SSL{Proxy}Protocol directives into ssl_cmd_protocol_parse function.
bce7697 fold some duplication of server certs/keys directive checking into ssl_cmd_check_aidx_max function.
1e6735b folding some command handler duplication into two generic functions: ssl_cmd_check_file and ssl_cmd_check_dir.
e57621a get rid of some warnings for currently unused/unprototyped functions. (we can actually compile mod_ssl with -Werror if -Wstrict-prototypes is taken out)
4e8eb91 minor performance enhancement: no need to use md5 of VHostID for the session id, just use the VHostID itself.
880f267 dropping hungarian notation
f939dea minor style changes
cac1983 Changed a <default>, so it doesn't use <em>
1c717bc Allow the border attribute in <img> Allow the id attribute in <a>
d09a7af Edited so that it can be validated.
0ef931c mention a mod_negotiation+Win32 concern
40d1a65 Resolve the issue Jeff pointed out in his recently added comment.  That is, prevent a possible segfault or finding a tag in reused memory.
89c2a46 add a comment to point out a potential segfault
4fc0ba5 Style Police comming through...
72814e7 dropping hungarian notation
9534321 Reference the cache_object directly rather than via the handle
1172ca6 Move refcount and cleanup to the primary cache object (these fields can now be used implementations other than mod_mem_cache)
1fcbc73 various style fixups / general changes to make code more readable.
c85b45e various style fixups / general changes to make code more readable.
2e7c1f1 add SSL_VERIFY_PEER_STRICT shortcut for often used flags
a102a67 various style fixups / general changes to make code more readable.
406c131 Removed <em> from <default>
f91ea17 Make this look a bit better.
99bbb31 Style Police comming through...
95defd8 Added some attributes to various tags Added <img> tag
4ab50b1 Modified so that it validates.
9404c8a Add the "How filters work" section.  Cut 'n paste job from Ryans email <022501c1c529$f63a9550$7f00000a@KOJ>, needs formatting.
9e6e378 Cleaned up so that it validates <b> to <strong> <i> to <em> and so on...
aaf7f31 Changed DOCTYPE, so that it can be validated. Added <p>:s to get it to validate
068219c Added  %inlinetags; to <default> (some docs uses <em> in <default>)
d2edea1 Fixed XML header, so that the document can be validated.
c504e20 Changed the DOCTYPE and DTD, so that it can be validated.
d694a08 Style Police comming through...
bc9f45e Be a better example.
951104c Somehow I missed mod_expires in the xmlization.  Here it is.
646f6b2 Transformations updates.
9f76888 Convert the last module (mpm_netware) and add the skeleton xml for the automatic module index.
4f60916 Add the stylesheet transformation to create the automatic module index.
5850cb8 Fix a couple problems with the automatic directive index.
3212456 Updates to some transformations and the allmodules file.
cf13d81 Another few xml files.  Only one or two left to go.
05d83f3 no need to call SSL_clear() after SSL_new()
5f33a41 don't allocate SSLConnRec unless ssl is enabled on this vhost. also provides a shorter shortcut for mod_ssl hooks to decline if ssl is not enabled.
2a9502d First crack at the automatic directive index.  Now the only thing that needs to be done if a new module is added is to stick it in allmodules.xml. The directives will then get included in the index.
964a10a XML for mod_proxy.
19c5132 Add a missing manualdir entry in the Debian layout.
0db9f67 Stop copying APR's libtool.  And pass enough parameters to apr's subconfig so that it can figure out where we would like libtool to be installed.
2c8b203 Update transformations.
adad84a New xml versions.
30a517c Style Police comming through...
fa32974 provide missing MAX() macro so that proxy can compile again
01b5958 New directive ProxyIOBufferSize. Sets the size of the buffer used when reading from a remote HTTP server in proxy.
de8942e Scrap CacheMaxExpireMin and CacheDefaultExpireMin. Change CacheMaxExpire and CacheDefaultExpire to use seconds rather than hours. PR: Obtained from: Submitted by: Reviewed by:	Bill Stoddard
e0530c4 No this is not a pretty site... close the cached file descriptor. There is no clean way to get this back into an apr_file_t since we are in the request pool cleanup.
50b28db comments on a showstopper
e311cbc ap_rgetline_core: fix a bug with folding observed while testing ebcdic. Garbage characters sometimes appeared after a legitimate folded header. We weren't allocating an extra byte for the trailing null, or copying it, when called from get_mime_headers (folding is in use, and ap_rgetline is responsible for allocating memory).  No need to worry about a trailing LF - it's already been nuked.
cf13aec support reuse of encrypted DSA keys on restart
26ce4fb Fix a bug that would cause SERVER_CONFIG_FILE to be an absolute path, which would prevent the relocation of an httpd binary without having to specify the -f flag.
c9b4962 Make the xml match the DTD.
54bef65 This is not a showstopper, and it's definately not new.
ae1f8de 33 has come and gone.
2882dfd Update the html tranformations.
02c9e91 Add some more xml versions.
1d59362 Looks like we'll have a nice weekend in the Carolinas.
b787e06 add a bit of error checking to the mod_cgid daemon's logic to read the request over the unix socket
aca5bde Add file handle caching to mod_mem_cache. This is still experimental and is enabled by the #define CACHE_FD, which is off by default.
0536b99 new directive SSIUndefinedEcho. this allows webadmins to change the default '(none)' to something a bit more presentable (eg <!-- undef -->) PR: Obtained from: Rex (the hack he had to fix this was so ugly I was forced to do this) Submitted by: Reviewed by:
1151bac implement a common function for getting a socket and trying to connect to the target host; use that common function for proxy HTTP and proxy CONNECT
987b098 * mod_dav.c (dav_handle_err):  look through the error stack for some     kind of errortag.  any buried errortag is better than a generic     response.
e359ecf remove unused ap_server_ctx member from SSLSrvConfigRec
d27bcd0 fix typo in ap_proxy_http_canon: s/https:/https/
b67fbc6 Comments like this help keep the sanity of module authors.
33d2462 Deconstify...
11cd821 Deconstify these fields...
44fc00a Need to check if the userdir is absolute before it gets split apart by ap_getword() Also fixed up the !HAVE_DRIVE_LETTERS case (such as NetWare) where the volume delimiter ( colon ) is not in an absolute position.
228d7cd Alignment tweaks. No function change.
495a3a7 Bail out gracefully if any part od cache load fails. Still need to handle bailing out of serving out of the cache fails.
5e0e6c4 Change the return type on read_headers, write_headers, read_body and write_body. Sanitize some of the return codes.
1831fc0 ap_rgetline: fix folding and partial line handling on ebcdic boxes.  The normal case worked OK, but due to the recursion and multiple exit points, input bytes could go thru charset translation multiple times or not at all.
ec5ec96 Do a better job of cleaning up (plug memory leaks) and handling aborted cache updates. We really need a better way to allocate cache_objects. Making WAY too many malloc/calloc calls...
2d21824 Torch a stale commented out line.
fc9cd64 Big style patch. Mostly detab, but also changed some comments from: /* ** */
77bf9d1 Track cache size as items are added to and removed from the cache
c9ca452 Place some limits on the size of the cache and the number of objects that can be placed in the cache.
47551c2 NetWare .def files for the DAV modules
02c5b6f Added DAV to the build project
793eb22 Add a comment...
9fcf393 It is bad to recursively remove every CVS directory in a person's home directory. Bad bad bad. Make sure the variable was set to something before cd-ing to blank and ending up in their $HOME.
aeba70f It is bad to recursively remove every CVS directory in a person's home directory. Bad bad bad. Make sure the variable was set to something before cd-ing to blank and ending up in their $HOME.
65a8207 Mention adding a missing errordir entry in the Debian config.layout.
a3b48c6 Will the real errordir please step forward.
7abb83c Add CacheMinObjectSize and CacheMaxObjectSize directives to mod_mem_cache
254e349 Add a missing errordir entry in the Debian config.layout.
a5ac6bf Cleanup some left behind style nits I missed and clean one up I just introduced :(. Add the standard comments to the module struct.
7a7a919 Always fun when you mess up your first commit...
2ec1ba9 Check to see if r->content_type != NULL before comparing it to something. Remove a check that was in here twice.
093bb6b Oh Yoko!
3058b60 As hinted on dev@httpd, change filter naming schemes to match our expectations of their usage.
6c111e9 When using mod_ssl, it is possible that we'd be called when there are no protocol filters, so stop the segfault.
15584be Fix prototype and return value of http_create_request to match new hook declaration.
94c63c9 We need to setup protocol filters for the fake request.  If we don't, then when any request filters are added, the connection filters will be lost.  This fixes the proxy.
41a7e56 There is no reason to insert the protocol filters in the insert_filters phase.  This moves us to inserting the filters in the create_request phase.  This makes more sense, because now the protocol filters are attached to the request as soon as possible.  Previously, some requests never called the insert_filters phase, so they don't get the filters.  Think redirects for reqeusts that never call insert_filters.
eb4b9b5 Conversion to XML
1164974 Remove the prev pointer from the filter chain.  This removes the complexity of trying to set the filter chain correctly, with the side-effect of forcing us to walk the entire chain whenever we add a filter.  Since the filter chains are small, the decrease in complexity is worth it. Reviewed by:	Allan Edwards
11748ba XML conversion
97f48d1 64-bit build on AIX:   fix major bogosity in the logic to avoid setting LDR_CNTRL=MAXDATA=xxx   for a 64-bit build...  the name of the environment variable was wrong   and even the test usage was bogus
ead4179 Bring some more files into line with the new DTD.
fcb8883 Bring some docs into line with the DTD.
9c19b9e A few tweaks to the DTD found while validating existing docs.
b0ea2d3 Fix a problem in the new --enable-layout functionality where it wouldn't allow overrides from variables like --prefix, --bindir, etc.
246a930 Fix a problem in the new --enable-layout functionality where it wouldn't allow overrides from variables like --prefix, --bindir, etc.
7551d5f bump after the tag.
fce3fb4 Fix a bug in the APR_MODE_EXHAUSTIVE mode for the core input filter. This patch changes nothing outside of that mode.
92df075 Push for a new tag. PR: Obtained from: Submitted by: Reviewed by:
da35725 apr-utils rename apr_ansi_time_to_apr_time and apr_exploded_time_t.
1fc7cb3 make sure r->proto_xxput_filter gets updated as necessary when deleting a filter from the chain
c3dcbcb Bring the html transformations up-to-date.
c04a96e Try once more to fix the whitespace problems.  This type use a big stick by turning off indenting.
31027b9 A few small changes to bring some docs in line with the DTD.
68738e3 Add a DTD for the new module docs.
3cf169f A few changes of my own:
0deadb2 Updated to stylessheets to translate remaining text and improve a few spacing issues.
17085db Remove a comment that no longer applies.
cf38491 mod_env xml conversion.
32ba32e Add mpm_winnt conversion and fix a typo in mpm_common.
cd856b3 axe the entry on graceful restart problems with worker
04bde59 failures on the accept mutex are common at restart time, so be smart about the log level and use APLOG_DEBUG if we're restarting
152c269 fix a typo in a log message...  the message claimed that apr_proc_mutex_lock() failed when actually it was apr_proc_mutex_unlock() which failed
da3ac1a skip the lock release if the lock obtain failed
17cc70b Sander's Stylistic Submission (de-tab) PR: Obtained from: Submitted by: Reviewed by:
698dcda Sander's Stylistic Submission PR: Obtained from: Submitted by: Reviewed by:
77c4a43 NetWare AWK script for producing the shipping version of the HTTPD.conf file from the template
5d7a356 Detabify those parts of this file which don't collide with the bucket freelist patch.  The remaining tabs go away for free with that patch. Submitted by:	Sander Striker Reviewed by:	Brian Pane
4cdf0a6 fix <Directory ~ blah> containers.
da5dd9c Remove another hack from the server.  The add_required_filters function was required to make sure that the sub request had the correct filters when we went send the error page.  With the new filter insertion logic, this is no longer necessary.
349a0b1 Only insert net_filter once per request.  Initialize the output protocol filters.
2f43d87 Stop the loop when we have found the correct filter, or when the filter list is over.  Do not stop if the next filter is NULL.
a3e3a4e mod_dir xml conversion.
b658e54 Fix up the wording on the --with-module output printed during --help. This has been a FAQ with some new 2.0 module developers.
4eb4201 Convert mod_deflate.
31553d4 Add mod_dav.xml and cleanup a couple missing things in mod_charset_lite.
0c21110 mod_charset_lite xml format.
e86a858   Just formatting cleanup, nothing interesting here, move along :)
290552f Drop one of the bad worker MPM symtoms (dropped connections)
564612d Bail on computing the amount of bytes in a brigade if any of the buckets have indeterminate length (e.g., a pipe bucket). Passing an invalid length into mod_mem_cache can cause it to overflow its cache buffer.
b2c3cb9 mod_cache tweak to make it HTTP/1.1 compliant
8281153 These are fixed...
31eaa06 The style police at work.
d3c07a1 Ensure that net_time filter isn't added on subreqs - we assume that it is added on !r->main requests.  This led to infinite loop/SEGV when dealing with anything that created a subreq.
c8965c1 Adding the same filters over and over again used to be okay, because we would lose the extra filters.  Now, if a filter is added, it is run. Unfortunately, this can cause an infinite loop, or it can cause request headers to appear twice.  This commit removes two instances in the core where we were inserting filters for a second and third time.  The bug was that error responses were causing infinite loops.
b202fc0 If we insert a protocol filter before we insert a request filter, we must set the r->output_filter to r->proto_output_filter.  If we don't, then as soon as we insert the request filter, the protocol filter will be removed.  This was causing headers to not be sent on some requests.
8613290 Conversion to xml
718a8ef Conversion to xml
90ae2bd Conversion to xml
633f311 Classify some of the input filters as the correct types.  Previous to this patch, the type wasn't too important, because all filters were put on the same list.  After this patch, the filter type is very important, because there are three different types of filters, and they are all treated differently, namely:
be66292 I forgot the return, which mean meaningless log messages.  This makes us return the correct information.
596d79f This fixes most of the header bug that was committed last night.  The server is seg faulting on pipelined requests currently, but I want to get people back to a running server.
d181d7e Updates to the XSLT transformation:
cf46062 I forgot to bump the mmn.
0d7f234 This finishes the mod_dir/mod_negotiation bug.  This final part of the solution ensures that we don't lose filters if they are added later than we expect.  The problem could be seen if a connection filter was added after a request-based filter was added in the past.  The problem was that the request-based filters pointed to the first filter in the connection record, so the new connection filter was never called.  Now, all filters are put on their correct filter lists, and we are sure to always update all pointers when adding a filter.
9ac46ee Fix the mod_dir/mod_negotiation bug, where redirects and sub requests were not getting the correct filters.  This is done by creating a location in the request rec that holds protocol level filters.  Protocol level filters survive for one request, from the time the request is received from the user to the time the response is sent.  r->output_filters now stores the request level filters, which are only valid for the lifetime of one request_rec.
b89f15f reuse existing private key if possible for all SSLPassPhraseDialog types, not just builtin.  on win32 for example, a pipe dialog might allocate a wintty for prompting, which results in 4 prompts at startup, 2 for each child and 2 within each when httpd "restarts itself". update comments on this and wrap them a bit.
26767a1 Paren-protect macro arguments when used.  (This will be needed later when the bucket api gets changed.)
82e5af6 Add stupid idea
f6366ab Changed all the examples into <examples>. Changed a few notes to <notes>. Other minor cleanup.
bfafb04 Add section id, make a note into a <note>
1b19c48 Initial conversion. Need to clean this up a little.
e192340 Conversion to XML
4c3e7d1 Added example of denying, or allowing, particular users to have UserDir directories. In a discussion on IRC, it was requested that an explicit example of this configuration be provided in the documentation.
5c5757a Added the documentation for building Apache for NetWare using the GNU make files
e6d10bf Switching from a project build file to GNU make files
acd8a79 XML conversions of mod_cgi and mod_cgid.
b494547   next_filter of NULL to any ap_sub_req_lookup*() fn implies the subreq   will never be run - or we expect to pass the subreq to fast_redirect.   The comming fix will break invalid ap_sub_req_lookups* expecting to   run subrequests with the next_filter NULL semantic.
19859ac mod_cern_meta xml conversion.
d6fd2d4 Conversion of mod_autoindex to xml.
86417be Fix typo.
9eb118e FancyIndexing is no longer an independent directive.
57a70ac All I can say is "Ouch" this is nasty.
125c4e2 Our favorite showstopper is getting reports from our fans.
689ebba   For fat-fingered friends and others who like typing err and warn rather   than spelling it out on the -e argument.
70e4beb   Significant cleanup and enable wintty to -always- escape from the service   context when the run-as-user is LocalSystem or has access to the windows   station and desktop.  The original method did not give us a visible tty   unless the 'Allow Service to Interact with Desktop' toggle was set.
7aebccf We don't need transfer_brigade() because we already have macros to do that for us, and faster.  :)
f702218 s/const void/const char/g in ssl_asn1_table api pointed out by gstein
8097066 Consensus is that we should not use the scoreboard as a source of entropy.
317cd14 Give mod_dav the ability to output both standard and customized <D:error> responses.  It's crucial for marshalling svn error messages back over to the client; and someday it will be needed to return specific <DAV:> errors as dictated by the DeltaV spec.
e96865b Use the new APR_BRIGADE_PREPEND() macro
286d928 New xml mod_auth_digest docs.
750c488 plug leak in newish ssl_asn1_table_set() function
3ac3d70 How can reach our goals if we never have them?  So, I ask, "Can we kill all showstoppers in a week?"  Are there enough developers paying attention to go showstopper hunting?
624b72f Sync with contents of apache-1.3/ABOUT_APACHE
5a67981 Fix a typo on a directive name.
0573163 For some reason AC_PREFIX_DEFAULT must not be called before the apr m4 files are included. This fixes builds on autoconf 2.52 again.
ea9d330 remove an XXX: we already do CRYPTO_set_locking_callback() in ssl_util_thread_setup()
2cd3334 remove #ifdef SHARED_MODULE around ssl library cleanup calls. SHARED_MODULE is no longer defined, so we were leaking. plus we always do a full startup/teardown regardless of being a dso or static.
7984837 move SSL_load_client_CA_file() comment to where we moved the call to it
496a09a various SSLCACertificatePath fixes: - return value from apr_dir_read() was checking != APR_SUCCESS rather   than == APR_SUCCESS, so no certs were ever loaded.
2ed45ef plug leak in ssl_init_FindCAList() where return value of X509_NAME_oneline() used for trace logging was not freed. now passes in a static buffer so no buffer is malloced.
161b60f fold some duplication within ssl_init_FindCAList() into generic ssl_init_PushCAList() function.
c25e795 need to free X509_NAME duplicates already found in the stack built by ssl_init_FindCAList().
c892fe3 need to free the stacks returned by calls to SSL_load_client_CA_file() in ssl_init_FindCAList().  values are pushed into another stack which gets freed when SSL context is destroyed.
925dbed contrary to what comments say, DH* returned from ssl_dh_GetTmpParam() is _not_ static and needs to be freed via DH_free().
a32ba56 need to free sc->pRevocationStore at shutdown
e45b18e No longer assume SERVER_CONFIG_FILE is in the "conf" directory. Instead look for it in the $sysconfdir.
bd33531 PR: Obtained from: Submitted by: Reviewed by: add note about ssl restart changes. s/mod_perl/mod_ssl/ in bill's note.
7ba9c34 always reusing existing private key for given vhost on restarts if key is encrypted and mtime stamp has not changed.  this prevents getting prompted twice for passphrase on windows and elsewhere when server is started with -DNO_DETACH.
2aa754c s/asn1->mtime/asn1->source_mtime/
4e9e735 Fix a typo in the default cgidir variable. Set a couple more defaults if they haven't already been set, just as a precaution.
68e80d1 initialize ssl_asn1_t.mtime to 0
0d2e1d0 reuse vhost keys for asn1 tables where keys are allocated out of s->process->pool to prevent "leaking" each time we format a vhost key.
b4f77dc switch SSLModConfigRec.tPublicCert to ssl_asn1_table api to prevent leakage on restarts.
e778179 switch SSLModConfigRec.tPrivateKey to ssl_asn1_table api to prevent leakage on restarts.
01b903d add ssl_asn1_table_get() wrapper and change ssl_init_TmpKeysHandle() to use it.
d6a7636 mod_ssl was "leaking" on restart since mc->tTmpKeys table entries were allocated using apr_palloc out of s->process->pool and pushed into an apr_array_header_t. solve the problem by moving from apr_array_header_t's to an apr_hash_t. also add ssl_asn1_table_{set,unset} wrappers to use malloc/free so we do not "leak" from s->process->pool.
309dbe5 clean up the passed-in brigade since mod_deflate is through with it
a547ba6 ownership of the brigade is passed in the ap_pass_brigade call so make sure that it doesn't get left lying around. This tickled a bug with mod_deflate and resulted in a bucket being compressed more than once.
3a1806e axe an unused variable
92a64138   I hope this explanation is simple enough - comments welcome.
1fd923c   Introduce PassPhraseDialog 'pipe' mechanism.  This builds on DougM's   apr-ization of the 'tty', and changes his naming a bit so we clearly   identify the pipe-to and pipe-from the user.
7b21fb2   Introduce the PassPhraseDialog 'pipe' mechanism.
bb7ef81 Set defaults for non-autoconf path variables. Also export a couple variables that for whatever reason weren't being placed into config_vars.mk.
d057840   Need broader permissions if we are to read and the set the flags that   apply to the console stream.
02d9c88 De-tabify...
b3bd2ed   This baffled .mak exported build targets for mod_ssl/abs.  They will   recognize their output only as .\Release|Debug\mod_ssl.so, etc.  Without   the leading .\ kept getting 'dunno how to make ... target'
db99ee6   Must admit, my use case was focused on services.  It seems that if we   had a console, we weren't reassigning stdhandles with AllocConsole().   Open the conin/conout very explicitly, and clean up some other cruft.
d25cec5 Fix --sysconfdir and --localstatedir, which were being ignored. Fix --enable-layout to work.
7b340b3 When we fix this, make sure to close 9963 as this is that problem.
2d63c22 Fix --enable-layout to work again. Fix bug where --sysconfdir and --localstatedir were being ignored by APR.
a1de059 Add the ProxyRemoteMatch directive to the mod_proxy code. Doccos to be done soon
3b59120 document the ctx parameter to the add-input-filter functions
d827a6f mention some graceful restart breakage with worker
a2e4bf6 No releases until these two are addressed.  It doesn't make sense to release a new build if our top two filed issues aren't addressed.
8a38b22 I just tried to do a graceful restart while pounding my box with worker MPM and no segfaults.  Am I missing something or were these fixed with Jeff's latest fixes?
4cdb6b8 ap_calc_scoreboard_size() needs to be exported for win32
e094def   Clarity on a snowy night in Illinois.
04533b8 Don't set bytes_sent to be 0 when r->assbackwards since this screws up logging.
402a038   Whoh boy that's rough... We sometimes like to answer SIGHUP in the   parent process, don't we?
af2dbad change builtin passphrase prompt to use stdout rather than stderr. and switch to using apr_file api for portability. stderr has already been redirected to the error_log. rather than attempting to temporarily rehook it to the terminal, we print the prompt to stdout before EVP_read_pw_string turns off tty echo.  which is also more portable.
0ba62be changing mod_ssl to do a full startup/teardown on each restart rather than hack to only read passphrase on 1st round startup.  this change: - fixes current segv on restarts (SHARED_MODULE is not defined) - allows LoadModule ssl_module to be added to httpd.conf on restart   (was core dumping previously) - allows certs/keys to be changed on restart provided key is not   encrypted or SSLPassPhraseDialog is exec.  if key is encrypted and   SSLPassPhraseDialog is builtin, existing private keys will be reused   on restart (which happens currently for any type of key/dialog).
50e50ff All the work on the lock APIs probably deserves a little note, and besides the module authors will appreciate the note directing them to the new APIs.
1fc3677 Use the empty string, not NUL.  I should have read my code more closely.
b8c76ee Grrrrr.....  We should really use the correct line endings on all platforms.
3247f72 fix some problems with variables in config_vars.mk
5cd209c Commit the transformations from the xml docs.
5fe0caf Start converting the mpm documentation.
b7dac35 Changes necessary to document MPMs.
3ede7e8 These variables need to be delimited with {} or they will conflict with other variables in the same namespace with a shorter prefix substring. How did this ever work before? I ran into this while testing some of the recent layout-fixing patches.
0e17f7f Fix segfault if content_type is NULL.
575e49d Fix some formatting. No function change.
b98728f I learned about AP_MODE_EXHAUSTIVE while reading some of the new filter code earlier today.  With this mode, the Perchild MPM can finally be fixed to work with filters.  I have changed a comment in the core to make it clear that this mode is required, but I have mentioned how dangerous this mode is.  Also add a comment to STATUS about my plans.
0f45e62 Forward port of changes in mod_ssl for Apache 1.3 up through mod_ssl version 2.8.7-1.3.23.
03001bc remove a tab
610f804 restart fixes for worker:
2580e70 don't wait nearly so long for child processes to go away
741b98b I prefer to remove stuff :(
90f63df Removed unixd_set_lock_perms(apr_lock_t *), which is no longer used by any of the MPMs.  (This is another step toward eliminating the httpd's dependencies on the old lock API.)
9629bb9 Fix for the code that handles SSI tokens that span multiple buckets: if a brigade containing an incomplete "<!--#" token has been set aside in ctx->ssi_tag_brigade, we need to retrieve and output the contents of that brigade if the next bucket (in the next brigade) doesn't actually complete the "<!--#".
1c56d5b notes need to be 'set' at the main requests pool not the 'sub-request' as notes live in the parent's request lifetime.
13f6719 baby steps this fixes the case where we have a SSI start tag split up over multiple buckets.
a9a6ed4 Fix to avoid a segfault in mod_bucketeer if content_type is unset
d409bcf make it work with flushes make the false alarm not as generic PR: Obtained from: Submitted by: Reviewed by:	 Ian, Brian, Justin
7a7af07 Fix problem with expiry date being set in the past.
9004838 Fix problem where expiry time was being set in the past when the cache was loaded.
abb08fb pass a brigade PR: Obtained from: Submitted by: Reviewed by:
61104a1 remove stale comment PR: Obtained from: Submitted by: Reviewed by:
700ef68 When firing up a new child process, wipe clean the set of worker_score records we're going to use as they could contain leftovers from a previous child. This solves a problem where a non-graceful restart followed by a graceful restart would leave previous generation children stuck waiting for non-existant worker threads to terminate.
6e86e9a Handle shift of restart_time into scoreboard.
1cd04e0 introducing the bucketeer it lets you set up boundry test conditions for things like mod-include PR: Obtained from: Submitted by: Reviewed by:
78656a3 forgot the ap-declare's the're needed for win32
2df244d Added ap_get_input_filter_handle() and ap_get_output_filter_handle() Submitted by:	Ryan Morgan Reviewed by:	Brian Pane
fd87db5 mention a new showstopper introduced after 2.0.32
509417f need to copy mod_log_config over for custom-loggers Obtained from: Steve Linde
206915d Small typo fix.
160f3a8 Fix double proxy listing.
5c3a9e8   Good things for beta testers to know have been fixed.
fa6335a Mention the -DNO_DETACH changes (to implement apr_proc_detach prototype change).
5e4fba9 Implement apr_proc_detach changes and allow -DNO_DETACH in the multi-process mode to not "daemonize" while detaching from the controlling terminal. This is necessary for Apache to work with process-management tools like AIX's "System Resource Controller" as well as Dan Bernstein's "daemontools".
0d14656   This code should be a noop today.  But I did not feel comfortable about   reusing/recopying each bucket -after- inserting it into the brigade.   Also, copying bucket c from b from a seemed obtuse.
bdf5fe9 Convert mod_auth_digest to use the new apr_global_mutex_t type.
a3cd5f0 fix problem where a unmatched tag was not sent if it was at the end of a bucket
a57a1a0 Convert the ap_queue_foo routines to return apr_status_t as appropriate.
e8b6f67 fix the linkage of and add a prototype for ap_proxy_table_unmerge()
203edb6 zap an incorrect comment
23bad0a Some browsers ignore cookies that have been merged into a single Set-Cookie header. Set-Cookie and Set-Cookie2 headers are now unmerged in the http proxy before being sent to the client. Fix a problem with proxy where each entry of a duplicated header such as Set-Cookie would overwrite and obliterate the previous value of the header, resulting in multiple header values (like cookies) going missing. PR: Obtained from: Submitted by: Reviewed by:
567662b bump bumpty bump Placing the thread-limit and server-limit values, those which define the size of internal structures in the scoreboard, actually into the scoreboard allow third-party applications to access those structures.
a6ceb15   Fix the close-on-sendfile bug where Win32 would transmit a single   sendfile bucket and then lose it's socket, and fix a comment.
d2fe7ba Placing the thread-limit and server-limit values, those which define the size of internal structures in the scoreboard, actually into the scoreboard allow third-party applications to access those structures.
1a2e6d8 Fix segfault in proxy PR: Obtained from: Submitted by: Reviewed by:
0a70e42 send a 'bad-gateway' when a invaild response flys in
421c580 on OS/390, instdso.sh should just use libtool, since libtool for OS/390 is very Apache-friendly and doesn't play with the names of DSO files
5557063 Remember AddOutputFilterByType.
c3cd7cb   Some info messages mean something to only three people in this world,   let's start dropping some to debug until we have the essentials of   parent -> create child -> child running -> parent shutting down     -> child exiting -> child quit -> parent exited  at APLOG_INFO level.
974d023   Seems Terminal Server flavors were failing global_mutex_init, but it was   somewhat hard to tell, seeing as we never log any status until we can't   obtain the mutex.  Lots more rv checking is required in here, would   appreciate if new/touched code grew the appropriate tests.
776ad52 add a comment about the gzip-only-text/html note and how most browsers can't handle compressing everything
d21408a Another xml comversion.
df0b1de Add xml-ized mod_auth_anon.  I had to change directives.html because this module used a non-standard format for anchors that won't work now.
b43e2c4 refer to background information on filters and mod_deflate where appropriate
95e2c0f fix the short description for mod_deflate
ce58a96 fix a broken link to the SetOutputFilter description
f6fba3e add an example to the mod_deflate documentation
99021ad Add some messages.  Be a bit smarter about detecting if a write has started
3457bfe Win32: Migrate mpm_winnt away from the deprecated apr_lock API
fa49a21 More info for folks searching the CHANGES file
b1e828a This fixes a bug in mod_status on Windows where restart time was not properly initialized.
e0172fe Here goes: now committing the transformed version of the xml docs.  This is necessary to avoid having to keep the two in sync while we convert.
b4e054f Make sure the "do not edit" comment gets passed through.
feb01eb Woops... Not allowed to break a line there.
6449815 A couple small changes and a little reformatting to try to make it more understandable.
d139a6f XML version of core directives.
e635467 Add IPv6 notes to the documentation for the NameVirtualHost directive.
0e1f947 fix a v4-specific INADDR_ANY check that kept name-based virtual hosts from working with IPv6
6e4ccb7 <example> is not (by default) a <pre>formatted environment.
c701e5e Describe IPv6 syntax for Listen, Allow from, and <VirtualHost >.
6700fa9 Introduce AddOutputFilterByType directive.
2903535 Roy has a new employer
4c5d24b Conversion to xml
70e9327 Update.
cd94c05 one step closer to happiness on ebcdic boxes
e821b24 close a nearly-impossible leak in dummy_connection (the copy of the code used by worker MPM)
b49a2fb close an extremely unlikely file descriptor leak in dummy_connection()
eef7b18 Woops.  I meant <note>, not <example>.
87fc842 A couple tiny updates to use <directive> and <note>.
c605a80 Three xsl changes:
498d7c2 There is no way, IMHO, that we could ever maintain fast redirect.  Toss please.
1b1337e Fixup DEBUG_CGI code paths to compile and not leak fds.
47811ec Cite PR 9669 submitter.
ab92c11 Conversion to XML
9dcb87d Conversion to XML
a899aea   Hmmm, tried committing this in a hurry this aftn, seems it hung up.   Another unseasonably warm day in Chicagoland - short sleeve shirt weather.
bedf532 Conversion to XML.
4b72cda Correctly check script_in variable. (script_out and script_err are already correct.) PR: 9669
365a01f Updated the mapper lock to use apr_global_mutex_t instead of apr_proc_mutex_t
ec1281c Convert a few more modules to xml format.  The transformations are not yet live.
384945d Fix bad logging level.
8894708 Grammariffic!
a44736f htpasswd is not my friend anymore.
a6129ea Added a few things that I have been working on, and perhaps other folks might be inclined to help out with.
7dc5832 Sander's Stylistic Style Stuff
6ff14b1 stop using APR_BRIGADE_NORMALIZE()
5ce110f The color I used for <note> is too ugly even for a temporary placeholder.  Change it to a pleasent blue.
4140d59 Remove and demote two showstoppers: - The support binaries now have an option for static builds at   configure-time.  However, it is questioned whether httpd can even be   built statically.  In point of fact, this exact item has been addressed,   but httpd is still a bit murky so add a "nice to have" item. - The worker MPM showstopper has been questioned on-list and no   justification or further information was provided.  No one else is able   to reproduce this case, therefore it is now demoted to a "nice to have."   It is not fair to us to have a showstopper when there is no reproduction   or explanation present.  When information is provided on how to   independently reproduce this case, this issue can be promoted.  But, no   one else has reported problems with CGI and worker.
fd219d3 Ramblin' Man.
9dbcb5d First attempt at converting a module doc to xml.
b984f0c expand_lock_fname() is no longer used
49d0218 Restored the permission setting for the accept mutex (which was lost in my previous commit to change to the new lock API)
7ae884c Converted the rewrite mapper lock to the new lock API
510d1ec Converted prefork MPM's accept mutex to the new lock API
8661dae Added a list of known API changes happening between now and GA (Please add to this list if you know of anything that I've missed.)
39b3c29 If the file specified by SSLMutex cannot be created (because the directory      does not exist for example), children will segfault on init without giving      any reason that the user can figure out.  This happens because the module       init in the parent never checks to see if the mutex intialization succeded.     This patch adds this check and a user-friendly error message.
e52a26d This comment is bogus since we decided to keep -X.
d8439c8 Add a reference counter to the mem_cache_object_t and code to manage deleting the cache_object after the reference count drops to 0. Not fully tested yet..
09df6ea vote on .32
0b841b1 Change the verbage on the ScoreBoardFile in our default configs. Also change the default to be commented out (unspecified) so we get anonymous shared memory by default.
0a314f1 Fix a nice-to-have non-showstopper -- change the semantics for how we create a scoreboard from the ScoreBoardFile directive.
b744e26 initial (rough) docs for mod_deflate
0cff6e8 Implement new ScoreBoardFile directive logic. This affects how we create the scoreboard's shared memory segment. We now have the best of both worlds:
858f5db I'm happy now gzip-only-text/html environment variable present
1363892 I don't have a window, so how could I know the weather?
906248f Make the <summary> optional and change the header on nested sections.
a876b19 Convert three more modules to the xml format.
fc94ffe Cliff weighs in. (It seems no one has time to update STATUS themselves!)
0c35846 - Unset content-length in mod_deflate so that the network-layer filters are free to do what they want and that no C-L is improperly returned. - Allow non-GET requests and non-html responses to be compressed.
ebcf1d6 Change the format slightly so that each "context" get's its own tag in a <contextlist>.  This should make it easier to, for example, generate an index of all the directives available in a certain context.
4606f60 Fix ap_directory_walk() per-dir merge bug seen when no <Directory /> is present.
3386c87 Another +1 for .32 beta (from Ian)
36c5db1 Fix a nasty little bug that could be hosing mod_mem_cache as well as mod_disk_cache
097ccb9 Just toss these debug messages since so many people use httpd with LogLevel 'debug' and complain if they see anything that says "error" in it.  This case isn't even interesting unless you are hard-core.
f34f03b This is a bug or two away from working...  Open both the header and data files in the open_entity call. Need to be a bit smarter in managing the cache_info structure
3e6897d Per <005b01c1b55f$dcd917a0$50381b09@sashimi>, FirstBill is +1 for beta.
2027c17 the last one I missed, hopefully ...
98a1ac3 missed this one...
2433263 Some cosmetic changes. Submitted by: Reviewed by:
6c9c360 .32 has been rolled and placed in /dist/httpd
605b1da Since we had 3 +1s for JRE_1 to become .32, so it is.  Tarballs are on the way.
e82b063 Welcome to .33-dev.
9e1fd9d Bump for .32
56c1055 Temporarily remove changes that aren't in JRE_1 (aka .32) tag.
011fbb2   Another thought.
5744aef Stuff is getting put in the cache. Still not serving out of the cache though.
682145a Take care of a couple quickies -- mod_cgid shutdown and signals in the worker MPM (one_process case).
3c6da29 Set some meaningful defaults on dirlevels and dirlength. Getting closer...
5700c79 Fix other_child logic that would cause the mod_cgid process not to properly die when the parent process shuts down.
c47efa9 Retain signal handling in the worker MPM for the one_process case (httpd with -DDEBUG, -X, or -DONE_PROCESS).
9bbf5cb time to go buy hershey's kisses
03a474c   Good work Mr. RM :)
011bc38 Add the first xml doc.
2eb8d38 Add the parts for the xml to html transformation system for the module docs.  Details will be at http://httpd.apache.org/docs-project/docsformat.html shortly.
de40d02 Create a new pool allocator for each worker thread
e468fda Change httpd.conf default UseCanonicalName to off to make the server more idiot proof.
51139d2 More APR'izing and general cleanup. Need to handle the temp file correctly...
c9effcf APR'ize some codepaths. Implement mkdir_structure. General cleanup... It's getting closer to working but still a ways off.
0d3e3e0   These files cannot be distributed at present - Justin, update your RC.32
43843aa A final (hopefully) roll of JRE_1 has been made. *Please* test.
42512ee Set some defaults...
bf1ca65 Move mod_disk_cache specific fields out of the cache_obj and into the disk_cache_object_t.
a4b34ec Just a heads up to let people know what I'm working on. I ran into some problems with the new POD code in the worker MPM, and although I'm almost finished I didn't want people rolling a tarball without knowing of these problems first.
481bad7 Performance optimization: updated the worker MPM to recycle per-transaction pools instead of destroying them.  Based on Ian's benchmark testing, this reduces CPU utilization by about 1% on Solaris.
1e4af39   The final commit to achieve a quality release.  We cannot use CreateThread   on Win32 when using the clib; msvcrt has its own initialization and   destruction, so it needs its own turn.  _createthreadex is the same but   different - it's implemented by msvcrt and causes all the appropriate   setup and teardown to occur.
86d75cb   Spell out some changes
3d4731f   Address the issue raised on list that users with a LanguagePriority   directive alone expect 'ForceLanguagePriority Prefer' behavior even   if that directive is omitted.
1f7918f Grammar police coming through.
b6b88b9   What happened?  0.9.6b built just dandy without the flags... 0.9.6c won't   build for jack without these changes.  Of course they don't harm 0.9.6b   builders either, unless they are outside of the states/EU/AU and find   themselves free to ignore IP considerations.
13b7646 another race condition. also.. changed the logic slightly. it will remove the name retrieved, not what the object has.
a04f640 once more with feeling
e5d12da fix a race condition. 2 threads both trying to remove the same URL at the same time.
95d2c66 Close a few unclosed tags.
5a4bbba Too many people are wasting time trying to make these things work.
8cb5dbe Out foul tabs. No function change.
40eb3b9   After hours of debugging, the answer was -trivial-, but extremely   obscure and difficult to trace.  This should do away with the handle   corruption we experienced.  If anyone cares to walk the crt (source   is installed in vc\src\crt if you install it w/ Visual C++/Studio)   it's worth understanding why this occured.
448b194 Correct ordering.
bbba4a4 Clarify what <IfModule> means in the world of mod_so.
78470df   Perform a serious scrubbing of the child process, before we report that   we failed to create the child.  Cleans up CloseHandle() destruction to   match all created handles - and postpone populating the *child_exit_event   until we succeed.
67d6dd0   This code seriously misassumed (and may yet) that stderr was a valid file.   It also has some bogus non-apr code that probably does great evil to win32   services.  This must be bumped into .32, code review is incomplete still.
c54cc84   Move the sleep until after we have duplicated the simple handles.  We must   still pause and reflect on the Child's startup before WSADuplicateHandle()
9ad9028 if a child detects a resource shortage on accept(), limit the rate of fork()s to 1 per second until the situation clears up.
cc21a834   Never close the handle, if it is the StdError psuedohandle.
7c42fab style/spelling tweaks
8cbea60 Win32: Handles returned by GetStdHandle are psuedo handles and should never be passed to a CloseHandle call.
50c6644 Make apache -k shutdown an alias for apache -k stop. "shutdown" maintained for backward compatability.
05a340b Get apache -k restart -n apache2 working reliabily again.
1703da8 Remove all signal handling from the worker MPM's child processes.  Instead, we use the pipe of death for all communication between parent and child.
115d0c9 accept() error handling should be OK now.
f18df95 prefork shouldn't be killing its parent if a child runs out of resources.
42486ee Copied changes that have been made recently to the 1.3 documentation. Primarily additional explanation and examples.
99e4093 Windows should not hold up an otherwise excellent release.
0462364 it's cold outside
33e0352 I say the input filtering change are as complete as it will be for 2.0, so remove the note in STATUS.
07d6341 Point at the JRE_1 tag if anyone is interested. IMHO, v31 is dead.
06fc145 Get rid of the DAVParam support. That was a concept to help out mod_dav providers in the 1.0.x series. Nowadays, the providers are full-fledged Apache modules and can define their own directives and set up per-server and per-directory parameters. (for example, mod_dav_fs and the DAVLockDB directive)
f0a52aa hmmm... not so sure anymore
961421f Fixed an alignment problem between httpd and aprlib
3986903 add another log message showing when we server a cached file (as info not debug)
3420294   Some considerable fixes in sending log messages out to the event log.
69c9e8d   Drawing attention to the timing problem; push the wait up so we do about   nothing until WinNT initializes the app.
588507d Renamed the internal environment variable reference from NDK to LIBC
a9ee126 Added the renaming of apr_ldap.hnw to the prebuild precessing
d9998aa Updated to use the newer locking API's.  This file should probably be moved to the httpd-ldap with the rest of the auth_ldap stuff.
2ffd318 Added .def files for build on NetWare
b5c622e Updated to use the newer locking APIs
fddc14b why are the skies cloudy all day?
2a3a6e5 Explain why I'm sitting on .32.
e67dd71 update CHANGES for an input side seg fault fix.
797e539 style police PR: Obtained from: Submitted by: Reviewed by:
1c1ce97 ensure that ap_rgetline allocates storage for the request line each time it is called.
b9351f1 Allow statically linked support binaries with the new --enable-static-support flag, and enable this behavior in the binbuild script. Also add a new --enable-static-htdbm flag.
00ad366 That check is superfluous since we must have savename defined (otherwise, we'd get APR_INCOMPLETE on apr_dir_read).
795f157 Allow mod_autoindex to serve symlinks if permitted and optimize our stats so that only one stat() is needed.
38969cf Fix resolve_symlink to save the original symlink name if known.
eb1fd4e   Eliminate tons o cruft - we are in another thread - and these can all   be longlived malloced regions, or sit upon the stack.  No need to mess   with pool conflicts.
73f8d72   Upon advice of the FirstBill, I began looking for exceptions that occur   only in the service-mode.  SetServiceDescription was borked, now fixed.   Since we don't use the posix/libc style stderr, I've also pitched that   code, which was causing an exception.
34c057c bit foggy PR: Obtained from: Submitted by: Reviewed by:
e11afd7 This issue is completed.
6355cc0 Changing my vote.  I no longer have a problem with this.  At the time, lots of changes were being made to worker to fix bugs, and it seemed premature.  Haven't seen much of that as of late.
33ee44b Move the 31 + fixes note to the beginning of the section.
6e6e133 - We're not going to be doing an unmodified 2.0.31 release, so noting the   AP_DEBUG_ASSERT fix isn't helpful. - The vote for perchild being required for GA is unanimous against.  No   matter what interpretation you take, it isn't going to be a showstopper.
901e232 Split out anything that calls for a vote to be in its own section.
f5e0653 Be nice if we recorded that this problem might be fixed.  =)
c722e05 Rearrange the titles a bit.
9ca325c Document the new default behavior for ServerName and improve the readability a little.
6e81b18 Implemented the handling of the SIGABRT signal.
e8ad3e9 Removed the #ifdef NETWARE to allow the standard abort() function to be called.
c124619   If we only need to toggle the event, don't ask for the whole ball 'o wax.
295e388 Point at Greg's daedalus patches.
f06645f Cite the message id not the URL.
41f3ba7 De-tabify.  No content changes.
de96f84 	Separate showstoppers into next-beta and final-release sections. 	Change a couple of my votes.  Some minor formatting changes 	(it's not code, so just deal with it ;-).
9b71731   Occifer Will from the Redundacy Dept of Redundancy reporting for duty...   Cleaning up a few more variables and fix a logged err status.
85d1003 Add the FileETag description
d385593   Move around a bit of code so I can follow it better.  -> EOF should always   take us to the module struct, and working backwards, the register hooks   and then top-level init stuff.  At least that's how any other Apache   module is authored.
12b4643 Improve example perl script.
701fa04 Ummmm experience on Daedalus implies we could do better :)
b3e3cb4 Link to patch that incorporates all relevant bug fixes seen so far. (only conflict from HEAD is in core.c where rbb/FirstBill snuck in some hook changes...)
3e65d19   Give the child GENERIC_WRITE only to the stderr log channel,   GENERIC_READ|GENERIC_WRITE to the scoreboard mapping,   EVENT_MODIFY_STATE|SYNCHRONIZE to it's exit event,   and fix a _major_ bug in the NullACL code that set the length   by the size of the pointer-to-acl, rather than the size of an acl.
666acbd Add note about APR_BRIGADE_NORMALIZE usage in core_input_filter.
04dc444 Revision 1.79 was bogus.
24ebef4 Be a bit more sane with regard to CanonicalNames.  If the user has specified they want to use the CanonicalName, but they have not configured a port with the ServerName, then use the same port that the original request used.
581ada3 We totally disregard the fact that notice is level 5 and always print that.  Yuck.  Make these error message DEBUG level then.
0d0add8 don't try to place a header field in error-notes if ap_rgetline() returned something like APR_EOF, since len is not set in this case and we can go off the end of storage
7b393b8 yet another tweak to empty brigade checking on entry to core_input_filter():
3e20c0f re-read this, and withdrew my vote.  I thought we were talking binbuild, but it seems more general.
2ccb971 That Train Don't Run
40ee625 Note fixes so that DB1 on a FreeBSD box work with apr-util.
5cb0ddf   A cleanup from the redundancy dept. of redundancy
62d05ae   Leaky as a sieve.
d1cc4eb   Didn't mean to leave that in there.  MPM works, how well I haven't yet   determined.
3bbf558   Clean up more bogosity and leaky pipes [and fix a recent bug].
d6e5c5c   BS.  This isn't an assert.  This is a friggin developer's black hole.   Suggesion: Netware needs to implement the appropriate abort() style   fn.  If there is none on Netware, this is non-portable, undebuggable,   and will be yanked by tommorow evening.
4eaea0d   1. gotta look at the child return code (think kindergarden, you've got      to keep an eye on those kids.)
8eb35fc   Start simplifying and grouping code.  Building on the work that rbb   had begun; we need to start organizing this so it can be groked by   more than one person at a time [or simply by more than one person.]
9518724 brrrrrrrr
31aea24 We seem to have fixes in our tree for all of our cited problems. If we could take the v31 tree and apply those revisions that fixes bugs to make v32, I'd be game for beta.
045c259 segfaults--;
68f36d5 Tone down the logging levels for these two messages from ERROR to NOTICE. It's something to note, but it isn't an error worthy of logging by default. (Also always log any status values in read_request_line() - incl. timeouts.)
85fabad - Fix up a comment so that it makes more sense and explains why we return   APR_EOF instead of an EOS bucket. - Start to try to be nice when we *know* we are EOS by removing the   bucket.  This is only one case where we could end up with a 0 bucket   in ctx->b, but let's remove it and move on.  (If the bucket were to   return 0 bytes and still have data left to read on blocking mode,   it's blantly broken, IMHO)
4ffeb3c If the MIME-continuation line returns nothing, then we should return not segfault.
0e63b11 Updating my vote on 2.0.31 based on the segfaults on daedalus
c4089b1 Jeff seems to have fixed this.  Go Jeff!
5847f82   While the tide was turning twords my take... this number of bugs in the   Winnt mpm mean I can't go against Unix getting a good beta.  Now the   Q, is unix a good beta :-?
89de6d1   Some compatibility fixes.  Built yet untested, read three times through.   Please review and raise the flag if any of these introduce bad mojo.
92817a7   Do we have sys/socket.h?
6e73c41 In core_input_filter, check for an empty brigade after APR_BRIGADE_NORMALIZE().  Otherwise, we can get segfaults if a client says it will post some data but we get FIN before any data arrives.
4d86bf1 We don't have weather in Irvine.  We do have that chick who does the NFL "weather" for Fox Sports.  'Nuf said.
f62c2d8 Remove all non-portable DBM calls in mod_auth_dbm and rely only on the apr-util DBM code.
862f407 Remove the install_transport_filters hook.  The same function can be acheived with the pre_connection hook.  I have added the socket to the pre_connection phase to make this possible. Reviewed by:	Bill Stoddard
3d09101 Last week it was spring, this week it's winter.  What's wrong with this picture?
3648a95   These crit errors make -0- sense.  Interesting info entry, however.
e2b7e4b Vetoed by Ken
a0bb255 restore the SO_REUSEADDR for listening sockets; it is absolutely required on most (all?) platforms, regardless of what code changes might be required to work around the ability on Windows to inadvertently have more than one server listening on the same ports
d19986c 	Change the 'we turned /foo into http://host/foo' log message 	to DEBUG; no reason to clutter people's log files with this 	when it's supported behaviour.  Of course, they can find out 	about the performance impact by LogLeveling Debug. :-)
87e7dd2 List files that would result in HTTP_UNAUTHORIZED in addition to successes and redirections, since there's a chance the client will actually have the proper authorization to retrieve them.
cb7dad4 This change keeps the server from allowing multiple instances to bind to the same port.  Previously, this was necessary, because the Windows MPM was binding to the socket in both the parent and child.  Today's code passes the attached socket to the child from the parent, so we don't need to re-attach in the child.
7257d73 JinH found a shared memory problem IMHO a beta killer
7354d00 Misc cleanup to fix compile warnings and a segfault. This module is still a long ways from doing anything useful, but every bit helps.
f1041c3 Add the return type to the function definition.
1c8af1b Port the listener bind patch from the Unix MPMs to Windows.  This allows ANy windows bind message to be printed to the console if the server was started from the command line.
40af1eb Being stuck in a basement, I have no idea what the weather is like.  :-(
15a4252 add a optional function ap_cache_generate_key which allows a 3rd party module to generate the key name based on the request_rec.
c0e94b1   Fixed for the recent apr-ized logfile changes.  The Win32 service never   has a STDERR channel in the first place, so the first ap_open_stderr_log()   fails.  We need to open it after we've initialized the service control   manager and created the stderr pipe thread that logs stderr output over   in our Application Event Log.
0e92f35   NOERRNO?  Of course we have an ERRNO :)
a897edc record some votes and a couple of comments.
d33ce08 Get AuthDBMType into the directives index.
8395e26 it's just not my day today ;(
6cbb3ef vetoing and backing out OtherBill's patch rev 1.91.  This breaks mod_autoindex on systems such as Unix where apr_dir_read doesn't automatically return the filetype.  You see a '?' icon rather than a folder icon for directories on 2.0.31 because mod_autoindex doesn't realize that the thing is a directory.
8dd05be oops PR: Obtained from: Submitted by: Reviewed by:
fbbd12c put in Manoj's comments
743f446 no idea what it is like outside.. I'm in a overheated office
c7866d5   Brrr... it's frigid in Chicago today!  Hope FirstBill doesn't mind if   I speak for us both here.
aedb317 Not being able to bind to a socket is a fatal error.  This makes all MPMs treat it as such.  We now print a message to the console, and return a non-zero status code.
fbcbdfd Yes, beta ready
4c1de2b +1 for Beta
19613bb This patch allows the prefork MPM to print messages to the console if it can't open a socket for some reason.
5b313cc suexec: Allow HTTPS and SSL_* environment variables to be passed through to CGI scripts.
a771a33 Bringing up some code to our coding style guidelines
147e130 Coding before the first cup of coffee.... Thanks to Martin for pointing this out.
1d5e1ef CacheRoot takes an argument.
34e0d8c Oops. Use ftp_check_globbingchars().
c5ef152 And update the year....
9f645d6 React (in the dir lister) on the same globbing chars as used in the escaping routine
b83f884 make it compile on win32
efb31f0 Compiles on Linux w/ kernel 2.2
d849bdd time for a walk around the neighborhood
f5f9a26 Agreed
f0ffba5 Some votes
a71dfa5 Added some notes and votes
6b214f0 Vote...
db91e13 mod_disk_cache cleanup.  Pass request_rec on the open_entity call.
7e1ab92 I fully agree with Cliff and Justin on this one. Given the fact that this only appears in maintainer-mode, I take back my dev@httpd list comments that this would be a showstopper.
ace1314 If they are willing to run in maintainer mode, they should be willing to read the release notes and apply patches to deal with this sort of thing.
c6eb5b8 - Add note on the bad AP_DEBUG_ASSERT call.  Is this a showstopper or can   it be indicated in the 2.0.31 release notes?  Voice your opinions. - The worker CGI test failure Ken sees seems to be a problem with   perl or httpd-test as no one else seems to be able to reproduce it.   So, let's try to demote this. - I have no earthly idea what rbb is talking about.  Whatever it may be,   I can't fathom that it'd stop a release.
492a2d5 Um, where did my vote go?
1ed7a6d Oh, no.  It's legal to have 0 bytes read.  Just not -1.  If *that* happens, I want to see a core.  0 bytes reads are fine.  Grr.
59874f5 Make sure we include time.h if it is there.  (Other mojo may be needed for other platforms.)
95f59dd Okay with the configurability. Not okay with the two parents idea.
4b3e280 Hopefully, this makes it easier to vote and decide...
2e47d4b Some coding style tweaks. No function change.
1d5a371 Support files for mod_disk_cache. Some tweaks to arguments on various hook calls. Still lots of cleanup work to do here...
85e57f6 MS Project file for mod_disk_cache
fdae4a1 Fix a few compile errors.
a147b91 First cut at mod_disk_cache, based on code from the IBM AS400 team. Still need to cleanup where some bytes are stored, check-in routines this module calls in cache_util, etc.
fbfdd17 High of 79 F yesterday, 50 F today.
4feed3f I was leaning toward the configurable flavor, but OtherBill convinced me we should be more concerned with keeping the parent rock solid than adding extra layers to protect the children from a broken parent.
b8d2cbc Updated my vote on shutting down child processes if the parent dies
1987823 Linux 2.4 (MDK 8.0) is fine here as reported earlier.
7b7ec65 Silence a gcc warning about cpType being possibly used uninitialized, and constify it while I'm at it.
e39e40d finish implementing --enable-static-checkgid
abb52d4 We have two factions here, let's give 'em what they want.
033169f Added my vote that these are not showstoppers.
6c51d3c binbuild.sh: Make sure that we use the expat from our source tree so that there aren't any surprises on the target machine.
289b524 v31 beta notes are now in the status PR: Obtained from: Submitted by: Reviewed by:
2017c84 Remove the CACHE_IN filter is we are not doing caching
e4cd22b Add a few more checks to determine a response should be cached.
8f1529e It took all day, but we rolled .31.
d206521 - Add note about EBCDIC. - ap_[r]getline rewrite has landed.  I think it is time for this STATUS   item to be removed.  Is there anything more w.r.t. input filtering   that needs to be addressed?
7561e8e Fix the AC_OUTPUT() macro for the BSD users.
bd3d360 Reintroduce the create_connection hook. This hook is required to enable modules to completely take over all network i/o from the core.
556b417 mod_cgid: Add retry logic for when the daemon can't fork fast enough to keep up with new requests.  Start using HTTP_SERVER_UNAVAILABLE instead of HTTP_INTERNAL_SERVER_ERROR when we can't talk to the daemon.
a55e850 apxs: Let the LTFLAGS environment variable override the default --silent flag. Previously you had to edit the generated apxs to get rid of --silent.
5f4457a Moved the #endif of APR_HAS_SHARED_MEMORY to include a reference to the global variable ap_scoreboard_shm.  Since this variable was already being excluded by APR_HAS_SHARED_MEMORY at the beginning of the file.
29fbef6 bloody tags sorry for the spam PR: Obtained from: Submitted by: Reviewed by:
e8a2325 and back to 32-dev PR: Obtained from: Submitted by: Reviewed by:
73df958 push the scoreboard patch into .31 PR: Obtained from: Submitted by: Reviewed by:
868c10b There are really two issues here: - Can we *ever* build a static binary?  That *is* a showstopper, I agree.   And, Aaron has volunteered to fix this soon-ish. - Separate from that, is the question whether we should we *always* build a   static binary?  That I do not believe I *is* a showstopper.  So, let's   make the distinction and call for a vote.
936f366 Fixed the unload process so that the console command gets properly unregistered.  This fixes the 88 unreleased resources after termination
523a7ab Create the scoreboard (in the parent) in a global pool context, so it survives graceful restarts. This fixes a SEGV during graceful restarts.
fab935b Create the scoreboard (in the parent) in a global pool context, so it survives graceful restarts. This fixes a SEGV during graceful restarts.
eb0a4e7 Record my quasi-evident thought formally.
a128556 Some STATUS notes from jag
b310fb9 Was 81 deg F here yesterday
c2942af Still bright and sunny
b397ae8 Bright and sunny
39725de some things just aren't important when compared with those horrible whitespace problems :)
fa7d21b   One down, my fault
96a16ef Update some of the URLs and notes that have gotten stale.
f097a92 No way.
5989611 Don't let me forget about the scoreboard changes.
076760c Question everything.
bf6f47a missed a '&'
908367e Record my vote on the proposal to kill all the child processes if the parent crashes
324b2e0 Vote time.
dc161e9 If the RedirectMatch target is an abs_path, make it an absoluteURI
699e8f8 fix redirects for directories.  fixup_dir was munging the URI before other fixup hooks (such as fixup_redir in mod_alias) had a chance to redirect the original directory URI.
bef023b Removed the call for now to shutdown the listeners so that threads don't end up stuck on blocking socket calls during shutdown.  I need to figure out a cleaner way of preventing this problem.
f06c74c 	Fix RedirectMatch so it won't emit invalid Location fields.
46064fb ooops, pin the tail on the correct donkey.  mod_alias is being bad, dunno about mod_rewrite.
07f5073 Another showstopper.. protocol violation, this time.
eee5ac7 correct the broken URL
9aaf89f Use symbolic names
b68a820 Check for timegm() and for tm_gmtoff in struct tm. These are used for the USE_MDTM case in proxy_ftp.
5b7ceb1 Add MDTM support if supported by the FTP server, and if either timegm() exists or struct tm has a tm_gmtoff field (needed for easily converting the time string to a GMT timestamp). Escaping for ftp path arguments now uses a dedicated escaping routine (in order to only escape globbing characters, not all shell meta characters). Execute the SIZE query with the same TYPE setting as the RETR transfer, because the SIZE may be calculated differently for ASCII files.
c62f918 A LF here, a CR there, a CRLF for all else...
39573f4 32-dev is now it PR: Obtained from: Submitted by: Reviewed by:
abb455e its tag time v31 is being tagged
115e0a0   The missing xcopy's <.a bit was a showstopper, but to ensure any win32   command.com/cmd.exe lives with us, add the <.y for all copy commands   where the file could already exist.
f6e4afd Eliminate variables where unneeded; move ";type=" checking code to front; drop redundant log messages (covered by proxy_ftp_command()); do checks for /%2f as in apache-1.3.24; escape path argument in SIZE command
5cd5470 Change the Windows MPM to only use the pre_mpm phase in the parent process. The child processes use the child_init phase to reattach to the shared memory.  This makes Windows work like Unix, which should make it easier for module authors to write portable modules.
465e16b change filter's/handlers to static. changed a directive to a flag (which is what it was) Submitted by:	 Jeff Trawick
8cf5695 add a ProxyTimeout directive
9649031 Whoops, forgot to update this 'way back when..
3380361 out damn warnings out
86819ee Fix a type-d'oh
6dcbce9 If we die we need to write an epitaph..
8734927 Update documentation, and lowercase all html tags
0a372f9 Minor tipos
abf7e54 Of course, more wildcard characters
74a2b9e Describe the proxy_ftp changes: FTP directory listings are now always retrieved in ASCII mode. The FTP proxy properly escapes URI's and HTML in the generated listing, and escapes the path components when talking to the FTP server. It is now possible to browse the root directory by using a url like:   ftp://user@host/%2f/ (ported from apache_1.3.24) Also, the last path component may contain wildcard characters '*' and '?', and if they do, a directory listing is created instead of a file retrieval. Example: ftp://user@host/httpd/server/*.c
de3c03c Port the "squid %2f hack" from apache_1.3.24. It is now possible to browse the root directory by using a url like:   ftp://user@host/%2f/ Also, the last path component may contain wildcard characters '*' and '?', and if they do, a directory listing is created instead of a file retrieval. Example: ftp://user@host/httpd/server/*.c
8ae6ee9 Oops, sorry. Lost one line.
1d76ccd Something sets the content_encoding, even if a directory listing is going to be returned. Hack: unset the content_encoding if dirlisting == TRUE.
e135391 For the ftp commands CWD and RETR, do escaping for the path elements, because FTP servers do globbing, which we do not want for filenames from the directory listing. PR: Obtained from: Submitted by: Reviewed by:
fc59d84   Fix nmake -f makefile.win clean on win32.
08ff4a8 In the debug log, say 'decline' instead of 'reject' when DECLINEing
6490c1d Remove more spmt_os2 MPM leftovers.
90ffe9a get rid of a bunch of warnings about unused variables
9b36512 zap a warning on AIX...  given that time_t isn't an APR construct I don't know of a better fix
b763128 Oops: wrong variable
807fa07 Simplify the complexity by using a common proxy_ftp_command() routine. Strip the ";type=X" suffix from the header generated in dir listings. Set type to ASCII for directory listings. Use common get_PWD() routine.
a0cae88 Updated to support the use of the ap_mpm_pod API in worker
d33f04c Added logic to the worker MPM to skip the poll before accept if there's only one listener socket (based on the implementation in the prefork MPM).  This also enables us to do single-listener unserialized accept
261d2d5   Need the long name of the build model for ssl/abs (e.g. Release/Debug).
2d386ab make it compile on win32
4bc1733 Cleanup some fallout from the recent install_transport_filters commit. Deprecate ap_proxy_pre_http_connection.
f153bf8 Simplify the exit paths of ap_rgetline by creating a second brigade for use when we do AP_MODE_SPECULATIVE.  This allows us to delete the brigades earlier.
afd601e Now how did this slip by. Fixes a segfault. I tested this code, really...
06f548c get prefork to build again.
c23a0b8 new directive 'ProxyPreserveHost'  which allows the incoming host line to be sent to the proxied server.
8a2f279 just make it a bit more explicit
4168820 This patch restores most of Ryan's patch (11/12/2001) to remove the client_socket from the conn_rec.  Diffs from Ryan's patch include:
25b8685 configuration change. allow a '!' directive to stop proxying these requests eg.
68f1dcb   BuildBin never made it to this home.  Makefile.win got lost, since it   would have been invoked from another path, trying to validate that the   apr and apr-util repositories had been checked out.  Too much trouble :)
381f9e4   Move the _tryssl targets across to the BuildBin target
6545620   Trust MS to manage it's project.
4ec90cd   By popular demand and some of my own observations - here is a build   target one can use as a dummy, without 'installing binaries'.  Now   Win32's makefile.win will simply kick off BuildBin and let it fire   off all the targets from a command line build.  This will help to   resolve some of the misses on incremental builds.
6452dfa If the ftp proxy could not guess the output format of the ftp server's directory listing, it makes another attempt: it tries a format similar to the output of "ls -s1" (optional whitespace followed by size, followed by whitespace, followed by filename, where filename may contain no more whitespace). This format works at least with one FTP server for which previously only the (non-clickable) output was displayed.
5a47e71   Many of our platform's apr_dir_read() aren't returning APR_FINFO_TYPE,   so we will take the long way through (and the long way for LNK's as well.)
b662537   Prepare for some changes to the .dsw - phase 1.
fef1548 Fix handling of \r\n at the end of FTP directory listings (\r characters were left in the output and would create additional line breaks in most browsers)
cdf7a56 For NoProxy connections (when no backend->connection is needed), a NULL pointer would be dereferenced. Check it more thoroughly.
c31924b ScriptAlias requires mod_cgi
9e5f508 * Prefer compatibility with both HTML-4 and XHTML (rather than XHTML only) * Properly escape URIs and HTML in the FTP filename list * Avoid a pointer underrun
4beff45 Add some more apr_ types
20778bd const is nice
82684e7 No need to use strcpy() where a ptr assignment is ok
7522873 Don't let the default handler try to serve a raw directory.  At best you get gibberish.  Much worse things can happen depending on the OS.
aa71fe9 Take advantage of the new pre_config return value when apr_proc_detach fails. I'll be making some changes to apr_proc_detach, and it will be nice to be able to report runtime errors.
bc07c61 Added MOD_Auth_Digest to the build project
6bff0e6 Added some type casting to the appropriate types to avoid type mismatches on the CodeWarrior compiler
b7a79f5 I think this was supposed to have been bumped a couple times since the 14th, and was perhaps forgotten about? In any case, it needs to be bumped now -- pre_config hook return type has changed.
ca8788a Mention the pre_config prototype change, and fix some grammar.
d5fdaf9 The pre_config hook now takes a return value. This allows modules to cause the server to bail out under error conditions.
a01fa5a backing out fix for missing path info and query string.  wrowe beat me to it.
b7f4e23 handle_multi: pass along the original path info and query string if we redirect due to negotiation
342daee Fix some unix socket descriptor leaks in the handler side of mod_cgid (the part that runs in the server process).  Whack a silly "close(-1)" in the handler too.
7ec0cee First step: send proxy_ftp.c thru   indent | pr -e8 -t (no other changes)
f523030 Update --with-mpm help text wrt available OS/2 MPM name.
65c3640 zap an unintended (and incorrect) comment that slipped in with the last commit; sorry!
6115a1e some level of gcc seems to be confused about whether or not b is used before being set; shut it up
7c1ce28 fix the problem where a scoreboard init failure could leave mod_cgid stranded
efbab2c optimized away one more filter name lookup during request processing
15d2ad0 Replaced some more ap_add_output_filter() calls with ap_add_output_filter_handle() for efficiency
327e498 Remove the create_connection hook and put the client_socket back into the conn_rec. The create_connection_hook has a design flaw that prevents it from making decisions based on vhost information.
11fd7f6 APR might not return everything we're asking for. Let that slide...
a77c2e9 Added a note about potential performance improvements for the worker MPM
c05415a   Whoops - this patch is required by the last request.c change.
ec31c6a   Shortcut where the resource has no language [discovered with no   DefaultLanguage in cgi-bin, resolving Greg Ames' observations, we   had a lurking segfault.]
011c737   Which PR?  I can't count them all.  Get QUERY_STRING and PATH_INFO   working again.  Also rounds out our fix to work around negotiated   directories which Greg Ames fixed; this addition in request.c simply   shortcuts all further processing.
6091917 Fixed a read from a deleted brigade in the new version of ap_rgetline()...
1cfef29 Fixed segfault in "-i" mode of ab
428f077   Been bad - forgot to keep my thoughts up to date.
1bef49d optimization: switched to ap_add_output_filter_handle() for installation of subreq filter
196916c Performance improvement: incorporated the use of the new ap_add_input_filter_handle() and ap_add_output_filter_handle() functions for core filters
08002aa Added new functions ap_add_input_filter_handle() and ap_add_output_filter_handle()
753e0d7 avoid a palloc of zero bytes so memory debuggers don't barf
4423c0c ap_rgetline(): completely ignore an empty bucket...  previously the logic                generally worked but with a memory debug build it could                crash since some memory debuggers don't like an alloc of                zero bytes
592a392 remove one showstopper and add the next
a84d8fa ap_sub_req_lookup_dirent: fix mod_negotiation loop with near infinite subrequests
a3326b1 get mod_mem_cache to compile with compilers that bother to check for
c14c091 Added symbol prefixing to the export list
4a9bc15 Grammar police coming through
01679ee ta da
eca473b I haven't created the optional function to specify the cache_key yet, That will come after this patch.
7a0f135 axe an unused variable
2b87916   No.  I don't like this patch.  I like what it does [shared scoreboard   for Windows, finally] but not how it's implemented.
fb29f09 Eliminate needless variable that wasn't initialized anyway.
be95061 Add another status code to ignore in the error_log. (I'm really tempted to ditch this log line altogether.)
65d6549 showstoppers--;
429aee9 Turn the log verbosity WAY down by not logging TIMEUP and EOF errors in read_request_line as these are very common place with HTTP keepalive timeouts.
8a731c2 I Heard It Through The Grapevine...
cb0ab15 Somehow, I lost this condition when I changed to account for ap_rgetline.
94d01b6 Change ap_get_brigade prototype to remove *readbytes in favor of readbytes. If you need the length, you should be using apr_brigade_length.  This is much more consistent.  Of all the places that call ap_get_brigade, only one (ap_http_filter) needs the length.  This makes it now possible to pass constants down without assigning them to a temporary variable first.
7204638 Enable the BrowserMatch for Microsoft's DAV client -- we know it is broken.
b1e2262 Fix some serious, hard-core breakage :-(  I don't even know how it compiled and linked.
f885c78 Rewrite ap_rgetline to remove the need to have an "internal" brigade stored in the core_module structure by using the AP_MODE_SPECULATIVE filter mode to determine if MIME-continuation should occur.
c11d132 Remove mod_auth_db since we've received enough votes (Justin, Ian, and Lars) and ample warning has been posted to dev@httpd.
a3a951a Some extra tweaks to the DAV code file/path handling (to continue the platforms fixes done by wrowe).
a9e76fd Never got rolled, problems with daedalus' thundering herd poll (among others I can't remember) weren't resolved in time.
883384f   The clean solution.
3e7735a   If you only mean to ask one question, why ask a dozen?
33d15cf   Omitted this argument and const'ness.  All looks well now.
c7b3faf   Cause dav_fs_get_parent_resource to fail if the file path is entirely   invalid or incomplete, or if it is root [determined by the platform's   apr implemention].  Identified by Greg Stein.
7c93a08   A quick hack around Aaron's patch.  Win32 'supports' anon shm, but   Apache's implementation requires fork().
ec1a9c5   Improve error reporting a bit so we might start diagnosing any faults   that might be introduced.
7f9c8a1 Keep track of this so we don't forget about it. It's not a showstopper, but it is definately irratating. I'll look into it if nobody beats me to it.
440a54d I looked at this again with a clear head and I'm much more comfortable with the current solution. Thank you please drive through.
f9c71f1 Bring apache in line with the new apr_file_dup2() parameter type.
9333709 Looks like a bug to me.
5ec0e43 set the variable before looking at it
d54e73a This is a showstopper.  Let's remember it.
cfee22c   Our kids need a little more time here, remember, it takes a bit for   the kernel to simply unwind 1920 threads.
3f92e8e   one blank line for code, one huge step for legibility
da1c1e7   Eliminate a large number of Win32-isms.  In large part, these can apply   to other one-off platforms such as OS2, and immediately impact a new port   which played by all the APR rules.
c335ed3 Add message-ids to ease issue tracking
f5ebd68 Just a style update before I work on this thing any more. Removed tabs and lined up parameters and indentation.
e690472 Scoreboard update comming soon.
edba27a Currently pcre/config.h and pcre/internal.h are getting installed - it seems they aren't used, and adding a rogue config.h into the include path can cause problems for a module which picks it up.
91c3d33 Although this patch is technically correct, I'm not happy with the way it gets things done. OTOH, it is a simple enough change to get things working correctly for now. I will come up with the right way to do this in the next couple days.
710eb1c dav_xml_get_cdata() is an exported function, so mark it as such with the DAV_DECLARE macro. [ Barry Pederson <barryp@yahoo.com> ]
7e3731b Avoid syntax error
72e3b21 - Add AP_MODE_SPECULATIVE support to mod_ssl - Protect mod_ssl from dealing with modes it doesn't recognize.
af117f2 If we would exhaust the buffer entirely, set it to NULL rather than point at the end of the buffer with a length of 0.
ecea874 Add Hebrew Language. Shalom Zvi.
d833b79 Patches applied to the 1.3 docs. See versions 1.36 - 1.39 of mod_include in 1.3. Primarily clarification of exec cgi vs include virtual.
36f2c93 Submitted by: Daniel Lopez LimitXMLRequestBody directive
9387a99 These changes are to allow caching of subrequests via a quick_handler.
cf16de9 When doing input filtering, get out the way of anything that we don't want to be explicitly involved in.
29aec5a Make core_input_filter use the new apr_brigade_split_line function.
e39ae20 Add AP_MODE_SPECULATIVE support to core_input_filter
57d94a9 Forgot to replace all german umlauts with the HTML entities.
ffeb6ba Some minor fixes to englisch new_features document.
b67ba6a Update german new_features document. Fixed some typos, markup errors and translations.
1a66be9 Add german variant of the 'new features' document (original version from Simon).
f01fdd7 Rename BeOS MPM directive RequestsPerThread to MaxRequestsPerThread.
9c1b8fe If the provider returns an error, then we should propagate it (rather than override it with HTTP_INTERNAL_SERVER_ERROR).
8064d26 Get rid of a dangling phrase that serves no real purpose.
fc561db This example doesn't really do what it claims.  Instead, lets make it simpler by discussing ONLY the .htaccess issue.  The other issue is covered by the next example.
530afa9 another note on the mod_cgid leaky pipes
37bdc63 clean up a bunch of warnings
fbbfd33 Record my suggestion.
7d32242 Input filtering prototype change: Socket blocking type should be separate from the input filter mode type.
316ae68 the load spikes seem to be gone.
08256f2 Style changes only.  (Remove tabs, etc, etc.)
ae1b40b add htdbm to the Makefile.
da80414 new var. APRUTIL_LDFLAGS
7bc8e5e call the plumber (or maybe the pilot)
26d3d72 Removed the multiple and reentrant flags that were being set by mistake
b24dd45 Fixed the build subproject for htpasswd and htdigest
00053fa Updates to allow the utilities to run on NetWare
cdea8a5 move OpenSSL specific SSL_{get,set}_state macros to the #ifdef'd group of macros for OpenSSL in mod_ssl.h
422b6e7 Updated the command line keyword to Apache2 and also modified the shutdown code for unloading the NLM
d0a8ce3 don't poll if there is only a single listening socket
897a0d3 Fix a segfault in mod_include which was found by Sander Striker using an APR_POOL_DEBUG/ElectricFence build.
30791bb fix a typo in a recent entry
85fbaff Per Ian's change, add the APRUTIL_EXPORT_INCLUDES vars to our environment.
cedc2b7 Make sure we use the same version of Make for building suexec as we do for building the rest of the package.
f3f28eb   Shush
1f455ff   Footnote on this chapter.  A cold and bitter Chicago night tonight.
c31769e make note of load spike problem on daedalus.
01efb5b As long as the spelling police are on the prowl, I figured I might as well pitch in.
7a33a9e fix for SSLv2 requests
413b3b6   Provide the win32 worker process a null (but valid) stdout pipe, and   redirect child startup errors to the main server error log.   Corresponds to the change in Apache 1.3.23
61d8e96 Spelling and grammar janitor coming through. (Clean up the comment so that mortal beings can parse it.)
ca30c4d On HPUX 11.x, the 'ENOBUFS, No buffer space available' error occures because the accept() cannot complete. You will not see ENOBUFS at 10.20 because the kernel hides any occurrence from being returned from user space. ENOBUFS at 11.0 TCP/IP is quite possible, and could occur intermittently. As a work-around, we are going to ingnore ENOBUFS.
14d74bc get the declaration of strcasecmp() on AIX
a5a6826   Allow the user to get detailed debugging information without a full   recompile [absolutely necessary on Win32 and other platforms that   really don't support administrator-compilation.]
fe0338e   Subset of another, have piped_log_cleanup_for_exec handle   the dirtywork common to piped_log_cleanup
b444b9b   Clean up several typesaftey (signedness and size) emits.
7d075c3 Fix minor typos. Mention that mod_ssl is part of Apache-2.0. Change absolute self-references to relative jumps.
635580d Make file names in headers look alike (as in the rest of this document)
e937a7c output filter optimizations: - avoid creating a new bucket brigade for each EOS or FLUSH bucket - do not pass FLUSH bucket since BIO_bucket_flush() already does so   if there is any data to flush. - do not call apr_brigade_destroy(bb); since we will have either   emptied it or passed it, in which case it will be destroyed further   down the chain.
f3fecbd prevent possible segv if  SSL_get_current_cipher() returns NULL in ssl_var_lookup_ssl_cipher()
cf5f58a Fix a problem in the parsing of the <Proxy foo> directive.
ae33d75 adjust BIO_METHOD initializers for sslc
c7b57e8 allow mod_auth_digest to configure with --srcdir (added same include path as modules/mappers/config9.m4) PR: Obtained from: Submitted by: Reviewed by:
7f6d76c   Follow our Unix bretherens' conventions, and name the sub-proxy modules   with the mod_ prefix (al la mod_dav_fs as a sub-dav module.)
f2e9710 rewrite of mod_ssl input filter for better performance and less memory usage PR: Obtained from: Submitted by: Reviewed by:	Justin Erenkrantz
798851f code police again
49423e6 Use the proper footer include so that we get the right version number.
d2afa1b sigh. code style police
6dcd258 quick handler now runs on subrequests as well PR: Obtained from: Submitted by: Reviewed by:
951a0cb Updated to reference the NovellLibC environment variable
f20a30a Updated the build instructions to reflect the change in the build environment variable
b9c901b Changed the build environment variable to NovellLibC to avoid a conflict with CLib
0808c1b fix a typo in the name of the error/include directory
9f5438a mention a binbuild SNAFU
045224c htmltidy made a mess of the headers and footers.  Put them back in shape.
4d2424f Added APR_HAS_SHARED_MEMORY to a section of code where it was missing, for those of us that don't have shared memory support.
f63aa48 Changed the nlm name from APACHE to APACHE2.
d1146dd Implemented a checkunload callback to allow apache to be unloaded using the Unload console command.  Also changed the nlm name and console command to APACHE2.
e4494ea Log a more descriptive error message.
e634f67 Note the change in the mod_dav provider API.
a065e19 Revamp how mod_dav asks its provider to generate a GET response.
d48bcdc Add a few votes.
5ce2fa7 A modification to reduce the memory usage of the server: Reduced the initial size of the r->headers_in and r->subprocess_env tables...this saves us 600 bytes per request, which (based on tests I just ran) helps keep r->pool from overflowing its initial 8KB allocation and having to alloc another 8KB block.
fc787e8 oh well.. there goes the logging directive
9b4fcec mention a fix that brianp committed last night
b1fe474 Brian's fix looks good!
bcfa8db Removed the creation of a temporary pool in the expression parsing code.  Now that the code no longer allocs huge buffers (based on the last commit), there's no need to incur the overhead of creating a temporary pool just to clean up the storage quickly.  This saves a lot of space (because the temp pool used 8KB) and a small amount of processing time.
dd1a8d5 Allocate only as much data as we need to hold token values in the "<!--#if" processing code, rather always allocating an 8KB structure
d5dbe60 Clear the output socket descriptor in unixd_accept() to make sure we don't supply a bogus socket to the caller if the accept fails. (This was causing problems in the worker MPM, which tried to process the returned socket if it was non-NULL, even if unixd_accept() returned an error.)
c42eed1 Move a check for an empty brigade to the start of core input filter to avoid segfaults.
030625a Added the NetWare def files for mod_cache and mod_mem_cache
84b8023 Added experimental modules mod_cache and mod_mem_cache to the project
057bd29 Combination of blocking and nonblocking accept loop
0d1a460 	Bring forward the FileETag directive enhancement from 1.3.23-dev. 	(Passes all 61 of the apache/etags.t test.)  Bump MMN due to 	change to core_dir_config structure (new fields at end).
d4b00b3 Document future binary compatibility problem.
611de28 let's play "name that pool"
d78de7d Fix a segfault in mod_rewrite's logging code caused by passing the wrong config to ap_get_remote_host().
eb4ec0c Allow mod_cgid to work from a binary distribution install by using 755 for the permissions on the log directory instead of 750.
058e360 add back in the out-of-descriptor segfault for now...
913291f This brings apache back in line with apr following the addition of apr_file_dup2.
9d52c94   Note some things that belonged here ... mentioned on list
6f2b985 Updated STATUS to cover the worker segfault fixes
e2d9d72 Fix for a segfault in the worker MPM during graceful shutdown: The per-transaction pools in the worker MPM can't be children of the listener thread's pool, because that pool may go out of scope while some workers are still procesing requests using the transaction pools.
38efc7e   A pedantic change to prevent us from discovering, in the future, that   these support/ modules suddenly rely upon some of our apr/aprutil   features, by finding the build broken one morning.
d4ccda3   Some servername goodness (well, if you call 'localhost' good, I don't.)   Add to that some nits in the overall comments, and drop all the bitty   copy modules/somemod/*.h include/ fooness, since we need the various   modules to deposit their droppings into the build tree install/ dir   just to compile ourselves.
ffeb2bb   The mutex must be pool-managed, not ssl managed.  We are encountering   segfaults on Win32 when the cleanup of the mutex occurs after the pool   was destroyed.
c67ca67 mention a couple of segfaults with worker
c5cadfe Remove the link to mbox.apachelabs.org.  (Amazingly, that link worked.) But, we cite everything via the Message-ID to be archive-neutral. (FWIW, www.apachelabs.org has a feature to search on Message-ID.)
11a342d set a default port. configurable via INSTPORT
9296dc4   Once again, try to bring the world into sync.  Someday soon, we need to   generate this and Netware's from -std using awk.  It really would make   more sense to strip out the appropriate directives as we build, instead   of 'toggling' the mpm with <IfModule > (at least, as an option during   build.)  But that requires an un-nested syntax such as   <IfModule module module> or <IfNotModule module module> that would be   simpler to parse in awk.  Our nested IfModules make this quite tricky.   The better final solution is possibly to add things like HAS_SCOREBOARD   to the 'build-in' defines, therefore assuring a simple test for any   mpm architecture.
72fbc02 Remove defunct spmt_os2 MPM, superceded by mpmt_os2.
5e35f19 Get OS/2 MPM working again after last scoreboard changes.
4b08741   Ok one typo... that's it for me for one evening
30d1548   Fix a handful of AP_MODULE_DECLARE_DATA exports for .so modules.
aff1454   *) Split all Win32 modules [excluding the core components mod_core,      mod_so, mod_win32 and the winnt mpm] into individual loadable      modules, so the administrator may individually disable the former      compiled-in modules by simply commenting out their LoadModule      directives.  [William Rowe]
e916ae4 Does Apache need a fast way to exclude log lines?
821fb2b   This needed bumping for all the scoreboard changes; consider it bumped.
c53456b  mod_ssl adjustments to help with using toolkits other than OpenSSL:   Use SSL functions/macros instead of directly dereferencing SSL   structures wherever possible.   Add type-casts for the cases where functions return a generic pointer.   Add $SSL/include to configure search path. PR: Obtained from: Submitted by:	Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:	dougm
71de760 wrowe's veto'd this.
cabc07d   Best to use -no- file extension here, since that always pops up the   'open with' dialog in MS Explorer, preventing the user from really   mucking anything up.
58c3bb2   VC 5.0 is too picky for my taste - didn't pick up the target due to   the silly slash.
7dc5de2   Change the name of the _tryssl to an underbar prefix so we know it is   an 'internal' thing, and try building explicit targets to avoid ever   dragging in .bsc construction.
73430e9   Fixing the apr_shm_ and apr_rmm_ args back to a warning state was good.   Enabling APR_HAS_SHARED_MEMORY again in the previous patch was bad.
3e9c7da oops. forgot this file PR: Obtained from: Submitted by: Reviewed by:
23360cd new option LogExcludeByType main use is so that you can ignore logging images PR: Obtained from: Submitted by: Reviewed by:
7e1113f   This patch eliminated from the _SHARED_ segment of the scoreboard all   pointer math.  This is required for portable scoreboards.
67a17fa get SSLRandomSeed exec: working by passing the proper arguments to apr_proc_create()
9236e4b call ssl_mutex_kill() during module cleanup
7712c61 get SSLPassPhraseDialog exec: working by passing the proper arguments to apr_proc_create() PR: Obtained from: Submitted by: Reviewed by:
349cffc   Consistency
b93d482 Welcome to 2.0.31
510a668 About to tag 2.0.30
1b0bde4 Updated the build documentation for NetWare to match the current build process
d5a61dc Changed the project file to use the NDK (NovellNDK) environment variable to locate the LibC SDK headers and libraries.  Also added the Mod_Rewrite and Mod_Auth_DBM targets to the main build project.
f5cfd12 Fixed the export list generation for NetWare to make sure that only real APIs are being exported
54c2faa Added a stub for ap_os_create_privileged_process() for NetWare
3356d10 Code updates to allow Mod_Rewrite and Mod_Auth_DBM to build on NetWare Submitted by: G�nter Knauf <gk@gknw.de>
44d3961 Added the #ifdef's to the prototypes to match the corresponding source code
bee20f4 Restore the apr_pool_clear calls to main.c in case we have third-parties who are overriding the open_logs hook, in which case they'd miss the plog being cleared.
5ed99ed Update the FreeBSD saga...
c229fe7 This small patch modifies the log's to use plog instead of pconf. Basically pconf is cleared at different times from plog, and this has the effect of leaving stderr closed when going into the next stage of the config. This also had the effect of allowing FreeBSD with threads to create a pipe with stderr's fd at one end, and this resulted in problems with the signal polling and high cpu usage.
a14a4f5 Add the ability to pass flags to both apr_file_open and apr_mktemp. The reason for this, is that it is very possible to want a temp file that isn't deleted when the file is closed. It also makes sense to have the flags in the apr_file_t if possible.
c3434c5 Cold and dark here...
e312a3c Fix how mod_dav examines methods in the request -- use the method number from the request. To do this, we also need to register all of the new/custom methods that mod_dav recognizes.
42be8ca Stylistic nitpicking before I go to work on this.
a7dee62 fix a typo in an error message
0bcf3c7 Reflect actual filename in .var file
91a529b - We just check for "pthread" in mpm_common.c not "proc_pthread"   (like in Apache 1.3). - Fix name tag for AcceptMutex.
520de25 The -L and -R flags are linker flags not libraries.  We need to add them to the correct variable (LDFLAGS) so we can fix 'em up later on.
3b76538 Rearranged the log_request_time() code to eliminate the allocation of an 8KB buffer on the stack when not using a custom time format
68538b7 need to use $(top_srcdir) when installing build/instdso.sh else make install does not work when when configured with a --srcdir PR: Obtained from: Submitted by: Reviewed by:
8894b83 Bypass a strdup and an 8KB local variable in the common case where the logger is using the default time format
fb74861 Cleaned up a couple of ap_ssi_parse_string calls that I missed in the last commit
c4e9b1f Eliminated various large (8KB) string buffers from the stack in mod_include by adding support for a power-of-two pool-based allocator in ap_ssi_parse_string(). (The default operation of this function is backward-compatible, to support the other modules that call it.) This change should help reduce memory usage for servers delivering shtml pages.
1a24d5b This issue has turned into a FAQ.
7aa1c43 Fix a typo in mod_deflate's m4 config section.
bdee796 Note this for the record.  I have no idea if/when I'll have the time to implement this.
f963cb1 Reworked the accept() loop to avoid an extra call to select() just to determine if there is work to do.  Made the calls to accept() non-blocking.
5a9b5aa Changed to 4 byte packing
9757a23 for proxy CONNECT handling:
59c3015 cache now can cache things for minutes. add remove_entity function to type on mem_cache (so we can remove items from the cache) PR: Obtained from: Submitted by: Reviewed by:
cc2ea83 2.0.29 isn't going to be rolled.
361e9a8 split mem_cache out of mod_cache (ala mod_proxy & proxy_http) PR: Obtained from: Submitted by: Reviewed by:
10406b4 Fix a couple of mod_proxy problems forwarding HTTP connections:
816e371 Keep my comments to myself.
64a3040 get the declarations for strncasecmp() on AIX
dd4b6e7 Use ap_getline() in favor of ap_proxy_string_read() in ap_proxy_http_process_response().
5955052 Fix seg fault in HTTP_IN when trying to handle the LimitRequestBody directive when reading a proxy response. We should bypass LimitRequestBody activities when handling a response from the proxied server.
63c49bf Fix the module identifier as shown in the docs for some modules.
e3dc6d7 You know, I got an A in my "Principles of Operating Systems" class last quarter.  Ain't worth a cent now.
1d15bca OS/2: Allow but ignore unix config directives so the default config files don't have to be munged further.
7e5bb49 MMN = Things that go bump in the night. (limit_req_body is now an apr_off_t)
fe065c4 Making sure that the global variables have been initialized to avoid linker problems at least on NetWare Submitted by: Pavel Novy
5de0159   Merge a singular path for dir_walk to parse, if we have an r->filename   which is an APR_DIR, and path_info contents.  Also, al la Mr. Pane,   optimize our canonical_filename by simply noting the length of the   identity match, and refresh canonical_filename when we are finished.
e88faed   Eliminate a duplicate absolute path test, and NEVER serve a request   for an APR_DIR file from the cache when we have path_info, it is a   contradition (APR_DIR always forces dir_walk to gather the next segment   from path_info, even if it is APR_NOFILE, until we have no path_info.)
196f4ed Threads on FreeBSD are not my friend.
55954a1 Change the return code from APR_TIMEUP to APR_ECONNABORTED, which seems to be a bit more descriptive. Move the check to inside the inner while() loop and add an additional check for eos. If we get an EOS bucket, there is no point in going further. Hopefully this will fix the last seg fault in the function.
1d3ec48 showstoppers--;
0fd28cf Add note about worker MPM weirdness observed on FreeBSD and Cygwin. Does anyone else see this?
72c33f4 showstoppers--;
8c16aee Fix LimitRequestBody directive by moving the relevant code from ap_*_client_block to ap_http_filter (aka HTTP_IN).  This is the only appropriate place for limit checking to occur (otherwise, chunked input is not correctly limited).
df91efd Remove a needless immortal bucket creation.  We can just leave the brigade as-is.
4d9b064 Generalized the recent prep_walk_cache optimizations to allow other modules to register "notes" within the array of working data in the core_request_config
d9fe304   Need a null language_priority array for an either/or choice in the   conf merge.  This does so.  The merges should be significantly quicker.
e4a31ac   Thanks Mr. Trawick, backtraces can be very enlightening.
161dfa9   Time to commit... before I get lost in the changes
bfa4490 Fix mod_proxy seg fault when the proxied server returns an HTTP/0.9 response or a bogus status line.
dbdc5a2 Prevent mod_proxy from truncating one character off the end of the status line returned from the proxied server. Note that buffer is NULL terminated by the call to ap_proxy_string_read() so there is no need to terminate it again.
826df1b Change the call to be blocking to eliminate a loop caused when the upstream host does not send any bytes back our way.
b9b1b1a Eliminate loop in ap_proxy_string_read(). Need to be able to handle getting an empty brigade from ap_get_brigade(). Also made sure that we always call ap_get_brigade() in readline mode.
199e486 Performance fix for prep_walk_cache():
5eba95e   Saw this bug several hours ago, but it slipped my mind.  We no longer   skip over the leading '/' character, since the token_re already strips   the / delimiters.
bba58f2   Return the correct $n result (assign the val, not the var!)
ca5a760   To provide more flexibility in handling quotes, allow the backtick quote   for SSI tag arguments (e.g. <!--#echo val=`foo` -->).  This helps with   arguments containing both single and double quotes.
26dc01e   We never test for success in memory allocation
453e7e7   Ever tried to extract some value of QUERY_STRING from within SSI?   Now you can :)  Provides $0..$9 results for any regex evaluation,   and strengthens the expr parser for regex expressions.
e5cacdc HostNameLookups -> HostnameLookups PR: Obtained from: Submitted by: Reviewed by:
fd11cf0 Remove ConnectionStatus directive.  No longer in code.
949a2c2 Rewriteguide typos.
31ce86d I really can't spell negotiation.
851c340 Now that we are releasing betas, we should have compatibility information in here.
23d52c7 Some new features updates.
7c31749 Add the missing SSI... directives to the main directive index.
ee246ee Cleanup the ForceLanguagePriority docs.
ba4174b Cleanup new directives in mod_include.
5201a20 A little cleanup on the AuthDBMType Directive.
2013bfb get rid of an unused variable
ac17c58 OS/2: Supply the configured libraries to the linker when building loadable modules. This allows things like mod_deflate to build (needs -lz).
5002be2 Update OS/2 MPM to allow for run-time configurable scoreboard size.
a329ff6 Make calc_scoreboard_size() and init_scoreboard() usable from MPMs.
10577e4 allow mod_include to handle different start/end tags instead of the default <!-- --> ones.
fb6b861 document SSIErrorMsg & SSITimeFmt directives
3104e28   Bad committer!  Well, fix everyone else's tabs while I'm in here.
faf908c   Gotta have an error doc to serve, even if it's not their favorite   language.
6cdca5f   New directive, new docs
cdeaee2   Introduce the ForceLanguagePriority options;
a4f324b Use r->content_type instead of r->handler to screen out non-html requests when doing the xbithack check (thanks to wrowe for the suggestion)
57b42f9 handle the disappearance of apr_lock_create_np() and apr_proc_mutex_create_np() and the new parameter to apr_lock_create() and apr_proc_mutex_create()
b3c43f2 Fix to make xbithack work again
1741233 Detabify some functions. No functional change.
2c44e1c tiny cleanup to remove bogus SCOREBOARD_SIZE define
1bb22bd   Improvements to docs [always good]
9d8903d   mpm_common.c did all this dirty work - cleans up a duplicate symbol error   from the OSX.1 build.
d633495 Add a missing hook run.
b3a8787   Close a real GP fault.  This is the _wrong_solution_, but stops the   segfaults against very odd RAND_seed errors given garbage in.
b04cdf1   Error feedback, PLEASE!
b5d34f1 roy requested an entry for the various ssl improvements from late november.
570b020 get rid of an unused variable
67a4ced   Improvements suggested by Brian Pane, first assure all OS's get to deal   with handler 'server-parsed', do the xbithack bit tests before testing   it's string values (protected against a null point).
f1633e0   Once again, if mod_dir will perform an internal redirect into a   RESPONSE BODY (as opposed to 'something else' of it's own generation)   it needs to make the caller aware of the results (e.g. an included   subrequest) so the caller can decide if the result is suited (e.g.   including text/html only, but refusing to include other binary results.)
c5c552c   Context mustn't be transformed in the insert_filters hook, it merely   provides a point to insert filters already determined.  We can't wait   for the insert_filters phase to 'redetermine' such things.
2dbdd30   Another example, wherein our example in code/conf doesn't match our   recommended practices
f2ec300   This otherwise ineffectual patch allows modules to perform internal   redirects of dirs into other resources, while still treating such a   resource as a dir, based on the original apr_dir_read results.
f6ad1ee   Fix the logo bitmap, since I missed this 'hand editing' the .rc file.
2af1860 make note of mod_cgid-suexec fix
b228a3b Fix a shadow variable.  (c is also declared to be the connection.)
9348edf Clean up the error checking a little. Make sure we're comparing against APR_SUCCESS instead of just non-zero. Add some new error checking/reporting.
c3229f5 Style changes only. No more tabs, other alignment and braces changes too.
130eaf6 Two fixes in one:
a27ed93 if (votes_to_remove_auth_db >= 3)   --showstoppers;
9822dd9 showstoppers--
652e5b1 change ap_unix_create_privileged_process() to allocate enough space in the newargs array to allow for a null terminator.  This allows suexec and mod_cgid to work together reliably.
470adc8 Style changes only. Lots of tab alignment issues, and added lots of extra {} blocks. I first ran it through M-x untabify, then went through the whole thing by hand, then compiled/tested it. This is a preemptive style-strike.
8a1532e Get rid of identifiers called 'stat' so we don't conflict with the libc 'stat' symbol.
0e12928 Just style changes. Really just 's/\t/    /' since the tabstop alignment was pretty good. Added a couple braces and spaces here and there.
be72416 Take advantage of the new usable apr_thread_exit().
05ea6a3 avoid some ugly sockaddr comparisons in do_double_reverse() by using apr_sockaddr_equal()
3c2ceb3 remove the tabs no justin, I didn't add them in the last commit ;)
ad90187 does anyone need/use ndbm? if so should we make it a apr_util_dbm DB type? PR: Obtained from: Submitted by: Reviewed by:
23e257f add a 'AuthDBMType' so that users can select what type of DBM they want to use to authenticate users. I think this removes a 'showstopper' (deprecating mod_auth_db)
cabbbaa Whoops, didn't mean to get rid of the whole line.
ab30b92 This old variable does not appear to be in use any longer.
16ffdd1 remove unneeded include
eb6c590 use a new APR function to perform socket address comparison so that we don't have to handle v4-mapped IPv6 addresses here
a92994f There's snow on the ground! It's cold.  It's windy. Must be Michigan!!
436ecd5 Related to Brian's commit to fix the XXX comments I'd added a while back. These lines were broken too, I just hadn't commented them.
860303d Fix matching of vhosts by ip address so we find IPv4 vhost address when target address is v4-mapped form of that address.
1ff593e Updated the release showstoppers list to include a couple of outstanding problems
2f4f8c5 Rearranged the code in mod_include's BNDM string-search function for faster execution.
0e863ab Added an update covering misc performance fixes in 2.0.30
684afd3 Removed a large (8KB) buffer from the stack in ap_invoke_handler()
5287c6e Fixed calculation of bucket lengths
af4e579 add a comment about the need to check for a host after returning from apr_parse_addr_port()
34dd639 Fixed a segfault that occurred during startup if a VirtualHost directive had a port but no address Reported by: Don Hughes <support@sannotes.org>
a9eff72 Add ap_os_killpg as well as unixd_killpg and beosd_killpg.
f3184c2 unixd.h is included in mpm.h so shouldn't need to be included here as well.
88b3128 This allows platforms without the _NP locking palaver to build the worker MPM.
cadc4d0 fix a horrible bug which caused scoreboard initialation to always exit
2e50f73 mention an ugly problem with scoreboard creation
873a027 The scoreboard is no longer created while we can write to stderr, so call ap_log_error() to note problems allocating the scoreboard.
18caba2 allow htdbm to work with multiple DBM types by using a new option '-T'
c2c7c28 First cut an an all inclusive LICENSE file. Please feel free to format it differently and add any missing components.
9a0f549 Fix link. Submitted by:	Stas Bekman <stas@stason.org>
0d45403 add ThreadLimit/ServerLimit to perchild
eac4cc7 Add a beosd_accept function.  If the worker MPM is used this is needed.
a547cce This fixes a segfault that showed up on BeOS and may catch other systems.
83a9907 The connection can be aborted in the preconnection hook. If that happens, there is no need to run the process_connection hook.
e1d2720 fix a nasty bug which periodically led to segfaults trying to access the scoreboard
98727a9   Resync a few documentation stanzas [all I have time for today], but   MOST SIGNIFICANTLY;
27ee306 SH_LDFLAGS wasn't getting evaluated properly when it included makefile variables
0a0332f ignore some generated files
d8768e7 get mod_disk_cache to compile
cd61627 On AIX, DSOs which reference external libraries need those libraries available to ld when the DSO is linked.
473bf5e   Clean up a compiler emit for signedness
50c4895 Pick up Brad Nicholes' old fix so that make_exports.awk can handle AP_HOOK invocations which span lines.
fe8b39c Fixed a bug in ap_rgetline() When an input line required more than one read, each subsequent block of data was copied on top of the previous one.  So if a request line got split into multiple packets, the data would be corrupted.  The new code uses a power-of-two allocator to expand the buffer and properly append the next block of data at the end of the previous one.
a8d6b1f Use aplibtool to install modules on OS/2 as it contains some required magic to handle DLL naming restrictions.
60af497 Add note to CHANGES about apr_sendfile fix in APR.  This will likly fix several bugs reported against Apache 2.0.28 on Windows 98
51fde24 get proxy-as-DSO to load on AIX by fixing up some of our symbol grokking
32339af fix the value of the _CEE_RUNOPTS envvar on OS/390
29bc14a Add some documentation on the ServerLimit and ThreadLimit directives.
0511d4f This gets perchild compiling and serving pages again.  It does NOT pass file descriptors yet.  That is a much bigger project.
57f5bf7 Remove an extra semi-colon. PR: Obtained from: Submitted by: Reviewed by:
dfaf893 for the netware MPM, move HARD_THREAD_LIMIT back to mpm_default.h where the other user-tunable compile-time parameters are
6f67fec Reworked the select/accept loop to try to rely less on select to determine if there is work to do.
df09d56 jump on the "add my name" bandwagon
7e0f4e4 Add directives to worker and preform MPMs so that the admin can set the equivalent of HARD_SERVER_LIMIT/HARD_THREAD_LIMIT at startup.
be6b7a0 might as well add my name PR: Obtained from: Submitted by: Reviewed by:
19c0393 Add a comment about the passoff logic.
05dcff3 Clean up some of these magic numbers in perchild. Still doesn't actually fix the build problems, but makes it more readable for me.
690aaf8 Been meaning to put this in here.
ec71dce Skip the setting of Last-Modified in the response header on requests or subrequests for which no response header will be generated (a performance improvement for mod_include)
eb22903 Win32: Fix bug that could cause CGI scripts with QUERY_STRINGS to fail.
0d09264 leaving the pipe-of-death in the ap_listeners list led to segfaults during sighup processing since the pipe-of-death listen_rec was allocated from a short-lived pool
c85d4a7 get proxy in sync with the update to ap_run_create_connection
3d34976 tag a few of the key httpd pools
ad93d0b Style and formatting changes only. Removed tabs, reduced long lines, aligned parameters, added braces around some single-statement basic blocks.
b7e1aa2 fix some references to the wrong constant (HARD_SERVER_LIMIT vs. HARD_THREAD_LIMIT)
187e9ae Change core code to allow an MPM to set hard thread/server limits at startup.
0ea28da Stop using HARD_SERVER_LIMIT/HARD_THREAD_LIMIT all over the place and instead use the mpm query function to retrieve those limits and use those dynamically-retrieved values when walking the scoreboard.
f725872 No point in linking the proxy objects with the submodules. However, proxy is not working on AIX since the rtl changes.
8672f1c Remove old kludge for AIX, since the rtl flags handles this nicely now.
a4b1e1f Showstoppers and something not to be forgotten..
600332d AIX: don't set LDR_CNTRL environment variable for 64-bit build
d7c3b80 Win32: The async AcceptEx() event should be autoreset upon successful completion of a wait (WaitForSingleObject). This eliminates a number of spurious setsockopt(SO_UPDATE_ACCEPT_CONTEXT) failed." messages.
1654d34   My typo - the least I can do is commit the patch to fix the   content-language, s/jp/ja/.
9d445c8 Replaced an instance of apr_pool_userdata_setn() with apr_pool_userdata_set().. the value of "userdata_key" is an address on the stack when compiled with gcc 2.95.3 on Solaris/Sparc, so storing the address directly in the hash table is unsafe.
5767efc cleaned up bucket types and removed the extraneous clearing of a buffer
7d3ffc3 Removed the comment suggesting the use of apr_table_overlap() in add_include_vars() (because I just tried it, and it made the function slower)
1f5c205 get binbuild to do the right thing with envvars (install/edit as appropriate)
f00fb8b some acts of stupidity are better left undescribed
8e73a78 handle the envvar file properly in install-bindist.sh
c2adeb5 mention an easy but important problem in case I forget about it
7dc8e9b Move any load library path environment variables out of apachectl and into a separate environment variable file which can be more easily tailored by the admin.  The environment variable file as built by Apache may have additional system- specific settings.  For example, on OS/390 we tailor the heap settings to allow lots of threads.
0bb8e72 Fixed the logic for detecting sentinel or EOS in send_parsed_content
4beabd7 Fix for segfault that happened upon reaching EOS in an intermediate SSI parsing state Submitted by:	Justin Erenkrantz
6c942d4 Detabify the chunk filter. No function change.
00d6402 Use the new APR pool code to reduce pool-related lock contention in the worker MPM. Submitted by:	Sander Striker Reviewed by:	Brian Pane
24960f2 Use the new pool API to eliminate pool locking in the prefork MPM
5648e43 Change the beos mpm to use the new pools creation call to try and improve performance a little.  Tidy up a comment.
6a6e3a2 take over DSO installation from libtool on all platforms, for both "make install" and "apxs -i"
3564acc Style change.  Convert tabs->spaces, shorten long lines, etc, etc, etc.
cf5e402   Move the insert_filter hook from the prepare request phase to the   invoke handler phase, since it can't fail, and contributes nothing   to the request 'character', but everything to it's invocation.
33eaba0   A style change for ken :)
fb488a6 include directories should be added to INCLUDES, not CPPFLAGS (like it was origintally)...  since AC_TRY_LINK() references CPPFLAGS but not INCLUDES, we'll add the zlib include directory to CPPFLAGS *temporarily*
cc38ee6   Master dictionary entry for the new directive
91afbba Fix links.
14b759d Update the AcceptPathInfo docs and add references from upgrading and mod_include docs.
a12371d   Whoops, that's quadstate, the value 3 is not-present.
97ff8a3   As suggested by Josh Slive, add the explicit 'default' to AcceptPathInfo.   I'll leave docs up to him.  The conf becomes a quadstate (undef != default)   but other than that, it should make things cleaner for the user.
a33f617   A little loopy commit.  Refer mod_cgid users to the mod_cgi docs for   extra info, document the AcceptPathInfo impact in the PATH_INFO comments   of mod_cgi, and document it's configuration in core.
7f3e5a3   Ya know, the language here wasn't all that explicit.  We are testing for   content-type text/html, so we better spell that out up front.
e844f59   Not really an XXX here
67c3d93   Apply the converse of the AcceptPathInfo patch for isapi's/cgi's.   The default behavior remains, accept PATH_INFO, but it may be expressly   revoked with AcceptPathInfo Off
0a02d0a   Address a signedness warning.  No cleaner solutions here.
f4cf541   While contemplating a cast to (char) for the c arg to trie_node_link,   I decided it's more plesant to let the cpu not to think so hard (no   wasted space, the c member will by word aligned anyways.)
6ca3e75   If dconf->accept_path_info is tristate, why not r->used_path_info?   This patch allows us to force path_info off in mod_cgi[d] etc, patch   forthcoming.  It also allows includes, php, etc to change the undefined   value in the early handler or late fixup phases to Accept'ed.
b9551a1   Jeff's guess, right on.  [Thought I committed it all... gotta grab a   clean parallel tree, all my parallel trees are dirty again.]
06cf109 hack up core_dir_config so that server/core.c compiles again
f40331c Modified for clarity.
eb97d00   Now all should be well.  AcceptPathInfo on will give us a document with   path_info served from the core handler.  Any filters can then manipulate   all the usual CGI envvars [as proven with this little excerpt with a   <!--#printenv --> document...
a36725c Rolled back w3c tidy diffs that corrupted japanese translations.
2c70a18   Give the request_rec some information about path_info allowance.   If some unnamed filter will consume the path_info, it may set up   used_path_info to a non-zero value, and core.c will consume the   request with path_info.
4c3f52c   Kill some redundancy (why test PUT when we disallow all but GET/POST?)   and add some thoughts.
c9e7a80   . unwind MORE redundant code [wasn't I just here six months ago???]
d68c812   Periods aren't commas.  Clear out some inappropriate casts while   we are at it.
638854b   Whatever this was doing, it looks most unholy.
b491e30 Fix a bug in how we select the IP for the POD to connect to for dummy connects (dislodging a doomed child from the accept mutex). No longer do we assume that the child is listening to 127.0.0.1, but instead we just pick the first hostname/port from the listen rec.
6f730a1 change Apache/apr/apr-util to use run-time linking on AIX
f182bdc Oh, FreeBSD, you don't like having multiple children, do you?
8ec9037 Merged NetWare into the standard conf file
e813d9e Excluding macros from the export list output
cab5223 Clean up GNU compiler issues on NetWare Submitted by: Pavel Novy
c3dac7c revert back to using a "links" downloaded version of our FAQ with an up-to-date URL.  The FAQ included in httpd-2_0_28 isn't very pretty because it wasn't parsed by mod_include as part of the roll script. Add a comment explaining why this is necessary.
d8fa8fb Fixed a few typos. Fixed some HTML tags (case, href/name/id) Added a mention of multiple 'arguments' to allow/deny, and an example. This should probably be more explicit, but I'm not sure of the details (should we show with leading/trailing periods, and explain that IPs are assumed to be the left side, but hostnames are assumed to be the right side?). PR: Obtained from: Submitted by: Reviewed by:
36f24fc Another fix for VPATH builds.
7427ca6 get worker MPM to respect the LockFile setting
65538c2 fix a problem with graceful restart.  If you look at daedalus early in the morning, you will usually see lots ( >50 ) of old generation processes happily serving requests with yesterday's config.  Late in the afternoon, they are usually gone due to MaxRequestsPerChild and perform_idle_server_maintenance.
e503691 get rid of an ancient requirement that APACHE_XLATE be defined; get rid of an ancient work-around for a problem with apr_heap_create
e5214bd Style reformat.  Tabs->spaces, etc, etc, etc.
56fcba7 Reduce magic levels.
718971f Add -I for the zlib include dir to the right flag variable
8a9f51e Update wording of the error README file.
5a0d6b9 Move file to 'error' directory as the directory is no longer a subdirectory of docroot.
c8486b6 Fix wrong german text about proxy(?). Add more native texts for variants where we send REDIRECT_ERROR_NOTES.
213cb22 clean up some signed/unsigned discrepancies, hopefully with the absolute minimum of casting; it wouldn't compile with AIX xlc otherwise (experience says that Tru64 and HP-UX native compilers would be extremely unhappy too, though I didn't try yet)
8434421 Switched from heap bucket to pool bucket for SSI echo directive
3e75e8b [indentation fixes only]
dc85b14 Reduced the number of times that we scan through each string looking for invalid characters in analyze_ct()
0f469a6 Fix segfault when restarting worker MPM.  We can not examine the POD as a normal listener.
819aaf0 Clean up style (tabs->spaces, etc, etc, etc.).
a9b9a36   AFAICT - these symbols are unused.
a014738 Here's another one: IPv6. How does it work?  I don't see any docs.
c4c17cc Again, someone really needs to update the mod_proxy docs.
485a7c5 status update... we definitely need some input from dev@httpd on things like mod_proxy, worker mpm, etc.
229c530 Provide an accessor function for the global_score portion of the scoreboard.
a880503 make sure mod_foo.so is installed by apxs -i
889ecbb Export ap_get_parent_scoreboard and ap_get_servers_scoreboard to be usable on Win32 and friends.
8226cca Fix bug that could potentially prevent perchild from working with more than one vhost/uid.
f9df20e One thing I learned from the worker MPM was that the style changes need to come first, lest they never be applied.
2ffbfd2 Wow, it just got really windy outside, and warm!
a519d09 Any release that goes out that doesn't have this fixed is getting vetoed by me as anything other than alpha.
210d01f Do special install processing for Apache DSO modules on HP-UX, Tru64, and AIX so that we get mod_foo.so installed instead of the stuff that libtool installed.
f967c4f change binbuild.sh to use --enable-mods-shared=most.  This adds 13 modules to the build.
7ebbdd0 Added a string "class" to the Apache 3.0 wishlist
535572f Add a note about terminating the server. PR: Obtained from: Submitted by: Reviewed by:
1055d40 People are asking for this..
226d166 fix a const-ness problem caused by calling the wrong strchr()
47a5184 Removed one more strdup in the content-type processing
ad405f1 Optimized away some string scans and copies in analyze_ct()
ccea935 updated some comments to accurately reflect the current code
a262e40 optimization: replaced an apr_pstrndup call with apr_pstrmemdup
37e646f When checking for "file" or "virtual" as an argument to "<!--#", check for "virtual" first.  That's the more likely case (assuming that people follow the recommendation in the mod_include documentation that "virtual" be used in preference to "file"), so by checking for "virtual" first we can short-circuit out of the conditional after one strcmp instead of two.
c98d16f Small performance fix: delay variable initialization in ap_meets_conditions() until after the point where we short-circuit out of the function on subrequests
1cf0393 don't lose the const-ness of the string being searched
a14848d Replaced ap_strcmp_match call that checked for a '/' in the handler name with the equivalent (but less heavyweight) strchr call
1fe8adf Get rid of some needless index.html's.
7edd8f5 Update SSI docs to use AddOutputFilter in place of SetOutputFilter.
993b5b4 Fix a typo.
8d7cbbe Remove some comments from the errordocument and browsermatch sections. I like short config files.
b03f3c4 Config file updates.  Mostly just playing with comments, but a few functional changes:
dd1f7ea separate logic specific to building Apache DSOs from logic needed when anybody's DSOs should be built (e.g., via apxs) so that on a few platforms with special issues third-party modules can be loaded as long as mod_so is built into httpd
aeda146 mutli-dbm patch should remove on of the showstoppers soon
c48c7ce Add directory and .htaccess context in mod_env directives. PR: 8939 Submitted by:	Vladimir Terziev <vlady@rila.bg>
3c95dec Bad link. Submitted by:	Ryan.King@databuilt.com
638228a hmmm... gcc 2.95.2 on AIX says sizeof is long...  fix up a printf to always have a match between the format string and argument
dc9823d if compilation is doomed due to lack of thread support, fail the compile with a nicer message
24a9c7c Bill speaks.
2a9c4c5 mention an unfortunate issue with make_exports.awk
0006fb7 Allow apxs to be used to build DSOs on AIX without requiring the user to hard-code the list of import files.  (This should help on OS/390 and BeOS as well.)
a88efbd Fixed check for buffer overrun in ap_rgetline()
83c1a87 tweak httpd -V output to show the architecture (bits in a pointer) and whether or not APR_HAS_SENDFILE is defined
8d874f5 get the declaration for strcasecmp()/strncasecmp() on AIX
6496d29 get prototype for strcasecmp() on AIX
4dbe79c   Resolved segfault in mod_isapi when configuring with ISAPICacheFile.
71b2c6f Add a sitemap.
8d4ef32 get binbuild working when apr, apr-util, and expat are built shared in directories that are not well known to the loader.
f7a4051 Change a comment. This change was made to 2.0.29-dev. 2.0.28 had already gone out the door when this change was made.
ed6f86a Handle the ? option.
583f143 get rid of an unused variable
b86b5de Fix prototype for post_config hook
3c3b5e3 Fix a typo (?) One compile error down, several to go.
d1c7050 Optimization for ap_getparents: skip past all the leading characters of the path that aren't '.' rather than copying those bytes onto themselves
8dbc175 [No code changes here, just adding the cvs comment that I messed up in the previous commit] Added a version of ap_getline() that allocs a buffer from the request's pool, rather than copying into a caller-supplied buffer.  (This lets us eliminate one copy operation on the request headers.)
cf8cbe7 Added a version of ap_getline() that allocs a buffer from the request's pool, rather than copying into a caller-supplied buffer.  (This lets us eliminate one copy operation on the request headers.)
4a8c3b4 include/http_protocol.h
aab420f Optimization: replace apr_pstrndup() with apr_pstrmemdup() in ap_escape_html() to eliminate a redundant scan through the string.
de43f42 Added code to ap_ssi_get_tag_and_value() to avoid converting SSI tags to lowercase when they're already lowercase (in my experience, this special case happens often enough to be worth optimizing)
78e6faa Added faster logic for decodehtml to handle the special case where the string being decoded doesn't have any ampersands in it (e.g., because it's the value for an 'include virtual=...')
dc86366 Exclude the terminating null byte from the length of strings passed to apr_hash_get/apr_hash_set (this matches the convention used throughout the rest of the httpd, and it saves a small amount of processing)
38eb105 Optimization: changed some apr_pstrndup calls to apr_pstrmemdup
33396a8 Reduced the number of strlen operations in ap_getword()
aea03cb Modified ap_make_full_path to minimize the number of strlen operations
3165fd3   Correct case comparison typematch
b5e6cc0 Get shared builds of libapr and libaprutil, as well as Apache DSOs, working on AIX.
8e33ec1 Fix the handling of SSI directives in which the ">" of the terminating "-->" is the last byte in a file (previously, the output of the directive was lost in this case).
9e73580 fix mod_actions.exp, which got broken when we sanitized the names of the module structures
0fe254c add some new .exp files for AIX so these modules can be built as DSOs
85d74d3 fix a couple of .exp files that broke when we sanitized the names of the module structures
70d0309 remove churn_output() function and calls to it. when SSL needs to flush (e.g. during SSL_accept()) it will call BIO_flush() which will trigger a call to bio_bucket_ctrl() -> BIO_bucket_flush(). so we only need to flush the output ourselves if we receive an EOS or FLUSH bucket.
b7f2654 use our standard declaration macro for the AP_DEBUG flavors of ap_strchr(), ap_strchr_c(), et al so that for an AP_DEBUG build of Apache those functions will be listed in httpd.exp...  otherwise, AIX DSO modules also compiled with AP_DEBUG won't be able to resolve those symbols since httpd isn't exporting them
6d4fd48 fix a potential thread safety issue in mod_mime_magic (but to be honest I have no idea whether or not this path is ever used... it seems quite bizarre)
033b401 Sync'ed the NetWare export AWK script to the Unix script
0b71b9d export file for mod_cgid...
72a5a2a Got rid of an annoying uninitialized variable compiler warning
d826a37 Switched to a NetWare version of APU.h
5c3b351 copy the lib/ directory when installing a binary.
cc84327   Ensure we include path_info in ap_internal_fast_redirect() for multiview   mapping.  This isn't the end of these bugs, only one puzzle piece.
f320eab   Ingorance is bliss
7995704 Only let the "suEXEC enabled" message be printed once, even when we have a DSO that goes through the load-unload-load cycle.
6b5df3c Add back in the "suEXEC mechanism enabled (wrapper: /path/to/suexec)" message that we had back in apache-1.3 and is still scattered throughout our docs.
6084f22 r->headers_in is shared by original requests and components (make no sense copy them for components), but each component has its own r->pool. So once the first component set "Max-Forwards", it is in headers_in but the value could get lost with the first component's r->pool. Hence I sometimes see "Max-Forwards" has value like letter "l". Change it to use apr_table_set() fixed the problem.
90a8cc2 install our manual in the new location
d44a139 "totalcon / requests" is no longer double either, so %5e doesn't fly
259c861   Finish undoing that last patch... previous commit simply cleaned it up,   I was working with an unsaved verison when I pushed the button.
4e29aa9 get rid of warning introduced by previous patch
df539ed   Revert my last patch to detect a 'leftover' arg.  Apparently there is   no way to distinguish between an extra arg, and a -x foo arg, or else   our getopt is broken at the moment.
aabc6ac   I don't believe it.  This actually fixes the rest of the type mismatches.
0f6e70e   We never tested for invalid 'additional' arguments that were ignored.   Was there any point to allowing additional, unused args after the   various supported switches?
d06327e the client cert X509_NAME_oneline() is only used if SSLFakeBasicAuth is happening.  so avoid calling that unless needed and just stash a pointer to the client cert for the boolean checks that the client provided a cert. PR: Obtained from: Submitted by: Reviewed by:
398bb6b   Prevent Apache from continuing to start when it's encountered a parsing   error in the Win32 mpm's argv[] review.
6dd4b15 avoid a call to X509_NAME_oneline() and ASN1_INTEGER_get() in ssl_callback_SSLVerify_CRL() unless SSLLogLevel >= info, otherwise the expense is unused. PR: Obtained from: Submitted by: Reviewed by:
6259b77 get rid of ssl_log_applies() function.  it does more than we need and what should be done with a macro.  it was only used once anyhow. PR: Obtained from: Submitted by: Reviewed by:
a2daa5a ssl_callback_SSLVerify() was calling (the expensive) X509_NAME_oneline() function and free() of the return value twice each, for logging regardless of SSLLogLevel.  changed to happen only if SSLLogLevel >= trace PR: Obtained from: Submitted by: Reviewed by:
2797fd1 fix for last change that removed ssl_util_getmodconfig(): go back to using s->process->pool userdata, but just to store the global module config during startup so we only create _one_ SSLModConfigRec. (didn't realize this function was called in both ssl_init_Module and ssl_config_server_create) PR: Obtained from: Submitted by: Reviewed by:
29ba8b4 ssl_util_getmodconfig() and ssl_util_getmodconfig_ssl() show up high in the gprof profile.  there's no need for the "global" SSLModConfigRec to live in the s->process->pool userdata table.  we now just point the SSLSrvConfigRec in each server_rec.module_config to the SSLModConfigRec so we can access it directly which is much faster. PR: Obtained from: Submitted by: Reviewed by:
1497bb6 SSL_rand() does a mutex lock/unlock with threaded MPMs, so collapse two calls that seed pid and time into one. PR: Obtained from: Submitted by: Reviewed by:
538110d move srand() call from ssl_rand_choosenum() to ssl_init_Child()
1c3ac88 call getpid() once at child init and save in the SSLModConfigRec to avoid getpid() calls at request time PR: Obtained from: Submitted by: Reviewed by:
bcb88ba carry over from 1.3: disable profiling in the parent process #ifdef GPROF PR: Obtained from: Submitted by: Reviewed by:
b38a27e Fix awkward grammar in some of mod_ssl's error messages.
4b090b1 begone, ugly echoed seds.  Use build/install-bindist.sh.in as a template to create install-bindist.sh
27cf16f new file for use with binbuild.sh
e1e621b make the proxy code spit out an error to the error log. This bit me when I included a 11th file no error message, nothing.
fa271cb deflate is in
3820ab1 It's webmaster, not Webmaster
4916aca get binbuild.sh working enough to create a binary which serves the It Works! page
2949fe5 Clarify a little how options work.
f134a7f Downgrade the input filtering from a showstopper.  No one seems interested in discussing OtherBill and my points at this time, so it can't be a bug in anyone's rear end.  As stated, the code works for the most part.
cf25a68 2.0.29 is tagged.
6286fb4 Code style changes mock us.
a1bcd24 Say what?
706c0cc calculate VHostID length at startup rather than request time. change ap_md5() call in ssl_hook_pre_connection() to ap_md5_binary() that uses the precalculated sc->nVHostID_length to avoid a strlen() call.
9c7cc50 avoid calling ssl_util_vhostid() (and apr_sprintf underneath) at request time by calling it at startup time and saving the value in the SSLSrvConfigRec. PR: Obtained from: Submitted by: Reviewed by:
5f4bccc replace strlen(cpVHostMD5) with MD5_DIGESTSIZE*2 in ssl_hook_pre_connection() since we know the string returned by ap_md5() will always be that length PR: Obtained from: Submitted by: Reviewed by:
8b6c2d5 use apr_pstrndup() instead of apr_pstrdup() to avoid a strlen call in ap_md5_binary, since we know the length of the string is always MD5_DIGESTSIZE * 2 PR: Obtained from: Submitted by: Reviewed by:
1c1f3fb remove unused ssl::handshake::timeout references (core handles all timeouts) PR: Obtained from: Submitted by: Reviewed by:
e11207a remove setting of ap::{http::method,default::port} r->notes. these notes are unused, they handled by hooks.
d649730 moving chunk of logic that deals with writing ssl data from ssl_io_filter_Output() to a new ssl_filter_write() function. this will make it easier to optimize how we deal with file buckets than cannot be mmaped. PR: Obtained from: Submitted by: Reviewed by:
1c0391b   Yea, sure a message is always good.  Note we can't log the exception.   Submitted by John Sterling <sterling@covalent.net>
d577f88 recognize the symbols generated by APR_POOL_DECLARE_ACCESSOR() so that exports.c and the .exp files have the necessary references
83c0b89 implement a custom BIO which allows us to hook SSL_write directly into an apr_bucket_brigade and use transient buckets with the SSL malloc-ed buffer, rather than copying into a mem BIO.
6f9865c welcome to .30
021edfe about to tag 29
b7f563b About to tag 29
4aeb823 Change the magic # as we have changed the conn_rec structure and have change the open_log and post_config hook function PR: Obtained from: Submitted by: Reviewed by:
48a1440 Added an entry for the core_output_filter buffering improvements
3eda1aa Another performance-related change to core_output_filter(): if we get a long stream of small buckets, so that multiple concatenation steps are required in a single pass through the brigade, re-use the buckets from the previous temp brigade when creating the next one. This allows us to avoid making yet another copy of the previously concatenated data.
8ac8cb4 Optimization for core_output_filter: if the iovec is full, don't try to concatenate buffers if we already have at least 8KB of data ready to send.  Instead, just split the brigade and send what's currently in the iovec.
485bc74   OK... we keep deferring these issues, it's time for a ROADMAP.
2931ae6   Changes by Mladen Turk <mturk@mappingsoft.com>, with dialog touchup by   myself [I can't stand misordered dialog interfaces ;], to allow the user   to connect and disconnect remote PCs into the ApacheMonitor.
e542fae include mod_charset_lite by default on an ebcdic system
6375576 More updates of user support info.
05cfb67 We must use absolute paths or we break VPATH builds.
c32bd92 The survey says yes, that is in fact the expected behavior.  :)
b87e1ea Correct closing tag for a href. Submitted by:	Jun Kuriyama <kuriyama@imgsrc.co.jp> Reviewed by:	Justin Erenkrantz
b4b99c0 change so that it doesn't rely on the structure of the apr_table's elt internal structure
179c025 very minor tweaks: . convert a comment to English . zap an unnecessary '.' from a log message . rearrange the setting of some variables controlling pipes and cmd-type   in the cgi process so that the differences in their values for ssi vs. cgi   can be more readily seen
eb4b1ea Another fix for the core_output_filter() code that concatenates small buckets: It's possible for the temporary brigade to contain more than one bucket.  If this happens, we need to recover the buckets after the first from the temporary brigade before destroying it.
df871d8 More fixes for core_input_filter()'s concatenation of small buckets: update last_e and nbytes after compacting the brigade
2b4ac49 Add a link to the new mailing list.
a18f8fe Fix for the code in core_output_filter() that concatenates small buckets into one big bucket...it was putting a pointer to a deleted bucket in the iovec, so the output was corrupted.
a3a4d03   Reports arrive that some awks are tripped up by an unquoted, unpaired   open curly brace.  This solves, seems to have to adverse affects on   other awks.
f4c07f4 Fix the installation target to make sure that the manual is installed in the correct location.
13f7e7c short-circuit out of xbithack_handler immediately if xbithack isn't enabled, and use strcmp instead of ap_strcmp_match for comparing against a non-wildcard pattern
5998b7f optimization: short-circuit out of the mod_actions handler if there are no actions defined in the config
2f38fa6 optimized away the sprintf calls in ap_make_etag()
38b27b0 optimize ap_add_common_vars() for the common case where r->subprocess_env is empty
758b54d don't bother setting the ssl info callback unless SSLLogLevel >= info PR: Obtained from: Submitted by: Reviewed by:
e674055 Fix the cmd command for mod_include.  When we are processing a cmd command, we do not want to use the r->filename to set the command name.  The command comes from the SSI tag.  To do this, I added a variable to the function that builds the command line in mod_cgi.  This allows the include_cmd function to specify the command line itself.
c7c6e87 change open_logs hook to return a value, allowing you to flag a error while opening logs
a8dd413 Fix post-config hook to return a int. I left the service start/stop/restart 'exits' in there, and changed the other ones to return HTTP_INTERNAL_SERVER_ERROR
b3cc106 fixed declaration mismatch for cgid_init() that was preventing compilation
4209647 Fix a bug in the core_output_filter.  If we are buffering, it helps to read from the correct bucket.
dc1c1a7 mod_ssl is big and bulky, takes awhile to load, sometimes must wait for entropy to be collected, and has a nasty little bug that prevents the server from being started in non-SSL mode. This patch corrects some of those problems, but is not intended as a workaround for the bug.
86b792b Modify post_config hook so that it can return a error, causing the server not to start. previous method was to call exit(1) which would not fail gracefully
0e00ed6 make doxygen stop complianing about some netware specific C calls PR: Obtained from: Submitted by: Reviewed by:
d99851e converted apr_pcalloc to apr_palloc for 15% reduction in run time of add_any_filter
1dffdc2 restructured the conditional logic in ap_merge_per_dir_configs() for faster execution
f2cd29a replaced the hash used in add_any_filter() with a trie for 2.5x speedup
2cb065d It's better to dup the apr_mmap_t when we first create it.  The result is the same, and it saves us a call to apr_mmap_dup() per request.
077ac3e optimized away a strlen call in alias_matches()
db91d6c added inlined string concatenation to form_header_field() for speed
3de3e34 minor performance fix for ap_add_common_vars(): replace printf with apr_itoa()
2e6f052 Mention the new --with-suexec-bin parameter.
3adc061 Allow SUEXEC_BIN to be defined by the configure script.
3d185ea Fix link.
eb82200 Just some style changes from when I was working on the recent suexec patch. No more tabs, intended alignment remains.
991b8d0 fix for a segfault that occurred when mod_include was used to deliver files shorter than 5 bytes
f6d3179 fix segv in worker MPM following check_pipe_of_death() call
040e30d dont va_start() in ssl_log() unless we are actually going to log something
03d6bfb avoid a couple of calls to ssl_util_vhostid() and apr_psprintf() unless loglevel >= SSL_LOG_INFO PR: Obtained from: Submitted by: Reviewed by:
451e81d optimize lookup of ssl-{unclean,accurate}-shutdown flags: - only look through the table once, rather than 2 apr_table_gets() - case-sensitive and use strcmp() as little as possible - only lookup once per-connection, as the flags will not change across   keepalive requests PR: Obtained from: Submitted by: Reviewed by:
a2965c7 two performance improvements: - switch from using r->notes to r->request_config - avoid a strcmp() when checking if val eq '!'
931bf95 return from ssl_callback_LogTracingState if sc->nLogLevel < SSL_LOG_INFO else there are 5 (expensive!) calls made to ssl_var_lookup on every request for info that will never be logged PR: Obtained from: Submitted by: Reviewed by:
a0f5632 macros for dumping the list of server_recs
750338b remove AP_CTX_* macros which are no longer used
a626a1a get rid of 'apctx' table that used to live in SSL_get_app_data2(ssl) change app_data2 to be the request_rec itself. if something needs per-request context in the future, it can use r->request_config
9dc6d34 move c->notes.ssl::verify::depth to SSLConnRec.verify_depth note: may actually be removed unless somebody can figure out why it is in there to begin with PR: Obtained from: Submitted by: Reviewed by:
5838049 get rid of SSL_get_app_data2_idx() which had a race condition when writing to app_data2_idx, and another inside OpenSSL when calling SSL_get_ex_new_index(). add SSL_init_app_data2_idx() to provide the same functionality but in a safe place: called during ssl_init_Module PR: Obtained from: Submitted by: Reviewed by:
38ee902 move c->notes.ssl::verify::{info,error} to SSLConnRec.verify_{info,error} PR: Obtained from: Submitted by: Reviewed by:
c43e861 Add mod_deflate (formerly known as mod_gz) to experimental.  mod_deflate supports gzip transfer-encoding as an output filter.
1ea11e5 remove test_pass_brigade; it lives in httpd-test not here
f055c63 comment out module test_pass_brigade as it doesn't exist
f4792b5 move c->notes.ssl::flag::{unclean,accurate}-shutdown to SSLConnRec.shutdown_type PR: Obtained from: Submitted by: Reviewed by:
d65e77c Bail out at configure time if an invalid MPM was specified.
aca4da4 Fix a bug in our output filter buffering.  If a lot of small brigades are sent, the core will send the first 16 buckets, regardless of how much data there is.  In the pathological case, this can cause a lot of 16 byte packets.  Now, if we see less than AP_MIN_BYTES, we combine all of the buckets into a single bucket to be sent in a later packet.
eb83cd7 This was done a while ago.
0405467 include the appropriate header files for ntohs and htons to prevent OS/390 build failures.
0e5e9c1 move c->notes.ssl::client::dn to SSLConnRec.client_dn PR: Obtained from: Submitted by: Reviewed by:
6a641aa start moving c->notes usage to a new SSLConnRec structure hanging off of c->conn_config PR: Obtained from: Submitted by: Reviewed by: rbb, madhu
f13fbba let mod_file_cache use the new apr_mmap_dup function Submitted by:	Brian Pane
fcd2d1b when this module's resolver calls were apr-ized recently we removed the include of specific system header files; this left the opportunity for htons() to be undefined...  do something explicit for htons() so we don't have to worry about what apr_network_io.h brings with it
d70af2b Fix the timeout logic that I broke last week.  This adds a request level filter that sets the timeout on the socket that is connected to the client.
8c931b9 Prevent segv in ap_note_basic_auth_failure() when no AuthName is configured PR: Obtained from: Submitted by:	John Sterling <sterling@covalent.net> Reviewed by:	dougm
eb519bf Gets us compiling again on FreeBSD. Adds conditional compilation around thread mutex routines for when we don't have APR_HAS_THREADS.
bbc39ab It compiles and looks good. I know not of a good way to test this, but nobody spoke up on the list, so I'm just going to commit it.
0acc68d No good reason to have this in <> instead of "". Having it in <> might interact badly with makefile dependency generators, too.
f88323a Win32: Move the call to fetch the network addresses into the accept loop and out of the worker threads. This makes it a bit easier to implement accept loop processing in modules outside the MPM.
9822212 apxs should be using sbindir not bindir for the path to the httpd binary.
4f4833b Win32: Clean up some error paths.
955af33 Win32 bug fix: Move call to setsockopt(SO_UPDATE_ACCEPT_CONTEXT) (to cause the accept socket to inherit the listener attributes) to after a connection has been accepted. This piece of code prior to this fix was just wrong; not sure why I never saw warning messages on NT or 2000.
854cfbc Get IPv6 vhosts working (again ?).
a2f3efb fix chdir_for_gprof() to s/dir/use_dir/ for chdir()
9810cee   Split Justin's and my key issues, which have become tangled (yet have   nothing to do with one another.)
1ab3132 optimized away some pointer arithmetic in the inner loop of the BNDM string-search function in mod_include
9ae4b67 2.0.28 was released.
effdfa2 optimized away some pointer arithmetic in the inner loop of the BNDM string-search function
4e3aa6d Fixed the AWK script so that it will pick up functions that have been declared on multiple lines such as create_connection in connection.h. Otherwise multi-line declared functions are omitted from the export list.
b034922 add input filter AP_MODE_INIT support to handshake before reading request data from the client. PR: Obtained from: Submitted by:	dougm Reviewed by:	wrowe
4b9c521 add new input filter mode AP_MODE_INIT: allows filters such as mod_ssl to initialize a client connection (ie handshake) before reading request data from the client. PR: Obtained from: Submitted by:   dougm Reviewed by:	wrowe
4c68475 Fixed the behavior of the XBitHack directive.
2abaffb use the old threaded.html contents for worker MPM docs (not carefully examined, but there isn't much there that could be wrong)
43ff2cf axe threaded MPM
c229289 Get rid of threaded MPM.  This commit has the actual code changes. The deletes come next.
d660c32 Changed a variable name to avoid a NetWare LibC global conflict. Submitted by: Pavel Novy [novy@feld.cvut.cz]
5938827   Historically consistent flag to shutdown the server [stop is supported,   but only more recently.]
0624378 Typo fixit
1b82809 APR-ize the resolver logic in mod_unique_id.  This fixes a bug in logging the error from a failed DNS lookup.
1d56510 Get rid of some cruft.  Setting these flag slots is best left to the core.
0b318ea Add extra If-XXX request headers to be ignored in subrequests Allow cache-control header to get passed to subrequests tabs -> spaces
4eab62c a couple of spelling corrections
4cf590f Don't need apr_pcalloc on any of these, since we explicitly initialize all data members anyway.
bd193e5 fix spelling
89b050e Don't know why these were missing... just an oversight, I'm guessing?
01c110e Fix spelling
4f1a151 change the signature of ap_custom_response() to use a "const char *" instead of a "char *".
b9ca9e6 should this file be used or the main httpd one?
0651b89 Only do keepalives (and keep state on the connection record) if this request is the top-level page.
a052762 ProxyPass wasn't sending the right URL through to the backend server
477e8bb make sure ap_process_child_status() always returns something
502a0a8 Get mod_cgid killed when a MPM exits due to a fatal error. Presumably other such processes are affected to.  Now we give main() a chance to clean up.
d4e0a91 Externalize the functions to manage the mpm's queue of completion_contexts. Now a module can produce to the queue of contexts that the worker threads consume from.
2010881 I'll yank that baby over the weekend if nobody pops up with a desire to keep it.
ff3a967 My two cents
7d9cd1c fix spelling mistake
7c6c724 Update the ack for PCRE
f155dd5 My 2pfennig. I'd like to see more of a technical reason why we should replace the tried and tested prefork MPM with the newfangled hybrid threaded/process worker MPM (of which I am one of the more recent contributors and evangelists).
f212519 note some opinions on the threaded MPM
67893a6 Have SSL docs now thanks to Ralf.
e343768 Conversion from old apr_lock_t to new apr_thread_mutex_t (only converting INTRAPROCESS locks at this time).
91cb82e Add some runtime configuration variable for the beos mpm.
67e2713 Update the beos MPM to have better naming and also allow for run time configuration.
c443151 Fix the SSL filter logic.  The SSL filter is not a network filter, because it does not actually do the reading and writing to the network.  By moving that filter to in between CONNECTION and NETWORK filters, we ensure that SSL is always called before the core.
a4f0062 Pull lingering close out of the pool cleanup phase.  This was causing too many bugs.  Instead, it is called where it used to be called.  I have abstracted some of the logic out of the lingering close so that it gets the socket from the connection using the core's conn_config vector.  This is in anticipation of a change to use a hook for the lingering close, which I hope to do soon.
51584e7 Style updates before I convert to the new lock type.
fe26873 mention an old problem (mod_cgid being left around after an aborted initialization) in slightly more general terms
c019be7 Fix a file descriptor leak in mod_include.  When we include a file, we use a sub-request, but we didn't destroy the sub-request immediately, instead we waited until the original request was done.  This patch closes the sub-request as soon as the data is done being generated.
137a02b FTYPE_CONTENT - 1 isn't enough for OLD_WRITE.  OLD_WRITE is a special filter, and it MUST run absolutely first.  To allow other filters a little space to manuver, I am moving this to FTYPE_CONTENT - 10.
c4cc72b Ignore *.slo files.
7ae4b08 Get rid of the listensocks array.  It was just duplicating the ap_listeners list.  No reason to have the same information stored twice.
62192c2 Added links to NetWare documentation
5971271 mpm_netware directive documentation
4f6a377 Apache for NetWare configuration and build documentation
d31fee2 Port the worker MPM to the new accept model.  This has passed every test in the test suite (except Limit tests).  We waste a bit of space with the listensocks array, which is the exact same as the ap_listeners list, but we have done that for a while.  I'll fix that soon.
5a49046 Quiet a compiler warning.
8a69783 Get the proxy module compiling again.  This is a hack to get past the current compiler errors.  Basically, the core now puts the socket in the conn_rec->conn_config vector.  The proxy grabs that socket and uses it where it used to use the client_socket field from the conn_rec. Long-term, all of the direct socket communication needs to be removed, and this should go through a filter stack.  Short-term, this gets the proxy working again.
a4cd98f Turns out this is causing problems on my linux box (libtool 1.3.5), so I'm going to remove it until I or someone else can come up with a better way to check for and link against libssl and libcrypto for mod_ssl.so.
520d150 Missing a header
22eea3f Fixed ap_listeners so that it will be included in the AWK generated export lists
e5336ed In my book this is a GA showstopper, but I'm volunteering here and I expect to have it done by the time we want to do a GA.
b77471f Convert mod_rewrite's INTRAPROCESS lock to the newly supported apr_thread_mutex_t type lock. Passes all rewrite.t tests.
3e59c43 Convert tabs to spaces, and a couple other style changes. No functional changes. I checked with the rewrite.t perl-framework test to make sure it still passes.
075a0a7 Fix location of KEYS file in docs.
c0302f1 KEYS do not belong here.  The only valid location for a KEYS file is on our site in a directory controlled by CVS: www.apache.org/dist/httpd/
790872b Move this to a HOOK_MIDDLE location.  We need to add some logic to make sure that we have a socket that the core controls if we do this, but it is more correct.
91aa604 Allow modules that add sockets to the ap_listeners list to define the function that should be used to accept on that socket.  Each MPM can define their own function to use for the accept function with the MPM_ACCEPT_FUNC macro.  This also abstracts out all of the Unix accept error handling logic, which has become out of synch across Unix MPMs.
949c9b9 Updated NetWare project file.  Now builds many of the external modules
6950812 Add the server_rec argument back to the create_connection hook. Submitted by:	Greg Stein
ccb09e1 don't use a variable named stat, it can cause problems on some platforms.
22b4676 Remove ap_new_connection from the header.  I missed this when I removed the function. Submitted by:   Brad Nicholes <BNICHOLES@novell.com>
8b8a8f2 Misc. cleanups and performance enhancements
3d76585 Back out my last patch.  The logic to add sockets to pollsets is back in the MPM
e304dcd Added the NetWare SSL module to the prebuilt module list
1a14c64 Module that takes advantage of the built-in SSL functionality on the NetWare OS
4cce66398 Fixed the LoadModule statements to fit the 8.3 and NLM extension requirement for NetWare
3d7df39 Whoops, wrong variable.
fb0bf97 I accidentally removed these lines.  Thank to Greg for catching this.
0caf1ce Fix a bug which would cause the response headers to be omitted when sending a negotiated ErrorDocument because the required filters were attached to the wrong request_rec.
a47ed57 This allows modules to add socket descriptors to the pollset.  I have only added this to the perfork MPM, and the others work without it. Tomorrow I will add it to the other MPMs.
5e6db4f I was originally just going to s/commans/commas/, and then I got carried away and rewrote half the paragraph.  <sigh>
24a8625 This section of tabs in the middle of space-only bugs me. Reformat this section.
aefc6b1 Remove commas from the end of the macros that define directives that are used by MPMs.  Previous to this patch, you would use these macros without commans, which was unlike any other directives. Now, after the macro, you must have a comma.  This makes the macros look more like the rest of the directives.
dc6c610 Document the new 'redirect-carefully' option.
f503777 Resolve the mod_dir overaggressive redirection problem seen with non-GET requests for WebFolders. Reviewed by:	Greg Stein
25b9d38 - 2.0.28 has been rolled. - Downgrade style changes to non-release showstopper.
61ebbf7 Add docs for the newest hook.
44baa03 Cleanup some code that was created during the abstration.  This basically takes the old ap_new_connection, and puts into the new core_create_conn function.  There is no good reason to have two functions to do this.
26444e2 Remove more network logic from the MPMs.  Essentially, each MPM can define AP_MPM_DISABLE_NAGLE_ACCEPTED_SOCK, which tells Apache to disable_nagle on the accepted socket.
0c05b62 Begin to abstract out the underlying transport layer. The first step is to remove the socket from the conn_rec, the server now lives in a context that is passed to the core's input and output filters. This forces us to be very careful when adding calls that use the socket directly, because the socket isn't available in most locations.
05c8ba5 fix segv triggered by recent ap_lingering_close change need to set SSLFilterRec.pssl = NULL when ssl_hook_CloseConnection is called otherwise, ap_lingering_close -> ap_flush_conn will call ssl_io_filter_Output which thinks it can still use the SSLFilterRec.pssl PR: Obtained from: Submitted by: Reviewed by:
d54f6fb   Drop the wide net observed by Ken Coar, since one .rc file does exist   in cvs (and should reside there.)
30d5af4 add a note about libtoo 1.4.2 for Mac OS X
2f2a6cd Fix some indenting. Change an error message to a warning.
eaf0b36 threaded: Fix the resetting of MaxClients when it isn't a multiple of the number of threads per process.
dd65699 Really reset the MaxClients value in worker when the configured value is not a multiple of the number of threads per child.  We said we did previously but we forgot to.
eba124c restore post-2_0_28 changes following tag bump
94b6bdf account for the mod_cgid fix being bumped into 2_0_28.  The other changes will be restored soon.
e79f552 Performance: Move the is_included strcmp to after the check to see if the request is to be served by the cgi handler.
7853b24 Remove a broken link. PR: 8743
7fc3e62 It's -> its (where appropriate)
f6fae5b Keep track of this so I don't forget. Not entirely sure how to go about doing this properly, but I'll figure it out unless someone else beats me to it.
d08f8fb Port Justin's mod_cgid change to mod_cgi.
468199a Remove the returned-length "w" parameter from apr_bucket_heap_create() and apr_bucket_heap_make().  It was useless, since the length is invariant from the length passed in and from the resulting bucket's b->length.  This takes care of a long-standing issue first brought up in February and discussed on the dev@apr list.  (Issue #2 from the "Bucket API Cleanup Issues" thread.)
2e3ee5a clean up some warnings on AIX
eea38d7 This patch changes the apr_table_elts macro so that it provides access to the internals of an apr_table_t via a const pointer instead of the current non-const pointer.
911ad32 This patch zero-fills just the integer and pointer fields in the structure, plus the first byte of each of the string buffers.
5ba96e6 I forgot about this vote (it started before I had a binding vote). Time to wrap this one up.
390b1b2 Note that we are on 2.0.29 now.
c87b109 apr_file_gets returns an apr_status_t not a char* and it returns APR_SUCCESS when it reads something (which is 0).
4dcff54 Add Debian Layout Submitted by:	Daniel Stone <daniel@sfarc.net> Reviewed by:	Justin Erenkrantz
fd7c169 minor tweaks to pass a parm of the right type to apr_poll() and to use i for an iterator in both listensocks[] loops
7e1daf6 in prefork, listensocks[0] doesn't have a pod
fc1bf0e Add example for AllAltByType, AddAltByEncoding
a2d10a0 Added examples for AddAlt
ccdd602 Added examples for Action directive.
5f6bd58 mod_ssl STATUS update.
8fec881 If shared modules are requested and mod_so is not available, produce a fatal config-time error.
4bded76 This should be the last complaint about the input filtering. Needs more eyes...
3ba2c48 I think it might be time to take action on this unless someone wants to -1. (Ian's vote is now binding...)
fec4177 Comment forthcoming to dev@httpd...
bb6175d 2.0.28 has been tagged. 2.0.27 was rolled, but abandoned due to C-L bug. 2.0.26 needs grammatical nit.
383606d Fix the Windows MPM.  Windows doesn't always use the lingering close function. If it can re-use the socket, we are better off not calling the function.  To fix this, we re-expose the lingering_close function, and we allow the MPM to remove the cleanup.
a0545d2 Improve http2env's performance by cutting the work it has to do.
e9571aa Fix a missing tag.
12770b8 Change note->environment variable and convert <pre> list to <table>.
13cf952 Remove ap_lingering_close from all of the MPMs. This is now done as a cleanup registered with the connection_pool.  I have also turned ap_lingering_close into a static function, because it is only used in connection.c.  This is the next step to consolidating all of the socket function calls.  ap_lingering_close will only be added if the core is dealing with a standard socket.
5c5730b display a warning message if someone attempts to load the same module twice
4280027 Move prefork to the same API as the rest of the MPMs for setting up listeners.
51861cf Remove LaTeX directives from core.html
96a8541 Alphabetized module names.
7a6a9c2 copy the faq from the correct directory
ab5d92e use the new 'apr_hash_merge' function to do the overlays. In our testing this resulting in a large performance win (>5%)
51c6b90   Stat, don't lstat the final target.  This means we may double-stat the   final target file if check for symlinks reveals it's an APR_LNK, but this   is preferable to the convoluted code required to 'reuse' the original stat.
026ed72   Reintroduce the 'one stat dir_walk', with singificantly more sensible   behavior than the old path_info logic.
7426a55 The BeOS MPM has been just beos for a while now, so update the MPM list to reflect that.
8038dc6 Fix constness compiler warning
cfbe3f2 Get the daemon code working again for User/Group on BeOS, but make them no-op's until we get multi-user for beos... (yeah, right)
236df42 Add back in the daemon commands so that User/Group are OK in the conf file.
e18c712 Reverse last nights commit - we'll deal with this another way!
1e16a0c advancing release numbers to 2.0.29-dev after tag
c0ec580 about to tag 2.0.28
0506ac2 Clean up the declarations and comments of some of the variables in ap_get_client_block. There were two len_read vars (each of different types), so the outer one was shadowed - move it to the correct scope. Move apr_bucket* old declaration inside of the loop so it is obvious what its scope is.
7f3dac3 Style guide conformance fixes (remove tabs, enforce {}s, no long lines, etc). This file has bugged me for ages.  Much better to do this now than later.
af307bc update the location of the FAQ, and a few other misc. changes
b12bfcf No functional changes, just style-guide ones..
c933f98 Port->ServerName hint
46d8ab3 Try to improve the wording
26b47d1 Fix erroneous description
ac0d5e6 Fixed previous patch to reflect what Apache-1.3 did regarding self- referential uri's, and updated the manual accordingly. XXX There is a kludge here: XXX the port number from the client's Host: header used to be tossed, and there is no clean mechanism to pass it (in the request_rec) to other consumers. As the unparsed_uri structure (which could avoid repeated parsing of URI, Host, Port etc) seems to be mostly unused currently, I used that to pass the port.
cd4e5d9 When no port is given in a "ServerName host" directive, the server_rec->port is now set to zero, not 80. That allows for run-time deduction of the correct server port (depending on SSL/plain, and depending also on the current setting of UseCanonicalName). This change makes redirections work, even with https:// connections. [Martin Kraemer]
606ca28 This doesn't feel quite right, but it doesn't cause any problems and stops an irritation about the standard conf file for BeOS which barfs if the User/Group is present.
2e24f06 Get rid of "You configured HTTPS(443) on the standard HTTP(80) port!" message.
78b3a01 Please do not mix spaces and tabs within the same blocks, and please do not arbitrarily and inconsistently wrap lines. I apologise ahead of time for mucking up the cvslog, but this needed to be done.
525ee8f Gets mod_ssl building/loading as a DSO on some platforms (like HPUX).
1e54585 Why can't babies wake up at 7am like normal people?
3a64998 add a new option '%{note-name}e' to headers. This will output the value of the note (subprocess_env) into a header field
eebcc1b Allow apachectl to support mod_ssl's <IfDefine SSL> tags which the group decided to keep.
6f53d48 Fix checks for FORBIDDEN directories vs. files
7951fa6   Reorder so InstallBin is the _default_ top level project, and add htdbm   to the dependencies of InstallBin
272e6e0 Insure that ap_get_client_block _always_ sets the length parm positive when calling ap_get_brigade.  This takes care of the loop with short request bodies seen on 2.0.27.
d331d2f Another fix: "directory" is considered female.
9cc36cd Fix typo (contributed by Daniel Stone <daniel@sfarc.net> for debian) Use entities for accented a' and e'
592b8ff Use entities
02c9ea4 Don't close the dbm until after we have copied the datum retrieved by the fetch into a local buffer.
cc91ff5   Add htdbm.c to the windows build - if someone on Unix could check that it   builds and add it to that build it would be appreciated.
4d8781b ap_getline() is useful to modules outside of the core.. change declaration from AP_CORE_DECLARE to AP_DECLARE so it can be used used outside the core PR: Obtained from: Submitted by: Reviewed by:
4421663 Fix the spelling of the AP_MPMQ_MIN_SPARE_DAEMONS and AP_MPMQ_MAX_REQUESTS_DAEMON macros.  Better to do it now rather than later.
331a356 A few missing MPM descriptions...
734fa11 Check the return code properly.
dbebac4   Thanks for the catch, Mr. Woolley, I left an out-of-place close paren.
b33cad2 Link in mod_ssl docs and add to the new features page.
013fbc0 Put the ssl docs in a format where they will be maintainable without Ralf's tools.  Mostly I've only touched the top and the bottom of each doc. I also got rid of the old cover page and the overview, since they seemed obsolete.
d101bfb   Eliminate 'library'+'executable' cruft.  Yes - this would be a dandy   library at some point in the future (perhaps 2.1?) but for this moment,   simplify.
976679a   Submitted by: Mladen Turk <mturk@mappingsoft.com>
0979604 Stop removing the test directories when rolling a build.
bfeb52b Convert the ssl reference chapter into an apache module doc.  I'm very sorry for wrecking Ralf's nice formating work, but I didn't see an alternative.
1d18799 I am just moving the reference chapter of the ssl docs into the modules directory to be the baseline.  The next commit will put it in the correct format.
becb75a These comments are pretty much useless now AFAICT.
f1c4524 Fix so that errordocument works when a error gets returned from the proxy. Problem was ErrorHandler thought it was in some kind of recursion and couldn't find the custom error document Obtained from: Jin Hong <jinh@cnet.com> Submitted by: Reviewed by:   Ian Holsman
241586b All done with initial SSL doc checkin
b2a2633 More SSL doc images.
ec0f2cf Check-in the ssl image files. Sure hope my windows cvs client really understands the -kb flag :-)
05cbf55 SSL Doc... Now the .wml files
e3fbbd9 Begin adding the SSL doc to the httpd-2.0 tree. Start with the html files.
507ac15 replace 2.0.28-dev info after bumping the tag to 2.0.27
0690fb5 temporary commit to reflect ssl-std.conf being bumped into 2.0.27.
439dcf6 This patch optimizes away some strlen and strcat calls in ap_directory_walk.  The strlen calls, in particular, had ranked as a top bottleneck in the usr-space code in recent performance profiling.
7b1e9ee Adjusted back to microseconds
a699aad restoring description of a post-2.0.27 change after bumping the tag.
2ad4a5b moving the description of this fix to 2.0.27.  I bumped the tag on that fix, and will do so on this file in a sec, then re-commit this file.
089f484 Forces suexec to be compiled statically. This is necessary since it is difficult and sometimes impossible to relocate executables that are both setuid and dependent on dynamically loaded libraries. (that is: setuid binaries ignore LD_* environment variables).
474e192 prevent loops & seg faults when GETs have chunked bodies.
6c79d30 fix eval of vars incase string has quotes example: CFLAGS = -DSUEXEC_BIN='"bin/suexec" PR: Obtained from: Submitted by: Reviewed by:
6c14efd Don't change the type of the new resource. The provider will update it when the copy/move takes place.
a208bee Added the secondary command line hander for manipulating a running instance of Apache from the console.
150ae46 Added the .xdc data file for building an MP enabled version of Apache on NetWare
af2d217 Added the .def files for building the external modules for NetWare.  Also added the NLM startup code for NLMs that require Winsock support.
60d882f Consolidated the APR imports to a single import file
cb53928 Added build targets for the external modules
0dacbad insure that we die quickly without looping etc. if somebody messes up *readbytes again.
bb2a524 More style-stuff.  A lot of this doesn't qualify as 'readable' even so.. :-(
957f5e4 Some style-guide fixes (nothing functional)
0a00a06   Fix a typo and URL.  [Gotta get this keyboard cleaned.]
2b4060c   Make this a bit more formal, as in httpd.conf.  Also should cite the   contributor, but only Ralf knows who all should be the primary citation,   if not simply "the modssl project".  I don't know if this conf is all   new material, significantly created by the modssl project, or if much   of it goes all the way back to ApacheSSL.  Rather that miss-attribute,   I'm leaving line one for someone else [Ralf?] to add, vis-a-vie the   citation in httpd-std.conf line 2.
9e59ae4 Since we are in a file that is only included with mod_ssl.c and there is no point in any of it if SSL is not defined, just wrap the whole thing in one IfDefine.
dd68355 whoops! can't use the return code to pass the length up the filter chain.
e864d37 change ap_getline to return the size of the buffer when there's no apparent end to an input line.  This is more like the 1.3 behavior which should help the callers recognize this condition.
d376d32 return the actual number of bytes read when we're in "read a line" mode and it looks like the line may never end.
11742b3 One down...
6ce6a5d Fix a big memory leak bug related to arbitrarily large header lines. The core input filter would happily consume all the data you gave it in a header line, looking for that one LF. This patch limits that "getline" functionality to HUGE_STRING_LEN (8192 bytes).
6cd6fda add my public key
3f9aebd   Introduce an Apache mod_ssl initial configuration template   (ssl.conf, generated from ssl-std.conf).  [Ralf S. Engelschall]
b156fbd Bad link.
58ba1c5 Typo fix. PR: 8556
39209b1 2.0.27 has been tagged. 2.0.26 has been discarded.
d033b75 Stick a comment into this file so it's clear that it's a placeholder and not just a zero-byte thingy.  :)
e36f054 bumping release number to 2.0.28-dev after tag
f2e7bb3 bump release number to 2.0.27
42ec651 Add key. PR: Obtained from: Submitted by: Reviewed by:
da57dc7 make sure that the HTTP_IN filter is in place across internal redirects.
d5fe728 Fix typos...
1948b78 Updated NetWare project file
fd5a940 NetWare MPM cleanup
8c61c4d Added NETWARE to the #ifdef list
49a703b Fix up exit() to make sure that things are cleaned up properly on error conditions
ceb086b Conf file cleanup
0f0c205 Mixed tabs and spaces within many nexted {}-less if-else expressions can be very difficult to read. No logic was changed.
bb9635c   Bring it up-to-date while I'm a'fixin
00cd0d0 Via: header truncation bugfix.
1087db6 Fix a truncation bug in how we print the port on the Via: header. The routine that prints the Via: header now takes a length for the port string.
da3ae75     Use the _setn flavor which will avoid strdup'ing these strings, and     skip the cleanups we don't need.
cf82dd7 get proto for atoi()
335e749 Fix some broken links, change to the simplest possible example, and add a couple notes to give hints to people running servers behind port-forwarding firewalls.
5988a24 make shared libraries executable so they work on HP-UX (I'm not sure that this logic for copying DSOs will survive in the libtool scheme; I'm putting this 1.3 fix in just in case.)
5e0e741 Some syntax errors in mod_mime_magic's magic file can result in a 500 error.  Log the error so that it isn't so darn mysterious.
6108c0f ignore checkgid
7f2eeda Fix RedirectMatch handling to properly handle URLs with host portions. Previously, we would segfault if no path is specified (case 1 below). We would also ignore any host and scheme portion of the URL (which is how we specify it on daedalus), so restore that capability.
ed5f516 Document the addition of checkgid to 2.0
b444d8e 	Bring forward checkgid helper from 1.3; checks runtime 	validity of httpd Group directive-style group identifiers.
a3ffd0c prevent seg faults in mod_status trying to access vhost structures from the former generation, after a restart.  It happens mostly when the MPM has threads.
82f388d update my entry
ad0b679 No such thing as APACI anymore.  :)
d8e78db Style-guide fixes, no functional changes.
3f30099 More cleanup on the pre-build script
6a9c4d6 Two more mod_so configure-time fixes:  - Treat --enable-so=yes as "static" (this includes --enable-so, etc).  - An explicit --enable-so=shared issues an error.
3c558ed I guess this does deserve a CHANGES entry since the problem spanned versions...
48af474 Get rid of an old .cvsignore file so this directory will get pruned
5979914 Updated to the new locking API's
e3c179c Fixed to import the aprlib module and export the httpd api's
d03056b Modified to correctly extract the export lists
d94e92e If the user explicitly requests --enable-so, --enable-so=yes, --enable-so=static, or --enable-so=shared but APR_HAS_DSO is not defined on their system, then it is a fatal error.
d998d4d Just some style peeves. Tabs and spaces and whatnot.
620934e set the c->aborted flag when we get EPIPE
a71e3b8 don't lose the return code from ap_fwrite() when called from buffer_output()
dbb19e0 Fix the reporting for child processes that die.  This removes all of the non-portable W* macros from Apache.
362d3a5 adjust for the change to SuExec's default install directory
0fa972d Win32: Track and display "Parent Server Generation:" in mod_status output. The generation will be bumped at server graceful restart, when the child process exits by hitting MaxRequestsPerChild or if the child process exits abnormally. [Bill Stoddard]
79403ed Fix a segfault seen on daedalus earlier this evening.  All that was happening was that we forgot to check whether ctx->bb was empty, so when we pulled the first bucket, it would be the sentinel, and we'd segfault trying to apr_bucket_read the sentinel.
c81897b Refresh of the name-vhosting docs.
3050920 Scripts for setting up the build environment and generating the import lists
8d70747 Win32: Fix server-status 'requests currently being processed' and 'idle workers' displays.
6f53297 Code Warrior project file for building the httpd server for NetWare
18a9373 Win32: Running out of threads should be a warning, not an error.
8319299 NetWare doesn't have processes so no need to detach something that doesn't exist
8074a4d Fix some bungling of the remote port in rfc1413.c so that IdentityCheck retrieves the proper user id instead of failing and thus always returning "nobody."
5477dfb   Remerge proxy configuration.  Tally: of 9 votes;
429f7ef   Fix two typos in the last patch... compiles/tests clean... Greg, please   run this against Apache.org until the first core and post the results.
3e15d70   Perhaps fix the segfault... my earlier patch didn't since we already   memcpy'ed the base into the merged per-dir config.
61f021a   Reading commit log messages can be very helpful for noting inconsistent   comments... no code is hurt in this commit
4afd061   The test of filename[0] == '/' is very evil ;)
27b2ce4 Style-guide compliance changes only, no functional differences.
e559cd2   Grab this pointer, before it goes NULL
f16b954   For Win32 cgi %1 arguments, use backslashes.  For $1, use posix slashes.
cbf8c19   On second thought, we like our dot, alot.
b2d2222   Round out const'ness
04f4abf   First Patch!  [Well, my own typo.]
0a9f874   Reimplement Win32 registry-based and shebang-extended scripting.
9234f53   Thread saftey lock for mod_rewrite's cache... I'm sure others will have   some 'better ideas' but this will work for now.
7557318   Simplified mod_env's directives to behave as most directives are   expected, in that UnsetEnv will not unset a SetEnv and PassEnv   directive following that UnsetEnv within the same container.   Also provides a runtime startup warning if a PassEnv configured   environment value is undefined.
b9e48fc   Fix a nasty GP fault... stop testing buckets after they are passed!!!
1338b5a   Restrict by content type and encoding before we go and try to drag in some   text to merge as headers and footers to autoindex pages.  This will escape   index.gif from a bold attempt to use IndexHeader index ;)
90cb9e9   Canonicalize all absolute <Directory > sections, not simply those that   fail to end in a '/'.  Slash test is afterwords, once we've canonicalized   any '\' and other aliases to '/'.
456b51f Oh, don't you love buffer overflows? We need to allocate storage space for the terminating NULL AND the extra / we may tack on to the string at some point.
33bddf4   ap_run_child_init is not an optional function ;)
09ec36f Win32: A bit more MaxRequestsPerChild cleanup. Now it should work on Win 9x as well.
c5ad877 Missed some error messages in the switch to the new lock system. Added the proc_mutex header for the sake of consistency.
23b4b38 Ugh, at least this got me away from the AIX build system for awhile...
1eb1132 The worker MPM is now completely ported to APR's new lock API. It uses native APR types for thread mutexes, cross-process mutexes, and condition variables. Who's next?
648ae56 Use the APR's new OS-specific proc mutex accessors -- they are used here to set permissions on SysV Semaphores. MPMs will be modified to call this new function as they are ported to the new APR lock API.
22e16ed Win32: ap_max_requests_per_child should not be a local static in mpm_winnt.c. This was preventing the MaxRequestsPerChild config directive from working properly.
1ef3fdd   More missing .h goodies
ae53a8f maxrequestsperchild should default to 0 on windows.
c9f5e94 Hey, we tagged 2.0.26.  =) We're now waiting for it to be discarded or we need to bump the tag on server/core.c.  And, we need to fix the proc_wait thing to someone's satisfaction.
f684c97 King of Love seems to be playing on my xmms right now...
cef27f2 Remove all references to the Port directive and replace it with appropriate links to the Listen directive.
67cc0d5 Just browsing...
11f831e Remove the reference to Port directive and replace it with Listen.
c99521f Remove Port references
57bff9d Remove references to Port directive.
8f92ba2 Remove note about Port in the Listen manual citation
c0d21b9 Remove references to Port Clean up formatting that may have been caused by htmltidy?
ad7c79b Bring this page up-to-date
22c8991 Update the vhost docs to not refer to Port anymore.
e289e87   And where, praytell, should mod_proxy.c find ap_send_http_options   and ap_send_http_trace?
f31545e   Listen to my own advise.  Fortunately, the new apr_pool_readonly code   catches these in no time ;)
7055a5e   Guys... please be _careful_ when you pcalloc -> palloc!!!
136840e Teach me to copy and paste.
8966449 Make sure we install the proxy header file.
6eb1ade The proxy does not actually need this header.
f5ae27e These files were already defined in EXPORT_FILES, so reuse them.
3175813   Gotta love it
a7d0130 Cleanup. Win32 Apache only supports a single child process so get rid of all the cruft that assumes otherwise.
4608aab   As GStein points out... comment here would be helpful
a2f7cb1 OS specific header for NetWare
a2c0d04 Temporarily removed the cgi module from the built in modules list until we can figure out how to handle it.
53cf31a Brought the conf file up to date with the latest source
b8c5c7f Gets VPATH builds working again. The problem was that apr.h is generated by autoconf and then placed in the builddir, not the srcdir (which we didn't notice until we tried to do VPATH). When cpp couldn't find apr.h we would decide not to build mod_so, which is kinda bad.
4645c79 get rid of a reference to access.conf
53e16c9 Fully convert worker's fdqueue to the new APR lock API: - Mutexes and Condition Variables from APR are now used instead of   direct (non-portable) calls to pthread.
3cd40d8 I certainly see the advantage of having SSL split out into another file. And indeed, that is the way that I would do it for my own server.  But the default config file is really there for beginners, not for advanced users.  Having multiple config files is bad for beginners because it makes it difficult to answer questions like "where do I put this config directive?"  It also makes it more difficult to move a specific configuration from one server to another.  Finally, it is just overall more intimidating to be faced with a bunch of files to edit, rather than one file that controls everything.
f5084ba Win32: Deprecate ap_start_shutdown/ap_start_restart in favor of ap_signal_parent(enum). This simplifies the code a bit for some more MPM cleanup work forthcoming.
d83c2cf   Whoops ... invalid <Directory /> blocks for the new 'manual' tree location
4bcf6a3 Not sure if the number of directives in a normal proxy setup would warrant needing a whole separate config file. I see such break outs as pretty much dependent on the number of lines it adds to httpd.conf... with SSL it makes sense. With proxy, well, I'm not sure. To be honest, though, breaking out both won't trouble me a bit, but this is my pref. PR: Obtained from: Submitted by: Reviewed by:
47ec77a recognize filename subrequests without requiring a null URI.  This fixes a problem with infinite recursion of dirent subrequests.
3875054 	The argument that this is a reversion to the httpd/access/srm 	multifile scenario is bogus, IMHO; the problem with those 	was that their purposes were not clear, nor were the orders 	of invocation.  Putting massive (or tiny but uncommon) chunks 	of easily self-contained special-function directives into 	separate files simplifies the basic configuration and doesn't 	revert to either of the trinity-file complaints, since these 	would need to be explicitly invoked with an Include directive.
56da963   Some type correctness fixes for LARGEFILES platforms.
1b8f182 First pass at converting worker MPM to APR's new lock API. This converts the APR_INTRAPROCESS locks into lightweight, non-nested apr_thread_mutex_t locks.
d75fca0 SSL config is large, complex & many users never need to see it at all.
44cfd7a   It is absolutely invalid practice to test 'prot' bits to determine if a   file is readable.  The only acceptable means of testing readability is to   open it for reading, due to discrepancies between permissions, DACLs and   SACLS.  Even Linux hackers are gonna need to learn that lesson if they   plan to do any DOD or Gov work once DACL-enhanced Linux is adopted.
2015a90   Already committed in similar form to Apache 1.3.22-dev, this patch allows   Win32/OS2/Netware paths to work with mod_vhost_alias.
4f0494a First cut at the MPM for NetWare
9526452 OS specific file for NetWare
fb7781b Remove the ldap config file.  This is now part of the ldap sub-project.
0b9fedf   A bit of declaration would help get this loading on Win32
4336ca8 Missed this one when I removed the other ldap files.
74f34a2 Remove all of the ldap modules.  These have been moved to their own repository, httpd-ldap, and they now form their own sub-project of the httpd project.
fd71dd3 Initial revision
9ffff56 The SSL config is huge, and has a lot of comments.  The proxy config is tiny, and very self-contained.
82b5b83 IMHO, ssl and proxy are advanced operations. Placing them into the default httpd.conf will just confuse people who just want a barebones webserver.
6d99ee2   One more party
bc65ac0   LoadFile(s) required by modules before they loaded weren't executed until   server initialization.  This patch assures all such loaded files occur as   they are parsed.
daa8c99   The right place to choose this... hard to read some opinions
b9c5fa3 Exit when we can't listen on any of the configured ports.  This is the same behavior as 1.3, and it avoids having the MPMs to deal with bogus ap_listen_rec structures.
e177d37 In one target we weren't always creating the $libexecdir ($prefix/modules) directory, and in another we were assuming that the directory existed. Now we always create it in the first target, and we check that it exists in the second.
9d7befd   Ok... for now ssl-std.conf and proxy-std.conf stand, so here's the patch   for the win32 build.
f0034b0   Just feels wrong... but need to continue building
1eda89f   Hmmm... mismatched namespaces :-?
4c8e862 don't lose the retcode in core_create_proxy_req()
e31a688 Cleanup the proxy code that creates a request to the origin server.  This change adds an optional hook, which allows modules to gain control while the request is created if the proxy module is loaded.  The purpose of this hook is to allow modules to add input and/or output filters to the request to the origin.  While I was at it, I made the core use this hook, so that proxy request creation uses some of the code from the core.  This can still be greatly improved, but this is a good start.
0567904 Bump after the 2.0.26 tag.
bfb33eb Bump the versions for the 2.0.26 tag.
4d4ce32 Port the MaxClients changes from the worker MPM to the threaded MPM.
5e3b244   Fix the little bits o' breakage I introduced with the last two   'theoretical' corrections.
75ed984   directory_walk trounced existing path_info declarations.  I suspect _this_   was Greg Ames bug...
940a778   Streamline this function, and append the trailing slash for any directories   that are resolved.  Needs to be more tightly coupled to the dir_walk   optimized cache.
317c635   This will probably fix recent breakage to mod_negotation and httpd.test,   as well as the /manual/ returning docroot/index.  Need to look for another   solution.  I'm suspecting path_info is possibly broken.
bb447fc Cautiously avoiding the scoping issue that was discussed on the list, I thought these other changes needed to go in; Namely that we don't need to check if the brigade is empty twice in the loop, just once. Added a comment for good measure.
12749e4 disabling mod_example ap_hook_{http_method,default_port} breaks things such as httpd-test when http_method is "foo" PR: Obtained from: Submitted by: Reviewed by:
0215683 Removed outdated apache.exports references Submitted by: Aaron Bannert <aaron@clove.org>
7235226 Fix a typo in the configure script.  This get AIX building cleanly.
ad334fd insure that a '*' in <VirtualHost *> or NameVirtualHost * matches all ports.
4cf5727   My badness (well, I tried)
6e62542   rotatelogs will be apr-ized at some point, make this simple.
71c53ab   Forgot the directive's note change for "Any"
0b6b511   That's Any, not All
8b13416   Clarify the new MultiviewsMatch directive.  I wanted this down on 'paper',   even if it isn't proofread - please feel free to touch up.
e1438a2 Fix the first bucket not getting chunked properly.  The reason was that we left the TE header in the output headers, so ap_set_keepalive didn't set r->chunked to 1.  So, ap_http_header_filter wouldn't insert CHUNK filter appropriately.  I have no clue how it chunked anything at all before this patch, but hey, it looks right now.
d55c3c8 Ensure that ap_http_filter can not be coersced into reading more than we think is currently available.
320c229 Fix broken links
503e630 htmltidy made a little mess of the <pre> environment.
d1fb0f9 x_handler() was not checking r->handler, leaving it to handle every request
81c669c Remove unused hard-coded definition of a SHELL_PATH.
49ad5a4 Make sure we install apxs.
f002d4e Well, now I know what the bio_is_renegotiating call was for.
4714a72 If we passed the bucket to ap_pass_brigade (because it was EOS or FLUSH), we shouldn't delete it.
fd19503 Lose the magic number and use the central #define AP_IOBUFSIZE.
271ef8a Another one bites the dust.
22c9145 Teach mod_proxy to live with the new filtering scheme.
513f380 fix a *printf() format
11b85e1 Remove deprecated ap_dechunk_filter from header.
db8132b fix another seg fault.
27a0eae Eventually I'll get this right.
127c615 Squeeze the example down to fit on one line.
af7425b   Aye, it's bogus.  Something very odd about short terniary results on   this C[++] compiler here, wants to promote to the conditition's type :-/
d49a4ba   Outch... fixed warning
b3f3d5b Convert to html.
0b5c3d8 TransferLog is (sort of) deprecated, and people never seem to realize that you can use this with CustomLog.
792583d   Ok, this formats a whole lot cleaner, and (I believe) makes a bit more   sense.  Also provides a rundown of C89 common date format strings, for   those users who don't have man strftime [It still points out that add'l   format options may b available, see strftime.]
0f93ac6   Close the mod_mime file extension matching issue by (as Ken Coar suggests)   allowing users to continue to rely on the old 1.3 behavior of matching Any   extensions, the strict behavior of matching NegotiatedOnly arguments, or   including Handlers and Filters with the MultiviewsMatch directive for   mod_negotiation control.  Unfortunately, the component matching occurs   in mod_mime, so that's where this option must reside.
cc570d9 Fix a typo in the configure script.  The argument is --enable-mods-shared, but we documented it as --enable-mod-shared.
0385ad9 Remove some warnings from the code.  The buckets take a different type for the length than the brigade functions do.  This moves the len_read variable into the correct scope for the two times that it is used, and defines it correctly for each scope.
705737e Fixed the configure script to add a LoadModule directive to the default httpd.conf for any module that was compiled as a DSO.
e3d2032 This is the mod_ssl input filtering rewrite.  Lots of stuff here.  I also changed some of the style issues within the filtering code to conform to the rest of the server.
5c26e87 We can't pass in &r->remaining because we change that value on output to be how many bytes we read.  This trounces on the r->remaining value, so we must use a local variable and subtract that from r->remaining after we read. Reviewed by:	Aaron Bannert
5902e1f The problem here is that we are getting some zero-length buckets at the head of our brigade - which are in isolation okay.  In this situation, they must be removed by the call to APR_BRIGADE_NORMALIZE.
e109fb0 We also need to increment *readbytes when we find a match in the middle of a bucket.
721c27e Make the error messages from apachectl refer to the actual name of the executable, not "httpd".
09944ea   Finish the switch to huge file support
4fea103   Support huge files from mod_asis
91cd775   Negotiation once allowed any file, of any filename extension, to be   served.  The original patch to mod_negotation eliminated all extensions   that did not reflect filename extensions associated with negotiation   variables, unless the user expressly specified the file name with those   filename extensions.
4efc873 Yeah, let's just return this segment to how it was a few hours ago.
55a8076 For some reason, I was thinking PEEK should read infinitely.  Not. Return with APR_EOF if we get EAGAIN.
d879ed6   Catch up to Martin's work for 2.0
d41d182   Short of removing the headers filter, this is the best asis can do.   Note that all body replies were entirely broken (thanks for helping   me notice this, Greg :)
008689b Allow the bucket reading code in the core to handle EAGAIN properly.
4f78b34 prefork: Don't segfault when we are able to listen on some but not all of the configured ports.
ba712ac   Too many args is a bad thing too, some days
6b637ac   Rewrite of rotatelogs as an apr-ized app.
4ac442a   Correct dependency for apr-ization of rotatelogs
9adaa53 Foo != Bar.
af98f5c Remove ^M character.  Someone thinks they are in DOS land.
f624792 Allow mod_so to be enabled by default even if no shared libraries from the core are requested.
d0c3937 Sunny but chilly in Raleigh
e485b12 fixes heml to html to make example work
f1f8494   Always helps to add the member
ee3aab8   Bring many things up-to-date.  FirstBill, wasn't the child logging   process stuff already fixed?
9f1c799   Speed it up.  While this optimization wasn't obvious for the two-pass   location_walk, it is significant for all subreq/redirects reusing the   cached walk values.
a150a0f   Uhmm... time for a note about this.
29c2458 allow file extentions specified by AddHandler, AddInputFilter, and AddOutputFilter to be ignored when matching the URI.
8dd598a prevent near infinite subrequest recursion with mod_negotiation enabled. This can happen if there is a partial match between a bad URI and a file with a variant extention.
3c43502 Get rid of some byterange handling code; it doesn't apply in Apache 2.0.
61cebda Clean up the string passed to the error log hook. This removes the date, time, error level, etc strings.  The only information in the string is the actual error. Submitted by:	Jon Travis <jtravis@covalent.net>
900a4ce Don't set r->status_line. Apache uses that in preference to any other status line, thinking we've set a custom status. Of course, it says "200 OK" no matter what error we happen to return(!).
9213036 get symlinks working again
dd713bb dechunking filter removed. add HTTP_IN filter after the headers have been parsed. so that the HTTP_IN can check them ;-) Still not 100% if this works properly, but I don't get the chunking numbers displayed on my browser, so it's better than what was there. PR: Obtained from: Submitted by: Reviewed by:
b13cb77 at least *this* cast keeps gcc happy (and should keep everything else happy as well)
173d083 HTTP_IN was attempting to process the PEEK mode. This threw off check_pipeline_flush(), making it think another request was available (when it wasn't). Apache would avoid flushing the prior request and block on reading the next request. (of course, the client wasn't sending the next one, cuz it was still waiting for the results of the first one)
4bd8279 initial port of new Request-mode HTTP_IN filter to proxy. Status: It serves a reverse-proxy page.. but SLOWLY. VERY SLOWLY. still looking at why, but now it serves pages instead of dumping core. PR: Obtained from: Submitted by: Reviewed by:
e04108c   Revamped ap_directory_walk logic, without a path_info helper is now   activated.  It may be bumpy for a few days, and we have more optimizations   to put in place, but it's time to get this in the developer's test code.
006f49d   This is nothing but const bogosity.  We have our very own manipulation,   we are allowed to touch the char *'s, even if we have a const contract.
bcafbda Correct Verbage in comments.
e04745a Rename ssl-std.conf to match Makefile.in's installation action
a933f4d   Great badness - not a good idea to return OK when you don't modify the   resulting value, even if it's NULL.
526abd7   Hmmm... continue's not so good an idea here :)
5973e49   Time to give up for the day, and grab a beer
05cd8ac   Aaargh!  Unwinding part of my patch before I committed the prior version,   I ended up blasting these (intentional) changes as well :(
2b9d60f   A major overhaul to the -replacement- ap_directory_walk logic.  This still   doesn't activate that code, I will do so probably by Monday, after more   thorough testing.
f9b16b1   Good to note
476c304   Allow ApacheBench to connect to and control Apache on other WinNT/2K   machines.
d9a090c   Fix a borked entry that I introduced.  Now mime_magic should build.
c8d19a1 Don't attempt to call apr_xml_parser_done() twice -- just exit when we have a problem terminating the parser. _geterror() cannot be called either.
3a5f40f   I don't know if these are correct, just my best alien guess.
6b3d6e6   Some other modules here are argueably tests ... but these are nothing   but tests.  No end user would ever be interested in 'experimenting'   with them :)
06ced8a   Legibility counts for something, so does eliminating bogus ssize_t   products from pointer subtraction ;)
6747ff5 It's a good time to update STATUS.
7541cc3 We should only be doing one socket read under any circumstances (blocking or not).
37e9d4b Bring forward some 1.3 changes, mostly from Allan Liska
0813cc3 Allow the core input filter to handle AP_NONBLOCK_READ request for a finite number of bytes (i.e. *readbytes > 0).
2cb3776 I believe it is a kosher for a filter to return EOS, but return APR_SUCCESS via ap_get_brigade.  So, we should treat this as end-of-input.
fe89e44   And thank you once again, Justin
3f610a2   These now exist with their -std names, thanks for the suggest, Justin.
fb715f4 Include paths must be relative to ServerRoot directive.
3e67afb Make sure we run the new conf files through sed. Now, the question is whether it might make more sense to have them as ssl-std.conf, ldap-std.conf, and proxy-std.conf.
2d0bcc2a get rid of an unused variable
d90e107   Split the significant modules into segregated module configs.
e9ada27   Cleanup the config (somewhat) so that win32 -could- actually run from   the httpd-std.conf - but there are still some discrepancies to take   back to the conference committee :)
b7bc1a0 Remove the Port directive.  In it's place, the Listen directive is now a required directive, which tells Apache what port to listen on.  The ServerName directive has also been extended to accept an optional port.  If the port is specified to the ServerName, the server will report that port whenever it reports the port that it is listening on.  This change was made to ease configuration errors that stem from having a Port directive, and a Listen directive.  In that situation, the server would only listen to the port specified by the Listen command, which caused a lot of confusion to users.
55e3c72   Just passing through
d0646a9   Add some mime magic to the Win32 build
ba75d50 Make sure we install all of the support scripts.
d18a2bc Ah, I didn't see that churn is only used on input - rename the function to match churn_output.  =)
2c7371a We need to use @@Port@@ not hard-code the Port number.
e4322fb Fix --enable-mods-shared processing.  If most is specified, then all modules that can be compiled as shared modules are.  This was done by adding a module config specifier, static, which denotes that a module can not be compiled as a DSO.
edab33d Add a Listen directive to the default config file.  This allows us to later add another listen directive, in the default SSL config file, without stopping the server from listening on port 80.  The next step is to combine the Port and ServerName directives, so that Port can go away finally.
0ccb72e Remove an old comment.  This config.m4 is numbered 9, which is the highest possible number, so it is garaunteed to be in the last batch.  Any module config.m4 should just use a number < 9 to ensure that this continues to work.
4275fbe   One more note on the last commit - the 'cannot serve an absolute path'   bug was identified by, and debugged with hints and examples provided by   Ryan Morgan <rmorgan@covalent.net> --- his example module demonstrating   the problem was invaluable :)
e9efbad   Correct file lookups when we are given a file within the same directory   as the parent request.  Also pulls a bunch of notes and code that was   set aside, we don't need this with the other optimizations introduced.
e4b78cb rename variable "except" to avoid colliding with a macro of the same name on Tru64
e280855   Fix a mismatching issue, where index.html.foo.en had recognized .html and   .en components, and exceptions index and foo.  This patch will ignore the   'missing' exception html from the request, and go on to test the exception   foo in the list.
9f72c2d Update mime.types file.
0540c7d Suexec is compiled to the builddir, not the source dir. PR: Obtained from: Submitted by: Reviewed by:
2e476da I am agreeable to mod_gz going in experimental. It should be good and out of the way there but still available to those interested in working on it.
73fcb0b   Goodbye r->content_lanaguage (per vote from apache-1.3/STATUS).
1e1095e Add info about Opera supporting MD5 Authentication.
f39e607   Clean up a couple of type warnings.
0f13fbd Update entry.
ad8b2f0 Added Doxygen Comments With these 2 changes most of the Doxygen warnings go away. (these patch just modifies comments/slight moves in typedefs, no other changes)
a7d9062 Sync the html version with the nroff version.
e62fbaa Oops, missed a part.
72a32ce Bring httpd man page up-to-date with flags that currently exist and the current default install path.
a119c52 ap_sub_req_output_filter:  don't pass along a brigade if it becomes empty after deleting the EOS bucket.
973dc48 clean up the fdqueue a bit more, by implementing Greg's suggestions to getting rid of redundant variables, as well as converting the simple ap_queue_full/ap_queue_empty tests into macros. This also reinstates the "not_full" condition, which turned out to be useful afterall in cases where we wanted to prevent the listener thread from accepting further connections until the worker queue has room for more.
3e1155b Switch from tmpnam() to apr_file_mktemp() so that gcc with a recent glibc will shut the hell up about tmpnam() being unsafe.  htpasswd.c needs a similar treatment, but it won't be _quite_ as easy since htpasswd has not been completely apr-ized yet.
283b471   Two more loadable modules on Win32, thank you Gunther!
92c6892   BIO_write returns an int.  Whacha gonna do?  Kill the last non-ab warning.
7c2044b   /GZ RTL debug flag is not recognized across VC 5/6/7.
d2f9c10   Clean up some warnings by summing bytecounts into apr_off_t holders   instead of ulongs.
bee1734   Nothing wrong with an int here, so make it explicit and kill the warning.
8b54a80   Remain consistent to the connection_rec, and use apr_off_t for remaining.
1037fbd   Kill off some expensive, unnecessary effort when we use max-age for   the usertrack cookie (and kill a warning in the process.)
c241623   Should be no change to the execution - simply clean up two compiler   warnings, signed/unsigned mismatch in != and mismatched type for port.
7687454   Wording changes
9ecb263   The patch that emerged uppon discussion on news:hr.comp.www   Please review - did not apply as cleanly as I would have liked.
f493313 Kill two autoconf-related birds with one commit.
40304cb Remove unnecessary initialization and add a comment about chunk_hdr's scope.
9846f64 Switch to the corresponding apr_table_* macro rather than doing this ourselves.
0706716 Cleanup some needless initialization of the date variable and consolidate the scope to only where necessary.
233fbcc Make doc changes to reflect change to ProxyErrorOverride PR: Obtained from: Submitted by: Reviewed by:
24e5d12 ianh: add the ProxyHTTPOverrideReturnedErrors directive documentation PR: Obtained from: Submitted by: Reviewed by:
34bf504 ianh: updated docs PR: Obtained from: Submitted by: Reviewed by:
113aee3 Oops - forgot the doc updates PR: Obtained from: Submitted by: Reviewed by:
7b459ee Updated mod_proxy.html docs to include v2.0 configuration. PR: Obtained from: Submitted by: Reviewed by:
1614b30 chuck: add back missing tag from NoCache section PR: Obtained from: Submitted by: Reviewed by:
7887bb4 chuck: Docco update PR: Obtained from: Submitted by: Reviewed by:
7b8a95f Fixing the mod_proxy docs. The docs were transferred away without a history, so I'm applying each of the new patches one by one (there are only a few of them) so that the new mod_proxy.html file is up to date. This first patch returns the original doc to the tree. Subsequent patches will apply the changes to the file up to date. PR: Obtained from: Submitted by: Reviewed by:
4f4aa2b Something Happened
66ee553 Remove the lameo create_req hack and delay the addition of the HTTP_IN filter until after we have read the headers.  This eliminates the status hack that was in http_protocol.c and makes it all around better.
6c7a7c3 Implement suggested input filter improvements from Greg and Ryan.
fa9432b Remove bogus comment.
08eb760 Input filtering rewrite.  Consolidate how we handle HTTP input parsing by rearranging and rethinking some things.  The net result is that the HTTP filter is now a request filter and is now only responsible for HTTP things. The core input filter is now responsible for handling all of the dirty work.
d7a730a Fix for httpd-test modules/include test #17.
e748927   Optimize file_walk with the same logic as location_walk.  Fix both to   have a bit more legibility, and tighter locality of scope for a smaller   number of variables.
8e82ad3   Split out (soon to be) common code for all _walk functions   (no net change to location_walk).
38dce7f   Nice to remove more than I add, some days.
efc6237   We don't mind the .mak files hanging around, don't tell us about it.
f377305   /home/cvs/httpd-2.0/ no longer tracks makefiles.  But at least incorporate   all the new proxy modules into BaseAddr.ref for win32.
54071db   This broken bit causes a segfault after locking pconf as read-only.
8168751   MAJOR charset encoding fixes.  The file names and HTTP-Equiv tags are now   in sync with the httpd-std.conf - and the ucs2/4 encodings are gone since   utf8 is a universally recognized shorthand that sits much better in our   tree [notice; these were _duplicate_ character sets, only in different   byte encodings!]  Same with removing the duplicate .jis and .is-kr files.   [I simply choose the one 'with link' over the one without, and fixed the   links back to preFAQ as I picked.]
af27d38   Reintegrate proxy into the core build
e11c960   Debug conf pool constness.  This is a noop most of the time on most   platforms, but it's only called twice per restart, so this is mostly   harmless.
53ae8f0 Remove SMS from the error bucket.  SMS is going away now, it isn't really used anyplace anymore. Submitted by:	"Sander Striker" <striker@apache.org>
de0647f No fear of commit-ment. PR: Obtained from: Submitted by: Reviewed by:
3ce4f34 Fix the "merge" behaviour of the ProxyErrorOverride directive. PR: Obtained from: Submitted by: Reviewed by:
0617f1c Some style cleanups related to the ProxyErrorOverride function. PR: Obtained from: Submitted by: Reviewed by:
6d273ef   Overhaul the compatibility with 1.3's subrequest and redirect processing.
1fdecc1   Remove the translate_name hack that caused Greg Ames some grief with   mod_rewrite.
ed0af9c Allow support programs to be compiled against a static version of libapr.  This allows the smaller support programs to be relocated.
12d05cb Change ProxyHTTPOverrideReturnedErrors command to ProxyErrorOverride Docs update to follow. Submitted by: Ian Holsman <ianh@cnet.com>
f596f56 Update status of XHTML conversion.
ed3a5bc Immortal data should go in an immortal bucket, not a pool bucket.  It would still work in a pool bucket, but only by coincidence.  At the very least, a pool bucket is way more overhead than this poor unsuspecting little CRLF needs to get by.
ae877f9 change command name so that it starts with 'Proxy' fix the command so that it returns 'OK' instead of 'HTTP_OK'
f9590ea Update the mime.types file to the registered media types as of 2001-09-25, and add mapping for xsl extension PR: Obtained from: Submitted by: Reviewed by:
3561827 httpd.exp is a generated file, and therefore, it is generated into the build directory, not the source directory.  When we go to use it, we have to look in the build dir for it.
42ac007 fix a gcc warning -- "/* within a comment"
73e98fd Clean the worker MPM a bit.  This removes the idea of compiling worker with no threads.  That doesn't make any sense anyway.  Also, raise HARD_SERVER_LIMIT to 16, from 8.
2e0735c   Another recent Win32 PSDK addition that we can cover for VC5 users.
1c12028   Solve a symbol from later PlatformSDK's that a VC5 user may or may not   have installed.
b81cd40   PATHEXT is a critial Win32 cmd.exe variable that declares _which_ extensions   are given command-name status (such as .exe;.bat;.com;.cmd etc.)
1eed4b2   Joy, joy.  Relax the rules, just a wee bit, and prepare to move the fatal   ending to this filename-less request a bit later in the request cycle, to   give older, ported modules more time to cope without implementing   the map_to_storage hook.
51a7172 Modify the standard config file to match to new semantics of MaxClients for the Worker MPM Submitted by:	 Aaron Bannert <aaron@clove.org>
c9febcd Fix MaxClients in the Worker MPM, so that it specifies the maximum number of clients that can connect at the same time, instead of specifying the maximum number of child processes. Submitted by:	Aaron Bannert <aaron@clove.org>
345d1a0 PR:
27edf0b We need to use the APR-generated libtool for building modules.
b73c294 revert buckets sms phase 1 patch. the group wants to get rid of SMS, so the buckets can't use it.  I'll implement a free-list scheme private to the buckets next.  in the meanwhile we're back to using malloc/free directly instead of via the std sms.
f88b50d w3c tidy to convert to xhtml
651abc3 w3c tidy to convert to xhtml. Please verify that foreign language files in here have not been screwed up.
a925e51 Ran w3c tidy to convert to xhtml
36ec29d Ran tidy to convert to xhtml
1bf05b9 Ran w3c tidy on these as 'tidy -mi -asxml' to get xhtml. Please verify, in particular, the non-english files, to make sure I did not screw anything up. They look fine to me.
64670c5   By popular demand, the beginnings of an explanation of how the request   phase runs in 2.0 (compared with 1.3.)
c2287bf   Header abuse.
1d82ba6   Someone isn't coding enough html lately (me)
f7c23a7   Move API.html over to manual/developer, begin some cleanup.
c43a224 kill -l requires the short version of the signal (without SIG prefix). (apachectl graceful was broken.)
45ed1d0 Switch proc_pthread to pthread for the AcceptMutex directive.
58fc8ea   AFAICT, we have never created server configs of _all_ modules for _all_   contexts, only when they come up (e.g., a directive of that particular   module is provided) with the except that vhost containers complete the   initialization of all modules.  I haven't stepped this, but it appears   to be correct.
f55a195   Additional enlightenment for users trying to understand win32 .bat scripts.
8b31569 Currently, when the map-to-storage handler for TRACE returns DONE, the caller -- ap_process_request_internal() -- catches that and returns OK to its caller -- ap_process_request().  But ap_process_request(), seeing OK, tries to run a handler.  It needs to skip that if the request was completed in ap_process_request_internal().
0f20722 Clean up a compile warning on AIX.
3f8e540 Add an extra parameter to all apr_proc_wait() calls for the new "exitcode" parameter. Pass NULL because we aren't interested in the value.
65d5d7b Added New Option 'HTTPProxyOverrideReturnedErrors' which lets the server override the error pages returned from the proxied server and replace them with the standard server error handling on the main server.
cc7b052 Update doc for the SIGUSR1 change - we no longer use SIGWINCH except on Linux 2.0/glibc 2.0 which doesn't allow SIGUSR1 to be used by programs.
f8f54ed   Accomodate the new server/util_time.c module on win32
11ded91 if we're gonna trash the connection due to a queue overflow, at the very least we should close the socket and write a log message (mostly to aid debugging, as this is a showstopper problem)
42b1ce9 There is still some stuff I'd like to do here, but I'll commit what I have for the moment.  I've done three things: 1. Emphasize that auth does not need to be in .htaccess. 2. Add detailed discussion of each of the auth directives (does this belong here?) 3. Remove the AuthGroupFile /dev/null which shouldn't be necessary.
65b07af Couple small updates to dso.html
04d0f0e Finish some cleanup that Ryan started on dso.html: - Add a sumary, index, ext - put the most important stuff at the top - remove some obsolete stuff
867166b The call to apr_explode_localtime() in mod_log_config is one of the more expensive operations in the httpd.  This patch attempts to reduce the overhead by caching the result for 15 seconds.
93b99eb I was kinda hoping those (void)some_function() and (request_rec *)NULL casts would go away before this committed, but alas I didn't say anything. :-)  This gets rid of them and a few others just like them that I also found in worker.c.
f7a8e08 Oftentimes, I make no sense whatsoever. (Clean up comment, really...)
ddc7f2f Fix case where an included file may change but the shtml file has not - since we returned Last-Modified/ETag headers, we said that it was possibly cacheable.  Wrong.
1161833 This patch fixes a nasty bug in the worker MPM where the state of the worker threads was not being reported back to the scoreboard, and eventually all the threads running in the children would be reported as being in the "C -- closing connection" state. This would wreak havoc on the idle_server_maintenance() routine. Since these threads would never be counted as idle, the server would spawn children as fast as possible.
cb8569e This patch eliminates the wasteful run-time conversion of method names from strings to numbers in places where the methods are known at compile time.
40dc2ab Turn the worker MPM's queue into a LIFO.  This may improve cache-hit performance under some conditions.
a8a56e0 Switch back to SIGUSR1 for graceful restarts on all platforms that support it.  This defines a symbol called AP_SIG_GRACEFUL in ap_config_auto.h which will have the appropriate signal value.  All direct references to SIGWINCH have been replaced with AP_SIG_GRACEFUL.
3f8dd5a Cleanup the worker MPM.  We no longer re-use transaction pools.  This incurs less overhead than shuffling the pools around so that they can be re-used.  Remove one of the queue's condition variables.  We just redefined the API to state that you can't try to add more stuff than you allocated segments for.
5db902f Allow VPATH builds for SSL. Submitted by:	 Cody Sherr <csherr@covalent.net>
fa56f6e If we are going to have an optional function, we have to install that header file, so that people can use it.
1babdcf I always forget this file...
eb8af58 Simplify dav_propdb_define_namespaces(); since we're putting the value in the pool (now), forget the stack-based buffer altogether.
6585f13 Revamp the API that mod_dav uses to talk to back end deadprop (propdb) providers. The old API was really based on how the FS stored properties, but sucked for other types of providers (SQL databases, Subversion, etc). This new code is overall much cleaner as it moves from a DBM style API to one tuned for actual mod_dav operation; it also more flexible/clearer for future improvements (e.g. dropping props directly to the wire rather than buffering in memory).
1100919 Now that we have apr_datum_t, convert some uses of dav_datum over to apr_datum_t (the two are equivalent).
cda0c40 Need to store the pool into the xmlns structure.
0db50e7 Fix constness problem reported by gcc:
0899bb2 Doxygenize this
772d477   Here's the declaration for all to share.  Don't expect many to use it.
f495937    Remove the Win32 script-processing exception from mod_cgi, and    roll build_command_line/build_argv_list into a unified, overrideable    ap_cgi_build_command optional function.
276fbae Add another improvement idea
2c89f1a Improve readibility (indenting)
0d93863 Temporary hack to ensure that the split results are within a brigade attached to the proper pool. Otherwise, ctx->b would end up associated with the request pool, and the SOCKET bucket from the CORE_IN filter would get cleared at request end (thus the next request would go to CORE_IN for more data and get APR_EOF, and figured there were no more requests).
eb45bb8 Found the persistent connection problem I've been observing. Nasty result of the problems in the input filter stack. Time to rejigger, per the discussions we've had.
44b6f2a Change the type to be consistent with wrowe's changes.
a1c92fc   Nothing complains when I change these ints for consistency to apr_size_t.
9b892e2   Time to kill mod_auth_db?  More thoughts on using apr-util with auth_dbm.
ce46b38   Eliminate mod_tls references.
b3487b7 MaxClients was incorrectly discussed as "MaxServers"
b9ff044 Added links to related directives, related modules.
72b1e10 Typo in URL
e55737d Close the same directive we open
28656d2 Comment about using a type-map file, rather than using MultiViews
49b0a4f A chilly day in Charlottesville...
ce37427 Fix test for ltconfig, m4 processing removes the square brackets. (I just happened to notice "-f: not found" while running configure)
30f48c3 Added the conf file template for NetWare
ff9186c Added the HTTPD_ROOT path for NetWare
164895c Added NetWare to the #ifdef list
422739d Added NetWare to the Win32 ifdef list
1fc2c38 rules.mk is found in the build directory, not the src dir.
60417f3 Allow make install to work when built with VPATH.
89f6a1f rules.mk is found in the builddir now.
f6b61e7 Added AP_DECLARE_DATA to unixd_config, so that it makes it into the exp file. Submitted by: Mark Nesbitt <mnesbitt@us.ibm.com>
dba1176 This broke the build.  Looking for a clean solution now.
5a68f25 Gotta find rules.mk in the build directory, not the source.
b422e9b Remove mod_tls from the Windows project file.
73f768d rules.mk is stored in $(top_blddir).  Without this change, VPATH builds stop working.
366797b Mention of logrotate as an alternative to HostnameLookups
e2357e9 Remove mod_tls.  All of the filters in mod_tls can now be found in mod_ssl.  Also, mod_ssl is being kept up to date, while mod_tls is not, so that if you use mod_tls, there are a lot of bugs, both security related, and otherwise.
f797e67 Remove an error during configure.  Libtool 1.4 doesn't have ltconfig.
cac07fa A very small optimization to the OLD_WRITE logic.  This just makes us store a pointer to the OLD_WRITE frec, and instead of using strcmp or strcasecmp, we can just do a simple pointer comparison.  This optimization is also available to other modules.
7fd63fb Maintain info structure in mod_mem_cache. This fixes bug where the content type was lost when content was put in the cache.
184f20d Add an opaque datatype for managing a set of XML namespace declarations. Part of an upcoming propdb API improvement.
1c4d204 add a note about an uninitialized variable
7ed1085 fix a typo which prevented mod_mem_cache from compiling with AP_DEBUG_ASSERT() enabled
dbfc30e Introduce the notion of a multi part cache object. Part of the cache_object is common across any cache implementation, the other part is private to the particular implementation (eg, mem_cache_object_t/mod_mem_cache). Use a cache_handle_t allocated out of the request pool to hold references to the callback functions and common cache object.
defe8c6   Everything on my mind at the moment (about 2.0 stability).
00b7719 Don't try to mkdir drive letters should they be included in a full path.
ab776e1 It is completely bogus that I feel I have to do this.  I remain -1 for doing this, but I won't veto it.  I am 100% with JimJ on this.  We are making this decision at the wrong time, and for the wrong reasons.  I do not believe that this module ever belongs in the core, and I haven't heard a single valid reason for using it.  Even the SSL reason has been removed in my mind, due to the fact that we are now thinking of removing mod_gz if the correct cipher is used, because the correct cipher will compress for us.
0f5ab98 need some rain
ba97433 Experimental, yes; anywhere else, no.  No rush, but 2.0 before GA, sez I.
1cf6e24   I don't seriously expect this solves the segfault ... but it does make   the code more legible, and protects particularly ugly unset values.
31f7781   apr_filepath_merge includes APR_FILEPATH_SECURE_ROOT tests that can   easily (and cross-platform, safely) assure a path is within a given root.
dd31943   This patch is insufficient (highlights an existing problem) for OS2 and   Netware, especially, and any other platform with odd native requirements   for the PATH_TRANSLATED variable (where it should look like a filesystem   entity for non-unixish cgi's.)
9444ee9   There is no errno using apr.  A quick grep reveals a dozen or so files   with serious errno problems, particularly in mod_dav :(
9ca044a Added links to the AddInputFilter directive, which is otherwise rather hard to stumble across.
cef8fbd Add links to the AddOutputFilter directive, which was otherwise rather hard to find.
3699535 Hot, humid but a clear autumn sky.
7f0b609   The per_dir_merge overlay of AddInputFilter/AddOutputFilter must   absolutely replace a prior definition for the same file extension.   Picture AddOutputFilter Includes .html in a directory, and needing   to replace that behavior in a subdirectory which does not contain   SSI html files.  This behavior must remain consistent to the other   mime behaviors, as documented in manual/mod/mod_mime.html
f4c1d5c The threaded MPM not working is not because of httpd or APR.  Threads are horribly broken on FreeBSD, and there is nothing we can do to fix them.  Unless, of course, somebody wants to contribute code to the FreeBSD project.
3324bae Bright and sunny in C'ville...
21292b7 Added NetWare to a Win32 #ifdef
7775299 Added NetWare to a Win32 #ifdef
a7427e7 We finally got APR working well enough to support buffered reading of .var files, so the .var file issue is gone.
1eaa7de attempt to fix some issues in mod_cache found by gcc (use of rv and date before setting them)
2335f9e 	Add a couple of items from discussion.
b69bf7d Fix error in Netware-specific code.
b3e8da2 Server configuration goes in httpd.conf not in access.conf
b2d2085 Pass headers on read/write header calls.  Update mod_mem_cache to cache headers. So much to do so little time ...
2971105 Spell checking.
df5fa85 tidy -mi -asxhtml (w3c tidy)
bf021c9 Update the mod_ssl porting status
391140c Typos
80aa275 Ran w3c tidy with the -asxhtml flag.
9bd8144 I forgot to commit this earlier with the new welcome page.
e0b1ef6 Make find_start_sequence use the BNDM search algorithm.  We handle edge cases via the old slow mechanism.
f97356f Add Norwegian Nynorsk translation of welcome page.
e761a52 work around an AIX "issue" in the construction of config_vars.mk by modifying the sed expression just a bit;
1e90a12 Fix a seg fault in mod_include.  When we are generating an internal redirect, we must set r->uri to "", not a bogus string, and not NULL.  [Ryan Bloom]
42d518d   Rambling on
3c1228b   Optimize location_walk.  We build an array of incremental matches, and   on attempting a subreq/redirect or simply a second pass, and for each   match in series, if the section is a match,  we reuse the merge result   for that section.
8e67a36 strip parens from config_vars.mk values
622a433 I am veto'ing this, for now at least.  I will support making mod_gz a separate sub-project of httpd, and possibly rolling it into a later release of 2.0, but now is not the time to do this.
11a6323 I think it's a bit premature to make such a decision right now
d20149f simpler, more secure, easier to release, less conflict, more convival
5678ddd My +1 is also contingent upon the code style nits that have already been discussed.  In particular, the hungarian notation needs to go away. :)
57b0d24 I started the flame war, so I'm +1 on mod_gz as well.
a0b473c I didn't crawl the list looking for the complete set of votes, but here we go. Nominally, this issue would be under "lazy approval" since no changes are made to APIs, directives, or significant size changes in the runtime. However, the nature of the discussions effectively calls for "consensus approval" -- three binding +1 votes and no vetoes.
1c81ace W3C tidy. Lowercased tags. Various indentation and HTML prettification.
4e1be58 W3C tidy. Lowecased HTML tags. Various other indentation and prettification of the HTML.
485d2e2 W3C tidy. Convert uppercase tags -> lowercase. Various other indentation and general beautification.
2423af0 Link to Ken's .htaccess docs.
7c2730e on AIX we need to pass in --disable-shared to apr and apr-util configurations; otherwise we get goofy executable files
951e12d fix a module reference so that it doesn't look like two files are trying to declare it
08a3eb4 mod_access is also important...
166af13 typo
f3ceda7 First cut at authentication tutorial. Need to add section about alternate authentication modules such as mod_auth_db, but this is a decent start.
516c849 There's no particular reason to advertise ApacheToday and/or Internet.com
273f948 If the user doesn't specify a layout, then just use the Apache layout.  This means that we don't have to re-specify options that are already in config.layout.
0fbd80e Jeff pointed out that the character array must be constant. Well, it's not, so make it allocated from the correct pool rather than the heap.
4db33d4 Fix breakage from Brian Pane's util_filter switch to hash tables.
54a804a **NO CODE CHANGES** This is a reformat commit *ONLY* Please drive on through.
4c59c0c The ap_add_input_filter/ap_add_output_filter functions do an O(n) scan through the list of registered filters.  This patch replaces the linear list with a hash table for better performance. Submitted by:	Brian Pane <bpane@pacbell.net> Reviewed by:	Justin Erenkrantz
a86388e silence compiler warnings (these weren't really bugs)
c417107 Back out the 1.45 change to util_script.c.  This change made us set the environment variable REQUEST_URI to the redirected URI, instead of the originally requested URI.
b283563 Fix uninitialized variable warning.  (This was a bug.) Submitted by:	Cliff's compiler (warning) and Brian Pane (fix) Reviewed by:	Justin Erenkrantz
50819ea   This one has a sharper 16x16 image committed some time ago to apache-1.3
9f4a4c0 Update the DSO docs for Apache 2.0
d3c7404 Added a little more detail to the docs based on some comments from Bill Rowe. More to come, but this clarified a point that I had to track down earlier, and may save someone some time.
88e74ea Make Apache 2.0 install all files in the same location as Apache 1.3 did. PR:	7626
34322e8 Fix the interaction between --prefix and --with-layout.  We were over-writing the specified prefix during --with-layout processing.  By keeping a copy of the specified prefix, and resetting it after the layout processing, this is fixed. PR:	7755
b41d6ab Make sure that installbuilddir is always defined.
f5c7e69 **NO CODE CHANGES** This is a reformat commit *ONLY* Please drive on through.
9a1e10f - Remove extra include_module line - dunno how that got there. - make lazy_eval_sentinel a const - create #define for &lazy_eval_sentinel (LAZY_VALUE) - create get_include_var function (get, check, get real value if lazy) - cleanup the printenv call to be a bit more streamlined (can't use   get_include_var here since it is iterating through the table here -   well, you could do that, but I won't...)
9b298bf Make mod_include do lazy evaluation of potentially expensive to compute variables.
06dc8ef We should be copying the filters as well when we perform the extension merge (which seems to use a ; syntax).
57b309f Fix logging of bytes sent for HEAD requests.  %b and %B should log either - or 0, before this patch, they were both logging the file size.
fd5ed1c Make mod_include check for BYTE_COUNT_THRESHOLD on a per-bucket basis rather than on a per-character basis.  A significant amount of time was spent checking the limit.  A better place to check for the threshold is when we read the bucket in not as we read each character in the bucket.
b5108c6   After some consideration - Location walk is always required (before and   after any other map_to_storage operations.)  Therefore, initialize any   NULL r->per_dir_config at this phase (the earliest necessary point.)
ab43363   Finish a thought.  I'm hoping this drops the number of obnoxous requests   to bugs for mime.types changes back down to mostly valid requests.
bc01f18   I love it when a plan comes together.
aa5e641   Move ForceType/SetHandler from mod_mime to core, copy the Set*Filter   description for Add*Filter in mod_mime, and cross reference them.
640e927   Ahhh, a const headache.  Here's a flag that is writeable.
450f9a9   Since we can preserve and further canonicalize the subreq_file name onto   a canonical r->filename, let's do so.
a060632   Add some notes of things I noticed while proofing.  We still need a   resolution to rnew->chunked = r->chunked in subrequests!
4a98f80   These no longer work, and even though most of this whole   <IfModule mod_proxy.c> section doesn't work today, at least   get the syntax right for <Proxy > blocks.
e57c936 Let's see if I can commit from win2000 using plink.
8e90e66 Allow us to build APR before APR-util, but clean APR-util before APR.  This should fix the build for BeOS.
dbef4dc Install the mod_core.h file.  Mod_proxy relies on it. Submitted by:	Ian Holsman <ianh@cnet.com>
05a55c7   Can it be this simple?  No, probably not, but this fast-hack will get   us going again for a while.
99fc208 resolve_symlink() is only used if REPLACE_PATH_INFO_METHOD is defined
948fb7d With my normal sense of missing the boat :)
3b7e6c8 Use the full path for libraries.  (This has been in my tree for ages...)
7f6b8db As I understand it, this test is supposed to read like so:
62c8307 Ryan apparently bumped this back DOWN from 2.0.25 to 2.0.25-dev after the last tag, rather than UP to 2.0.26-dev.  =-)
76eef7c   Now that stinks, sorry.  In moving code - I didn't notice my code   now served out (r) info instead of the (rnew) info.  Made for nasty   cyclic loops in mod_dir :(
d78dd20   Much better - sorry - I missed one case of forcing pipeline flush when   the handler returned a non-OK result.  ergo, 304's weren't sent.
679e890   Invoking the handler must occur at the caller's discression, in order   for the sub_req mechanism to share this code.
96c3ce2   After calling ap_process_request_internal(), the caller must invoke   the handler themselves.
0dc1d98   Move the ap_run_insert_filters to consistently occur in   ap_process_request_internal.  This allows the sub_req handler   to alter the filters before the subreq is actually run.
48a818a     Normalize all paths to run the same, common code for pre-request setup     from the primary request, redirects and sub-requests.
3db3236   Normalize all paths to run the same, common code for pre-request setup   from the primary request, redirects and sub-requests.
7cec545   The add-in/strip-off temporary trailing slash logic was really hosed   in the new (not yet enabled) code path.  Now it's slightly hosed.
f22c773 gather all of the cflags for compiling with apxs
9dd8693 Fix a segfault with mod_include when r->path_info is not set (which is the case with mod_proxy).
3c90c3f Add -X functionality back to httpd.
515b152   Fix the new code (not currently enabled) for directory_walk
afbc279 As suggested by Ryan and OtherBill, change the way that mod_charset_lite checks to see if its filter will be added by another module.  Now, we run our insert-filter hook really last and look at the actual filter chain.
fb96a6c   Undo another int type'ed port (and format a little structure for legibility).
5832dc8   Fix a broken declaration (supress type conversion warning on win32).
938bf40 when we bail out due to a fatal error in apr_shm_init(), be sure to print the apr_status_t in numeric form
a4b4e1a   Same as Jeff Trawick's patch [thank you!] only a tad faster, and error   out on the old Set{Input|Output}Filter onefilter twofilter syntax   (prior to this patch, only the last filter in a space seperated list   would be configured.)
b9df160 After committing Brian Havard's fix to Unix file_io yesterday, we seem to be reading/seeking .var files fine on Unix even with buffering turned on.
efe8e43 since the core now stores the input and output filter lists in a different format, mod_charset_lite needs different logic to walk through it
e5daa97 fix an endless loop (well, until you run out of storage from tiny apr_pstrdup() calls and your machine crashes) when you have a filter chain
3731e4e   Thank you again for the proxy autobuild reports ;)
95f9ad5 Use the correct macros in unix.h
43e6833   * configure.in: added Cygwin specific APR_SETVARs.
fe0c7ff dont block when handling non-ssl request
73b79ca fix ap_remove_output_filter; the recent change to use remove_any_filter made it possible to wipe out the entire filter chain.  and then when ap_finalize_request_protocol was called, r->output_filters was NULL, preventing data from being flushed to the client. PR: Obtained from: Submitted by: Reviewed by:
9e5e701   No <sys/ipc.h> under cygwin.
3641520      Changed syntax of Set{Input|Output}Filter.  The list of filters      must be semicolon delimited (if more than one filter is given.)      The Set{Input|Output}Filter directive now overrides a parent      container's directive (e.g. SetInputFilter in <Directory /web/foo>      will override any SetInputFilter directive in <Directory /web>.)      This new syntax is more consistent with Add{Input|Output}Filter      directives defined in mod_mime.  Also cures a bug in prior releases      where the Set{Input|Output}Filter directive would corrupt the      global configuration if the multiple directives were nested.      [William Rowe]
1a9639e   Since the mod_mime patch was applied, here is the rest of the patch to   introduce the ForceType and SetHandler [absolute references] directly   into the very top of the fixups phase.  This means these will always   override _any_ mime module, not just mod_mime.  Ergo, other mime modules   can continue to set charset, encodings, etc.  Since these are globals,   they belong in the core.
3044c08   Fix mod_mime skipping over mime.types when some _other_ field was set   with mod_mime, but not AddType.
24e2aa8 fix suexec's install by invoking some powerful Sascha magic.
cec5937 Make CACHE_IN and CACHE_CONDITIONAL AP_FTYPE_CONTENT filters.  Comtemplating making a new filter type, AP_FTYPE_CACHE.  We need to run CACHE_IN immediately after the handlers are done and before we run the content through any filters.
841b01a Ooops, this should have been committed along with mod_mem_cache changes. Keep track of the number of body bytes written to the cache.
3823232 Three small changes... 1. Change CACHE_TYPE_MALLOC to CACHE_TYPE_HEAP 2. Enable cacheing content contained in multiple brigades 3. Don't cache an entry more than once.
80d015a Update the comments regarding -DONE_PROCESS and -DNO_DETACH since -X doesn't exist anymore.
f94ab6f Added some bulletproofing to memory allocation in the LDAP cache code. PR: Obtained from: Submitted by: Reviewed by:
5eb009b Remove the declarations for variables that were moved into the core.
45ed757 Bump after the tag.
4e59ada Forgot to bump these numbers before the tag.  Re-tagging these three files only.
f9904d3 Finish documenting /manual location change
f8790f6 From Mark Cox:
e8ea6d6 Fix some warnings... PR: Obtained from: Submitted by: Reviewed by:
cd9391d update from Mr. Slive's comments
2d122b4 Add specified user attributes to the environment when using mod_auth_ldap. This allows you to use mod_include to embed specified user attributes in a page like so: Hello <!--#echo var="AUTHENTICATE_CN"-->, how are you? PR: Obtained from: Submitted by: Reviewed by:
f548532 gross
5ec4715   Fix a typo for documentation consistency.
2b2548d Since binbuild is currently doing a static build, the install-bindist.sh script it generates shouldn't expect to find a modules directory.
7c83799 Fix a performance problem with the worker MPM.  We now create transaction pools once, and re-use them for each connection.
6c59a45 Remove some debug code that I had in apxs.in. Submitted by:	Karl Fogel <kfogel@collab.net>
12912e8   This is the same granularity of control as mod_mime gave to set handlers   (and now AddInputFilter and AddOutputFilter by extension) so this seems   entirely appropriate in the core as well.  Options FileInfo is required   to change the processing behavior of files.
e18cb04   Also in the prior commit (1.338)
396bc6d   Someone pointed out that we were running the images through the INCLUDE   filter.  This fixes it, in a sort of hackish way.   I don't remember who noticed this, sorry :(
767bfd9   Version 1.338 of mod_mime also tightened the mod_negotiation behavior.   See changes for a complete description.  Because (in the example) the   .Z extension doesn't affect negotiated behavior, the files index.html   and index.Z.html couldn't be distinguished, and the user would get an   error 406 NOT ACCEPTABLE, which is the _wrong_ answer.
0ba34fe   Introduces mod_mime AddInputFilter and AddOutputFilter filter ext syntax.
f7d9719   Clip a duplicate appearance
bbca0b9   This small patch I committed last week broke the transparent negotiation   behavior.  I hope this is now settled.
0cdf95d Remove an obsolete function from fdqueue.  The worker MPM now uses the fdqueue functions in a different way. Submitted by:	Aaron Bannert <aaron@clove.org>
6c28ee4 As the worker MPM is really an alternative to the threaded MPM                  (and hopefully it'll be a replacement), the httpd.conf settings                 are identical. Submitted by:	Aaron Bannert <aaron@clove.org> Reviewed by:	Justin Erenkrantz
76692f2 Fix a case where on restart, an admin started logging, and the logging code waited to start until the second pass (assuming we were just starting up) to open the log file. Also fix a typo.
9855487 Fix a growing connection pool in core_output_filter() for keepalive requests.  We were allocating a brigade out of the connection pool; the number of these brigades allocated per connection was theoretically unlimited.
f2e3713 Moved split_and_pass_pretag_buckets back to being a macro at Ryans's request. Removed the return from it by setting and returning a return code instead. Updated the code to check the return code from teh macro and do the right thing.
d8af1a3 Fix a segfault when a numeric host (e.g., "Host: 123") was specified.
81be251 Remove some warnings from the perchild MPM
be0f509 - allows empty $val from httpd-2.0/build/config_vars.mk - make code more perlish. - read and parse the config file only once - use a hash instead of array for the list of internal config vars to   test against - added -h option (just print usage) - wrapped numerous print STDERR calls into a simpler error() and   notice() subs - simplified some of the logic in if's using perl constructs.
15cdc86   Solve a bug I introduced this weekend, we want to compare core_*->r   as a boolean, not by value.
3e879a7 The consensus now is that mod_include should just butt out of any decisions about what to do with different request methods.  It's true that mod_include in 1.3.x did not allow POST, but back then it was a handler.  Now it's a filter and can be used to filter the output of dynamically generated responses, even ones resulting from a POST request.  So if mod_include is in the filter stack, it should just blindly parse the brigade regardless of request method.
e757a2f Add information on backwards-compatible handler and magic-mime-types for mod_include.
73fc591 remove_any_filter() and ap_remove_foo_filter() are void; how can you return a value?
066c3b0 fix some calls to apr_pool_userdata_get()
bfe9135 Allow mod_ssl to send back an error message if an HTTP request is sent over an HTTPS connection.  This also adds an ap_remove_input_filter function, which should be used to remove the SSL input filter in this case, as soon as this code is stressed a bit more.
4d79bad   Regroup some of the headers in the win32 module, to make the distinction   between modules/http and server/ a bit clearer.
544cea8   Final additional comments (for the moment) about the new optimization.
88861e6 Remove some unneeded autoconf checks.  We now have no duplicate libraries in the generated EXTRA_LIBS in config_vars.mk (at least on Linux 2.4).
9c42239   Further optimization to location_walk() and clean up unused variables.
7d55e44   Clean up location_walk, so that this step performs a minimum   amount of redundant effort (it must be run twice, but it will no   longer reparse all <Location > blocks when the request uri   hadn't changed.)
290abd5 Fix a typo.
ea0f387   I think this statement makes more sense, please ask if it isn't clear.
46a6922 backing out the ap_set_keepalive uncheck for Content-Length header
1a461cd ap_content_length_filter has already set Content-Length before ap_set_keepalive is called.  need to remove this check in order for keepalives to work. PR: Obtained from: Submitted by: Reviewed by:
68e7797 apr_pstrcat args were not NULL terminated
64caca8 More fixes for APXS.  APXS now works with httpd-test again
6f7bc4a Improvements to APXS.  It now uses the config_vars.mk variables to figure out how to build stuff.  It uses the Apache build system for the generated module, but not for command line builds.  Maybe I'll fix that one day.  If somebody wants to beat me to it, that would be cool.
b0d0bba these modules were never built and had not been ported to 2.0 they have been ported and moved to httpd-test PR: Obtained from: Submitted by: Reviewed by:
3b66b60 Another generated file to ignore.
f0362cc   Toggle the /Zi flag to allow all supportd versions of VC (5, 6, 7) to   build 'out of the box' in debugging mode.
bc18962   That last round calls for a bump.
7552c9c   Eliminate proxy: (and all other 'special') processing from the   ap_directory_walk() phase.  Modules that want to use special   walk logic should refer to the mod_proxy map_to_location example,   with it's proxy_walk and proxysection implementation.  This makes   either directory_walk flavor much more legible, since that phase   only runs against real <Directory > blocks.
d9dee61   Readded "downgrade-1.0" which I (inadvertantly) pulled with the   map_to_storage patch.  I knew it had to have a better home, and   it sure looks like this is it.
e544eec   Split proxy: space using <Proxy[Match] > directive blocks from   the <Directory[Match] > and <Files[Match] > blocks.  Mod_proxy   now bypasses the directory and files testing phase (and skips   the http TRACE default handler on it's own, as well).  Note that   <Location > blocks continue to be processed for proxy: requests.
7d67fb7   Change _only_ the debug build to recognize the /Zi flag (which is portable   for debugging between VC 5.0/6.0/7.0) instead of the VC 6.0+ specific /ZI.
e12a21f We have to initialize the error_bucket before we can destroy it.
dc90fc0 didt pay attention to the first question; pretty sure answer is no
3ee0308 i think the answer to aaron's question is "a typo".  otherwise there is actually 1 less thread available to serve requests than configured. PR: Obtained from: Submitted by: Reviewed by:
8c2f7f8 Fix a security problem which would allow an SSI document to be passed to the client unparsed.
307ab55   Introduce the map_to_storage hook, which allows modules to bypass   the directory_walk and file_walk for non-file requests.  TRACE   shortcut moved to http_protocol.c as APR_HOOK_MIDDLE, and the   directory_walk/file_walk happen as APR_HOOK_VERY_LAST in core.c.
2a2a31a BUCKETS SMS PHASE 1
77b02c8 Added documentation of RemoveCharset, RemoveLanguage to mod_mime.html. Added links to directives.html.
bdaf32f   Downgrade must occur before we attempt to TRACE, e.g., for clients with   broken chunking.
c69b5aa Additional details in mod_mime about what all this stuff means. Reviewed by: Joshua Slive
25cba1c os-inline.c is no more...
27138ec Add the ability for mod_include to add the INCLUDES filter if the file is configured for the server-parsed handler. This makes the configuration for .shtml files much easier to understand, and allows mod_include to honor Apache 1.3 config files.   Based on Doug MacEachern's patch to PHP to do the same thing.
3ffec66 force OpenSSL to ignore process local-caching and to always get/set/delete sessions using mod_ssl's callbacks PR: Obtained from: Submitted by:   Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:    dougm
97b39c0 these #ifs were really confusing emacs indentation, easier for humans to parse this way too
8838912 look for config.guess in apr's build dir
95a67f5 Just a little extra commentary...
64dd764 Fix a double-free condition when byterange requests are made on brigades containing any bucket that cannot be copied natively (ie, pipe or socket buckets).
bb757df   sec, sec, who's got a sec?  This gave me a headache, but I had to clear   out the last patch before I rearranged this to be _readable_.
99bc864 enable i/o debugging
6be8943   Commit this code before another patch becomes to difficult to follow.
4497210 One thing done.
0e224fa Fix seg fault when requesting a page that returns a 'don't cache' header.
e3f378e churn_output should return the value of ap_pass_brigade
b794cde Point to the new FAQ.
f813e12 Remove the old FAQ.
3c97bae Eliminate a cache_handle leak. cache_handle is now allocated out of the request pool.
5c53bb3 Eliminate compile warning.
fe4fa0c Make the worker MPM shutdown and restart cleanly.  This also cleans up some race conditions, and gets the worker using pools more cleanly.
f0411d9 mod_mem_cache
a7ba1a6 Uninstall the filter if the caching layer declines the cache request.
e04da4c Cleanup a few compile warnings...
d738874 Fix a seg fault.
e57753b Another style improvement.
4517cf4 APR returns APR_EOF, not EOF...
e01d7f4 temporarily back out the buffering of .var files while folks have a chance to get APR ungetc working properly on buffered files
16e61c9 protect const-ness of variant->file_name by using ap_strchr_c() instead of strchr()
a6aa1d4 ssl_var_lookup() is enabled apr optional functions do not need to be unregistered PR: Obtained from: Submitted by: Reviewed by:
aedf3b3 fix bogus include recursion error when q->uri and rr->uri are both: "INTERNALLY GENERATED file-relative req"
ddd3cb2 apr_os_thread_current() call needs #if APR_HAS_THREADS protection PR: Obtained from: Submitted by:    Justin Erenkrantz <jerenkrantz@ebuilt.com> Reviewed by:
7bc5a05 fix prototype
7d3995d implement CRYPTO_set_id_callback PR: Obtained from: Submitted by:	Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:	dougm
00bd672 change APR_LOCKALL to APR_INTRAPROCESS for crypto locks PR: Obtained from: Submitted by:	Justin Erenkrantz <jerenkrantz@ebuilt.com> Reviewed by:
462c0c9 Sanitize all the wacky indentation in this block prior to commiting the real fix.  No functional change.
30354a3 only set the crypto locking callback if mpm is threaded get rid of some warnings introduced by the original patch PR: Obtained from: Submitted by: Reviewed by:
12d567e   Add the config of the ForceLanguagePriority directive, since we seem   to agree on what it does.  My last question is where do I force this   behavior without tons of extra filesystem/cpu consumption?
6f3f185 Implement CRYPTO_set_locking_callback() for mod_ssl PR: Obtained from: Submitted by:	Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by:	dougm
791e5ee   Will I ever get my str*cmp semantics right?  Not at this hour...
744ab1e   My initial changes failed to accomodate this faux entry.   If you didn't see any <Directory > blocks working right, try   this cvs update.
cc961d6 buffer .var maps to avoid asking the kernel for one byte at a time
0801743   This flag is no more
76ec29f Somebody please get me a copy editor.
572a020   Revert this patch.  It indicates some fundamental brokenness with the   apr_filepath_root() fn, which should simply return '/' for an absolute   path on (most) unix, and advance the path pointer to the first non-'/'   character  [if only Win32 and others were so simple ;-]
f8b29fb I don't know if this is the Right Way, but it certainly does make things work better right now.  httpd-test is much much happier with this patch (ie, we can serve pages again :)  I'm still seeing issues with mod_include, but that's probably a different problem... will investigate.
4f3d0d2   I'm still not 100% certain on this test.  Regardless, it doesn't impact   Unix, and this was the bug that Jeff's (none the less correct) fix masked.
a1a33b3 fix what would seem to be a serious problem in split_and_pass_pretag_buckets(): the retcode is not specified on one of the paths
48c4116 support "SSLVerifyClient optional_no_ca"
0171b0a fix fubar with recent commit to ap_core_translate()
aed6985 prevent double lookup of ssl::verify::error
eec989f sc->szPassPhraseDialogPath is now constified, so we have to use ap_strchr_c instead of strchr (which == ap_strchr on my system).
017d362   Fix my typo (I invented the silly constant, you would expect me to recall it.)
304f5cb   Increase security in core.c by testing (as we merge the path) that the   URI does not go above the DocumentRoot (as defined by the OS, not by   the URI specification), and give us the true name.
aa07a7d   Whoops.  To explain, we won't dup filename unless it really didn't match   in the first place.  We are about to abuse test_filename, so don't try   using that copy.
1a1e251   Start with the presumption that canonical_filename is not likely to be set.   Therefore we will canonicalize it when it doesn't match filename.
8944117   Another spot we are certain of the canonical_filename
b1c92cd   We already extract e for subprocess_env, and set SECURE_SERVER_PORT   for real.
6013178   Why two ifdef blocks?  This is simpler to read
f1646b2 Another small faq change.
13cff90   Two cases we are certain of canonical correctness
ecad72f   Add a canonical_filename value (should remain the r->filename identity)   so we can tell if a 3rd party module broke the canonical form of the   filename by not calling apr_filepath_merge().
9a1d899 wrong url
9507e7d   Better doc of ap_server_root_relative()
30439ff Update support info.
616e82f please no // in Apache code... it doesn't compile everywhere
dc65657 make it compile :(
18a65b5 mod_cache cleanup:
e7046a1 os-inline.c is no more (fix from bloom)
ebce174   Add some appropriate constness to the config
c46762e at least try to compile all the parts of mod_cache when it is requested
ad2de8d   Silly compiler, const char* is for text :)
560ff1d   I _like_ malloca(), but it needs an include
1ffa5e5   Rather than continuing to canonicalize within directory_walk (very time   consuming on all but *nix systems) we temporarily canonicalize to compare   the results of the many merges, and fail on a mismatch.
503b17b   Eliminated ap_os_[systemcase|[case_]canonical]_filename() and   changes for ap_os_is_path_absolute (moved to util.c).
70baf69   Overhauled ap_server_root_relative, so that it now changes any path   to canonical form through apr.  Also assures that a change to the   ServerRoot through a -C option takes effect before locating the   httpd.conf file.
c17c053   Eliminated ap_os_[systemcase|[case_]canonical]_filename() and   changes for ap_os_is_path_absolute
973dd5b   New ap_os_is_path_absolute() semantics
c01abea New faq for 2.0.  Start with a relatively clean slate. The existing faq will be deleted soon.
3ba6289   Eliminated ap_os_[systemcase|[case_]canonical]_filename() and   move ap_os_is_path_absolute() into util.c (now relies on apr.)
b977a59   Canonicalization will now occur on all sub_req_lookup_file() calls,   and the ap_server_root_relative() will handle canonicalization as well.
69cc655   ap_server_root_relative will take care of this canonical_file call.
62feef2   Performance death notices.  Note that we shouldn't have EVER coded a   module with a fixed path ... the config phase should take the proxy/   path and ap_server_root_relative() it at startup.
2902f2d   Optimize out what is a very expensive in-request call to   ap_server_root_relative (and is becoming more expensive).   Now the call happens in the config phase where it belongs.   Note someone can hop in and transpose the stat and open   with an open and getfileinfo if you are a performance hound.
690def4   Clear out this optimization till we are prepared for it (not now.)
e2167f1   Fix most-bogus ap_server_root_relative() cases.  These don't include   the cases where we are trying to ap_server_root_relative() a pipe cmd!
6fbc62e Replace apr_uri_components with apr_uri_t
89fd52e OS/2 now uses mpmt_os2 by default.
79652e5   This was copied as a test of the ap_r[put|putc|write|printf] family of   functions.  Since those don't seem to be going anywhere, this test is   redundant and a maintance headache.
9067bdb Fix for mod_include. Ryan's patch to check error codes put a return in the wrong place. Also, the include handler return code wasn't being checked. I don't like macros with returns, so I converted SPLIT_AND_PASS_PRETAG_BUCKETS into a function.
694fb62 whoops!  replace two post 2.0.24 fixes I accidently wiped out yesterday.
c2661da Win32 project file for mod_cache.
46956f4 My first try at relocating the manual tree outside of the htdocs/ directory. It will now reside in the ServerRoot, alongside with .../man/ and .../icons/ and .../htdocs/ - Please review the config.layout entries for the vendor specific entries, I supplied sensible defaults but you may disagree.
2014771 Fix using uninitialized variable.
c1bce71 Experimental cache based on Graham Leggett's layered cache design.  mod_cache implements a quick handler, and three filters. The filters are CACHE_IN for loading the cache, CACHE_OUT for serving content out of the cache and CACHE_CONDITIONAL, which handles stale entries in the cache.
c327284   It doesn't get any simpler than this
da745ce remove company name
5d99af7 me too
3e1b629 fix part of PR #7528 "UnsetEnv does not work from main body of httpd.conf" PR also complains: "also does not unsetenv()", but this fix does not address that (i doubt unsetenv is portable or threadsafe) PR: Obtained from: Submitted by: Reviewed by:
99b2042 register ssl_var_lookup() as an optional function
051e111 performance: change an O(n) while loop to an equivalent O(1) brigade macro
b5bfeab Another step in improving legibility by factoring out some redundant code (how many times can you test the same condition in one function? :-)
c553002   Revert these from my last commit ... I had no intention of changing   them in the first place :(
77410f5   Whoops, we would like a whole lot more files, such as images and include
0797ef8 Nit: the lack of brackets was driving me crazy
10638be Simplify the apr_read_type_e vs. ap_input_mode_t silliness.  The two are compatible (due to our early abort when PEEK mode is requested), so we don't have to go to so much effort to convert from one to the other.
ae31fec This probably falls under the category: if you can't figure it out yourself, you shouldn't be doing it.  But we might as well remove obsolete stuff.
de9321e   Complete the rename of the ssl_scache_status_register and   ssl_ext_proxy_register (which has yet to be renamed for it's   future location, since I'm not going further at the moment   with implementing it's functionallity, all my focus is on   the ssl_var_register arm.)
b291723 Oops.. removed the more accurate of the two.  =-)
74ace96 remove conflict crud
a4a0cba Add a note about includesnoexec.
f9493af get rid of nuisance log messages due to subrequests failing with EPIPE
dfc5bb5   Remove a ton o' cruft.  Moves the mod_log_config 'var' extensions to   ssl_engine_vars.c.
484e3a0 Update mailing list and add myself to another list.
7762289 Add a couple windows notes.
6178a2c There's only one way for bb to be non-NULL, so these two cases can be combined.
3ae56fb reverting to sterlings original segv fix when extension_mappings is NULL
d792836 remove #if 0-ed ssl_hook_NewConnection code; was only left for reference, no longer needed remove #if 0-ed ssl_hook_TimeoutConnection code; ssl no longer talks directly to the socket PR: Obtained from: Submitted by:    madhu Reviewed by:	 dougm
8a61898 v2 of sterlings segv fix always initialize the extension_info hash rather than checking that it is != NULL PR: Obtained from: Submitted by:	John Sterling <sterling@covalent.net> Reviewed by: dougm
2471542 another update from madhu
5fc0685 We always need to include the openssl specific directory in the INCLUDES variable.
fa31a27 Follow the leader...
4fbdccc fix segv in mod_mime if no AddTypes are configured PR: Obtained from: Submitted by:	John Sterling <sterling@covalent.net> Reviewed by:	dougm
75ce3f8 client auth is enabled
5954ae6 move some code duplication into ssl_abort() function
ba0d615 Enable ssl client authentication at SSL_accept time PR: Obtained from: Submitted by:	Madhusudan Mathihalli <madhusudan_mathihalli@hp.com> Reviewed by: dougm
bdae3ef ignore generated file rules.mk
3f3a689 simplify some code in output_results() just a bit to avoid a bug in gcc 2.7.2.3 on FreeBSD 3.4; didn't hit the problem with -O2; did hit the problem with no -O
6aa7ee3 some updated pointed out by madhu
b88af1b Yet another place to stick my name. (Are there any other files that have the contributors listing?)
5904f3f Change the new-httpd@apache.org references to dev@httpd.apache.org. There are some references just to "new-httpd" throughout - I left these intact as I'm not sure what the nickname for the new list is (dev@httpd?).
d001e33 rather than creating small 1024 byte buckets of output data, create a transient bucket pointing directly to the BIO mem buff. this makes for a dramatic increase in performance. previously, downloading large files (2Mb-5Mb-ish) made my laptop start to smoke from the fan spinning so fast to cool the cpu. also, apache stylize churn_output() PR: Obtained from: Submitted by: Reviewed by:
6333b12   Explicitly fix some types, and opt-out on macro conflicts
3572670 Ensure that libtool does the installation for us.  This way we will actually copy over the binaries rather than libtool wrapper scripts which would copy the binaries to .libs/lt-* at first execution. Reviewed by:	 Greg Stein
e811bc5 Use uniform wrapping for unistd.h, and don't include it if it's aready included via fileio.h
8354775 destroy the brigade when we are done with it, rather than remove one bucket at a time.  prevents a problem when downloading large files. also change ssl_io_filter_Output to apache style and change some variable names that should make the code easier to read/understand, e.g. pbbIn -> bb, pbktIn -> bucket PR: Obtained from: Submitted by: Reviewed by:
e8236dd In absence of an explicit --with-ssl= path, use the PATH order before trying hard-coded /usr/local paths
a712ab4 Add rules.mk back to the substitute list.  I forgot to add the rules.mk.in files last night, but they are there now.
cb8be73 Add rules.mk.in, and remove the old rules.mk.  This finishes the libtool patch from yesterday.
0f54292 Fix a segfault in mod_include when the original request has no associated filename (e.g., we're filtering the error document for a bad URI).
7fc3262 We don't have rules.mk.in, so autoconf/m4/sed will overwrite the good rules.mk with a blank file.
674ec01 Bringing 2.0 docs up to date with the 1.3 docs.
007d14d Base template for Apache module documentation
3e05759 We finally got a little bit of rain.
aabd585 Be gone old cruft!
f8b2c67 Allow Apache to use libtool 1.4.  In order to do this, we check the libtool version of the machine, and we add the correct flags to the build. We also had to remove the --disable-shared in order to make this work correctly.
5895fdc We need to check for sys/sem.h
52eb79c Fix a storage leak in mod_mime_magic.
3468587 and swap Auth/UserCheck names to match the hook names, in hopes of preventing further foncusion
ac9c800 authentication/authorization hooks were backwards make authentication hook run APR_HOOK_FIRST for FakeBasicAuth PR: Obtained from: Submitted by: Reviewed by:
9b4590e   Changes for rbb's #include/build openssl/inc32 patch.
ad9beff If we use a type-map, we need to set up the handler.
4e21707 Remove the old version of the error docs.
2db05af Fix a couple small grammar things.
4a1d538 I hope I don't get anybody upset here, but I'm going to go super-simple on this for now.  I removed all the fancy stuff.  If someone wants to put it back in after we've thought a little about things like the location of the graphic file, I will have no objections.
2fb61a1 Typo fix to get error docs going.
897c100 I don't like underscore as a name prefix.
8eba9b3 cut out some noise
242a4af get rid of asserts
cc7269a Roy beat me to the commit. Anyway, fix the version numbers in the comment so that it reflects reality (so I think).
aa13640 Due to some lunacy in ndbm.h on some platforms, we need to find the right include directory for db.h if we include ndbm.h.
17e1f84 Fix wrong variable (REDIRECT_METHOD -> REDIRECT_REQUEST_METHOD).
89052f1 remove #if 0-ed ap_flush_conn() call; filters now handle flushing
9d806f4 remove unused #if 0-ed code when reading from the write bio
6c69c64 remove unused ssl_io_ functions
d09d772 remove some unused hook code enable child init hook PR: Obtained from: Submitted by: Reviewed by:
dce3cf9 Fix build breakage on Linux glibc 2.1+ systems that prevented db1 from being correctly found for mod_auth_dbm.  This is similar to the mod_auth_db check.
d987592 one too many deletes
3180951 Do not send irrelevant bits by default.
8ee2fbe D'oh. Change REDIRECT_METHOD to REDIRECT_REQUEST_METHOD.
b014797 Do not send trash out on every single error message that has no relevance to the error and contradicts the HTTP standard.
40bf761 Add the rest of the error docs to httpd-*.conf.
9d9bf07 Add the openssl/include/openssl directory to the INCLUDES variable. This allows us to remove the openssl from the #include lines in the mod_ssl files.  This makes it easier to use a different SSL library, with fewer changes to the mod_ssl files.
c74afe5   Going back a bit too far, fix the cwd
2ba6dcc contact is now a typemap file.
4a0785d Combine top+header and bottom+footer to make things easier for me to understand (and a little quicker).
7fe92b4   Modify Makefile.win to install the ssl-enabled abs.exe binary   as 'bin/ab.exe' if srclib/openssl exists.  Adds abs to the Apache.dsw   IDE workspace.
5a7ddc9   Create the abs.dsp win32 project to support building ab with /USE_SSL,   and modify Makefile.win to install the ssl-enabled abs.exe binary   as 'bin/ab.exe' if srclib/openssl exists.
5893ad8 Convert the rest of the error docs to the new type-map format.
65e3920   Just chasing nits
5f25da7   We might want to disable this, by default, when we get ready for GA.
c8698ef The prefork and OS/2 MPMs are overwriting the pid file when a second copy of httpd is started and shuts down due to socket conflict. Moving the call to ap_log_pid solves the problem.
f1a4bc7   *) Changed the late-1.3 log_config substitution %c to %X (logs the      status of the closed connection) as it conflicts with the far more      common, historical ssl logging directive %...{var}c.
95b0b31   Evil missing close text block.
76a93c2   Now to wait and see if I broke anyone (apologies in advance!)
71a6826   If my grep and brain are working, that's all there is to adding error/   to the *nix build.  If I'm wrong, don't shoot.
1649223   catch up with errordir.  Modeled simply after iconsdir, hope that does it.
555fbf9   Copy the error/ tree
68a695a   Replaced by HTTP_UNAUTHORIZED.html.var
7d52f08   My bad.  We need to use the constants defined in httpd.h.  The essential   reason is that these errors will grow to include 'other' things, like   custom error responses, DAV error responses, and so on.  They may also   start including 'sub errors' - local langauge explanations of specific   failures.  Let's use the httpd.h constants rather than numbers, they   are easier to read.
a6b8814   This is a combined typemap/error response file for multiple langauges,   as originally contributed by Lars.
35a3b47   moved to httpd-2.0/docroot/images/...
c456b67   This is the Body:tag\n<Content>*tag\n patch for type map files.  If the   content can be served, it sends a file bucket of the type map file   itself, forward spaced to the <Content>, set to the length of <Content>.
705282c ignore *.plg (from MSVC builds)
af3b2ee adjust to apr_uri_ rename Submitted by:	dougm@apache.org Reviewed by:	ianh@apache.org
bc7292b HTTPD -> httpd
e9726a9 Catch exceptions in worker threads so a segfault doesn't kill all active connections in the process. When this occurs, a graceful shutdown of the child is initiated so any leaked resources & hosed memory is disposed of ASAP.
4bf48e8   Per Martin, Mark's and my discussion, index.html will _still_ override   the typemap, and enabling multiviews will undo the optimization.
7e76f3b Extend 'openssl' search to the directories from PATH
5b8b684 Make mpmt_os2 the default MPM on OS/2.
668b416 Remove todo item, fixed in APR (append mode fix).
3663a64 Make test for EAGAIN portable in content length filter. This fixes some failures in CGIs on OS/2.
0dbd6fd OS/2: Use full set of linker flags when linking shared core loader EXE.
d222204 - Switch to AC_SEARCH_LIBS to check multiple libraries for mod_auth_db   (the AC_* way of doing what Martin committed)
96c5f63 On modern systems (e.g., FreeBSD), the db* functions reside in libc rather than in libdb. Also, be more precise in telling what is actually checked for (we are NOT testing for main(), but we are testing for dbopen(), right?). Without the first fix, configuration would fail completely for FreeBSD
c5d6f88 Moved the directive listing up. Or the additional discussion down, depending on how you look at it.
83619da change filter name to CaseFilterIn (mod_case_filter.c already uses CaseFilter) allow filter to be configured without 'CaseFilterIn On' PR: Obtained from: Submitted by: Reviewed by:
7263eb0 Error is argument listing for version sorting. A few minor typos.
9d10ca2   This is the same patch as httpd-std.conf rev 1.38, just keeping them   in-sync
2f99b24   This patch;
96d77b7   My bad, sorry.  Here is ...
83516c2   This Variant type-map file is the authoritative reference to our   "It Worked" page variants.  Of course it isn't yet (although it is   complete), please review httpd-std.conf as well as this list   for inconsistencies (I documented those I discovered).
c802a1d MSVC can't seem to handle         int buffer_len = 1;         char test_buffer[buffer_len];
f1e03cb Additional hint in the HeaderName documentation
ee283b4   Assure that non-FancyIndexed listings properly shortcut dir entries,   and display and href the trailing slash, as well.
b90df28   This doesn't belong in the distro (certainly not installed in a docroot.)
2090fa8 adjust to apr_uri_ rename
6aee410 Per discussion on new-httpd, change the logic to do the following:
d40f9b2 adjust to UNP_ -> APR_URI_UNP_ rename
ec6e430   Add the advertising clause text to our own README when we link and copy   the openssl binaries.
b9d985b   This is Apache 2.0, which has been essentially rewritten.
6fdd45d Update the Apache code to account for the XtOffset change in APR.
24a865f Note addition of mpmt_os2.
b1e77c0 Add standard ignores.
8b878bb A little more clarity in DescriptionWidth. Better phrasing recommended by Bill Rowe on SuppressDescription
d7ef319 Added a default commented-out mod_ldap and mod_auth_ldap configuration to httpd-std.conf and httpd-win.conf PR: Obtained from: Submitted by: Reviewed by:
b1c9e15 Some documentation corrections. Add the missing LDAPSharedCacheSize directive to the docs. PR: Obtained from: Submitted by: Reviewed by:
6cd008d Readme for the multi language error documents.
cb07d33 Some small cleanups for consistency PR: Obtained from: Submitted by: Reviewed by:
6437284 Support files for multi language error documents and an example logo.
acf69a1 Add multi language error documents.
27e042d Added documentation for mod_ldap and mod_auth_ldap. PR: Obtained from: Submitted by: Reviewed by:
d9064c3 I had SuppressLastModified turned on, and so had the wrong number for the column width.
38c3d80 Enabled negative caching on attribute comparisons in the LDAP cache. Fixed a problem where the default cache TTL was set in milliseconds not microseconds causing the cache to time out almost immediately. PR: Obtained from: Submitted by: Reviewed by:
ac47087 Added a little more detail to the SuppressDescription argument to IndexOptions
e32f5c9 Fixed all the #if APR_HAS_SHARED_MEMORY checks within the LDAP module code to follow APR. PR: Obtained from: Submitted by: Reviewed by:
0862fbc Fixed LDAP cleanup on graceful restarts. LDAP connections are now cleaned up when the connection pool pool is cleaned up. PR: Obtained from: Submitted by: Reviewed by:
f428511 Add a missing .cvsignore file.
0827684 Clean up an unnecessary function.
9e10db0 Fix a minor issue with Jeff Trawick's mod_include patch. Without this patch, the code will just allocate more bytes in get_combined_directive than are needed.
a7b54d9 Update the CHANGES file PR: Obtained from: Submitted by: Reviewed by:
a52f6ea Landing of mod_auth_ldap - the LDAP based authentication module. PR: Obtained from: Submitted by: Reviewed by:
def0eda Oops - left off the apr_ldap.h file in the commit. PR: Obtained from: Submitted by: Reviewed by:
011142a Landing of mod_ldap - the LDAP cache and connection pooling module.
b00ae05   Beat the dead horse
d12da6b After fixing append mode in APR, we no longer need to copy the error log handle from the parent process.
b44e38b I have bumped the tag, now put the CHANGES file back.
932b779 Bump the changes tag
8ace972   Bring include and lib targets into line with Unix, and drop the segregated   lib vs. libexec, since we have (carefully) avoided potential name clashes.
b92d118 mention some mod_include fixes (currently in 2.0.25-dev) and some previously unacknowledged Win32 stuff in 2.0.24)
b8046f8   Heck, create them with .txt filenames on Win32 so the os knows how to   open them ;)
00ef0da   As we package the minimal binaries, package a minimal (but comprehensive)   set of readme, license and news for the OpenSSL .dll's and openssl.exe.
41e43a8 Fix a problem in mod_include when we reached the BYTE_COUNT_THRESHOLD after parsing the first part of the tag.  We could get errors like
4e0b673 we're only going to re-scan the directive when we're in PARSE_DIRECTIVE state, so only reset directive_length when in that state
912fa03   Add some pretty danged important files to the win32 install.  It's a shame   these are all mixed up with the other top-level stuff.
e5e390e   Add Win32 observations, and shortcut some more questions to bugs/new-httpd.
0891480   Resolved, by the installer
28e9157   Fix some <IfModule > badness on Win32
aa8de93 Fix a problem parsing tags.
55e27a2 Add short summary of mpmt_os2.
e0ee364 initialize some values on variable creation Submitted by:	John Barbee <barbee@veribox.net>
fb552a5 New multi-process multi-threaded MPM for OS/2. Not fully polished but works better than spmt_os2 already (graceful restarts actually work). A summary of the process/thread structure is provided in the comments at the start of mpmt_os2.c
e0bb6d6   (No Error) didn't make much sense - fixes the error report for no   default service installed.
eceec70   Since we expect many users to start experimenting with the next release,   and the 'Apache' default server name definately conflicts with a stable   1.3.20 install, changed the AP_DEFAULT_SERVICE_NAME to "Apache2" (unless   the user overrides in the compilation.)
fc1e839 Last call before I delete a bunch of obsolete files form httpd-2.0/docs/manual/
ee82e65   Don't retrieve the default service name if the -k run arg is given.   -k run represents running 'in a console', and is the default if no   -k option is given at all.
94df2d3   Ok, I didn't like the choices I made an hour or two ago.  Here are (IMHO)   the most appropriate log levels (feel free to debate.)  OTOH, this patch   fixes the problem with an apache -k start -n foo command simply exiting,   when foo isn't installed.
1378e68 OS/2: Don't share data segment between multiple instances of the shared core as doing so makes a multi-process MPM crash & burn....
eb06759   We must scream certain errors from the rooftop!
6a7efe8   Add the ImagePath entry for Win9x services [as later 1.3.x versions do].   This is required for any Apache management/monitoring app on Win9x.
b877402   The last of the ignore goodness for tonight
6d654c0   Based on the VC6 switch - and pulling the win32 make files from cvs   - some more ignores are in order.
3ebb727   Complete .mak-file-less support for VisualStudio 6.0+.  This won't work   on VS5.0, those users must still copy in the make files.
9062307   The purpose of this patch is to toggle the debugging mode (default) to   Program Database (from Program Database for Modify on the fly debugging).
9bd41098   Given a choice between chasing my tail to keep these updated, and rolling   a set when we actually roll a tarball, I'll take the later, thank you.
63c8658   Whoops... a ton of extra cruft had landed in the bin/ directory!
923914d Fix behavior in the event that a socket is closed. Submitted by: barbee@veribox.net Reviewed by: orlikowski@apache.org
024d019 Fix --enable-modules=all breakage with mod_auth_db and mod_auth_digest by allowing a module to disable itself if its prerequisites are not met.
6c66979   Thought this had already been axed
4d5f123 Hello, Goodbye.
849889a   Not here anymore
0bf8fca   Undo a very bad decision.  By naming the version file .ver, I lost track   of it setting aside the generated resources.  This assures that file won't   fall through the cracks when we generate zip files.
d418d73   Good to the last drop, this should be all of it.
ebf7a3f   Ignore goodness
0ef3b7a   Add the red light/green light to ApacheMonitor's popup menu.   [Mladen Turk <mturk@mappingsoft.com>]
4096544   Hush
1c0c1a7   The two more Remove flavors needed testing, as well.  While I'm at it,   add a reasonable explanation of why we are about to copy.
901dab0 check for timeout on socket read when we check for ECONNRESET and eof
8e7232b   Spell it right, per Mr. Coar
19855b0   Missed a versioned win32 project in my tree
cfa51df   Replacing label after pushing tag
80d01c5   Push back CHANGES to document the complete mod_mime segfault solution.   Rounded out the mod_mime Add/Remove pairs by adding RemoveLanguage   and RemoveCharset directives, and rolled in the remove_items handling.   This is (effectively) my complete patch, sans pool optimizations.   [William Rowe]
7f6f1a2 fix a few mod_ssl warnings for stuff like function which were neither static nor prototyped, char * vs. const char *, etc.
4a48ea1   Build on Greg's fix for the hash copy, and always copy the exinfo elements   as well.  This should sufficiently demonstrate in benchmarking why we either   must optimize, or revert to tables.
0324327   Fix the 'never disappearing' popup menu - anchor it to our (hidden)   global window, which allows TrackPopupMenu to lose focus when any other   window is selected.
3fb380d the 2nd parm to strstr() doesn't lose const-ness, unlike the 1st parm; thus, AP_DEBUG flavor of strstr() should declare 2nd parm as const char *, not char *;
b56f36b   A bit overboard - this registered window message only needs to be   retrieved once
9806c6d   Wipe out some resource leakage.
4314bb2   Revised patch to clean up timer and other issues
a3dbab2 at least make a note of SSL_R_HTTP_REQUEST error (until this is properly dealt with)
5eb7150 if ssl shutdown happens earlier than expected, filter code needs be aware
a3def5e   Bug fix to the WM_TIMER that was not properly called after it was moved   to WndProc. (The message is WM_TIMER and wParam is timer event)
c64021d need to remove buckets from the output brigade, since we will be passing a different brigade
5321f5a A few fixups to the new logging docs.
56381ea Bump after the tag.
a566d29 Bump for a 2.0.24 tag
2e238e5 Fix a new error on Linux.
923b7a1 We can't use a static buffer for this patch, because that wouldn't be thread safe. Submitted by:	Greg Marr <gregm@alum.wpi.edu>
aee4f61 The Unix MPMs other than perchild now allow child server processes to use the accept mutex when starting as root and using SysV sems for the accept mutex.  Previously, this combination would lead to fatal errors in the child server processes.  perchild can't use SysV sems because of security issues.
698d945 fix check for newer header files to look in all relevant directories
60d30d5 can't pass const char * to ap_strchr()
4a63d7c   Just rambling
03fe075   Now that it's apr'ized, ab is most definately in a 2.0 revision cycle,   and definately needs to track the Apache revision (especially because of   apr and apr-util!)
b0b0649   More Versioning
78c17ba   Nothing here to ignore, go away :)
07930ca   Toss win32 version stamps on these
964f21d   Add auto-generated Win32 versioning.
cc123b3   Reorder OS_VERSION(s) so >= OS_VERSION_WINNT, etc, tests correctly.   [Mladen Turk <mladen.turk@mail.inet.hr>]
580f5af   Access the (generated) ApacheMonitor.ver version resource.
9b52302   Goodness
48f1761   ApacheMonitor versioning needs to click in with the httpd version.   Also remove the icons deprecated by Mladen late last week from the IDE.
ad60946   Autogen the win32 resource descriptor (icon + version) for Apache.exe
e307782   Picky versioning.  Must have 1) a real language/charset in the versioning,   and 2) fixes the Copyright (which effectively runs on too far) by placing   the 'see other' stuff in the Comments.
69fe35c   Duplicates (and is stale to) the copy in srclib/apr/build
db14e8f   A first step at auto-generating the version resource for all win32 binaries.
02f7721 Fix a few tiny typos
45f9e0c Merge in changes from 2.0.23 branch
12aad48 Fix ap_rvprintf to support more than 4K of data. Submitted by:	Cody Sherr <csherr@covalent.net>
86d0766 Note date that 2.0.23 rolled.  Too bad it was broken.  8-(
d79cea3 enable ssl Translate, UserCheck, Access and Auth hooks
72c47f3 Document the recent directive enhancements for cookie syntaces.
b450559   . clean up strings and remove them to the resource file (the simplest     way to later localize a win32 app.)
e8dd698 Whoops, forgot attribution
2c8dd77 	Add CookieDomain directive to allow setting of the Domain= 	cookie attribute; add CookieStyle to allow specification of 	cookie syntax: Netscape (default), Cookie or RFC2109, or 	Cookie2 or RFC2965.  We have historically supported only the 	obsolete Netscape syntax.
29f7e12 The Port directive does effect VirtualHosts.
ac17ff1 Fix an off-by-one error in an argument to apr_pstrcat. Submitted by: barbee@veribox.net
c216c21 fix some homophonic issues in comments, as well as some mispelings found near "its" or "it's"
fba29f9 Proxy now works as a DSO on AIX.
911fea9 Fix a char * vs char ** mixup... Submitted by: barbee@veribox.net
a8cd0d6 Works under AIX as a DSO now.
e08442e   Save a ton o' space by rle encoding the header bitmap.
84b0824 Tweak server/Makefile so that the rules for generating exports.c are compatible with make utilities which don't expand wildcards in a dependency list (e.g., OS/390 make, certain levels of GNU make).
5e3e42e   Solve the segfault until the right patch is unearthed.   [Greg Ames]
aee905a   Fix a small bug that limited the description's width to the filename's width.
5c241d1   Outch to Win9x... can't be destroying locks asymetrically.  Do we want   this lock on NT as well?  That's another question.
8bc9964 > 1. Cleaned the ApacheMonitor code a little bit. > 2. Removed two icons apmall.ico and apsrvmon.ico > 3. Added option to recognize the Apache*.exe (e.g. Apache-1.3.20.exe) > 4. Removed AboutBox > 5. Changed refresh time to 2/20 sec.
981021f Break http_proxy_handler into multiple smaller functions. Submitted by:	John Barbee <barbee@veribox.net>
d9ed774 need to check return value of ssl_hook_process_connection if != APR_SUCCESS the ssl connection has been shutdown (for example client cert was revoked) PR: Obtained from: Submitted by: Reviewed by:
2b5249d namespace-protect accept_lock_mech
4ce9036 Fix build of OS/2 MPM after recent move of common code. Cody did well to limit breakage to just this :)
a5753ea OS/2: Allow mod_dav_fs to build as a DLL. It needs special treatment as it makes calls to mod_dav. This links it against mod_dav's exports.
184c965 Clean up several parsing errors in find_ct that may or may not be causing a seg fault.  In any case, it was butt ugly code.
be858e9 Add contact info to README (was in INSTALL in 1.3)
3e62f93 Install the SSL header files. Submitted by:	John Sterling <sterling@covalent.net>
b4fee0f Lots of small config file changes including:
c8809eb change the name of AP_MPM_NEEDS_RECLAIM_CHILD_PROCESSES to be more consistent with similar names added recently; this also cleans up an #if/#ifdef discrepency
f29b938 (hopefully) get WinNT MPM to build using mpm_common.c code; a few notes:
3f770a0 allow non-Unix MPMs to use mpm_common.c by not automatically building in Unix-specific code
989190c get threaded to compile again by fixing a lock_fname/ap_lock_fname mixup
8006145 Begin to sanitize the MPM configuration directives.  Now, all MPMs use the same functions for all common MPM directives.  This should make it easier to catch all bugs in these directives once.
999e8ff Close a major resource leak.  Everytime we had issued a graceful restart, we leaked a socket descriptor.
3bed613 Remove a warning from mod_echo. Submitted by:	Ian Holsman <ianh@cnet.com>
b4118f1 Make the body read in proxy http handler nonblocking. There's no sense in serializing 4-8 client connections into a single origin server connection, as is the blocking behavior.
4f28d38 Change the MaxSpareThreads to 150 for threaded MPM.  This mirrors the new prefork setting and removes the default case where we would spawn three children, but kill two of them immediately because MaxSpareThreads was set to 10 (only one children can be supported with the old value).
4ef85cc Put the MaxClients setting for prefork back to its 1.3 level.
8c67824 Fix the macro expansion problem in the hook declaration. Submitted by:	Ian Holsman <ianh@cnet.com>
2baa3fe Fix the proxy when the origin server sends back a 100 Continue response.  [John Barbee <barbee@veribox.net>]
923920d Forgot the CHANGES comment with my last commit.
6e932b2 Fix the new method code.  We need to cast 1 to an apr_int64_t or it will be treated as a 32-bit integer, and it will wrap after being shifted 32 times. Submitted by:	Cody Sherr <csherr@covalent.net> and 		Ryan Morgan <rmorgan@covalent.net>
e5a1913 hot and muggy in Raleigh (i.e., it's August)
e6b8ba0 Wipe out a couple suspended bugs.
fe979a1 Move things to the docs/STATUS file and reference the various STATUS files sprinkled throughout the tree.
18999b2 Hot and sunny again in Montreal.
8228ea9 Clarify what %U will log.
a2cab6e This should fix the remaining problems with POST.  Basically, we add a new macro, called APR_BRIGADE_NORMALIZE.  This macro searches all the buckets, and removes any zero length bucket.  They we can just use APR_BRIGADE_EMPTY to determine if our brigade has any data, and we can quickly call ap_get_brigade if it doesn't.
885ffa2 Eliminate duplicate info and add references to logs.html.
a20d064 Bring forward new logs.html doc from 1.3.
3ce4665 Fix a bug in mod_expires.  Previous to this patch, if you told mod_expires to add 604800 seconds to the last-modified time, it actually added 604800 usec's to the last-modified time, so that when looking at the response it looked like nothing had been done.  The root of the problem was that we always compute time in usec's, but we ask users to input sec's.  This means we need to convert to usec's before using those values. CS: Obtained from:
2642621 The worker MPM now handles shutdown and restart requests.  It definately isn't perfect, but we do stop the servers correctly. The biggest problem right now is that SIGHUP causes the server to just die.
5c8e8e3 record something in the error log if the parent process seg faults
8c5a2f6 We want to use mod_cgid with the worker MPM as well.
9230a4a This change was moved into 2.0.23.  The problem therefore both began and was fixed in 2.0.23, so no CHANGES entry is necessary.
38f2790 Fix a restart problem when cgid is used.  Code in the parent httpd process was trying to clear a pool which is now only initialized in the child.
4b239f3 If we are going to get the length of a brigade, it helps if that brigade has data.  To that end, if we have just expanded ctx->b, we need to concat ctx->b to the end of b, so that b has something to pass back to the previous filter.
9d615b2 Add a comment so that the next poor fool who re-writes this section of code will know about this case.
979df5f Handle the -1 case in ap_http_filter.  -1 means that we have to read all data from the socket until the socket is closed.  This has been used to proxy www.google.com successfully, but it doesn't return anything when used with www.yahoo.com.  Still debugging that problem.
6513c02 Remove the block argument from apr_brigade_partition.  This looked good in theory, but in reality, we should just rely on the timeouts to handle this.
c7ca725 from madhu: no longer need to force eReadType and eMode
0e959b9 Re-apply the patch from yesterday that makes ap_http_filter use apr_brigade_partition.  In order to do this cleanly, I had to make some changes to the apr_brigade_partition API, so this also adds fixes all of the calls to that function throughout the server.
b4c1b66 Update httpd to reflect change with free() pointer in buckets code
9e5f627 get POST requests working with mod_ssl
bc55c10 Apache Monitor's tray code does not notify Windows to remove it from the tray when the process is destroyed. Just needed to add a call to remove the tray icon before PostQuitMessage(0).
558a1a9 drop a brace inside #if 0 so emacs can indent properly
91b1d66 s/apr_size_t/apr_off_t/ for input filter
ed1a9a7 Bump to 2.0.24-dev after tag
f8e8224 Bump for 2.0.23 tag
a2f4e88 clean up the scoreboard properly after threaded processes die gracefully.
1d500be Hopefully it's marked as binary this time around...
4fcfb03 This file should have been marked -kb ... it's getting CRLF translated by CVS on Windows.  I'll re-add it as -kb in the next commit.
81be3f5 change readbytes from a apr_size_t to a apr_off_t to match the parameter required in ap_get_brigade Submitted by:	 barbee@veribox.net Reviewed by:	 ianh@apache.org
8f2a259 change the parameter to ap_get_brigade from apr_site_t to apr_off_t, due to a parameter change in the original filter. PR: Submitted by: barbee@veribox.net Reviewed by: ianh@apache.org
f669335 Update .rc file to fix build
509ad5a prefork is default.
03dde07 Use the prefork MPM by default on Unix.
68c0c55 I accidentally committed the DOS line endings in that last commit.  This strips them back out again.  Diff this against v1.1 for the real changes.
a48a518 Oops, missed the .mak file update.  [Again, I'm flying blind... somebody please check this.]
4c8044a This is a nearly blind commit of an update posted by Mladen Turk just after the initial import.  Mladen, please check this to see if I got it right.
3712a19 this change breaks POST, backing out for the moment
ca28a79 mod_rewrite: Fix the line ending on some non-Unix systems for messages written to the rewrite log.
cd6a44f   Must return something in the 2^32 domain (preferably one, as shown here),   not in the 2^64 domain.
9fc8386 Greatly simplify the ap_http_filter logic, by using the apr_brigade_partition function.  This should also remove a warning from the Windows build, because apr_off_t and apr_size_t aren't the same size.
3a2b78b   Update for the 2.0.23 tag
ac9c009   Include ApacheMonitor/wintty in the build.
5e6f26c Update the README so that it reflects just what Apache is today, and so that it is correct about where things reside. Submitted by:	Joshua Slive <joshua@slive.ca>
58c8930   Just cleaning up some indents
556941b Back out a patch that wasn't ready for inclusion.  Thanks to OtherBill for pointing out that this was committed when it shouldn't have been.
cf2e6a1 Remove all warnings from the input filtering stack.
258b05f   The solution for an icon monitor app has arrived :)
9100d8f   Eliminate emits
ecfff91   Thanks rbb, and the modproxy-dev autobuild report for pointing these out.
6f5d3de   Here today, gone yesterday.
a7632f5      All mod_autoindex query parsing is now quietly quashed with the      IndexOption IgnoreClient.  The IndexOption SuppressColumnSorting      still drops the column sort <a href>'s for the column headers, but      IgnoreClient is required to ignore these Query options entirely.
7e99031 Fixed an error in ap_ssi_get_tag_and_value().  It was not placing the null terminator in the right spot for the tag_val if the value contained backslashes.  This caused #if, #elif, and #else expressions with backslashes to be incorrectly evaluated.
5c1fdbd Formatted output changes only...
00b50aa Fix a segfault (was getting triggered by mod_include at least) caused by calling ap_allow_options() before setting rnew->per_dir_config.
56cee9c   A debatable change, to return (an absolute) 404 if some of the extentions   of every matching file isn't decodable by mod_mime, instead of 500.   Adopted 404 as the result, per Roy Fielding.
98d5411   Mumblings
f541f91   Change the error wording, slightly.
ccf7dc7   Thanks goes to Manoj, while commenting on another issue, for triggering   this idea.  If we find files matching (e.g. index.html.bak matches   index.html) but they are rejected because we don't understand them   (e.g. they are a directory, or .bak isn't a mod_mime recognized extension)   then Error 500 out of here, with a note for the system administrator   explaining that index.html matches some files, but their extensions   cannot be grokked.  No more (unintentional, or situational) autoindex :)
c4fb990 plug mod_cgid restart leak
0d77404   Per Silve's request, some docs that I was messing with these.
a5dcd77   Whoops, missing win32 goodness
3a60a51 a couple of hacks to mod_example to get it to behave a little better:
d51dbc7   Gone, see .html.en flavors
773df83   These will _not_ be required in 2.0  If they are required today, there is   still a bug to track down.
ff7a816   Remove the ->mtime reset back to negotiation, who decided to do this.
5835764   _THIS_ is why mod_dir wouldn't serve the results of mod_negotiation   with a query string
347b034   Fix typo from extracting the fast-redirect code
68eb2c2   The real slim shady finally stood up.  This patch segregates the fast   internal redirect logic back into http_request, the next patch will   actually fix it.
7c91bb3   Kill some deadwood
bb39b51   Same cleanups as applied to mod_cgi, falling out of scope != destruction   in plain ol' C.
dc55b24   We are done with this subrequest (before we even got started...) so   dump it early.
0fcef8e   This is not C++, falling out of scope doesn't constitute destruction :)
6adc4b0 Explain the worker MPM
0caa23e Remove all the warnings from mod_example.c.
c2c43f7   This was entirely broken.  We cannot skip the location walk just because   we are in a file subrequest (think of a file server-status sitting in   the document root, this shouldn't be blindly served as a 'file'.)
4e62141   Just a little cleaner.
725bb2c   Multiviews and mod_negotiation will already handle this case, it never   belonged in mod_cgi itself.
f7e1f07   More explanation
643dfa0 Get the worker MPM working again.  This should fix the serialization problems, and it makes up initialize the queue only once.
ea0bdc7 Speed up the server's response to a spike in incoming workload or restarts.
da63739 cosmetic changes only for a clean build; no serialization problems addressed; I presume those are waiting for an APR-ization of the queue/condition mechanism
94bfb8f minimal changes to get it to compile
f96ecb7   Subtle variation for security.  If the mod_mime file has nothing specific   to say about a given set of file extentions (and has only based the   resolved fields on the default language, encoding and content type)   then tell us we can ignore the result by leaving the exception list   entirely undefined.  If mod_mime adds anything (a language, charset, or   whatnot) then proceed to use the file in the Multiviews evaluation,   otherwise mod_negotation will ignore the file found.
b42eaaf axe unused variable
1738c88 Correct the default.
d640fd4   Solve the major underlying problem of content negotation by passing   mod_negotiation the 'unresolved' parts of the path in a ->notes   array ap-mime-exceptions-list.
963d241 remove a gcc warning, leave object code unchanged
06c8676 Forgot the CHANGES, as usual....
912ccbe   Save hundreds of cycles on every autoindex request by _not_ attempting   to to test the parent (..) sub request!  This patch also allows the user   to see things that will redirect them.  That way, the lnk or dir within   the directory is displayed correctly.
82290d0 Add a timeout when making connections from within the proxy. Now, if someone wants to add a special scoreboard state for proxy attempting to make connection, be my guest.
b64a6e8 Both the ftp and http proxies were erroneously sending a flush bucket after an eos bucket. This had been put in place to repair a bug, but was covering the symptoms, rather than providing the cure. Bug repaired, and kludge removed.
9cdc79f Update this custom bucket to use the free function pointer in apr_bucket_type_t
6adddef Expand .html.en, .html.fr and .html.ja.jis as well as .html and .html.html.
fc6c483 Handle the ap_pass_brigade inside the SPLIT_BRIGADE... macro.
8b2fc68   That's enough for tonight ... gheesh.  Allow 2xx + OK (0) results from   the subrequest to go out to the client.  This doesn't address (..)   anomilies, which I will address in the a.m.
52e2559   Allow a slightly larger range of acceptable responses.
94ff016   Fix some major brokenness.  We were not validating that the autoindex   subrequest'ed file was valid, and did not check a subrequest at all if   the user didn't use FancyIndexing.
913809b   Begone ancient beast.  IndexOptions FancyIndexing is sufficiently less   confusing.
5f9b514   Provide an ap_set_deprecated() fn for quick-and-dirty 'we don't do this'   entries in the command table.
98747dd   Thanks Justin :)  This also looked a bit klunky
5c65228 Somebody please teach OtherBill how to spell "deprecated".  ;-)
b20d409   It's a new book.  Time to throw out the old switch-hitter plays.
d6b95f3   Undo my unintentionally overzelous name change, and fix the style of sizeof()
0db7162   If it won't let us run in APR_POOLS_DEBUG mode, it's broken.
d38326b fix a problem in the threaded and worker mpm's where a keepalive connection on one thread can prevent the process from exiting.
0b6c2c7   Make this legible.  Points out a huge headache in the new conftree pools   mechanism, that we aren't joined properly, so we hit the 'not ancestor'   abend here.
e43b4bd   Really compress the add_/remove_ handling, and fix pool allocations.
9289e63 I forgot to catch all  the other return calls in this function, so this cleans up the warnings.  Thanks OtherBill for beating me up about this.
cb4f372 XBitHack has just been re-enabled in Apache 2.0, so the docs need to be updated to reflect that.
8712af1   Fix typo in prior commit
b60b9be Add a handler to mod_includes.c.  This handler is designed to implement the XbitHack directive.  This can't be done with a fixup, because we need to check the content-type, which is only available in the handler phase. PR:     7751
7dbda3a   Adapt to changed declaration of apr_pool_sub_make()
fd1eb44 Make the includes filter check return codes from filters lower in the filter chain.  If a lower level filter returns an error, then the request needs to stop immediately.  This allows mod_include to stop parsing data once a lower filter recognizes an error. PR:	8102
85e8fbd Add the ability to extend the methods that Apache understands and have those methods <limit>able in the httpd.conf. It uses the same bit mask/shifted offset as the original HTTP methods such as M_GET or M_POST, but expands the total bits from an int to an ap_int64_t to handle more bits for new request methods than an int provides. Submitted by:	Cody Sherr <csherr@covalent.net>
c0dbe65   Need some context for the iterator!  Finally get to use that accessor :)
a99bc9c   Solve the merge bugs, by storing a copy bit to save us a ton of   reallocation in the merge config phase.  Should keep most of the   savings realized by moving to tables.
47a0b25 APR-util has renamed buildconf.sh to buildconf to match APR and httpd-2.0.
203ca09   This patch fixes more untold breakage than you can shake a stick at.
78b3feb fix some warnings in resolve_symlink(), one of which seems to be for a genuine bug...
ce979cd   Port mod_tls.c from Eastern Europe to Apache-land
96f407a   Thanks Jerry, this was forgotten in my tree.
bfa5e85   Replace check_symlinks in the ap_sub_req_lookup_* calls with   the new resolve_symlink (also used by the new directory_walk)   especially for performance and readability.  Left check_symlinks   in the soon-to-be-gone get_path_info flavor of directory_walk.
3a3883d inet_addr and inet_network are not interchangable. Furthermore, use apr_inet_addr, rather than ap_inet_addr (though they map to the same thing).
0ff7b17 Remove a no-longer-needed header.
3db17f7   Restore to 1.333 state (problematic, in that we could be facing >(size_t)   bytes, but better till I figure out the _right_ fix.
9d72a63   Add the new directory_walk logic, eliminating get_path_info and   check_symlinks, in a protected define REPLACE_PATH_INFO_METHOD.
1ad013f Do this the traditional/correct way.
0dcb33f   Ooops... my fooness.
34e5481   Exported symbols for mod_pop
51f7b90 Get dav_fs to follow options for dav.
7ca521d After checking what this does with Bill Rowe, and discovering it to be dead wood, I am tossing it.
5b38785 Being slightly picky: properly namespace protect make_fake_req()
37fa07f Oops. Include the right headers...
f1296da   Clean up mod_dav error reporting to HTML/XHTML cross-compliance.
e5c3132   Erg... sorry for the version snafu
66b37b8   Another huge file check, and one fewer emits
fe6a92c   Clean up some emits
4cd12a4   Force the tryssl block to run in the Win32 DevStudio IDE build.
f8bc89d   Provide some cast safety tests and close the _last_ of the build errors   report (at -w3) by Win32 in the server.
de5ebc3 Nobody screamed. ;) This gets rid of ap_proxy_host2addr, and a few other useless functions, and allows us to be threadsafe when doing DNS resolution.
5bfcf2a It helps if we broadcast to the workers that we are trying to shutdown.
1871bcc   Ok, this looks better to me this morning, and suggests others who have   dabbled a bit.
8cc619e get "make extraclean" working for apr-util again
f437a6c   If I forgot anyone, please holler.
bfc5b81   Ok... for _today_ ...
5f4ead6   Missed a small bit
f61f91f don't count workers in processes which aren't actively serving requests.
d45e862 mod_status:  don't include workers from dead or quiescing processes in the "requests currently being processed" or "idle" counts
828dc11 enables the use of the ssl_var_lookup functionality in the various source files in modules/ssl. The ap_hook_* functions are still not yet ported to Apache 2.0 style
2e48a46 This patch eliminates the direct use of OS library calls (fopen and other depreciated Apache 1.3 library utilities) from ssl_engine_pphrase.c and ssl_util_ssl.c.
f699845 threads in process which are quiescing (due to PoD or MaxRequestsPerChild) should not be counted as idle threads.  This can cause the server to stall.
333d6f4 - eliminated the use of ssl_log - it used to cause seg faults during cleanup since the conn_rec will no longer be valid. - eliminated the "for (;;)" processing loop in ssl_io_filter_Output() - we'll have to do that in churn_output() if required, so that any remaining OpenSSL data (if available) is transferred before we call the CloseConnection. - Any remaining data in SSL should be cleaned up ideally in the APR_BUCKET_IS_EOS() processing stage itself, as we close the SSL connection here.
dc44adeef   Activate ssl_hook_pre_config
7abef4f   Change lib locations for openssl's debugging default targets
a53e432 un-win32ize
5f5b42c s/seperate/separate/
c7f3320   Thanks Madhu, I think backing out the last bit, and using this instead,   may be a bit simpler.  Could still exist a problem feel free to fix.
22dbf97 The read() in apr_recv() would always be called first and return EAGAIN. This one change to eliminate the read unless there are really bytes to read is good for a 7 to 9% performance boost on AIX.
82cb29c   Register for %X, %c (we gotta make a decision, please vote if you care...   use %c's meaning from the historical SSL modules, or Bill Stoddard's   connection-terminated meaning?  One will have to give.)
5ec6621   The short term hack.
ac232e1   More XHTML foo.
56cfa2c   The history can evaporate later... but before someone else is bit ;/
725705f Allow us to build ssl on beos...
c6760b4   Ignore some stuff
d35d3ec   Use d_is_absolute within directory_walk.
0eee597   Provide the same optimization to the dir_config structure to track   d_is_absolute, along with d_is_fnmatch.
45b3214 httpd.exp and lots of other export files are generated based on the AP[RU]_DECLARE macros. This commit gets mod_cgid working again as a DSO on AIX. However, this brings up the need to look for any functions that are available as part of the API, and AP[RU]_DECLAREing them, so things don't blow up in DSOs.
a685e2a Be a bit more explicit. If the filetype is not an APR_REG, the fail the request. This relys on directory_walk having already resolved symboloc links.
11f28c3 Win32: Get exec cgi tag working.  finfo.protection == 0 on Windows from the apr_stat() call in directory walk (because discovering the permissions on Windows is ridiculously expensive).  All we really need to know is whether the file exists.
5ef052f Yet another rainy day
f6371b6 Add the worker MPM.  The name is probably horrible, but I couldn't come up with anything better.  This is a multiple-worker/single listener MPM. This MPM is definately not complete, but it is a first step in the right direction.
c901f4e   Coexist within the XHTML changes to http_protocol.c
8ae10a2   A bit of Saturday a.m. XHTML Transitional 1.0 compatibility changes.
1be045b   That's all I'm changing... time to simply bring the 1.3 file over.
bd100ea   Fix some brokenness.
9ca6b59 Install all build/*.mk when we install Apache.  This is the first step to getting apxs to use the same makefiles as Apache.
a7c5c2b No such thing as /usr/local/bin/perl5 on icarus...
4f6f9a9 Nope, changed my mind.  With this hack, the build only works right the first time... a make clean will rm test_char.h.  If Solaris 7 is broken, it's broken.
1d8122e This is an awful hack to work around a bug in Solaris 7's native make, which blows up when you have a dependency on a not-yet-existent file. The way around this is to have a zero-byte version of the file around before running make, which will be older than gen_test_char after that gets built, so the blank test_char.h will get overwritten by a valid one.
7cd0d1c   Throw back in the newline, just for source legibility.
6575e58   Correct a subtle reflow problem (evident in Mozilla Gecko/20010505) that   <hr>'s within <pre> tags (entirely illegal in the first place :) are not   adjusted on window resize.  By moving the second <hr /> into the <pre>   block, at least the two rules are consistent.
4b0cb28 Typo.
9640839 Fix a problem where the threaded MPM stalls after restarts or segfaults.
47a1dc2   Now that the version is bumped... time to log some new efforts.
c095eb0 Bump to 2.0.23-dev after tag update
c8bed16 Bump for 2.0.22
7eb45be   Uh... whats with that -dev?
6227177   That's it for that version...
ce46d6e   Minor quibble, <li> can and should be a balanced tag
bb2fc52   Final pedantic HTML 3.2/4.01 Transitional + XHTML 1.0 Transitional   compliance changes.  Note I've left alone the <P> tags, since they   are abused, misused, potentially unsalvageable and certainly more   effort than I care to expend in my quest for brainless end of week   keyboard exercise.
7c66cd1   More pendantic changes for HTML 3.2/4.01 Transitional compliance, and   XHTML 1.0 legibility.  One XHTML issue remains, <td nowrap>, which has   an issue that "attribute minimization is not supported in XML".  Since   ?notables drops that thorny issue, I'm ignoring this for now.
e35a8b1   More pedantic changes to create HTML 3.2/4.01 Transitional and   XHTML 1.0 Transitional - compliant output.  Note that this model   is forever broken, since <hr> and <img> tags within a <pre> block   are, by definition, invalid.  This is sort of mute since we need   to start creating a table-based autoindex, mostly for utf-8 names   that map in R-t-L order comixed with L-t-R formatting.
10f9a89   More obsessive changes to meet HTML 3.2, HTML 4.01 Transitional and   XHTML 1.0 Transitional
c86f120   Doc formatting fixes
26676d0   Proper doc style
6b114c5 Replace ap_send_fd invocation with bucket brigade calls.  Send an eos down the chain and let the brigade close the file descriptor when the network i/o is done.
32e6240 OS/2: Fix 'make install' handling of EXEs.
f9ee74d OS/2: set a decent size stack. Default is only 32k which runs out in some configurations.
5812f6c   Something useful.  Update the server description string.
139ba20   Hmmm... this is cmd (or command) ... not sh :)
fe867c0   Add some logic that gets us over the hump of a missing awk (copying the   files with no editing whatsoever.)  Also sets up the shebang for   printenv.pl, and drops in the test-cgi.bat script.
7b83e43 It's monsoon season in VA today...
0ce5839   Provide a Win32 batch file example cgi
150d956 Bump mmn for 2.0.22-dev
de7d0da Fix printf() warnings related to long->apr_off_t swap
0f85735   An itty-bitty hint about what's gone wrong :)
380de3c waitpid doesn't seem to be doing what it's supposed to, so in an attempt to allow the beos mpm to kill off it's workers and respawn them we'll now have them ask for a restart when exiting.  This was suggested by Bruno G Albuquerque <bga@bug-br.org.br>.
943758e Fix a segfault in threaded.c caused by passing uninitialized apr_thread_t * to apr_thread_join().  Now we clear the array of apr_thread_t * initially so we can track which threads we actually created.
53582d5   Update make file for win32
3e6771f   Something that needs looking at, all our long (unsigned long) body   lengths need to become apr_off_t.
e8e1c5c   That's it.  There are no further emits for signedness or size conversion   in MSVC 5.x.  Enough for 2.0.22, I'll revisit under -w4 (msvc's -wall)   and attack the other modules in 2.0.23-dev.
09324de   Terniaries are broken under MSVC, they never did resolve how to resolve   the type of an obvious conversion like this one.  Even casting the const   to an apr_port_t doesn't solve it.
0c32d66   Flush the off_t compiler emits from mod_isapi
cac7abf   This patch should address input buffering, requesting only as much from   the client as the ap_get_client_block() buffer is prepared to accept.
5b71e35   Change the length of the content args to apr_off_t identifiers, and fix   mod_negotation to treat a size of -1 and indeterminate, instead of 0.
8340254 Include the fingerprint for my public key in addition to the key itself as suggested by Dw
ed317a0   Cliff's most sane advise :-)
f247b2e   Reviewing my own commit logs ... dang did this look silly.
48d5796   Safe casts - we are assured that len_read is positive, but it must be   stored as an int to initially check the ap_get_client_block() result.
61815da   Same fix for largefile support as core.c
6319847   More signedness fixes
c9148bc   This same patch is needed in mod_asis and others, I'm testing the waters   for this solution.  I'm easily convinced to choose AP_MAX_SENDFILE based   on any reasonable argument, provided it's smaller than 2^30 :-)
5b96031   Change over to apr_strfsize() for apr_off_t file size formatting.
6e12438   Some cast magic for intentional float/int transformations, but I have   no idea what exactly this computation was trying to accomplish...
5ccc4eb   Some cast magic for intentional float/int transformations.
83cf542 fix the "server seems busy" message so that it really logs the number of children we're about to spawn
9b42568 fix some typos, add a comment
85bef0a PR:
534c18c Avoid uninitialized variable due to still disabled code
7ea50ab Sorting things out Reviewed by:
fa74775 OS/2: get canonical filename functions exported from the core.
77d6735 Another of the long term issues cleared up.  BeOS can now run perl and other CGI's that rely on .so's for their operation.
22ae0e7 Add my PGP key
9ffcdaf Reduce CPU consumption in conv_10 function, used to format "%d" by apr_*printf
594feb7 fix warning
80692df A couple of optimizations to the content_length filter.
7b2c62a   Changes to respect the new apr bucket and brigade length types (either   apr_size_t for bucket lengths, or apr_off_t for aggregate brigade lengths.)
6f2ee46   It's a nit, but since I'm searching for "win32" it ought to be there :)
8d045a3 bandaid for segv in ssl_io_filter_Output
2aa8530 zero the SSLStateMachine in case of early error, else SSLStateMachine_free segvs
de06ddf Fix problem with the previous patch to handle HEAD requests.  Now, the header_filter will stay installed in the filter chain when processing HEAD requests to intercept and discard content bodys sent by poorly written handlers. This work also points out the need for an optimization in the content_length filter to not split the brigade if the next bucket in the brigade is an EOS.
204e7c5 Fix problem reported by Taketo Kabe <kabe@sra-tohoku.co.jp> where HEAD response headers were being repeated twice for files greater than 32K bytes (4*AP_MIN_BYTES_TO_WRITE). This problem in the http_header filter was exposed by the recent rewrite of the content_length filter. [Taketo Kabe, Bill Stoddard]
586cf18   Change the worker_function implementations to accept both parameters,   the apr private data (apr_thread_t*) and the application private data   (void*), for the last update to APR.
8f8d186 Document and future-proof the dependency between apr_read_type_e and ap_input_mode_t.  It's now safe(r) to cast from ap_read_type_e to ap_input_mode_t.
ea2a3f5   The original answer was evil, return NULL if the file name has no path!
743342d   Some odd XXX fixups that are closed (or unneeded)
0d3a73e   Downgrade non-stopper from XXX->###
67af92a   More XXX replacement
77dc0ac   XXX is disallowed except as a to-do note
bf19295 commit CHANGES file for patch to server/scoreboard.c
eca0a9c prevent seg faults in mod_status with ExtendedStatus enabled, after a restart.  A pointer to the previous generation's vhost server_rec could be left in the worker_score under certain conditions.
202c91a   cvs up kept this in :(
f7c7654   Focusing my thoughts
4779d38   Lots o' changes to re-review.
2c3faa4 Fix a couple of compiler warnings, since these are macros, not functions.
2761ae7 Some doc updates realted to ssi.
ee760bf The bucket should be created with the size of the data NOT including a null terminator as its length.  Otherwise, the bucket length value is wrong (too big by one).
0f1bd9f tweak make_exports.awk so it works with nawk on Solaris
31dfddf fix a typo (duplicate return statement)
46ff196 Fix a cosmetic problem with mod_include.  Non-existant SSI vars used to appear as '(none', without the closing paren. Submitted by:	G�nter Knauf <eflash@gmx.net>
0735485 Sander says:
c92887e APR now uses the correct gethostbyname_r when available, so this has effectively been solved. Submitted by:	Justin Erenkrantz <jerenkrantz@ebuilt.com>
024d1ff These two files aren't used anymore, so we can get rid of them now.
fcaa0f5 Improve the exports generating awk script.  In the past, we had work around problems in the awk script by avoiding some #if and #ifdefs.  This has bitten us many times in generating the exports.c file.  This improvement allows corrects the header file parsing.
6053f56   Do we hear any objections?
05fcc41   Update for latest structure changes for 2.0.21
ef4a967   Clean up unnecessary duplicate references to pcre (they fall out of   libhttpd as our own ap_regexec()) and force InstallBin as the default   project by moving it to the head of the list, so the first access of   this .dsp will take InstallBin.dsp as the active project.
9b3864b   APR_FINFO_TYPE is all we really needed here.
1adf783   A pool is a REQUIRED ARGUMENT, never optional (NULL).   This is why Mladen observed that htpasswd was still broken.
a00679f Get ONE_PROCESS working again for beos.
a4ca0dd If we've spent the effort of getting some connections, when we die with an error at least inform the user how many we completed before dying. Tidy up some formatting...
b07a17a   That's it.  Adjust for our pcre transition, and the whole thing links   once again.
c0b8cc5   We want the ssl_expr evaluators, now
e0e8319   Hope I've got these generated bits right.  Note bison is more common   for Win32 then lexx.
e1a4ca3   Take care of folk's assert() undefined errors.
a92e3e0 Bump after the tag.
c21c903 Bumps for the release.  The tag will be moved to this version.
d6bff4d   A dash of portability
4ba473b   Since mpm.h wraps unixd.h and scoreboard.h nicely, and win32 has   no unixd.h, well...
50572ad   Uhmm... need to NOCRYPT away WinCrypt.h
2f9d446 Update TODO list
d8f39cd   Workaround till connection_hook details are resolved   [MATHIHALLI,MADHUSUDAN <madhusudan_mathihalli@hp.com>]
6fd9442   A smart answer to users attempting the -s arg to ab.
ca8f543 Apply mod_ssl MEGA porting patch. This is a cleaned up version of the latest patches from Madhusudan which makes mod_ssl 95% working inside Apache 2.0. There is still a lot of more work (both porting and cleanup) to do be done. See modules/ssl/README for details.
d7a428b Some small changes... - use palloc instead of pcalloc - add code to set larger FD_SETSIZE if appropriate - some formatting tidy up
791dbc3 fix the type of parms to apr_send() and apr_recv()
584c93d   Truncate the working set in ab by introducing a connection pool.
590a1bd fix memory leak of apr_sockaddr_t and apr_socket_t in ap_mpm_pod_signal, called by perform_idle_server_maintenance.
db65b5a   Last of the ignore goodness for today.
c4549d2   Remainder of Win32 ap_create_scoreboard fooness
7f30a13   Fix ap_create_scoreboard fooness on Win32.
3d8f3ce Make scoreboard creation a hook.  This allows management modules to have access to the scoreboard at the time that it is created, and at every restart request. Submitted by:	Cody Sherr <csherr@covalent.net> Reviewed by:	Ryan Bloom
4318882 Remove APR_NO_INHERIT as it is now private. sigh... the cost of being bleeding edge PR: Obtained from: Submitted by: Reviewed by:
506b33a s/destroy/free/g; likeness to SSL naming
f962339 give some more diagnostics if server cert or key file cannot be read
620a48e Changed AP_MPMQ_MAX_DAEMONS to refer to MaxClients and added an AP_MPMQ_MAX_DAEMON_USED to refer to the highest daemon index actually used in the scoreboard. I also updated the pertinent calls.
b8861ba2 Bringing forward from 1.3: small changes to standardize argument types.
ce3b970   Missed one, all should have recovered from APR_INHERIT now.
1a44af4 only reset request level filters in reset_filters(), else for example TLSFilter gets wiped out, breaking any response that comes through ap_die (including the frequent '304 not modified') PR: Obtained from: Submitted by: Reviewed by:
1501c81   Remove last public vestigages of APR_INHERIT
db08872 This patch removes spaces that shouldn't be there. It bit me when I tried to get the new make_exports to work.  I now fixed my make_exports (will commit patch later), so that will eat this anyway, but it seems nicer to make this obey the coding style rules as well.
2b8cc6f add dump_filters macro for printing r->{input,output}_filters chain info
dbfb786 add cleanup of SSLStateMachine to tls filter
ef32166   Hmmm... editing with tabs != 8, eeuh.  Just cleaning and fixing casts.
1d8d612   Fix some casting
6f96a10   Omitted the arg
61e59ac   rbb's names still need work :)
b65ca11   Changes to back out inherit flag from apr_os_sock_make()   and apr_socket_create()
7d5fac4   sweep up some cruft, and clean out a good solve by Mr. Stoddard
a9d2877   Fix incl/libpath to / slashes for an upcoming patch to cvtdsp.c
175af69 Change the APR_INHERIT flag to APR_NO_INHERIT,which is the default (as recommended by rbb)
e13a4cc Bringing forward from 1.3: Changes to standardize the "argument types" in the syntax entires.
75c03e1 Remember current porting state
d7d869e dummy ssl hooks need to return an int value for server to function with mod_ssl compiled in
97c1ff5 Merge in part II of a set of mod_ssl porting changes.
928be41 Merge in part of a set of mod_ssl porting changes.
32ecec4 Note the change to the CVS server in the buildconf script.
1fa29a8   Obvious files that need inheritance, correct me if I'm wrong.
e67ca3b   Fix for the new schema
eef8a5c applies change in APR function apr_socket_create, which added a new parameter. I defaulted these to APR_INHERIT. Also.. the connection-close was being merged, insted of 'set' PR: Obtained from: Submitted by: Reviewed by:
44715ab Added an inherit flag to apr_socket_create and other socket creation functions.  This allows APR programs to specify that a socket should be passed to any child processes that are created.  The inherit flag is only meaningful if programs use apr_process_create().  This also adds a couple of macros that allow APR types to set and unset the inherit flag.
6a04393 Remove a couple fields from the scoreboard that aren't currently used. If we need these, they should be added when we begin to use them.
9467f6a Last Log entry was bogus. Changed to 'setting' the X-Forwarded-Server X-Forwarded-Host X-Forwarded-For headers instead of merging them PR:
f99ed71 PR:
1ad8da5 Win32: Prevent listening sockets from being inherited by the Apache child process, CGI scripts, rotatelog process etc.  If the Apache child process segfaults, any processes that the child started are not reaped. Prior to this fix, these processes inherited the listening sockets which sometimes prevented the restarted Apache child process from accepting connections (ie, the server would hang).
5187b44 Win32: First of two patches to prevent child processes from inheriting open socket descriptors.
08f7687 Some STATUS updates.
5139e49 scratch an old itch - give lingering close its own state in the scoreboard.
13a3c24 Provide vhost and abbreviated request strings on ExtendedStatus displays.
3166708 Typo fix.
5ec8cc2 Fix an issue with the pod and prefork:
0727d25 Updated with 1.3 stuff in tandem with my 1.3 STATUS file update.
13793b8 Performance improvement to mod_mime.c. find_ct() in mod_mime, spends a lot of time in apr_table_get calls.  Using the default httpd.conf, the tables for languages and charsets are somewhat large, so the time spent scanning them on each request is significant. Replacing the tables with hash tables provides a nice speedup. [Brian Pane <bpane@pacbell.net>]
537f07d fix pid numbers in mod_status output when using a threaded mpm.  pid_buffer was being indexed by worker slot during initialization, then by process slot when generating output.
ae42986 New directives should really come with documentation.  This is my best guess at what the documentation for the AcceptMutex directive should look like.
2843b86 Add two functions to allow modules to access random parts of the scoreboard.  This allows modules compiled for one MPM to access the scoreboard, even if it the server was compiled for another MPM.
81d792e Check the pod after processing a connection so that we'll go away if a graceful restart occurred while we were processing the connection.  Otherwise, we won't wake up until a real connection comes in and we'll use the wrong config to process it and we may block in the wrong syscall (because the new generation is using a different accept mutex) and in general it is goofy.
7c25c04 ExtendedStatus is back.
1bc52ec ignore generated DSO-related files on OS/390
83f3e9b uri_delims.h moved
0adcad8 Use the autoconf variable "host" consistently for platform checks.
6d821dd   Remove openssl path-specific .h comparisons
b457c18   Win32 build changes for recent module updates
1cd0d5d Recover from some APR cont --> pool conversions by D. Reid.
f93d782 fix params for logging call
bc68421 We are tagged, so bump the numbers everywhere.
8158979 Update to prepare for 2.0.20 release
8441f05 Allow all parts of Apache 2.0 to build when --srcdir is used.  This required exposing a build directory and a source directory to all parts of Apache's build system.  It also required a small hack in APR-util, if we are using the bundled Expat, and we are using VPATH support, then we have hard-coded the xml/expat location.  I couldn't figure out how to allow the configure script to determine the correct location.  I added a comment, but if somebody else figures it out, we should fix that at some point.
c721f48 Avoid redundant strlen() calls by using apr_brigade_write() instead of apr_brigade_puts().  There is still some redundancy--it'd be ideal if there were an apr_pstrcat() variant that returned the length of the string since it computes it (twice) anyway so we didn't have to do it yet again.  Until such a beast exists, computing the length three times is better than four. :-/
3c43928 We need to pass the prefix to APR, APR-util, and PCRE.  If we don't pass that information, then all three libraries will install themselves into their default locations. PR:	7750
a80a9b8 s/cont/pool/
bb2ac7e s/cont/pool/
48e11e3 Grrr.. Cliff warned me about this.  APR should return APR_SUCCESS with zero bytes read rather than APR_EOF. Will work on APR later...
aedbb34 Add error message and return if we fail reading from a bucket in the core_outout_filter(). core_output_filter() is in need of a rewrite, it is getting quite crufty.
3ab4db1 emulate_sendfile() is a better name for what this function does.  No function change is made by this patch, only a static function name change.
a4273db Reimplement content length filter to fix problem where all output from CGI scripts was being buffered in the brigade before any of it was written to the network. cl filter now honors flush and implements a buffer threshold.
f6d7fdd   Catch up with rbb's last httpd-std.conf commit
6e2195d Do non-blocking reads from pipes in the content-length filter.
a7582cf install the man pages when we install everything else. PR:	7754
f48c2e8 Add documentation for mod_suexec.  And add a note in the old docs about User that SuexecUserGroup now replaces putting User/Group directives inside of VirtualHosts. PR:	7634
a105221 The ExtendedStatus directive was added back to mod_status when we re-vamped that module before the first beta.  Since we put the directive back, we should put it into the default config file. PR:	7937
da7f803 Having gone through and expnaded out the hook macro it seemed a waste to throw it away, so here it is added as comments for people who are in the same place I was trying to debug what was going on inside a hook.
8be07b8 Fix the forking/killing logic in the threaded MPM.  The problem we were seeing with the server eating itself wasn't because we were comparing the idle_thread_count and min/max spare servers wrong.  It was because we were counting idle_thread_count incorrectly.  This fixes that problem.
a9427bd This fixes the problem of the server not starting new processes to keep up with a heavy load.  The server still doesn't kill processes correctly, so we need to fix that, but we are closer now.
1d83f3b How do YOU spell "threshold"?  =-)
23ac68c Move the heading for 2.0.19 down to where it goes and add a note about having fixed the threaded MPM bug that killed 2.0.19 in the first place.
ba706e4 Missed this yesterday...
adc8282 Comment on some brokeness. These are show stoppers...
3bb8993 Remove a couple of extraneous calls to apr_brigade_cleanup()
992ac46 Fix the threaded MPM perform_idle_server_maintenance.  Basically, we now count how many threads are actually idle, regardless of which process they are in.  This patch makes us use (min_spare_threads|max_spare_threads) * number_of_running_servers to determine if we should kill of processes or start new ones.  This MPM no longer thrashes killing child processes as soon as they are created, and the server continues to serve requests even if the server is gracefully restarted and each child has one active thread.
eb30773 It's very sunny outside, but I'm stuck inside stripping paint off windows :-(
6383dfa Fix abort code path for HTTP proxy. Similar to Victor's patch for FTP proxy. No, Julia, it really *is* a double negative.
99801a5 Fix the code, to properly handle the case of the user aborting the connection or the connection being broken.
a64f4f3 FTP return code variable cleanup; fixed login bug (same var used for return code and loop index)
ca71343 fix some warnings (mostly unused variables)
b4eaa1e Close the sockets, the right way this time. Use the ones that the connections are using, rather than those used to initialize the connection.
fe91c29 Use the variable we've been using for return codes.
ed7d24c Get the messages returned from the FTP Server in order. Otherwise we break RFC959.
c3458a0 Just the facts, ma'am.
0337297 PORT works again. Syntax was what had killed it.
88aa1ce Maybe this will get PORT working again.... break inside a switch statement inside a for loop breaks out of the switch statement, not the for loop.
f88c219 Last check-in went awry. Here is the intended message.
8194f25 proxy_ftp.c
77e6035 Reorganize ap_proxy_string_read() internally to not process eos buckets.
be72797 Some servers send no response to FTP QUIT command and just close the connection. Remove result code check for QUIT. We gave them fair warning.
79686d2 An EOS bucket doesn't contain anything, so why shouldn't we skip it?
d59cbf8 ftp_getrc_msg is blocking for no good reason after the receive loop. Disable it till we figure out what's going on. ;( At least it works now.
1f4f4c5 Bump after the tag/roll
354c688 Bump a couple things for the tag and roll!!!!
a1a1d20 Fix the big issue with the threaded MPM.  We no longer stop dead if all processes are busy serving one long-lived request.
10bf5d1   Ummm... is that all I accomplished :-?
bae6dd7   Useful datum.  Please review this list and pull out what you've finished,   people!!!  There's a ton of cruft I think folks already addressed.
fff466f   For those who want to play, mod_ssl isn't part of the InstallBin master   target.
eb79e5a   Just something for experimenting, ssl_expr_parse and _scan are excluded   for right now (missing symbols.)
5082a61   Quiet the compiler, msvc is sticky about arg lists being consistent.
0ac49c6   One cannot have an entirely empty struct ... this is just to make things   actually compile, and exclude an include we don't have on Win32.
16a2239   What once was ap_ ...
f6f3f61   Refresh .mak files for tagging 2.0.19
81ff191   Ignore goodness
9fbff66   Ignore for simplistic win32 builders (and anyone else who wants to   park openssl here.)
435f89d   libaprutil is good for mod_tls, too.
033e91c   Just a mssing brace
560d5bb   Not for general consumption (not a target of InstallBin) this patch adds   mod_tls to the 'buildable projects' list.
8977e18   tls goodness for Win32
2bb1fb4 bump and grind for another beta
e9710c1   Testing reveals a nasty side effect of this aftn's patch, this is the fix.
2d64e24   Deploy ap_sub_req_lookup_dirent() for the main loop.  Note we _really_   need to further optimize this code, there are dozens of perhaps unnecessary   stat calls, and meaningless #ifndef OS2 protections around apr_lstat()'s.   OS2 has lstat (It's simply stat()) so we should pull the os-specific cruft.
ac61d1a   Employ the new ap_sub_req_lookup_dirent() function for mod_autoindex.
d4c82f8   Pull harry, difficult to read sub_req_common_validation() into its own   function so that it's apparent that this is common code.
fe1b980 mod_file_cache now depends on apr-util.
49296e1 Oh, nothing really.  I just always wanted to open a door to a room where people were being trained like in James Bond movies.
a7a28bd   Here, finally are a few cleanups of my fat fingers.
07f1f1f   Now, introduce ap_sub_req_lookup_dirent() for processing apr_finfo_t   results from mod_negotiation and mod_autoindex.
449207b   Pull the common cruft from ap_sub_req_lookup_*() fns.
e3a7a23   Sorry, second pass, working on legibility.  This patch introduces the   fill_in_sub_req_vars function to propogate the rnew values, but doesn't   yet hook it in.  Note that there are two discrepancies, apparently   pretty bad ones, that have been moved after the 'common code' so the   next patch becomes pretty simple.
9e8d604   Add some favorite modules
ec222e4   Revert changes in 1.7, I had applied the patch incorrectly.
29212e8 *) Account for the new pool parameter to apr_bucket_file_create()    and apr_bucket_file_make().
8ba66cc   Move duplicated rnew cloning from apr_ap_sub_req_lookup_*() functions,   and add an ap_sub_req_lookup_dirent() to create a subrequest from the   results of an apr_dir_read() for mod_negotiation and mod_autoindex.
95e4275   Fix up files constituting the Win32 libhttpd project file
09e715d More of s/ap_table_t/apr_table_t/g; Also s/ap_status_t/apr_status_t/;
9bcbfdc It's apr_pool_t, not apr_pools_t.  And tables are in APR's namespace, not Apache's, so it's apr_table_t and not ap_table_t.
7a5c5c4   Add additional query datum to the MPMs.   Harrie Hazewinkel <harrie@covalent.net>
bc35083 hide the generation of the httpd.exp header from the build messages
eb25b54   Win32/OS2 require APR_STATUS_IS_EFOO() tests, not == EFOO, since our   socket error codes vary.
6ee771e get strcasecmp() prototype available on AIX
3b24cc7   Update docs to reflect API changes and typos.   Harrie Hazewinkel <harrie@covalent.net>
f2f4dff Fixed up formatting (removed tabs)
acf7098 ProxyPass & ProxyPass Reverse now can be specified in <Location> directives
e943e56 add the AcceptMutex directive to the perchild MPM
040c055 Fix problem handling FLUSH bucket in the chunked encoding filter. Module was calling ap_rwrite() followed by ap_rflush() but the served content was not being displayed in the browser. Inspection of the output stream revealed that the first data chunk was missing the trailing CRLF required by the RFC
6aeb7aa add support for the AcceptMutex keyword to the threaded MPM
9d62a72 get rid of a duplicate assignment of ap_server_conf
058288e add the AcceptMutex directive and related processing to prefork MPM
e9c9734 mention a problem with prefork
1ea247f fix a comment describing how we kill off a single child process
d3c97df Fix spelling mistake.
fa9b8b3 Reverse typo correction.
941bc17 Add some instructions on verifying PGP signatures.  This could really use a review from some people who understand these issues better than I do.
e63a05b apxs no longer generates ap_send_http_header() in the example handler
f71eeca Remove these Pre-1.3 vhost files from the 2.0 docs.
94dc557 The bucket_foo_create() functions do not need to use calloc() because all of the members of the apr_bucket struct are always explicitly initialized anyway... malloc() should be used instead.
61be6d5 Note mod_headers changes in a couple other places.
2feece5 Bring these docs into line with "The Standard" and clean them up a little.
cd399ff Remove a duplicated check for -DONE_PROCESS
f2769d2 prefork has had SINGLE_LISTEN_UNSERIALIZED_ACCEPT working for a long time. Hint at what should be done in threaded to get it working there.
03a0359 As with Apache 1.3, use priority APLOG_INFO (instead of APLOG_ERR) for log messages which report network errors writing to the client.
f5df386 The patch fixes 2 things. * apr_terminate now has the right declaration so it can be used directly in atexit * Win2K gets a divde by zero error when heartbeatres is zero (reproduce via     support\Debug\ab.exe -k -c 6 -n 100 localhost/
e6bb836   Filenames aught to be normalized to the serverroot, and server_root_relative   already canonicalizes names.
546f8d0   Allow index.html.en and Index.html.FR to both be considered in negotation   on case insensitive platforms, only.
bcda376 "fix" a // comment
a672fcb fix various // comments so they'll work portably
7e5f123 Documentation updates.
041c1cc OS/2: Automate export of global variables from core.
740a93b Fix brokenness when ThreadsPerChild is higher than the built-in limit.  We left ap_threads_per_child at the higher value which led to segfaults when doing certain scoreboard operations.
afaf899 Back out the change to allocate files out of the main request pool, and implement pool-based setaside for FILE and MMAP buckets.
7627b27 fix some more signalling issues:
ff01b91 For SIGHUP in the server processes, we attempt to go away immediately, just as for SIGTERM.  If we deadlock because of some module or library issue then SIGKILL will come soon enough.
d68538c fix a bad call to ap_log_error (missing the errno/apr_status_t parameter)
98b8973 catch SIGWINCH in the parent process and set appropriate flags so that we write to the pod to tell the servers to go away
7a881a6 fix a format string used for apr_status_t
e5640ce Define a hook for fetching management/status items.
c091130 * apr_brigade_partition() now returns an apr_status_t (finally!). * did some code cleanups/optimizations in that function. * updated Apache's byterange filter to handle the new prototype. added   error handling to the byterange filter should apr_brigade_partition()   ever fail, which it never will unless somebody either removes the earlier   call to apr_brigade_length() for some unknown reason or invents a new   bucket type that is of a predetermined length but which cannot be split   natively (or which has a split that might fail).  might as well be   future-proof.
66a61c3 Add a pool to the ap_save_brigade prototype.  This removes a todo from the comments that is really necessary before the setaside stuff will work properly.
4419b1a Fix seg faults and/or missing output from mod_include.  The default_handler was using the subrequest pool for files and MMAPs, even though the associated APR structures typically live longer than the subrequest.
e36b1eb Extend mod_setenvif to support specifying regular expressions on the SetEnvIf (and SetEnvIfNoCase) directive attribute field. Example:  SetEnvIf ^TS*  [a-z].* HAVE_TS will cause HAVE_TS to be set if any of the request headers begins with "TS" and has a value that begins with any character in the set [a-z]. [Bill Stoddard]
aac1120 fix the bindprocessor() code selection; we need to test for the presence of the bindprocessor() function, not for sys/processor.h, which exists on some systems that don't have bindprocessor()
405d7ea get threaded.c to compile on non-AIX systems which have sys/processor.h
206c3f2 Clean up formatting.
e9716da SINGLE_LISTEN_UNSERIALIZED_ACCEPT applies to every kernel after 2.2, not just 2.2.
f8e50ad Make the processor unbinding/re-binding stuff on AIX work again.
c50b9ea back out a change from last week that reversed the meaning of pod_in and pod_out; after that change, all read and write syscalls on the handles failed because pod_in was only readable and pod_out was only writable
0953339 Document the fact that this is now an autogenerated file.
6f7f33a Silence gcc warning about rv being used when possibly uninitialized.  That can only happen if n<=1 (ie, a bad parameter value), so I figure APR_EINVAL is the correct default value.
9f0a1da Fix look in htdigest.  Reimplemented getline to work properly with APR. Shuld consider adding apr_file_getline() to APR.  Should also consider changing apr_file_getc() to return characters rather than apr_status.
d8462ec   Whoops, wanted the original unix language, not win32's, for both
6700e4f   Bring win32 and the rest of the world into sync, or closer into sync.
3de4a8c   Two duplicate working cvs copies down, several to go.
bec26da   Now that it works, adjust the conf appropriately.
0ba63f0   Was certain I had committed this.  Position the scoreboard members such   that the size and members can be derrived by the most stable elements,   followed by derived elements.  [Harrie Hazewinkel]
0a9d23a Enable SetEnvIf to handle taking a regex on the header name (SPECIAL_NOT case). For example:
08ce0bc Updating docs to change around the order of extern and AP[RU]_DECLARE_DATA. If this is incorrect, please yell. However, the vast majority of the code follows the convention documented in this patch. If this is in error, I will gladly back it out.
70213d9 WooHoo! (Only limitations - mod_proxy and mod_dav, soon to be corrected).
2f16b9f Make this little hack slightly more palatable.
6126dd3 Still needs to be built, though.
415ae0a No, libtool shouldn't build this. :p
37e2ad5 xlC isn't as accepting as gcc; make things tolerable for it.
f8a4cac Slight Clean-up.
c2eed71 Add the missing AP[RU]_DECLARE_DATA symbols to httpd.exp. httpd.exp should now be generated automatically. Any missing symbols are now the fault of awk scripts. Or rather, their authors. :)
8ed4d78 Ordering changes, for detection's sake.
107761e pod_in shouldn't be non-blocking after all Submitted by:	Ryan Bloom
8040c4a Clean up this relative path too.
fa787dc the input handle to the pod (used by child processes) needs to be non-blocking
0f8c1f4 We need to increment i during this for loop.  Without this change, we will end up in an infinite loop. Submitted by:	Ryan Morgan
487c6a5 Greg was right, I was wrong. We don;t need these here anymore, since the copy is done directly from the server directory. I need more sleep. :)
dd5aea1 DISTCLEAN, not EXTRACLEAN.
5bb6283 Make sure httpd.exp gets cleaned up only with a distclean, and not every time.
0c0d157 Convert the filter and brigade writing functions to return status values, not byte counts.
327be37 moved CHANGES here PR: Obtained from: Submitted by: Reviewed by:
4ddaac5 It helps to write to the input side of the pipe, and read from the output side.
b0272c1 (A few) Small changes to pass full paths instead of relatives. One relative left; not sure whether to change it too or not.
50595e2 Small change to pass full paths instead of relatives.
4cbdb2e Clean out httpd.exp when cleaning up.
2fdaf3c Ignore the now-irrelevant httpd.exp.
933765a On the trail to getting make_export.awk pull in the right symbols. Hence, we are tossing this old pain in the neck :)
11ce365 trace failures of a couple of crucial socket calls in ap_mpm_pod_signal()
457cb33 check the pod in the child at a different spot so that we check it when we get a new connection; we were (essentially) never checking it before
e92ae55 improve ap_mpm_pod_signal() by not let it loop until it fills the pipe
c35d9dd fix a thread-safety bug by using apr_strtok() instead of strtok()
b011497 A little cloudy, but clearing...
2c23513 correct the back-out of this change. it used to be ap_log_perror()
ceaaa46 Ooopsie. Some unintended things slipped in. Backing them out. Sorry.
2e11444 *) Add apr_bucket_setaside_noop to use for buckets that do not require a    setaside function. It simply returns APR_SUCCESS.    - adjust the EOS, FLUSH, IMMORTAL, and HEAP buckets to use _noop.
d3feaed Generate httpd.exp on the fly. This should allow DSOs to work on AIX, without the headache of maintaining the httpd.exp file. This is adapted from OS/2's generation of ApacheCoreOS2.def. There exist a few bugs still:     1) mod_dav and mod_proxy may not yet work, due to certain namespace issues.     2) Some symbols may need to be added, a la core_header.def Once these have been fixed, the old httpd.exp file will be deleted.
54666fc Port typo fix from 1.3.
7d9292f back out bogus "fix" for subrequest buckets using wrong pool
12f30e1 the subrequest pool issue wasn't recent breakage so mention it in CHANGES
edc450c implement Ryan's suggested fix for buckets associated with a subrequest having private data in the wrong (i.e., subrequest) pool, leading to a segfault later in processing the main request
0094a39 don't add BYTERANGE, CONTENT_LENGTH, or HTTP_HEADER for subrequests; they only make sense for main requests and internal redirects
931fe85 First pass at the pipe_of_death logic for the prefork MPM.  This does pass some initial testing, but it needs to be banged on more.  It looks like if the server gets a lot of requests to restart all at once, there are potential problems, but other than that this does seem to solve our current restart issues.
06ca840 Add a new request phase, for allowing management modules to forward error logs to their management agents.
bd71fdf Use apr-util's date functions now
f4fb429 Make mod_echo use filters for all communication with clients. Submitted by:	Ryan Morgan <rmorgan@covalent.net>
7135d12 get rid of util_date.c/util_date.h and associated test program test_date.c
e1464fe use apr-util's apr_date_parse_http() instead of the to-be-removed ap_parseHTTPdate()
dc3207f nicer to compare r->finfo.filetype with APR_NOFILE instead of 0
2745ce6 filters should return APR status codes
d1571eb initialize local condition_var var to keep garbage out of struct header_entry->condition_var and avoid a segfault later
2ef9ae8 ap_getword_conf wants const char **, not char **
80ed810 Extend mod_headers to support conditional driven Header add, append and set. Use SetEnvIf to set an envar and conditionally add/append/set headers based on this envar thusly:
b7a46ff it's hot out there
2abe50d Fix the reset_filters function.  If we set r->output_filters to NULL, then we also have to reset the connection's filters. Submitted by:	John Sterling <sterling@covalent.net>
3b3bdfb Further explain the custom bucket types idea for mod_file_cache
aa70e0e mod_file_cache brokeness
2658149 void * isn't compatible with a function pointer; deal with retrieving a function pointer from apr_hash_get()
f14fd1f Fix some broken logic in the prefork MPM.  Basically, in the past, if we accepted a request, we didn't want to die if given a graceful restart signal.  The logic I am removing stops us from dying for a graceless restart/stop signal, which is just wrong.  If we are sent a graceless restart/stop, then we need to stop immediately.
9b7d636 Doxygenation.
7093cbc Function declaration must be a prototype.
89fef78 mention another problem experienced on daedalus using 2_0_16
a10b0be Optimise reset_filter() in http_protocol.c PR: Obtained from: Submitted by:	Greg Stein Reviewed by:
e992650 Extend Header add|set|append support to accept format strings for the header values.  Configure thusly:
bb2677a Return "1" to apr_table_do()
222ffd4 Add a check to ap_die() to make sure the filter stack is sane and contains the correct basic filters when an error occurs. This fixes a problem where headers are not being sent on error. PR: Obtained from: Submitted by:	John Sterling Reviewed by:
1fe44da Move the addition of default AP_HTTP_HTTP_HEADER filters to the insert_filter phase so that other filters are not bypassed by default. PR: Obtained from: Submitted by: Reviewed by:
f995136 Update doc with info on Header echo directive
18ce869 Add the 'echo' option to mod_headers Header directive. Use the new option like this:
e47fad2 handle the SERVER_IDLE_KILL state in some of the ExtendedStatus=On output
303a191 a worker being cleaned up is not processing a request; filter out such workers when counting the number of requests being processed
a0087e8 Add png's
4723ee4 Add description strings for AuthDb*File
64ecb3d Add RequestHeader
d7876cd Fix broken #target
0dbc0ba First step at stamping out gif's: convert them to png
d687492 First step at stamping out gif's: convert them to png
654a74c back out filter change that is preventing headers to be sent PR: Obtained from: Submitted by: john sterling Reviewed by:	dougm
74ec9a1 Remove many redundant semicolons.
75c38c9 Merging was bollocks.
102fde2 Doxygenation.
d09f321 Typo fix.
6148b989 Utility to list available hooks.
7bf5e35 mod_ssl status
69ad06f Change strtok() calls to use apr_strtok().
646c99e export apr_strtok() too
5e23c1e include/ap_compat.h tested and set APR_COMPAT_H instead of AP_COMPAT_H. This prevented the inclusion of apr_compat.h.
eb4b3b0   One drawback to .dsps, nobody watches the command line build head   anymore :-)  Fix for relocation of uri_delims
4af92b9   Unnecessary with apxs
23e0039   Need to have apxs for building such things
0382ec6 YAPJBUJ. (Yet Another Proxy Janitor Botched-Up Job). Need to be looking for APR_SUCCESS here, not HTTP_OK. Obtained from: Justin Erenkrantz
80604b2   Blew it... forgot to transpose dsp versions
288802b   Get win32 libhttpd building without uri_delims, now added to apr-util
a040b3c Bletch. The Proxy Janitor botches the job again. Thanks to Ian Holsman for the catch.
c5a2bbd A wild guess at what is needed to get win32 compiling again after the move of util_uri to apr-util.
9e8bb94 When AP_DEBUG is defined, these two need to be in here. When it is not defined, this does not make a difference.
e0a0b2e 	Checkpoint my mod_example work.  It does not work correctly yet, 	and certainly should not be used until it does, but at least it 	compiles (with a couple of warnings).  I am adding examples of 	all the missing hooks to it; this is definitely a work in progress 	right now.
2a5472f Fixes to proxy, after util-uri move, plus fixes to the .mak file.
9be39a9 Ooops. Leftovers.
19a91c1 More exp file changes Obtained from: Jeff Trawick
2898ad6 Moved to the apr-util library.
7f71cce Leave the uri-related clean stuff here for a few weeks.
43b9634 Moved util_uri to apr-util/uri/apr_uri, which means adding the apr_ prefix to all of the uri functions (yuck), changing some includes, and using APR error codes instead of HTTP-specific error codes.
7369e7a Ring in the CHANGES... PR: Obtained from: Reviewed by:
3fdc9ca Move the addition of default AP_HTTP_HTTP_HEADER filters to the insert_filter phase so that other filters are not bypassed by default. PR: Obtained from: Reviewed by:
ead0244 Make INSTALL commentary reflect the default install path for Apache 2.0
bf6b9bb Victoria Day is sunny and mild in Vancouver.
d9a2c3a Add a little more info on ways to enable modules, add an index, and clean up a few things.
f9046d9 get rid of a warning for missing strXXX prototype.  (I only saw this on RH 7.1.)
e010d89 Get httpd.exp with recent hook changes.
97b97c1 Fixed a typo about the RequestHeader directive and compatibility. PR: Obtained from: Reviewed by:
5ebd4c2 Updated mod_headers documentation to coincide with addition of RequestHeader directive. PR: Obtained from: Reviewed by:
1d3443b Yet more cleanup.
eb51758 More cleanup.
883a3b2 AP_ function for optional hooks.
296c0e0 More generic -> optional cleanup.
714c1f4 Long overdue name change from "generic hook" to "optional hook".
6dbc213 Fix warnings. PR: Obtained from: Submitted by: Reviewed by:
ffd9419 Tru64 cc is bitchy about trailing commas in an enum list.
18c9cf1 Switch to AP_INIT_* marcros for command_rec list & constify args to match function pointer type.
0386b53 Change directive HeaderOut back to Header and HeaderIn to RequestHeader.
09e4185 Make INSTALL just be a terse quick-start guide.  The full installation documentation is now in install.html.
57531bf Major update of install.html.
34605c0 Might as well have the version string in the footer too.
a6b8591 Add a version string to the SSI header for the main directory.
cd1eca7 Reimplement mod_headers as an output filter. mod_headers can now add custom headers to inbound requests using the HeaderIn directive and to responses using the HeaderOut directive. The Header directive has been deprecated in favor of the HeaderOut directive.
da47986 	Fix function type to match hook declaration.
2c26b21 Cleanup.
4a15681 Make mod_dav_fs mirror whatever mod_dav was enabled with (static or shared)
6947ca5 	Bring forward this patch from 1.3..
4e45cf5   Return missing link flags to apxs.in
2b54256 	Bring forward the NOESCAPE flag from 1.3..
fbb6f73   We don't want these operations to end the stream, simply flush out   the contents.  It's up to any downstream filters to collect c-l or   other stats when the handler has exited.
6c51b19 On to 2.0.19-dev
40fb817   Interesting, ISAPI thinks a 0 result is cool.  Already patched in 1.3.20.   [Jessie Oberreuter <joberreu@moselle.com>]
78433b6 Preparing for the tag and roll of 2.0.18.
7a7b869 Fix command-line processing so that if a bad argument is specified Apache will exit.
bf63ef9 Get the Apache DSOs installed and give apr and apr-util the opportunity to install their library files by adding backa recursive install rule.
2a5daad fix syntax error in module installation command
a8af466 Get the compile flag types right and in order.
6236750 Change the make targets and rules to be consistent in all of the Apache-owned source trees.  Sanity is a good thing.
a65b5fa Rainy day in Charlottesville...
551ecb9 Fix processing of the TRACE method.  Previously we passed bogus parms to form_header_field() and it overlaid some vhost structures, resulting in a segfault in check_hostalias(). [Greg Ames, Jeff Trawick]
f167e62 rockin' 'n rollin'
53754c1 Get the Request Phase Participation change compiling on Windows.
2680f0f Done
4f635db Win32: Enable reliable piped log support.
8e7c9a7 Fix a segfault in apr_proc_other_child_unregister. Jeff recently made a change in APR otherchild.c to unregister all OC registrations as part of pool cleanup.  This means that we must NOT explicitly call apr_proc_other_child_unregister out of other pool clean-up routines. In this case, the OC cleanup was being called first then the piped_log_cleanup was being called which called apr_proc_other_child_unregister.
a269642 apr_proc_probe_writable_fds is gone
1b1538c Remove calls to apr_proc_probe_writable_fds(). The function is going away.
dfa372f don't destroy the pcgi pool when the other-child registration of the cgi daemon goes away... it goes away *because* the pcgi pool is being destroyed
c8620d7 this patch removes the warning: warning C4715: 'mpm_service_install' : not all control paths return a value
1e08aa6 Account for changes to the name of field "private" in struct apr_xml_elem.
97833cf Do not start piped log processes during the config file preflight.  This change also circumvents a problem on Windows where the rotatelog processes created during preflight was not getting cleaned up properly.
62ade41 clean up DSO builds on OS/390 a bit by ignoring some generated files and by passing libtool the OS/390-specific options needed to split the main httpd executable into a small executable with main() and a dll with everything else (previously this information was hard-coded in the OS/390 libtool program)
768f9e7 Ooops. Didn't remove *all* of the new_scoreboard stuff. This was harmless, but should be consistent and complete. It is now completely removed.
7cbed3d add "Request Phase Participation" info to mod_info PR: Obtained from: Submitted by: dougm Reviewed by: gstein
1b2262d Make first phase changes to the scoreboard data structures in preparation for the rewriting of the scoreboard per my posted design notes. [Paul J. Reder]
b86e18b Fix typos
84ea63d   A bit more clarity, and that's it for now.
f045d56   Clarify the wintty purpose and syntax.
71aed5c   Q. "Why can't I watch my server's activity?"  A. You can.
96de15b   Hmmm, two answers for the price of one.  Add the trailing-slash   caviat to the docs.  Now to backport this better explanation to 1.3.
03962d5 Separate enablement of AP_DEBUG code from enablement of code which depends on the compiler supporting designated initializers.
ab9d00b Implement Jeff's idea for an autoconf-defined symbol to enable the special command function prototype stuff. AP_DEBUG is always set in maintainer mode and AP_DEBUG_HAVE_GCC is set when the compiler is GCC.
df71463 get rid of an errant semicolon which broke gcc builds (sorry!)
5c52ea7 Only turn on AP_DEBUG if we're using gcc.
0745ff1 I woke up too early this morning.
8ea5039 Fix httpd's definition of LTFLAGS to be consistent with that of apr and apr-util, allow it to be overridden by the configure command-line (default="--silent") and introduce LT_LDFLAGS to replace what we were formally abusing as LTFLAGS.
edc5f43 It is easier to re-run configure's test and pick up the cached values than it is to replicate them in our own macros.  This isn't too expensive because CC and CPP have already been set by APR.  Too bad it generates a lot of output.
f5aba03 Cleanup the reporting of incorrect end tags for container directives. PR:	7617 Submitted by:	Barrie Slaymaker <barries@slaysys.com>
eae5b1f Small fix to make depend, although make depend doesn't seem to be used? (We seem to use APR's)
2d32f84 More changes based on Ian's patch.
a3d0750 Fix up some of the definitions, based on Ian's patch.
f0fc041 The pattern was too general -- it would match the date within the OpenSSL version string instead of just the version number.  Fix it using a hint from libtool.
c13afe3 Do not send apr_file_t allocated out of the pconf pool down the filter chain.  This is not perfect but better. Need to do some more work in apr_os_file_put to initialize fields a bit better.
3032fea Allows Mod_proxy to be dynamically loaded on win32 systems PR: Obtained from: Submitted by:	ianh Reviewed by:	Chuck Murcko, Graham
e3ba889 When checking for gcc, use variable ac_cv_prog_gcc instead of GCC. This gets AP_DEBUG set properly for --enable-maintainer-mode builds.
e0809a8 revert to the documented behavior of MaxRequestPerChild 0, but keep the hot path simplification.
e62b09a Moved inside configure.in.
c8a0228 Simplify the configuration process by moving all libtool stuff to APR and moving the last bits of hints.m4 inline.  Now we only run every test four times instead of five.  One down, three to go.
104d441 No need to sinclude macros that we no longer use.
87794e4 We don't need no stinkin libtool when APR already has one for us to use.
86154b1 Add the AP_DECLARE()/AP_CORE_DECLARE macros on the return types of functions used by mod_proxy for export in DLL Submitted by:	Ian Holsman <IanH@cnet.com> Reviewed by:	Chuck murcko
f90d61c Make the runtime path hack a little more portable, even though it is the wrong way to check this.
6a46be6 A couple of default win config file tweaks.
80094ef Proving once again that bash doesn't bother to document when they differ from sh for no particular reason.  I'm still too fond of perl 4.
57337b1 Replace install.html with an html-ized version of httpd-2.0/INSTALL.
ec4d3f7 I forgot to add the bit that allows the macro to be called more than once.
ba51801 Eventually we will want to only find openssl once regardless of how many modules depend on it, so make the check an autoconf macro. Note that this still isn't being checked "the autoconf way", but it is better than what we have now.
51f146f Fix apachectl so that it uses the configure program name. Submitted by:	Daniel Lopez <daniel@rawbyte.com>
e95de04 Pass in the full path for the AP_LIBS so we can always find them when not installed.
e419a01 surprised -Wall does not complain, but ap_scan_script_header_err_core() should explicitly return an int
5f58915 Be more strict when --with-tls was given without a DIR value.
cb49be2 Try to auto-detect the location of the OpenSSL stuff. The old logic was incorrect anyway (it tested for .../ssl/ssl.h and then used .../include/ssl.h). Now we have a configurable list of candidates, each with: a name, an include path, a lib path, and a list of libs.
61084bf When no specific location of openssl is given, we need to check the places where people install upgraded software first, since otherwise we will get the older versions installed by the OS distribution.  That's very bad for us because we are requiring a version of openssl that is more recent than most of the Linux distros.
2a62baa Shut the compiler up.
7f82cbe get the MPMs consistent w.r.t. visibility of ap_max_requests_per_child
5112dac fix some generation logic/displays in mod_status by setting the generation field in parent_score
7fed0bc Jeff fixed this...
e4fad41 minor scoreboard/status improvements: . get the SS field in extended status output formatted correctly   (seconds since beginning of request shouldn't be a huge   negative number :) ) . use APR_OS_PID_T_FMT and pid_t where appropriate in mod_status   to avoid casting, some of which may have been broken on some   architectures
99ba37d Get rid of some Apache 1.x OPTIMIZE_TIMEOUTS cruft.  Other logic in 1.3 which used this stuff would send SIGALRM to children in certain circumstances.
1fc1a5a Get mod_cern_meta to work on Windows.  The problem was in the "skip leading slash" logic, which is inheriently broken on Windows because full Windows filenames begin with a drive letter or UNC path.
ea5640f fix the type of a parameter to ap_get_brigade()
109f7eb Crikey.
e51a9b0 Seems to be an inconsistency in the code with regard to the mod_include magic types.
68af27a Bring the mod_include docs up to scratch and link up the ssi tutorial.
1c98aab Back out the recent change to ap_get_brigade, to make it use indirection again.  The problem is that the amount of data read from the network, is not necessarily the amount of data returned from the filters.  It is possible for input filters to add bytes to the data read from the network.
a8c521c Something got deleted from the module structure.
38b7d5b Add a demo input filter.
ea5093e Track Greg's change to byte count for input filters
79b4bfa Forgot one file when adding mod_cgid.
62884a2 Update some CGI docs: - add docs for mod_cgid - link up the CGI tutorial brought forward from 1.3
f832703 Fix todo list
867d08a Port ssl_util.c stuff to APR.
5891261 Port ssl_util_table.[ch] to Apache 2.0 by just removing all platform depended code (table_read, table_write). This is possible because this table library is local to mod_ssl and inside mod_ssl this library is used for manipulating hash tables inside shared memory segments only. So we can just get rid of the unportable parts at all.
95bd222 Port ssl_util_ssl.[ch] stuff to APR.
9b7ddc0 Sunny and 11c in Vancouver.
f82c32f Use different namespace for internal defines.
8c46d8a Port ssl_engine_ds.c to APR.
32aef20 Nothing to port for ssl_engine_dh.c except that SSL_LIBRARY_VERSION has to be already available.
da400e5 Remember which code parts are already ported...
5853a8c Explain the difference between the Apache environment and the OS environment.
3e60754 Kick out all old mutex code and base SSLMutex on APR locks.
a0f48e9 Change mostly all old module structure hooks and EAPI hooks to ap_hook_xxx equivalents. More work has to be done here to clean all this up and reduce to a minimum...
11b82d3 Axe writev(2) support from the SSL I/O layer because in Apache 2.0 we no longer handle the bottom line of I/O ourself. Additionally this again simplifies mod_ssl's I/O part for later transition to mod_tls's approach with buckets.
4f6be42 Axe most WIN32 stuff from Apache 1.3. In Apache 2.0 we either use APR later for this or we don't do it at all. But we certainly no longer want to see any platform specific things inside a module.
d3cf433 Axe out SSL_CONSERVATIVE stuff which for Apache 1.3 did I/O data pre-sucking on POST requests and I/O re-injection in case of SSL renegotiations. This all either cannot be solved any longer or at least has to be implemented totally different through I/O layering/filtering.
b8998af Remove one more EAPI-based thing we no longer really need.
507c1de remove remaining references to compat and sdbm
3d89ecb compat and local sdbm stuff is already gone
f3281a2 Axe out SSL_USE_SDBM stuff, i.e., get rid of the local SDBM copy and use APR's DBM API instead. The remaining question just is whether APR's DBM allows "larger" things like SSL sessions to be stored...
6eab920 Axe out the complete SSL_COMPAT stuff. Because Apache 2.0 is already incompatible at many places to Apache 1.3 we also don't want this stuff anymore. Apache 2.0's mod_ssl will be mostly compatibile with Apache 1.3's mod_ssl, of course. But we really no longer want to be compatible to Sioux and other obsolete SSL things...
a561739 Start writing down incompatibilities to mod_ssl 2.x from Apache 1.3. Our general goal is to axe down mod_ssl to a minimum, because what we don't have anymore we don't have to port and as simpler mod_ssl becomes. Nevertheless we will try to minimize incompatibilities if possible.
4a4ce87 Axe out EAPI-based SSL_VENDOR stuff. If we want this later again, we have to do it differently anyway. So, for now we try to strip down mod_ssl as heavy as possible and hence we kick out this stuff at all.
f922bfa Finalize the build environment by integrating the last thing (the lex/yacc stuff) into Makefile.in and getting rid of the old Apache 1.3 Makefile.tmpl file.
5cba6d7 Fix a bug in the input handling. ap_http_filter() was modifying *readbytes which corresponded to r->remaining (in ap_get_client_block). However, ap_get_client_block was *also* adjusting r->remaining. Net result was that PUT (and probably POST) was broken. (at least on large inputs)
b4f8ab5 clarify the use of some of the members of the dav_provider structure.
f176ba4 Next step in mod_ssl integration: Add missing files to build environment.
fa3c838 Activate the command_rec structure.
cd9d4cc Update file description list.
abe8ac0 Get rid of libssl.modules and libssl.version. libssl.version we no longer need, because mod_ssl no longer has its own version. libssl.modules is now more or less (except for the old custom Apache 1.3 configuration rules) replaced by the Autoconf based config.m4.
680f9c0 Integrate mod_ssl into the Autoconf facility. (currently only stub files are compiled)
4a0f798 Move the AC_MSG_CHECKING into the module-specific macro to make sure the output is generated in sync with the AC_MSG_RESULT.
0603d7b Cosmetics: align the entry of MPMs in "configure --help" output
2f1f6fc Allow mod_tls and mod_ssl coexists without interfering each other by renaming the --with-ssl option of mod_tls to --with-tls. This way we can use --enable-ssl/--with-ssl for mod_ssl and --enable-tls/--with-tls for mod_tls.
a1382ec adjust file list for removed files, too.
4bbb3ad Get rid of the first pair of files which are no longer used.
c9606e8 mod_ssl integration step 2: transfer copyright of all code to ASF by using Apache Software License v1.1
07e51cc Resolve conflicts after import.
f836727 Initial revision
498c91a add some more analysis for a couple of current problems...
7ed1b10 Build (and do so cleanly) when !APR_HAS_OTHER_CHILD.
cbbb076 Remove useless cruft.
84714e4 another nit caught by C::Scan: change request_rec param name from 's' to 'r' in ap_log_rerror()
7303c93 Conversion to XHTML. The plan is to continue converting the rest of the docs to XHTML, so if you have any objections, please voice them now on apache-docs.
bab1a0b   A couple of new options for sysadmins.  Still waiting on opinions between   replacing the image on docroot/index.html.* with 2.0, or 2.0 animated.
afec164   Damnable casts
91a89a9 Set the conn_rec->aborted flag when we detect a whacked connection on the write path.
9fba321 Add a missing backslash in the install-other code so that the httpd.dll logic isn't displayed.
7a38f2b simplify the MaxRequestPerChild logic in worker_thread's hot path
58e376a Prevent a hang when a cgi handled by mod_cgid tries to read a request body from its stdin but no reqest body is being written to the cgi.
cebc827 mod_log_config: %c connection status incorrectly logged as "-" (non-keepalive) when MaxKeepAliveRequests is set to 0.
1cd0a09 account for the recent apr_pool_*abort changes
d807de8 Fix the logic for saving data onto the heap before sending it.  Basically, we have to use nbytes+flen when figuring out how much data we have, and when looking at the fact that we have a buffer to save aside before sending it, we also need to look at the length, to ensure that we aren't saving too much. Submitted by:	Bill Stoddard and Ryan Bloom
410db6c Fixed a problem with directory listing corruption in the PROXY_DIR filter. PR: Obtained from: Reviewed by:
d25aa60 AP_MIN_BYTES_TO_WRITE currently equals APR_BUCKET_BUFF_SIZE, so we have to use <=
10ead45 Add a comment about an assumption we make in our keepalive buffering.
21f5255 Initialize a local variable to prevent a gcc warning about possible use before set.  The code was fine but it is best to keep gcc quiet lest we stop paying attention.
6bdbef6 document my understanding of why the pipe_of_death_mutex is a Good Thing
c27ecd5 fix my APR_STATUS_IS_EAGAIN() usage Submitted by:	Bernhard Schrenk <b.schrenk@improx.com>
d2c7c8e C::Scan strikes again; include argument name in ap_invoke_handler prototype
fa2595b Create Files, and thus MMAPs, out of the request pool, not the connection pool.  This solves a small resource leak that had us not closing files until a connection was closed.  In order to do this, at the end of the core_output_filter, we loop through the brigade and convert any data we have into a single HEAP bucket that we know will survive clearing the request_rec.
baa865b OS/2: fix "make install" to install shared core & programs with a .exe extension.
fedbb1b Remove some obsolete macros and rename one that wasn't name protected.
e1d8823 All of this stuff about apxs is bogus right now -- does anyone feel inclined to update apxs?
f1f5f01 Completely revamp configure so that it preserves the standard make variables CPPFLAGS, CFLAGS, CXXFLAGS, LDFLAGS and LIBS by moving the configure additions to EXTRA_* variables.  Also, allow the user to specify NOTEST_* values for all of the above, which eliminates the need for THREAD_CPPFLAGS, THREAD_CFLAGS, and OPTIM.  Fix the setting of INCLUDES and EXTRA_INCLUDES.  Check flags as they are added to avoid pointless duplications.  Fix the order in which flags are given on the compile and link lines.
6a6e54f   Pass the perms arg to apr_dbm_open
e53345b threaded and prefork mpms are properly handling SIGTERM now; woohoo!
446ad41 backing out this part of the recent apxs change otherwise `apxs -q INCLUDEDIR' is broken using the default layout PR: Obtained from: Submitted by: Reviewed by:
d685f0a Allow module names to be hyphenated in the --enable-mods-shared argument.  Previously, we passed through a user-specified hyphen into the name of the shell variable, yielding an invalid variable name.
464de0a Get mod_tls to compile/work better on Windows.
afefe6f Date the 2.0.17 roll
3aa010a Fix APXS: treat sbindir as expected, fix "link" command.
7bb4bfd Prevent a core dump (openssl_state_machine.c is completely infected with assert()s in place of sensible error handling) when a server-root-relative certificate path is given (which is what most users are going to try first).   assertion "n > 0" failed: file "openssl_state_machine.c", line 142 That does NOT fix the openssl_state_machine.c though., So, never try to use invalid certs, missing keys or other fancy "1st time user" stuff.
7926991 Not that it matters, but the compiler complains (suggest parentheses around ...) and we had a coding style once.
894bc96 This is C, not C++ (yet ;-).
282c326 Add the 'last-modified' field and details on the translation status..
e66af61 Move the STATUS file to the top of the tree
87abf2a Search for OpenSSL in the "standard locations" .../include and .../lib which are ubiquitous after openSSL's "make install". The old logic relied on a common directory for both include files and libraries (very non-standard).
8271967 fast-path some cases, primarily to avoid an allocation when it isn't needed. for a "nice" piece of cdata which is in one chunk, this can usually avoid an allocation.
f706c5a note a problem with cgid cleanup, even with Greg's latest commit to threaded
cae8227 Fix shutdown/restart hangs in the threaded MPM.
56f7ece Make mod_tls compile. Fix supplied by Jean-Frederic Clere
a529c24 Removed the keptalive boolean from conn_rec because it is now only used by a single routine and can be replaced by a local variable.
ef3cb6e This stops some systems from barfing...
27ff4e5 Fix a reference to "ctx" in mod_include's CREATE_ERROR_BUCKET macro to "cntx", which is the actual name of the argument to that macro.  It accidentally worked before because all of the callers of the macro happen to be passing in a variable named "ctx".  If one of them were to ever try to pass in a context named something else, bad things would happen.
19334bb Yeah, well, like the entry says, fixed prefork to handle signals properly (mostly SIGTERN).
2cb6a38 This patch puts enough of the signal processing back in so that the signals are all handled properly now. My previous patch fixed the deadlock race condition, but broke the user directed signal handling. This fixes it to work the it did before (primarily SIGTERM is now working).
bd8337e Get rid of old naming fluff... MPMs aren't 'modules' anymore. Also, we aren't dependant on Pthreads per se
16576fa Docco update for modules directory layout
4fc50ed mod_proxy and the proxy submodules now build properly as DSOs. PR: Obtained from: Reviewed by:
ba986d2 Stopped the HTTP proxy from trying to read entity bodies when there wasn't one (response was 1xx, 204, 205 or 304). PR: Obtained from: Reviewed by:
8366898 Made the variable naming the same as everywhere else in Apache for the ap_get_brigade() fix. PR: Obtained from: Reviewed by:
704054f Just for the sake of cleanliness ...
eda5791 adjust to ap_get_brigade() / input filter api changes
c196a6a back out my quiesce limit change altogether from the threaded mpm until it learns how to go away nicely (shouldn't be too bad actually :-)
f51e696 Sometimes, boys and girls, pointers and integers *aren't interchangeable.
83e42d2 Apply changes to ap_get_brigade() to the proxy code. PR: Obtained from: Reviewed by:
9d5a1e4 *Sigh.* The janitor cleans up after himself. This makes shared proxy builds work.
e79be12 Fix proxy to NOT be built by default. Obtained from: Jeff Trawick Submitted by: Victor Orlikowski
0765217 Document the new argument to ap_get_brigade()
c250191 OS/2: Export from the shared core symbols from the socket library needed by mod_dav & mod_unique_id.
c391427 Add a few more modules to the "most" category.
443bee3 Fix typo. Submitted by:	Koga Youichirou <y-koga@apache.or.jp>
bef6b2a comment on a couple of daedalus core dumps
2905bfe further testing shows processes w/no worker threads hanging around...eeeew.
27c9f0c Limit the threaded mpm to quiescing one process at a time.
eb94b55 At the hack-athon we decided to change the way that input filters determine how much data is returned to the previous filter.  Prior to this change, we used a field in the conn_rec to determine how much to return. After this change, we use an argument to ap_get_brigade.  This makes it much more obvious how things work at all levels, so that module authors can easily determine how much data is supposed to be returned to them.
97b23cb Add a comment about how http_filter works. Submitted by:	Graham Leggett <minfrin@sharp.fm>
6b5c210 Put the keep-alive connection logging back.
48ae661 Revert about half of the last commit because of an oversight on my part that broke it.  Unfortunately, fixing the oversight "the right way" is almost as ugly as the original code; it's easier to just go back to the way it was, at least for now.
4647e5f Revert the change that moved keepalives out of conn_rec.  That variable controls the number of requests per connection, regardless of the protocol used by the request.
779fc6b Revert addition of HTTP logging hhok for connection status -- this is not specific to HTTP.
4f2f69e Change mod_include to use the latest bucket API tricks.  This gets rid of some obscure while loop magic that had to be done before, making mod_include easier to read and a better example for future filter writers.
eed6395 struct_ptr is a void*.  The Windows compiler doesn't like it when you try to do pointer math on a void*.
2617b1c Fix seg fault at start-up introduced by Ryan's change to enabl modules to specify their own logging tags. mod_log_config registers an optional function, ap_register_log_handler(). ap_register_log_handler() was being called by http_core before the directive hash table was created. This patch creates the directive hash table before ap_register_log_handler() is registered as an optional function.
cd78838 Add ap_set_int_slot() function PR: Obtained from: Submitted by:	John K. Sterling <sterling@covalent.net> Reviewed by:	dougm
35a2fa5 Under certain circumstances, Apache did not supply the right response headers when requiring authentication. [Gertjan van Wingerde <Gertjan.van.Wingerde@cmg.nl>] PR#7114 (This is a port of the change that went into Apache 1.3.19.)
b0796df Made sure dates were canonicalised correctly when passed to the client browser through the HTTP proxy. PR: Obtained from: Reviewed by:
5ca024c test -e isn't portable; use test -f instead
2afb8d6 Remove unused variable.
49d4d09 Couple of show stoppers
2e3a6be get mod_cache to at least compile
6e0501d New Japanese translation
9cb03e5 New Japanese translation.
807c6d0 New Japanese translation.
2db98c9 Forgot to add this file.
dadd829 Allow modules to specify their own logging format specifier.  Basically, mod_log_config has registered an optional function, that other modules can use to specify a function to be called.  This is analogous to the way that mod_include works.  This also allows http to do the connection logging itself, without exposing HTTP specific pieces to other modules.
ffe6ad2 There is a bug in how we sort some hooks, the pre-config hook is one that is definately incorrect.  Basically, the first time we call the pre-config hooks, they are sorted correctly.  However, when we call them the second time, we use the order that modules are loaded into the server.  This move basically puts the http_module after mod_log_config in the compiled server.  It is a hack, and a work-around to allow for my next commit.
de6f079 This changes the build process as outlined in my email earlier this week.
17df005 Don't overwrite r->the_request.  This was causing us to never get the request in the access_log
52d4dfd add "extern" to the decl of http_module so that we don't get duplicate symbol warnings from the linkers on some platforms (e.g., AIX)
4fbca8e account for the change to apr_create_signal_thread
70a67b2 Move the keepalives field out of the conn_rec and into an HTTP specific connection record.  This also moves some HTTP specific back out of the core and into the HTTP module.
9d0eb82 Tweak a message. No function change.
fcd4eac Retagged.. Now bump back to 2.0.18-dev.  For anyone looking at this in the future, I screwed up tagging the 2.0.17 release. Should have set the string to 2.0.17, then tagged. I left it at 2.0.17-dev by mistake.
0f9f9d8 Retag at 2.0.17
473cf0a allow non-absolute URIs to occur in some of the requests. RFC 2518 states that the Destination: header (used in MOVE/COPY) must be an absolute URI, so it keeps that constraint.
5d7d80f Bump the release num
e3b2b9d Remove some obsolete copies
a7bc1f3 If a higher-level filter handles the the byterange aspects of a request, then the byterange filter should not try to redo the work.  The most common case of this happening, is a byterange request going through the proxy, and the origin server handles the byterange request.  The proxy should ignore it.
29b5864 Silly typo.
301bdef give the poor users (i.e. us) a clue that something might be wrong when buildconf fails in subdirectories
1e331c3 *Sigh*. Slight janatorial work.
e3230b6 Update the DSO docs in the INSTALL file.
73d8d4a Add the Retry-After support that was commented out in proxy_ftp.c PR: Obtained from: Reviewed by:
c83c2da Oops - the proxy host and port were left off when the proxy tries to run the handler to connect to a proxy server. PR: Obtained from: Reviewed by:
22ebd69 Split each individual proxy protocol into separate modules. PR: Obtained from: Reviewed by:
041f629 Fix the binbuild.sh script so that it works correctly on Linux again.
453fc97 If mod_dav is not enabled, then don't enable mod_dav_fs.
c0ba5ae Move the httpd release rolling script from the httpd-site directory to the httpd-2.0/build directory.
d7ba749 We don't really treat this field as a const, and currently we are getting warnings because on line 536, we are trying to assign a non-const to a const.  This started happening after a fix for Windows.  This change should solve the problem on all systems.
372c585 Changed the threaded mpm to have child_main join to each of the worker threads to make sure the kids are all gone before child_main exits after a signal (cleanup from perform_idle_server_maintenance). This is an extension of Ryans recent commit to make the child_main the signal thread.
5c15c18 Changed the threaded mpm to have child_main join to each of the worker threads to make sure the kids are all gone before child_main exits after a signal (cleanup from perform_idle_server_maintenance). This is an extension of Ryans recent commit to make the child_main the signal thread.
019d25a We need a prototype for ap_show_mpm
2cc437c Fix up the auto-versioning stuff. The new scheme more closely matches the intent of DeltaV draft 14, simplifying some previous assumptions.
8528f53 Implement the MERGE method: fill in dav_method_merge(); add merge() function to dav_hooks_vsn.
f8425f7 Make hooks work for the *_canon() functions. Work continues. PR: Obtained from: Reviewed by:
0a9f4ce Initial support for proxy protocol handler sub-modules. Work continues. PR: Obtained from: Reviewed by:
74d7075 Forgot the CHANGES file.
cd0738b Add more options to the ap_mpm_query function.  This also allows MPMs to report if their threads are dynamic or static.  Finally, this also implements a new API, ap_show_mpm, which returns the MPM that was required into the core.
a5a7858 Be type safe, avoid possible buffer overrun
6317250 Not sure what I was thinking, but this clarifies the logic for nbytes > sizeof(buffer) towards the end of proxy_connect.c
81ef5d3 Added Max-Forwards support for all request types so as to prevent loops. PR: 1085 Obtained from: Reviewed by:
6106a25 Sorted out some content-type oddness with proxy_ftp.c PR: Obtained from: Reviewed by:
5345c51 Fixed all the APR error codes to make sure they end up in the logfiles PR: Obtained from: Submitted by: Reviewed by:
31bebc7 Fix logic in connect handler from previous patch
d8d03d8 Fix warnings about byte count type on Darwin
7ef7064 Change AP_MIN_BYTES_TO_WRITE from 9000 to 8192 to match the bucket buffer size.  This fixes the 8192-808-8192-808 iovec-length sequence problem on platforms using writev() (eg OS/2).
4abfc87 IPV6 EPSV support for IPV6 in FTP proxy. Some cleanup of the million and one debug statements PR: Obtained from: Reviewed by:
1e12207 Fixed a problem with FTP directories and charcters being chopped here and there. PR: Obtained from: Reviewed by:
575247b Do not install the binaries from the support directory twice. PR:	7490 Submitted by:	jun-ichiro hagino <itojun@iijlab.net>
3cd935c s/apr_signal_thread_func/apr_signal_thread/
fdc6afc Fix the shell syntax error that occurs when a for list is empty due to an empty variable expansion.
358858f The ap_f* functions should flush data to the filter that is passed in, not to the filter after the one passed in.  The fixes a bug, where one filter is skipped when using ap_f*. Submitted by:	Ryan Morgan <rmorgan@covalent.net>
0ae1f4b Convert the apr_create_signal_thread to apr_signal_thread.  The main difference, is that instead of creating a separate thread to listen for signals, the thread that calls this function does the listening.  Many platforms have issues when the main thread isn't the thread that is listening for signals.  Even more platforms complain when the main thread dies, but the process doesn't.  This gets the main thread back to being the signal handling thread.
891736e Force the dav/fs config.m4 file to be added to the configure script after the dav/main config.m4.  This script should make sure that dav is enabled before turning on dav/fs, but I leave that for somebody else to do.
0d17672 Make the dav/main config.m4 file be added to the configure script after httpd, and make dav default to no if http is not enabled.  Dav still defaults to yes if http is in the server.  Dav is incredibly HTTP centric, and makes little to no sense without HTTP
15f7461   Clean up some exposed data that should be internal to service.c
b9d0205   More APR_STATUS_IS_ canonicalization
18c7911   Probably my own foobar
e8dfbb8   Gotta use APR_STATUS_IS_EFOO() wrappers on all except our internally   defined status codes (e.g. APR_EOF and APR_STATUS tests are ok.)
48f3783   It's critical that apps use the APR_STATUS_IS_EFOO() canonicalization   wrappers, or some platforms errors are missed.
8830ea0   Make default install target more consistent with unix.
13c3bb9 Remove double-quotes from the list of programs to install to make it valid shell syntax.
6cbe701 Make ab work again by changing its native types to apr types and formats.
07e7e19 FTP directory filter works now. Many FIXME notes added. Much overhauling of proxy_ftp.c PR: Obtained from: Reviewed by:
3cba58c When I initially pulled the BYTERANGE filter into the core, Greg Stein told me I was wrong.  I was wrong, and Greg was right.  This commit just moves the byterange filter and its related functions out of the core, and puts them back in the HTTP specific module. Submitted by:	Greg Stein
c439858 Fixed some thread-safety issues with the HTTP proxy in mod_proxy. PR: Obtained from: Reviewed by:
4b8fc3c Removed apr_bucket_do_create() macro, which was causing warnings about unreachable code in some compilers (notably MSVC).  What used to be done by this macro is now done inline in the various apr_bucket_foo_create() functions.  [Cliff Woolley]
efd42bd Make clean, distclean, and extraclean consistently according to the Gnu makefile guidelines.
ce64050 commit the CHANGES file, too.  This is for fixing the mixup in the naming of the apr_threadattr_detach_xxx functions.
426271e Fix the naming of the apr_threadattr_detach_xxx functions.  get and set were reversed.
a08aa96 Small docco fix.
91da6bd Remove a needless assignment.
db1327d Ignore *.slo too....
edfc2c2 Small fixes. PR: Obtained from: Reviewed by:
98f1c62 A client POST request would be read entirely into RAM before sending it on the client - a potential DoS. Fixed. PR: Obtained from: Reviewed by:
5cba2e1   Clean up a yet a couple more emits
ce168dd Make sure the filter stack in a reused downstream connection is reset so we don't get lots of DECHUNK filters when we don't want them. PR: Obtained from: Reviewed by:
7fccc5a   Knock off another couple of compiler emits.
0c36e11   icase is intialized as the result of an (a == b) expression, it makes   no sense as an unsigned, and this eliminates all compiler emits from   the module
3d9c534   Toss the float nonsense from c-l, and cast atof as a (float), which I   will argue is a totally appropriate use of a cast :-)
056f85f We now keep the entire conn_rec across downstream keepalives, not just the socket. Made the "keepalive mismatch" message more accurate. PR: Obtained from: Reviewed by:
81dd463 Missed one...
a2a114d More status stuff and wish listing...
a3dd2c0 *Sigh*. Pointless repetition of calculations. It bothers me. Even if it is simple bitwise AND.
0552a12 More status
8eea3bb Fix errors in generating docco using make docs.
1534663 Green and yellow pollen in the air like fog blotting out the sun. Worst I've ever seen.
995cf86 Small docco fixes.
942c710   change include_handler to include_handler_fn_t, and clean up a nasty   explicit cast that could float from the include_handler_fn_t declaration.
c3efd6f   We seem to use fn_t *fn throughout the rest of apache, so normalize this   syntax for mod_include's include_handler(_t)
71fcb35 Moved config.m4 to config9.m4. This allows most (if not all) other modules to be handled before mod_so, so that sharedobjs is set if needed, so that mod_so is enabled as needed if building any modules shared. NOTE: This is no guarantee. There exists the possibility that a config.m4 could be used after this one, and that the modules it specifies are the only ones that the server will be built with as shared. This is highly unlikely, but possible.
eb1d17e More fixes... PR: Obtained from: Reviewed by:
78aaa15 Memory allocation cleanups PR: Obtained from: Reviewed by:
d861bce Change HTTP proxy to use ap_proxy_string_read() instead of apr_brigade_read() to make sure all the buckets are read... PR: Obtained from: Reviewed by:
10c5335 Compiler warnings - yuck! Moved ap_proxy_string_read() to proxy_util.c so it can be used by proxy_http.c PR: Obtained from: Reviewed by:
d881b12 Remove BindAddress from the default config file, because it is no longer a valid directive. PR:	7539 Submitted by:	giles@nemeton.com.au
e8626b9 *) PASV FTP works now. *) Reworked the line-at-a-time read from the control connection to workaround a stray empty bucket returned by the HTTP_IN filter. PR: Obtained from: Reviewed by:
ff81907   Spare unix users some more win32 questions
b1aa5cb Allow modules to be added to the server at configure time.  The syntax is:
f3269d3 Goodbye more dead code. PR: Obtained from: Reviewed by:
e95ee6e Stopped the CORE filter from sending off an HTTP response when a CONNECT tunnel was closed. Fixed some filter definition madness that proves that I need some sleep. PR: Obtained from: Reviewed by:
a3f6f6d HTTP_VERSION() is the correct way to do this... PR: Obtained from: Reviewed by:
c3cdf7f More error checks to make sure the poll() loop dies when the connection on either side is closed... PR: Obtained from: Reviewed by:
97dfaef CONNECT now works!!! Woohoo!!! the poll() loop was overhauled - many of the reads, writes and selects were happening on the wrong sockets. PR: Obtained from: Reviewed by:
a0a3e8f Various cleanups and comments PR: Obtained from: Reviewed by:
7f6c1eb Add #defines for protocol version checks... PR: Obtained from: Reviewed by:
a89e247 As in the case of 1.3, there are expected cases where this should not return a port (i.e. a uri beginning with /). Thus, we keep the default case fast, and let module authors check back on the port being set on their own.
c56a43e Backing my earlier change out; There exists the possibility for ap_parse_uri_components to not fill in the port field in certain cases, i.e. wherein the uri begins with /
5cbf2b9 Make the CONNECT proxy talk HTTP/1.1. Still need to check if this is compliant with HTTP/1.1 though... PR: Obtained from: Reviewed by:
62b643a *) Made log entries consistent with proxy: CONNECT: *) checked that sockets were being closed on error PR: Obtained from: Reviewed by:
20b0915 proxy_connect.c needs ap_parse_hostinfo_components() to decode the URI, not ap_parse_uri_components() PR: Obtained from: Reviewed by:
3d6586f Downstream keepalives in mod_proxy should not kick in if the upstream client is < HTTP/1.1 PR: Obtained from: Reviewed by:
a386223 tweak unixd.h so that exports.c is built properly
f728e21 ap_os_systemcase_filename isn't implemented on OS/2 & isn't used anywhere anyway. This stops exports.c requiring it.
e9a1293 Sockets weren't being closed if the proxy could not connect to a remote machine... PR: Obtained from: Reviewed by:
3c3c599 OS/2: Export some APR global variables from the httpd core.
a93c7ed OS/2: Set the max file handles for the process to something more useful than the default of around 40. This gives us 2 per possible thread.
4956c2d A few symbols from os.h need to be exported.
3d6dd23 Turns out continuation lines in ftp can start with a space... fix detection of these things in proxy_ftp.c PR: Obtained from: Reviewed by:
a3bab88 Fixed problem where the port was left at zero on requests instead of being set to the default scheme port 80 PR: Obtained from: Reviewed by:
267a7f8 Some bugfixes to proxy_ftp.c PR: Obtained from: Reviewed by:
b75c3cf Update CHANGES file to include the prefork idle child cleanup fix.
a3d7fb9 Changes required to make prefork clean up idle children properly. There was a window during which a starting worker deadlocks when an idle cleanup arrives before it completes init. Apache then keeps trying to cleanup the same deadlocked worker forever (until higher pids come along, but it still will never reduce below the deadlocked pid). Thus the number of children would not reduce to the correct idle level.
7a742e7 Bugfixes to proxy_ftp.c -> in some places uri_addr was used instead of connect_addr - all hail cut and paste! PR: Obtained from: Submitted by: Reviewed by:
5dd4149 Converted send_dir() to ap_proxy_send_dir_filter() in proxy_ftp.c. Fixed up the header files PR: Obtained from: Submitted by: Reviewed by:
3d4e9fb More pool allocation errors. The apr_sockaddr_t structures connect_addr and uri_addr were getting allocated out of the wrong pool (one of the request pools) when they were expected to stick around for the life of the socket. Further, the default pool to be used should have been the connection pool in the request_rec.
c89723b update status; add FTP back in to the build
854b0d2 Major rework of ap_proxy_ftp_handler() to use filters (begone foul BUFF!!!). It compiles, but is untested, and the build environment needs to be fixed to include proxy_ftp.c. PR: Obtained from: Reviewed by:
ae1f2df Now that APR knows when TCP_NODELAY is inherited, use its setting to know when to set that option on the listening socket.
a43bb9d Cleanup of dead functions within proxy_util.c. PR: Obtained from: Reviewed by:
afce43b Reworked the storage of the client socket between keepalive connections to fix some nasty problems with the socket lasting longer than the memory pool it was allocated from. PR: Obtained from: Reviewed by:
c22377f as Bill did with threaded, don't let a child process return to parent code when make_child() returns
5383bde   Time to refresh mak on Win32
0d95604   Lost mod_info at some point (probably well adding the experimental mods)   so put it back
3b2e5e5 Move the error logging of a failed send into the core output filter.  This should catch errors in any way we send data.
5f3bc1e Some code rewriting in ap_proxy_connect_handler(): *) Fixed bug where a hostname without a "." in it (such as "localhost") would not trigger an IP address check with ProxyBlock. *) Fixed ProxyBlock bugs with ap_proxy_http_handler() and ap_proxy_connect_handler(). *) Updated ap_proxy_connect_handler() to support APR, while moving some common code between http_handler and connect_handler to proxy_util.c. PR: Obtained from: Reviewed by:
3cea69c Since ap_parse_uri_components() now guarantees port will be filled in, this is no longer needed in dav.
e54aa08 As in 1.3, make sure the port is set in ap_parse_uri_components(). Reviewed by: Chuck Murcko <chuck@topsail.org>
8735167 Module writers for 2.0 shouldn't still be relying on a no-op for compatibilities' sake. Let's kill ap_util_uri_init, since it serves no purpose now.
258205d *Sigh.* Again, removing UTIL_URI_REGEX stuff, this time from 2.0.
b4f2309 Back out the 2.0.17 stuff.  We'll just re-tag the one file in 2.0.16 and re-roll.
e98041e Update for 2.0.17.  The only change was in APR-util, but APR and APR-util aren't at a point that they have their own release strategy, so this means a new tag for Apache.  :-(
7f238fc OS/2 loadable modules are done.
e5a0f20 Working in 2.0.17-dev now.
54a502f Update the CHANGES and ap_release files.
2918690 Temporary (hopefully) reversion to the previously used hack to allow --prefix to work for now.  This means that part of the Apache layout is duplicated in configure.in again.
91bfc9d Done.
f119113 Oh bother. OPTIM isn't treated the same in apr and httpd-2.0. While being fixed, allow to build
07fed58 Minor sync-up of how httpd-2.0 and apr handles these. -g is more an Optimization flag, and the others are more compiler flags
043396b This adds some simple error logging to send_the_file. There are a lot more cases that we should log :(
dcff7ed clean up some mod_cgid issues related to other child maintenance...
505c087 when handling a graceful restart, kill the child using the correct handle to the pipe of death; otherwise the syscall fails
70e07dc Make Apache check APR's configuration when determining the default MPM. This way, if APR is built without threads, then Apache defaults to the prefork MPM.
afe19af - change inconsistent use of logdir and logfiledir all to logfiledir, to   make the config.layout file work properly. - change default layout to be "Apache", as defined in config.layout,   instead of duplicating (some of) that layout in configure itself. - change default installation path to /usr/local/apache2
e14a9d7 Uhh, we really need the prototypes for standard string functions.
975c630 Add the code to actually enable accept filters in 2.0
150440b   cvs ugliness :-)
5ab13f6   ms vc ugliness
6a18920   Hmmm... this made things easier for me to read a while back, perhaps   someone else may appreciate
eef2d4a   Ahhh... the missing file from Ben's and my experiments
ab56f47 Use APR's macro to generate config.nice
66b8098 Threads is a feature, so it is HAS threads not HAVE threads...
95d3ab5 tell the user what's going if APR threads aren't unavailable, and Apache is using a threaded MPM.
0fbdd4a Make live simpler - as we are using strchr already
36dc405 Note OS/2 loadable module support. I've really got to get into the habit of adding these....
3f6b89b Doing last minute alphabettically sorting things to look nice is not always a good idea.
87217ab   Whoops... this could be causing problems
1e424f9 make sure we have the prototype for index() (fixes a Solaris warning)
eaf3f3a   Some experiments, not targets of the InstallBin complete build
1117eec Get MaxRequestsPerChild working on Windows.
b8e14e4 Add a note to check the FAQ. A very common problem caused by VPNs like Aventail Connect is flagged by this code and is documented in the FAQ.
1229555 Grab the context lock when draining the qhead
2c138ea Now doing this check at the top of the loop
461b8de Some shutdown work.
9638819 Use EXTRA_CPPFLAGS where it needs to be used.
ed43771   Here they are, real working examples [well, perhaps working.]   [Ben Laurie, Will Rowe]
81ec459 A sunny day in Cupertino.
981b85f consistent types; avoid warning on AIX for mismatch between printf format and arg
b924ea8 Fixing a few compiler warnings with mod_proxy PR: Obtained from: Reviewed by:
0628baf Fixed problem where responses without entity bodies would cause the directly following proxy keepalive request to fail. PR: Obtained from: Reviewed by:
28f7a84 Changes to get AIX DSOs working, sans APR changes. Basically, this allows linker flags to be passed for the httpd executable and DSOs only.
4af9bfe "void *res = signal(blah)" isn't cool 'cause void * is not compatible with a function pointer; but we don't need to save the old signal pointer anyway so drop the variable
f31fc44 keep ab from dividing by zero when heartbeatres is zero
b138bb7 Cleanup all the warnings introduced in AB yesterday.
4cdef37 Fix segfaults for configuration file syntax errors such as "<Directory>" followed by "</Directory" and "<Directory>" followed by "</Directoryz>"
d72c7d9   *) Added support for downstream keepalives in mod_proxy.   *) Changed mod_proxy ap_proxy_http_handler() to support APR properly. PR: Obtained from: Reviewed by:
e27ddf4 Fix --enable-layout processing on NetBSD.  This makes us use a consistant location for the config.layout file, and it makes us a bit more portable. PR:     7482 Submitted by:   jun-ichiro hagino <itojun@iijlab.net>
c65d5ee Reformat declaration so make_export.awk will recognize them. Yes, I know this makes lines longer than is normally acceptable but I'd like to see anyone come up with an awk script that handles these things broken over multiple lines...
dea84b1 Switch to using aplibtool for building under OS/2 & add support for building loadable modules as OS/2 DLLs. PR: Obtained from: Submitted by: Reviewed by:
836f8f5 Commit early and often. This should merge all changes into ab from 1.3 into 2.0. SSL work not completed; I need to move some of the autoconf detection of mod_wtls to a more central place first. Any suggestions appreciated :-)
364d2ce Either MacOS-X is much more sensitive for border conditions - or I am just being unlucky. This allows for apr_send() to do consequitive partial write's; by keeping a buffer and TO within ab itself. Ab was already doing that for read anyway.
26b3f51 First stab at encapsulating the apr_send() to make it a little more pushy. Ran into this whilst' porting the -1.3 changes forward.
ac04be6 Prevent cobbering of lenght for subsequent sends. Still not quite right; we ough to call apr_send again if len != requested_len - but then our timeout could be len * timeout if we happen to only stuff one byte down the pipe each time.
aa532ee Get mod_file_cache to refuse to compile on systems with neither sendfile nor mmap.
0879bc7 if the perl interpreter is not found in PATH, use "/replace/with/path/to/perl/interpreter" for the path when substituting in split-logfiles et al so that an unlucky user will have a better clue about why these programs won't work
e5623c9 remove some items which are no longer used/needed.
0f9cb18 Now that apr_poll has been corrected and doesn't loose fd's between calls this can be done once again.
e8dbd0e Changes to the httpd.exp file, to get DSOs working. This is most of the way there, but there may yet be some symbols missing. Working on a script to keep this in line.
2f0029b oops... really fix the storage leak this time... we were doing cleanups after the last change, but we were losing the pool and its retained storage
8fe24d1 Fix a storage leak in mod_cgid... the temporary pool created for each request was not cleaned up.
382c214 	Change the links to point to the new distribution directory.
0da9774 clean up some warnings dealing with 1) mismatches between printf format strings and arguments 2) wrong type for last parm to ap[r]_xml_to_text 3) missing time.h decls
1fd4cdb Abort apache buildconf if apr buildconf or apr-util buildconf fails. Otherwise, the error message from apr or apr-util (e.g., invalid libtool version) is lost in the stream of output.
11d8cc5 Fix the OPTIONS response. It was attempting to send an HTTP response (header) through the filter stack, which just wrapped that response in another set of headers.
5ba260c Patch to sync with some changes to mod_dav 1.1:
e6b0d60 Get rid of some old WIN32 cruft
4732553 Performance: Add quick_handler hook. This hook is called at the very beginning of the request processing before location_walk, translate_name, etc.  This hook is useful for URI keyed content caches like Mike Abbott's Quick Shortcut Cache.
66f945d Remove the cvsignore file from the dead dexter directory.
1545559 make sure we have the prototype for strcasecmp()
d09fcc1 switch to --enable-* rather than --with-* for the debug options
808ca40 get rid of an unused variabe in file_cache_xlat()
16a82e2 Get mod_file_cache to compile again on platforms with no apr_sendfile().
b951f8b Eat our own cooking.  Cleanup code paths and use apr_hash functions. Good for a small performance boost.
6e06e29 Fix the printf format string for a process id.
bc660e9 top_module global variable renamed to ap_top_module
d7be6db revise the set of predefined PROPID values based on DeltaV Internet Draft #14
e845552 Move ap_set_last_modified to the core.  This is a potentially controversial change, because this is kind of HTTP specific.  However many protocols should be able to take advantage of this kind of information.  I expect that headers will need one more layer of indirection for multi-protocol work, but this is a small step in the right direction.
8f6431d Header Bugfix / General Cleanups in ap_proxy_http_handler / X-Forwarded-* headers PR: Obtained from: Reviewed by:	Chuck Murcko
b2437fe Enable mod_status by default.  This matches the docs and what 1.3 does. Submitted by:	Ed Korthof
0883768 add item
44238d2 change create_request hook to RUN_ALL/return int so handlers can throw errors
f77c6c6 Add a ScriptSock default to the defualt config file.  This is only enabled when the mod_cgid module is used. PR:	7408 Submitted by:	Taketo Kabe <kabe@sra-tohoku.co.jp>
0c88cad We are working on 2.0.16 now.
c3e80a9 Prepare for the next roll
d07dd8d Remove files that now reside in srclib/apr/build
30bf9d3 Untangled the buildconf script and eliminated the need for build's aclocal.m4, generated_lists, build.mk, build2.mk, and a host of other libtool muck that is now under srclib/apr/build.  More to follow.
af23073 Remove some unused bits and improve comments.
1dcd4c9 Tweak some declarations so they're picked up by make_export.awk
c652731 This will ensure the child pool is cleaned up nicely.
c63f6db Win32: Don't accept more connections that we have worker threads to handle. This is specific to NT/2000.
8ff11aa Exit the child main thread in make_child on child exit.  This fixes a problem where the child main thread was looping in make_child() forking errant processes.
333ebf3 Get rid of some warnings which crept into the Unix MPMs a few days ago.
aa563a6 Fix a major security problem with double-reverse lookup checking. Previously, a client connecting over IPv4 would not be matched properly when the server had an IPv6 listening socket.
a93c526   Address a build problem for VC7.0/PSDK headers identified by   Jerker B�ck <info.jelmar@telia.com>.  This isn't the only   workaround possible, but IWFM.  VC6/7 users please confirm.
e935387   This should wrap this freshen up
06070db Updated Welcome page translation for Brazilian Portugese
6db7a50 update on daedalus.
8113e49 Add a not to the CHANGES file now that I've had confirmation that the changes made last night actually work :)
2ac3e09 This change actually gets beos shutting down and restarting!
30eeae7 back out the logging of read errors in getline.  daedalus was logging boatloads of "(54)Connection reset by peer: ap_get_brigade() failed" errors.
5f6998e Empty out the brigade shared by ap_getline()/ap_get_client_block() on error exit from ap_getline().  Some other code got upset because the wrong data was in the brigade.
c97f12f Added my public key to the list.
9b13772 Handle ap_discard_request_body() being called more than once.
8a8f51f remove descriptions of daedalus problems which are apparently fixed.
60007c8 Fix a problem in mod_mime_magic where file descriptor 2 would be inadvertently closed.  This logic was in the uncompress child in 1.3 but was in the parent in 2.0.
7c7bd95 Declaration of ap_reclaim_child_processes() in exports.c needs to be conditional in the same way that the function's definition is so give it a suitable macro that will be recogized by the scripts that make exports.c.
8251bfc Under OS/2's emx gcc (and maybe others) uninitialized global variables don't get exported so initialize ap_ugly_hack to something.
4fe4de4 reorganize STATUS; update copyright
8ec81e1 The mod_proxy side of Graham's Auth patch Obtained from: Graham Leggett Reviewed by:	Chuck Murcko
895b7b2 Add a hook, create_request.  This hook allows modules to modify a request while it is being created.  This hook is called for all request_rec's, main request, sub request, and internal redirect. When this hook is called, the the r->main, r->prev, r->next pointers have been set, so modules can determine what kind of request this is.
921c577 More doxygenation.
8797117 Cleanup the build process a bit more.  The Apache configure script no longer creates its own helper scripts, it just uses APR's. Submitted by:	jean-frederic clere <jfrederic.clere@fujitsu-siemens.com>
15e12b0 Stops the forced downgrade of the connection to HTTP/1.0 for proxy requests. Submitted by:	Graham Leggett Reviewed by:	Chuck Murcko
93463cf This is a fix that went into v1.3 quite a while back, but not into v2.0. It sorts out the problem when a password protected reverse proxy URL sends a Proxy-Authenticate to a browser instead of a WWW-Authenticate.
448a3a6 change INADDR_NONE to APR_INADDR_NONE Submitted by:	Ian Holsman <IanH@cnet.com> Reviewed by:	Chuck Murcko
7459fbf   Fix dbmmanage.pl generation for Win32
0296354 Avoid using sscanf to determine the HTTP protocol number in the common case because sscanf is a performance hog. From Mike Abbot's Accelerating Apache patch number 6.
67b3360  Fix a security exposure in mod_access.  Previously when IPv6 listening sockets were used, allow/deny-from-IPv4-address rules were not evaluated properly (PR #7407).  Also, add the ability to specify IPv6 address strings with optional prefix length on Allow and Deny.
6b1b90a Include some newly-generated files in .cvsignore.
7c80013 Pull in the Connection handling part of the v1.3 patch for HTTP/1.1. Some preliminary HTTP/1.1 work Some comments and fixes PR: Obtained from: Reviewed by:
264cd64 dbmmanage, log_server_status, et al are now generated files; get them out of CVS
ca71080 fix a sprintf() format string; use APR_OFF_T_FMT for apr_off_t as %ld doesn't work everywhere (e.g., FreeBSD)
36fa94c include string.h for the strstr() prototype
af98abf Check in not-quite-working hooks groupings.
66a99c9 small updates on daedalus
43fbfa4 	Enhance customisability of rotatelogs: strftime(3) 	formatting of filename and offset from UTC.
96aaa9b *) mod_dav.c: allow PUT to a WORKING resource (this actually the only valid    place to do a PUT(!))
4678d3f Consolidate ap_max_requests_per_child and max_requests_per_child vars. Move some vars closer to where they are used (listenfds, et, al)
9ac806f Some mpm_winnt module clean-up to make it more readable.
6bdb334 Get rid of useless function call overhead.
9692f10   *) Reimplement the Windows MPM (mpm_winnt.c) to eliminate calling      DuplicateHandle on an IOCompletionPort (a practice which      MS "discourages"). The new model does not rely on associating      the completion port with the listening sockets, thus the      completion port can be completely managed within the child      process.  A dedicated thread accepts connections off the network,      then calls PostQueuedCompletionStatus() to wake up worker      threads blocked on the completion port.      [Bill Stoddard]
0108291 	Bring the other Perl scripts into the autoconf-edited 	find-the-interpreter fold, like apxs and apachectl.
e492048 More doxygenation.
ef5bf37 	Bring forward the suexec umask setting option from 1.3, and 	also fix some configure.in bits that would define macros 	that needed to be numbers as strings instead.
ce57a82 Make emacs indent top-level comments in headers correctly.
86224fb OtherBill told me last night that I never bumped for 2.0.15.  Whoops.
759dfd4 First step in doxygen conversion.
49de967 actually dump the cache code PR: Obtained from: Submitted by: Reviewed by:
27a5d83 remove ProxyNoCache and ProxyCacheForceCompletion config directives, since we no longer directly cache from this module PR: Obtained from: Submitted by: Reviewed by:
1dcf2f7 Cache removed, with other spooge PR: Obtained from: Submitted by: Reviewed by:
4ee1bd1 Virtual host config file fix backported from v1.3 PR: Obtained from: Reviewed by:
d3dcba6 tweak ap_get_remote_host() so that the caller can find out if she got back an IP address
c9a450c 	Bring forward the -V option for suexec from 1.3.20-dev.  It looks 	like the umask() option needs to be brought forward, as well. 	Is this still 2.0.14-dev?
0e31d04 Fix a Windows seg fault on startup when multiple listen directives are being used.
220906d don't try to install expat, since it isn't there anymore.
956be63 Always clear the C-L if we are going to try to parse the file.  It is impossible for us to determine if there is going to be an SSI tag in the file until we have actually scanned it all.  By that time, it is likely that the first chunk of data, and the headers have been sent to the client, and it is too late to clear the C-L.  If we are parsing the file, we have to just assume we are going to change the content.
49c5ce3 Get us closer to building on Unix.  Not perfect yet, but we no longer should look for expat in srclib.
f9ef03c   Goodbye srclib/expat ... completes the build for srclib/apr-util/xml/expat
070a459   Refreshing the .mak files.  Dang... should have done this in the a.m.
ddd8c56   A one line snafu becomes a big one... sorry, forgot to transpose this.
b1f357d   Minor snafu - wrong intermediate build path
66806c1 Update the STATUS for the current situation
28d9086 turn on setuid permissions when installing suexec
9338c2d What ever happened to that blizzard we were supposed to get?
585199d Bump for version 2.0.14
48c376a Fix content-length computation.  We ONLY compute a content-length if We are not in a 1.1 request and we cannot chunk, and this is a keepalive or we already have all the data.
6515fd7 A little more information on the problems seen on Daedalus with 2.0, plus a note about another problem that apparently fell through the cracks.
8cf4f0a log our unresolved problems from daedalus in a visible place.
0495cdf Report unbounded containers in the config file.  Previously, a typo in the </container> directive could result in the rest of the config file being silently ignored, with undesired defaults used.
276b6d0 Fix a screw up of my own invention. I must be getting senile.
0e4fc7c Updates to the symbol file, in an attempt to finally repair DSOs on AIX.
3a73cac Rely on APR to determine whether or not we have netinet/tcp.h.  This test requires a special work-around for IRIX 6.5, which will be in APR soon. There is no need for it in Apache.
3358c41 Make the old_write filter use the ap_f* functions for buffering the data. This has been tested with a couple of directory listings, but it could probably use a bit more testing before being declared stable.
54ed307 Another chunk of code from http to core.  This should continue to build on all platforms.  The next job is to shuffle functions back and forth so that the server builds without mod_http.
de53808   Win32 goodness for the core/http split.
c68c4d0 Get the beos mpm building again following the recent addition of the MPM query API.
2dc527a The ap_r* vote is now over.  The decision was decidedly for the OLD_WRITE filter.  This adds a note in the STATUS file to ensure that it gets modified to use the correct functions before we release.
3eeeb76 Move more code from the http module into the core server.  This is core code, basically the default handler, the default input and output filters, and all of the core configuration directives. All of this code is required in order for the server to work, with or without HTTP.  The server is closer to working without the HTTP module, although there is still more to do.
4f47b25 mention the changes to Apache for PR #6980
6962921 Use a proper prototype for ap_show_directives() and ap_show_modules() so that they match their prototypes in http_config.h.
4798019 Get rid of unnecessary apr_status_t variables in a couple of functions.
01dd97b Fix some APR-ization issues:
d3c92fd purple, yellow, and aqua.
d2d2388 Allow modules to query the MPM about it's execution profile.  This query API can and should be extended in the future, but for now, max_daemons, and threading or forking is a very good start.
072df79 In ap_method_in_list(), fix a typo which inadvertently cleared l->method_list.
26d5f3b get rid of unused parameter filename to function get_req()
47b18ad no need to calculate the config file name in display_info() since we don't have to read it
b6b1728 get rid of unused variable b_copy in function handle_echo()
0c4f759 Back out an unintended commit from a minute ago.  Ouch!
8dae725 Use the proper enum for the block/non-block parameter to apr_bucket_read(). A couple of these changed in meaning (e.g., 1->APR_BLOCK_READ).
e719718 in rfc1413_query():   use the buflen variable even on ASCII machines to get rid of a   warning from the SGI compiler as well as to make it go a wee   bit faster
e320f69 fix the type of ap_my_pid and make it static since it is used in only one file per build (prefork.c or threaded.c) PR:		6980
5c21e3c fix make install so that suexec is installed where the server expects to find it ( <prefix>/sbin by default).
4fe069a Modify mod_include to send blocks of data no larger than 9k. Without this, mod_include will wait until the whole file is parsed, or the first tag is found to send any data to the client. Submitted by:   Paul J. Reder <rederpj@raleigh.ibm.com>
4f7dd46 Fix mod_info, so that <Directory> and <Location> directives are not displayed twice when displaying the current configuration.
8bcd220 Don't directly include ap_config_auto.h directly. It isn't available on Windows platforms. Including ap_config.h will pick it up, or it will grab the appropriate Windows header/defines.
7f17e12 Fix a problem displaying status when a threaded MPM is used.
52f43d1 Pass the correct worker thread id to worker_thread() when the initial thread of the child process becomes a worker thread.
c38ba16   More crufty stuff
baa40ff   Crufty stuff now gone [Ben indicated this was a first hack that was   never pursued.]
5094b08   Moved to modules/arch/win32/
badfcd1   Hmmm... missed one.  There has to be a better home for this.
1623136   Goodbye ap_send_http_header
0cf2c99   Another missing AP_DECLARE mismatch
af90deb use ISO-8859-1 PR: Obtained from: Submitted by: Reviewed by:
4be8260 core_pre_config isn't needed
759657f Remove references to apr_bucket_init_types() and apr_bucket_insert_type().  I imagine that core_pre_config() could go away completely, but I'll leave that to someone who knows more about hooks than I do.
f9a7b96 Adjusted links for files being moved into platform/ (were ./, now ../). Matched up <p></p> & <pre></pre>. Fixed misspellings. Fixed links to ../install-tpf.html & ebcdic.html (which should probably be moved down into platform/). Changed links to windows.html#test to windows.html@cmdline. Entities encoded. Changed bogus <emp> tags to <em>.
dc5fc7d More entity quoting. <p></p> & <a></a> cleanup. Removed link to mod_cookies.html (missing in 2.0). Fixed <a name="#. Fixed link to fragment removed from mod_proxy.html.
d140ffa Some cleanup on the 2.0 FAQ carried over from 1.3. May be irrelevant soon, or it may give us a better starting point for 2.0 improvements. Fixed a bunch of <p>...</p> matches. Removed 1.3 upgrade recommendation. Fixed some entity encodings. Updated a bunch of links that moved from core.html to mpm_common.html. Fixed a few bad/stale links. Fixed a decrement that was interfering with comment.
bff3125 Move link on httpd command line documentation.  Add link to scoreboardfile directive documentation.
00d504b Some details on mod_rewrite variables.
fa49b79 Update to reflect the absence of the apr_bucket_shared struct and the newly-added start field of the apr_bucket struct
dc43b4e Fix Windows compile breaks caused by mod_core.h foobar
e3da2f7 trap a couple of initialization errors related to the signal thread
68407c0 Applied patch from 1.3 tree - added link back from AllowOverride to AccessFileName
e65b7bf um. hello?! doesn't the work "private" mean anything? :-)
e7bc0e3 finally figured out why that word looked funny - can't spell
baf1e03 insure that canned error msgs are translated to ascii before leaving an ebcdic server in worst case scenarios.
6dfebfd Add config directives to override the DEFAULT_ERROR_MSG and DEFAULT_TIME_FORMAT. PR:	6193 Submitted by:	Dan Rench <drench@xnet.com> Reviewed by:	Ryan Bloom
740968b Get mod_cgi building again after moving a bunch of code from the HTTP module to the core.
f24e790   Comment out some bogosity, and prepare for substitution by an .msi   installation package.
16a54dc   cold and damp in Chicago tonight, turning colder and frozen.
c26a3de   All but proxy_module can be loaded and shut down without gp faulting :-)   Can't decide what to do with the proxy_module section... so I'm leaving   it alone for now.  mod_info and mod_status both work, although the access   control appears broken.
4296146 Begin to move functions from the http module to the core.  The goal is to have only functions that are HTTP specific in the http directory.
346934a   Hmmm... ap_release.h is a good file to list in the IDE.
bdf2d95 Get rid of APACHE_CHECK_SIGWAIT_ONE_ARG.
08169ee nice to compile for a change
93fe62d Simplify by using apr_bucket_delete(e) where possible.
d3fdebb   A patch to clean up much bogusity in Win32.  Eliminates absolute cd "/..."   references using build/fixwin32mak.pl, and the latest #if APR_HAVE_FOO_H   fixes apparently worked, now that they no longer appear as dependencies   [which had broken the build entirely.]
b4bd039   The only thing about perl that drives me crazy, how many times to   reescape an escaped char ;-/
c4ff126   Ok ... .mak files are nasty.  Here's a bit to clean up -some- of that   nastyness - the absolute paths that .dsp dependencies off of parent   directories are encoded with.  This chops cd "\checkout\httpd-2.0" from   the support directory down to cd "..", a much nicer solution.
4f3f34e   Whoops ... if I'm enabling mod_info to build on Win32, better clean   up the declarations of these private core symbols.
ccea519   A little transformation for rbb's reorg of this morning.
404e9d4   Pay no attention to the man behind the curtain.
ead506f   Bring in the expat.lib into the static aprutil.lib win32 library.   Fix up the build order that messed up command-line builds due to   the recent dependency of apr-util on expat-lite.
c4709d6   Add the expat.mak to the command-line build
b5ecd00   Fix the build schema : add a library version, expat.lib, for static   linkage.  Also depreciate the libexpat.def with some export magic.
f80af34 2.0.13 is tagged, so bump everything for 2.0.14
428d114 Bump to 2.0.13 for a tag and roll
be50a3a Remove the APACHE_RELEASE macro.  We never use it in the code, and it makes automating releases harder, because it is one more number to bump.
63198b0 Fix Windows compile break caused by move of error_bucket.c
456137c Fix a compile break on OS/2, by adding apr_general.h back to httpd.h. Submitted by:	Brian Havard <brianh@kheldar.apana.org.au>
857eecb Add a note about the lack of threads on FreeBSD to the INSTALL file. Submitted by:	Derek Young <bleach@chek.com>
c03d4e0 Don't assume that the byterange filter will always be called more than once.  It is perfectly legal to call the byterange filter one time, with all the data.  Without this patch, that case will seg fault. Submitted by:	Ryan Morgan <rmogran@covalent.net>
c200a5e Use a better format type for sizeof.  This stops a few compiler warnings.
ed157ba Move the error_bucket definition from the HTTP module to the core server. Every protocol will need this definition, so it belongs in the core.
77390b6   Refresh all .mak files should we choose to roll again shortly.
0e627c7   Begin to fix the build schema changes for apr-util
1ed8438 fix typo
c96cc34   Reconsidered the wisdom of this change... back to the drawing board.   The ap_ prefix is still good, IMHO
5cccb4a   Clean up namespace badness with s/configfile_t/ap_configfile_t/
3e1192a   A remnant of apr_pcfg_getc()
8d775a4   No MMN bump in ages - time to start codifing this entity.  Change the   COOKIE to something useful, "AP20", for the new module structure.
e26706b use the right fmt string for finfo.size Submitted by:	Greg Stein and gcc on FreeBSD
0bace42 Tag is done, update the source tree
8c07738 Update the version string before the roll.
8970167 do the redirection for GET requests only
cc32cb9 include apr_lib.h for apr_isspace() definition
fb0876d We need to build expat-lite before APR-utils, so just move that variable to before apr-util.
7500eee move the _rini stuff into bs2login.c (the only user)
0660784 Shift XML handling code from Apache down into APRUTIL
ee3fe47 *) fix inline handling. we had: apr_inline, APR_INLINE, USE_GNU_INLINE, and    INLINE. Now, we just have APR_INLINE and APR_HAS_INLINE.    - convert all usage    - note that apr_general messed up the defn (compared to apr.h)    - simplify the inline decision logic in os/*/os.h    - simplify the code in os/*/os-inline.c
4f28702 clean out some old crud from ap_config.h
6fcbb49 toss ENUM_BITFIELD. used in one place (but didn't need to be used), and it certainly wasn't namespace protected.
1cb2ca9 Fix initialization of thread_control[...].generation.
1db0d49 Modify mod_file_cache to save pre-formatted strings for content-length and last-modified headers for performance.
24e2ea6 remove ap_{post_config,child_init}_hook replace usage with ap_run_{post_config,child_init} PR: Obtained from: Submitted by: Reviewed by:
9af0ced Remove the b1 description from ap_release.  It doesn't belong there anymore.
55fd122 use apr_off_t and APR_OFF_T_FMT (for portability to 64-bit off_t systems)
052834b fix a warning in a call to apr_psprintf()
b17e411 Work on a BSD/OS system where GNU make is used instead of the native make.
e19d550 Clean up a bunch of incompatible pointer type warnings.
bf1ddff Typo.
fd8b671 Get it to build on FreeBSD by dropping <stropt.h>.  (It still builds on Linux.)
192cc6b Namespace protect IOBUFSIZ since it is a public symbol. Submitted by:	Jon Travis <jtravis@covalent.net>
af067d0 Use "Basic" authentication instead of "basic" in ab, as the spec says we should. PR:	7294 Submitted by:	Andre Breiler <andre.breiler@rd.bbc.co.uk>
41fd39d get the last worker in a given child initialized properly by getting a new pool for its own proc_info structure instead of overlaying the pool in the proc_info structure for the prior thread
8c6d4ea Fix a seg fault in mod_userdir.c.  We used to use the pw structure without ever filling it out.
0a0fb4c Back down the default number of initial threads created with the threaded Unix MPM.  Tweak the sample configuration files to reflect the default settings.
2eb5c30 Remove a semicolon from a macro.  This makes things a bit more readable, and it makes this macro look like the rest of our macros.
3351f1b clean up a call to apr_psprintf() (trailing NULL not needed) previously: mod_auth_digest.c: In function `set_shmem_size': mod_auth_digest.c:625: warning: too many arguments for format
ffdad83 just making server_signature enum decl easier to read (for both humans and C::Scan)
d112552 server_rec* -> server_rec * (sorry for nit, C::Scan made me doit)
dd0b7af avoid c++ keywords
e552aeb Add a couple of GCC attribute tags to printf style functions.  This also fixes a couple of mismatched parameters highlighted revealed by the attribute. Submitted by:   Jon Travis <jtravis@covalent.net>
505ad59 Add the correct language tag for interoperation with the Taiwanese versions of MSIE and Netscape.
62e3d0e Remove a completed item from STATUS
35fe67e Make the perchild MPM use the APR signal child and apr thread functions. This allows perchild to compile and run out of CVS again.
298da30 BUFF is gone!
6fcbace Performance: apr_now() was being called for -all- requests. Call it only for calls to server-status.  This module is still a mess...
f740468 Close the accepted socket before creating the CGI process in mod_cgid. This is safe, because we have already dup'ed the socket for the CGI process itself.  This change allows CGI processes to fork long-lived child processes without affecting how quickly the response gets back to the broswer.
36c56ce Split the mod_dir fixup into two parts.  The first determines if this is a MOVED_PERMANANTLY response, and is done from the fixup.  The second is a handler that redirects to an index.html page.
c6264aa Remove mod_proxy from the Windows project file
50e1300 Oops - better *think* first. Fix typo. PR: Obtained from: Submitted by: Reviewed by:
d11e542 Display APACHE_MPM_DIR in the list of #defines, and remove the duplicate APR_HAS_MMAP test.
59d1b17 Get rid of Apache's concern for foo_CHECK_SIGWAIT_ONE_ARG. Apache no longer needs to define nor invoke such a macro since it is handled in APR.
962f73f Remove the rest of the pthreads functions from the threaded MPM
2edc2ed Make mod_dir use a fixup for sending a redirect to the browser. Before this, we were using a handler, which doesn't make much sense, because the handler wasn't generating any data, it would either return a redirect error code, or DECLINED.  This fits the current hooks better. Submitted by:	Ryan Morgan <rmorgan@covalent.net>
92bc544 Migrate the threaded MPM to use all APR threading calls.  This isn't quite perfect yet, because of the sigwait and sigmask calls.  Those are going away next.
2b1b546 Revert out the build changes made last night. Ryan and Chuck make good points.
d244f6b Fix windows compile break introduced by Martin's module structure rename.
a59f097 Fix windows compile break
bd95320 make the linkage of clean_child_exit() consistent to fix a warning on HP-UX
ad4230b get rid of a type mismatch warning
c92e221 Update APR macro usage to new name-protected names. Replace REENTRANCY_FLAGS with direct use of THREAD_CPPFLAGS. This is a temporary band-aid, since the way we currently set the standard make vars (CFLAGS, CPPFLAGS, LDFLAGS, etc.) is bogus and frequently redundant [to be fixed later].
eef10ae Allow proxy to build until we fit a proper build dir PR: Obtained from: Victor Orlikowski Submitted by: Reviewed by: Chuck Murcko
4d00806 Cleaning up and moving around .cvsignore files for the threaded mpm
5b2a87e Fix META tag.
18f173e rename miss: s/apr_clear_pool/apr_pool_clear/g
7b1b305 Intermediate change of hardcoded "helpers" reference to "build" until I get a chance to revamp this to use APR's variables directly.
8f1ccc9 new French translation PR: Obtained from: Submitted by:	Herve Dumont <hdumont@club-internet.fr> Reviewed by:	Eric Cholet <cholet@logilune.com>
7ddebfc Update some references to the old src tree structure.
e78825c - more ap_conf_vector_t fixup. - break out the cmd_parms to ap_set_config_vectors to clarify/doc what is   happening in there and because the function operates independent of cmds.
b66380e shift some declarations over to mod_core.h where they're totally private.
dd9b08e *) Introduce "ap_conf_vector_t" type to assist with legibility and provide    some type safety. (unfortunately, our old "void*" is type-safe with the    new one, but over time we should be better)
19d4d31 Change a few "no" module to "most". Leave suexec: it must be explicitly enabled.
0ca2444 Working SSL/TLS! Yay!
3e165f5 use "conf" rather than "sec" for the configuration data. misc style, whitespace, and other cleaning nits.
c2e4c36 Remove "no" from many APACHE_MODULE() invocations to allow them to be selected by --enable-modules=all
0de2497 fix some bugs that appeared once some APACHE_MODULE() invocations were changed in the config.m4 files.
b230ed6 implement ability to do --enable-modules and --enable-mods-shared for "all" and "most". still need to tweak various config.m4 files to sort them out.
b758e0e Make exports.lo rebuild when it should.
9830caf Fix a warning.
d1fdcb9 Use new locations for APR autoconf macros and remove unneeded dependencies.
1b4eb50 Add urlmapping.html document.
5603ceb Make the threaded MPM use APR locks instead of pthreads mutexes.  This is the first step towards getting the threaded MPM to rely on APR for all of it's threading needs.
ddeb5aa Take 4: The last one worked for me, but Ralf says it's not portable.
d88443c Remove some Makefile.libdir's.  These were used by Configure in Apache 1.3, but they aren't used at all by 2.0.
e25e1dc Rename the mpmt_pthread module to threaded.  This module has moved from the old mpmt_pthread directory to the new threaded directory.
7feff79 It would be a beautiful day to go outside, but I have to work.  :-(
a9f4844   Pesky prolifieration
e7d5943 Rename the module structures so that the exported symbol matches the file name, and it is easier to automate the installation process (generating LoadModule directives from the module filenames).
3a14b44 add placeholder for proxy doc PR: Obtained from: Submitted by: Reviewed by:
5f2f1c4 Add a note about using APR threads and processes.
a3557c4 Remove all instances of apache_apr_flags="--enable-threads" from the config.m4 files.  If we leave those in, then Apache automatically enables threads for all machines when a threaded MPM is chosen.  We want people to have to force threads for platforms that don't run threads well (i.e. FreeBSD).
381f88d Update copyright to 2001
aae567b New Japanese translation. Submitted by:	Minoru Yamazato <yamazato@geocities.co.jp>
ae10526 Add an apr_short_interval_time.  This allows us to use an apr_interval_time for apr_time_t - apr_time_t values.
7051c34 This file moved into httpd-proxy CVS module. PR: Obtained from: Submitted by: Reviewed by:
702a96a Note the removal of coalesce filter in the CHANGES file, and also note that we have moved on to the next minor version number.
78821bb Remove the coalesce filter.  With the addition of the ap_f* functions, this filter is no longer necessary.
7a481ed Fix the seg fault in mod_status.c.  This changes the up_time to an interval_time.  The segfault is caused by apr_vformatter not understanding %lld, so we also had to change that to %qd, which solves that problem.
dfac95e Replace my horribly stupid regular expression with a slightly less stupid one.
144cf4e Remove some warnings from mod_status.
9b0de5f Move the call to set the socket timeout outside the loop.
f5129aa Fix lingering close (and make it more efficient). We were blocking on apr_read() for 30 seconds for each lingering close. What we want to do is block for 2 seconds. If we do not read any bytes from the client in that time, close the connection. If we do read bytes, then wait 2 more seconds to see if more arrive, etc. Repeat for MAX_SECS_TO_LINGER if needed.
baf43de   Sorry, cleaning up the naughty bits that should not have been committed.
bbd122c   Massive commit to clean up os/win32 and label some files with the   appropriate license blocks and #ifdef WIN32 wrappers.
c6dba2d Beos R5 and below don't have the sin_len member in sockaddr_in so don't try and use it.
d105b5e As a debugging aid, report which version of the beos code we're using and fix a typo.
cd790d0 Remove some deprecated comments.
5c84b43 PR: Obtained from: Submitted by: Get req/sec and bytes/sec status reporting working. Still lots of type warnings but this is a bit better than before.
6bb2157 Start getting extended status working again.
ac5b27b doh.  need a spellchekker for these rename scripts.  s/apr_lock_aquire/apr_lock_acquire/g;
63c7a2e Windows MPM: Handle ap_new_connection() failure.
87a25c5 Fix some spelling mistakes and remove the mpmt_beos MPM from the config.m4 file. Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com>
53a0213 This is a huge change that gets beos building again.  Essentially it
6411aef More changes to the way that we use mod_status on beos.
c8102d8 Remove the dexter MPM.  This has been replaced with the Perchild MPM. The two MPMs are basically identical, except that Perchild also allows each child process to have a unique uid/gid combination.
a79ca72 backout name change: apr_bucket_notimpl_setaside -> apr_bucket_setaside_notimpl apr_bucket_notimpl_split    -> apr_bucket_split_notimpl apr_bucket_notimpl_copy     -> apr_bucket_copy_notimpl apr_bucket_notimpl_destroy  -> apr_bucket_destroy_notimpl PR: Obtained from: Submitted by: Reviewed by:
c0311e3 rename: ap_bucket_create_error -> ap_bucket_error_create ap_bucket_make_error   -> ap_bucket_error_make PR: Obtained from: Submitted by: Reviewed by:
d42ea04 s/apr_bucket_pipe_creat/apr_bucket_pipe_create/ typo
526d01a Windows doesn't have ap_config_auto. Perhaps we need a HAVE_CONFIG_AUTO macro?
71f08f3 The "src/" directory no longer exists.  Clean up the HARD_SERVER_LIMITS warning msg to reflect the current directory structure.
773109a OK, this is the start of getting things running on BeOS again :)
0ce0376 Use apr_want.h to get the declarations for ntohs et al instead of including the appropriate system header files directly.
68c63e2 mod_status references ap_my_generation; declare it for now so perchild+mod_status builds; we can add logic to fill in ap_my_generation later
a308fdc Make perchild build again
b49c77a Add the perchild MPM to MPM.NAMING
395d6d8 Don't disable threads just because we are using the prefork MPM. If somebody wants to compile without threads, they must now add --disable-threads to the configure command line.  [Ryan Bloom]
399e45d This is the wrong place to mark the server ready.  Servers need to be marked ready in the MPM -after- lingering close processing. This could be playing havoc with perform_idle_server_maintenance.
f202bd3 include <arpa/inet.h> for the declarations for htons() et al; OS/390 has macros in arpa/inet.h which turn such "calls" into nothing and does not have functions to link against in libc
3cf6ff9 trailing commas in enum declarations aren't portable
c01c54a ignore generated file modules.mk
4d2bc3d Begin to move the code that updates the child status out of the MPMs and into the main-line code.  This ensures that all MPMs can easily forget about updating their status.
606a3b2 Remove some OS/2 code from the prefork MPM.  Since OS/2 has it's own MPM, this is needed here.
4badcff Allow mod_tls to compile on Unix boxes where openssl has already been installed. Submitted by:	Gomez Henri <new-httpd@slib.fr> Reviewed by:	Ryan Bloom
f1c0b3b string.h needs to be included before monkeying around with strchr et al, since some system header files do their own monkeying around with those functions in ways that don't get along with us unless we include their definitions first
4251e45 Fix for moved macros PR: Obtained from: Submitted by: Reviewed by:
32dcfd7 sneaky for loop... make it more obvious what it is doing
f9da839 *) rename apr_memdup() to apr_pmemdup() *) optimize the allocation size in apr_pstrndup()
1229603 *) remove some obsolete/unused defines from httpd.h. *) remove DEFAULT_XFERLOG from main.c; it is never set/used *) move ap_get_max_daemons() to ap_mpm.h *) move DEFAULT_LISTENBACKLOG to mpm_common.h
8068b49 *) include the strings stuff the right way (some platforms use string.h;    apr_want figures all that out for us) *) include ap_mpm.h to pick up a moved func declaration
de083a7 write these in terms of strchr and strrchr so the compiler can possibly use builtin, optimized functions. [ they're stupid functions, but what the hell ]
f9a0bf6 bring along the comment (from httpd.h) that went with these defines
1831172 Obsoleted by the "beos" MPM.
7e5f735 Work for more than one read. Catch read errors.
ab06ea0   Still lots to apr'ize here.
c7a5d82 Fix a warning.
115db51 Clean up the mod_tls configure process.  This should remove most, if not all, of the hand-editing required to make mod_tls compile.  I have also updated the README to reflect the current process.  I have also noted that we require OpenSSL 0.9.6 to compile.  I am getting all sorts of warnings from the OpenSSL header files, and I get a single error from the OpenSSL libraries, but I am assuming that is a problem with my configuration, not the mod_tls code.
e094051 Fix a compile warning.
29a1095 First cut of TLS support.
7b07fd2 Clean up the filter.html and handler.html files a little.
afb2418 fix the check for killpg(); as it was, we didn't check for killpg() and we got an ugly "killpg: not found" message on stderr during configure
a1f58a2 INIT_SIGLIST() is gone; stop using it
dc44adee5 include "apr_signal.h" when needed
e7e115c *) include "apr_signal.h" when needed *) some other minor include tweaks
f9a1287 Fix a potential segfault on all platforms.  David Reid fixed this for BEOS, but this could actually happen on any platform, so we should be safe and protect ourselves. Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com> Reviewed by:	Ryan Bloom
39793c7 toss the signal description stuff from unixd.[ch], beosd.h, and spmt_os2. use the new functionality in APR.
d52904f Cleanup the rest of the warnings that appear when compileing with GRPOF.
9d85d10 Fix any compile breaks after moving apr_snprintf and apr_vsnprintf to apr_strings.h
69f1ea0 Fix a warning when compiling with GPROF
9e95d81 clean up more warnings and link problems after the header file shuffle
12e1eb9 Allow us to use INCLUDES on files with multiple extensions, and use FilesMatch instead of Files ~. Submitted by:	Joshua Slive <slive@finance.commerce.ubc.ca>
8264c19 Remove the warning from the mod_include docs since it seems relatively up-to-date now.
ba3266f Update all the references I can find to use SetOutputFilter to actives SSIs.
f65ed74 Remove SetFilter from the mod_mime docs.
c66500f more module build cleanup, removing warnings and some link errors (from when apr_ ctype macros weren't available)
5e934fb   Fix more module breakage from header reorg
55e28f2   Fix Win32 Breakage
31ebd59 Fix the configure scripts, so that we don't try to substitute into test/Makefile unless we actually have a test directory.  The problem is that we don't distribute test directories with our tarballs, so our configure script outputs error messages.  This fixes that problem.
7a7e585 Small header file cleanup.
486c778 Header file cleanup.
25a2bf9 Make the config file use SetOutputFilter, since AddOutputFilter is dead now. Submitted by:	Greg Stein
8f548be get rid of some warnings and an undefined reference which crept into some modules overnight
6c7c72f [ missed in last commit ]
5dc34fe *) continued header revamping *) torch some headers (and some libs) from the autoconf stuff
bb282b7 Clean up some of the includes: - explicitly include apr_lib.h since ap_config.h doesn't - use apr_want.h where possible - use APR_HAVE_ where possible - remove some unneeded includes
faf8ec6 http_conf_globals.h is gone
d54bd14 more APR-ization
0513fb5 *) clean out some old crap from ap_config.h; other simplifications; don't    include stuff randomly (let users include them explicitly) *) toss ap_config_path.h -- we can put those values into ap_config_auto.h
6fc8754 Remove the SetFilter directive from the code.  This directive wasn't nearly as useful as the SetOutputFilter and SetInputFilter, and it never really worked properly.
62c67a8 Update the conf file to use the correct model for turning on SSI's
ac06bb5 Remove definition of ap_extended_status, it's defined in scoreboard.c
6470032 Better get the index entries too.
7a0dfe5 ServerType is gone in 2.0.
f279daa Add some VERY basic filter documentation.  See followup discussion on apache-docs.
12da73c Add new LogFormat directive, %D, to log time it takes to serve a request in microseconds.
2371428 *) remove obsolete http_conf_globals.h *) simplify all this #ifdef'ing: just nuke the unixd.h header. it isn't    actually needed.
3abf3b4 Fix more breakage on BeOS...
846602b BeOS doesn't have unixd.h either.
0ed6a0d Change AddInputFilter and AddOutputFilter to SetInputFilter and SetOutputFilter.  This corresponds nicely with the other Set directives, which operate on containers while the Add* directives tend to work directly on extensions.  [Ryan Bloom]
a66d4dd "v" in the name has come to mean that a va_arg is in the parameter list. putstrs is clearer in this case.
a76d545 use apr_size_t for file lengths; this avoids a warning (and perhaps a run-time SNAFU depending on the byte ordering) on systems where apr_size_t is long
0c9ba25 Fix another windows compile break.
e2456e4 Replace reinit_scoreboard with ap_create_scoreboard.
db02f2c Functions that use ... have to be NONSTD.  At least I think Will told me that at one point.
d196c46 A few small docs changes (there were ';' in the ScanDoc), and remove some very cool but totally unportable macros.  :-(
f08e822 *) minor changes, simplifications *) fix terminate_header: don't assume anything about the brigade (especially    that its last bucket is a shared/heap bucket)
fef290b *) namespace protect the filter_flush() function *) don't toss the status value from ap_pass_brigade in ap_fflush; return it *) doc/macro nits
b3ea914 Make the header filter use the brigade buffering functions for creating the header string.  This allows us to clean up the header handling a bit, because we don't need to compute the correct length before we can create the headers.
b98ee5e Allow filters to buffer data in a brigade using the ap_f* functions. These have become simple macros that just wrap the apr_brigade functions, allowing filter writers to ignore the flush function and the ctx pointer.
45ac040 Fix windows compile break
09d03bf include strings.h for strcasecmp()
5cc3c31 apr_make_array->apr_array_make (if only it were apr_rename.py instead of apr_rename.pl)
4ab13e2 Make a mod_auth_digest build fail in a less mysterious way on systems without APR random number support (e.g., a stock Tru64 system).
6b825eb get _SC_CLK_TCK defined on Tru64 (and probably some other systems as well); it works without it on systems which define HZ or don't have times
a034b34 *) make sure the status line is set on custom responses *) allow CHECKOUT on version resources
88d3406 renaming various functions for consistency sake see: http://apr.apache.org/~dougm/apr_rename.pl PR: Obtained from: Submitted by: Reviewed by:
f0058d7 scoreboard.h says it is extern (and scoreboard.c instantiates it), but prefork.c instantiated it as static
36b1ac4 lots o' dicussion... time to vote.
0612881 Move OS/2 MPM specific variables out of scoreboard & into an array local to the MPM.
c59cc03 Fix graceful shutdown with the scoreboard changes.  Basically, we want to set the sb_type only after we zero out the scoreboard.  Before this, we were segfaulting when we tried to free() a shared memory scoreboard.
ded4233 Get the Unix MPMs restarting again.  If we are going to register a cleanup for ap_cleanup_scoreboard, then we have to kill that cleanup with the same function.  This also makes ap_cleanup_scoreboard a non-static function, and makes ap_cleanup_shared_mem a static function.
c28b6e1 Install all required header files.  Without these, some modules can not be compiled outside the src tree.
b6b19ee Fix a bug with AliasMatch.  When forward fitting a bug from 1.3 to 2.0, we forgot a single line which broke this option. PR:	6881
c0fdcbb get rid of some cruft related to a now-unused parameter to make_child() and unnecessary calls to time()
f9b9fbe Revamp the CHECKOUT method handling and various support functions for it. Basically, the original CHECKOUT was based on a really old draft of the DeltaV specification. This brings it up to date.
62db283 $enable_dav can be one of: yes, shared, no. We want to adjust the INCLUDES if it is anything but no. (it wasn't getting set properly for "shared")
d129951 additions and deletions for proxy in current codebase PR: Obtained from: Submitted by: Reviewed by:
c9dc384 Changes to get running on the current codebase PR: Obtained from: Submitted by: Reviewed by:
fa42c01 No longer need to set ap_restart_time here as it's done in ap_create_scoreboard().
bdefccb Back out previous change. dav/main/config.m4 adds its directory the the INCLUDES variable. No need to do it yet again.
79a04fd Don't include mpm.h from scoreboard.h as scoreboard.h is included from mpm.h. Instead, make the MPM type defined before including scoreboard.h. PR: Obtained from: Submitted by: Reviewed by:
6e034c9 We have a poor abstraction in the protocol.  This is a temporary hack to fix the bug, but it will need to be fixed for real.  If we find an error while sending out a custom error response, we back up to the first non-OK request and send the data.  Then, when we send the EOS from finalize_request_protocol, we go to the last request, to ensure that we aren't sending an EOS to a request that has already received one.  Because the data is sent on a different request than the EOS, the error text never gets sent down the filter stack.  This fixes the problem by finding the last request, and sending the data with that request. PR:	7165
b0467bc get perchild just a little closer to building; maybe somebody with a soft spot in their heart for perchild can spend the remaining ten minutes to fix it;
6d788a6 get Unix MPMs to build again after recent scoreboard changes
81ac4f0 Jean Frederic says (and I verified his claim):   After fighting with shlibtool I discovered that the problem was that   libtool was called instead shlibtools.
2308d73 Remove some STATUS items that relate to the scoreboard API.  These were fixed with the mod_status changes last week.
9eb59ae Setup the server start time correctly.  This also gets the server uptime to be reported correctly.  I have also moved this code into a common location, so that individual MPMs do not need to worry about setting up the start time.
40d82b9 Added note about later sections overriding earlier. Removed note about order reversal in 1.2-1.3a versions. Fixed a couple typos. Matched up <p> & </p>.
0d10444 Make sure that mod_include's post_config hook always runs before mod_cgi(d)'s post_config hook.  Mod_include creates a hash table in the post_config stage that mod_cgi(d) uses during it's post_config stage, so it must be done in this order. Submitted by:	 Brian Havard <brianh@kheldar.apana.org.au>
19d4716 move the instantiation of includes_module out of mod_include.h
3b84240 axe an unused parm to make_child(); this gets rid of a warning on AIX about not having a prototype for time()
2e86e9a Get OS/2 MPM running again after the reunification of the scoreboard code. mod_status still doesn't work right, I'll look into that next.
50e5987 Fix for dav/fs to find the mod_dav.h ionclude file Submitted by:	jfrederic.clere@fujitsu-siemens.com
6ced381 update for the latest build system PR: Obtained from: Submitted by: Reviewed by:
f11cd9f If we are in the middle of a brigade loop, we don't want to always check the first bucket in the brigade.
fbfcde1 Move the logic for creating CGI processes from mod_include to mod_cgi(d). This removes a good deal of duplicate logic for creating CGI scripts.
1a3c98e Tweak the AP_MIN_SENDFILE_BYTES.  Not using sendfile on Windows in the general (non byterange) case is a HUGE performance hit (> 50% in many cases). I also suspect most byterange requests will be for substantially more bytes (a pageful out of a larger document for example). In the uncommon (I believe) cases where fewer bytes are requested, 250 bytes per packet is not too abusive of the network.
bd424f8 ap_new_connection() returns NULL if an error occurred (prefork MPM and ap_new_connection() were changed last week)
9d684f9 I hereby propose that the ASF buy that guy a compiler.
935b958 *) add activity handling: OPTIONS and MKACTIVITY *) fix HTTP status code in MKWORKSPACE handling *) add can_be_activity and make_activity hooks to dav_hooks_vsn
fe309da s/l/r/ in ap_send_http_header protototype
c87c56c Move release.h to ap_release.h.  This was done to namespace protect the release header file.  While doing this, I also made sure that the file was only included once. Submitted by:	Greg Stein
2fb54c4 Move the APACHE_RELEASE macro to release.h
0c9f2bc Remove the Announcement file from the build tree.  It has been moved to the Apache web site, in preparation for the first tag using the new tag and release strategy.
31ad32e Move the server version information out of httpd.h and into release.h. This is in preparation of the first tag with the new tag and release strategy.
fb22c5b More mod_status work... Get Current Time, Restart Time and Server uptime displaying properly.
b2ee4a2 The windows MPM has one child process.
bcb1a93 fix minor prototype inconsistencies noticed with C::Scan
0bfb680 So server-status displays "Server uptime" correctly
4e0a0b2 Improved(?) docco.
d7bd136 Add SERVER_STARTING and SERVER_DEAD child states to the Windows MPM.
9c617be Track a bit more child status in the Windows MPM
b842381 cleanups need to return apr_status_t
d3b57b2 Pass the thread number along to the new thread for use in the conn->id field.
6cbe49c A child is not a thread is not a child
7e9641b Ooops, that S and D are right next to each other.
b119ec0 Begin restructuring scoreboard code to enable adding back in the ability to use IPC other than shared memory. Get mod_status working on Windows again.
f806b3a Should consider APRizing the entire module. For now, use HAVE_TIMES to indicate if we have the necessary structures.  This is part of getting mod_status working on Windows
2407c61 avoid warning in non-AP_DEBUG build
2854640 avoid duplicate symbol warnings on some platforms (e.g., AIX)
50152ff Fix some bogosity dealing with the mapping from process and thread numbers to ids and back.
fcb1d63 Remove duplicate function declaration
553cdad keep mod_cgid from segfaulting on SIGHUP; it assumed access to a pid, but that wasn't passed to apr_register_other_child
deab760 Bring mod_status for 2.0 back in line with mod_status for 1.3.  This is basically a straight port of the 1.3 module to 2.0.  The MPMs need to be modified a bit to work with mod_status, but prefork, mpmt_pthread, and dexter have already been changed.  I will fix perchild tonight.  There is a lot of common code that can be abstracted, and there seems to be a small bug with regard to what mpmt_pthread and dexter report as current connections.  ExtendedStatus does work again, although until the bug mentioned above is fixed, it isn't as useful on mpmt_pthread and dexter.
288e2cc handle a TCP connection reset between the time we accept the connection and when apr_get_sockaddr() does getsockname() or getpeername()
bbb6109   This file will go away.  For this moment, the s/FindFirstFile/apr_stat/   fixes parsing of utf-8 resources against the NTFS filesystem.  The only   remaining utf-8 change is to the config parser [which is simple - any   unicode config file (FFFE/FEFF lead word) will be utf-8 encrypted].
0d5e6d3 Correct a typo in httpd.conf. Submitted by:   Kunihiro Tanaka <tanaka@apache.or.jp> PR:             7154
2cc359a MF 1.3 the fis for the mod_rewrite stupidity.
3427456 Get the correct IP address if ServerName isn't set and we can't find a fully-qualified domain name at startup. PR:             7170 Submitted by:   Danek Duvall <dduvall@eng.sun.com>
d038b40   Fix the remaining APR_FINFO_NORM occurances.  Again, followup is needed   to actually test any field outside the scope of APR_FINFO_MIN.
2b16dac This fixes a performance problem with directory indexing on Windows.
6282d6e   Eliminate all assumptions that finfo.protection reflects the existance   or absense of a file.  finfo.filetype is defined as 0 if APR_NOFILE,   or a non-zero value if the file could be apr_stat()'ed.
2ff91fd apr_stat() in http_request.c only needs size, type, mtime, ctime & atime values from the file. Modify apr_stat() under windows to accomodate apr_stat( APR_FINFO_MIN)
9c95b5a get Apache building again after the change to make_exports.awk
c1f2a50 use memset() instead of bzero(); APR no longer tries to guarantee the existence of bzero()
395c36b add missing newline to end of file Submitted by:	jean-frederic clere <jfrederic.clere@fujitsu.siemens.es> Reviewed by:	Jeff Trawick
2e1efc9 My pgp key...
711044b More doc improvements.
a31eafb back out recent breakage.  If the lstat isn't executed, finfo isn't initialized, and the code was looking at random garbage.
47b513e Clean up the cgid module now that it supports suexec.
945b318 	Fixed a typo..
aeb7388 fix gcc warning
df144ca get mod_rewrite to compile with xlc on AIX; it still compiles with gcc, of course
82ee747 Make mod_cgid work with SuExec.  This has been tested and works reliably on my machine, but since this is security related, this should be tested and scrutinized by as many people as possible.
7fe3af6   *) Adopt apr user/group name features for mod_rewrite.  Eliminates some      'extra' stat's for user/group since they should never occur, and now      resolves the SCRIPT_USER and SCRIPT_GROUP, including on WinNT NTFS      volumes.
a8e6898   *) Adopt apr features to simplify mod_includes.  This changes the      behavior of the USER_NAME variable, unknown uid's are now reported      as USER_NAME="<unknown>" rather than the old user#000 result.      WinNT now resolves USER_NAME on NTFS volumes.  [William Rowe]
0d31b31   Moved several CHANGES back to APR where they belonged in the first place,   Adopt apr features for simplifing mod_userdir, and accept the new   Win32/OS2 exceptions without hiccuping
b540e14   Moving a small OS2'ism into APR, it's pw_dir excludes the username.   Return the expected result.  Also noted the headers/os2errno changes   from early this morning.
39ac692 More docco cleanup.
9ee51cc Improve documentation.
09dcf52 Make docs target work.
8348f0e translation
9e8b1e9   Cleanup some headers.  pcre uses the _WIN32 symbol, not WIN32
a938ae2   Add newly invented mod_include.h to the project view
9624e9e   Another starting point, by no means complete.
ea3bfdf fix spelling
9e892d6 consistent use of entities
1b2fc56 remove trailing CRs
ebc60dc   The single missing space caused dependency parser breakage on win32.   Fixed.
38a237e   Back out a bit of yesterday's patch, since the explicit return   handles this correctly.
cf26f61 Clean up the help text for some of the options. (cosmetic)
212fd3c Replace configure --with-optim option by using and saving the environment variable OPTIM instead.  This is needed because configure options do not support multiple flags separated by spaces.
a5bf6c3 Force --with-optim and --with-port to have argument values, since they result in later compile errors otherwise.
f233072 Fix some byterange handling.  If we get a byte range that looks like "-999999" where that is past the end of the file, we should return a PARTIAL CONTENT status code, and return the whole file as one big byterange.  This matches the 1.3 handling now.  [Ryan Bloom]
c8caf9a Use the new error bucket to report HTTP_RANGE_NOT_SATISFIABLE from the byterange filter.  This is much safer than returning the error directly.
ef2098d Make the error bucket a real meta-data bucket.  This means that the bucket length is 0, and a read returns NULL data.  If one of these buckets is passed down after the headers are sent, this data will just be ignored. Submitted by:	Greg Stein
252bd9a The prefork MPM wasn't killing child processes correctly if a restart signal was received while the process was serving a request.  The child process would become the equivalent of a second parent process.  If we break out of the accept loop, then we need to do die after cleaning up after ourselves.
da4502c Make the Prefork MPM use SIGWINCH instead of SIGUSR1 for graceful restarts.
05b7907 Add a devshed tutorial.
d56f872 Adding references to html'ized man pages where appropriate.
2f6d08a   Another module to cooperate with APR_FINFO_
ddc6935 - Remove documentation on command line options from invoking.html   since the man pages are now in the html docs. - Move information on "starting the server" from install.html to   a more proper location "invoking.html" - Add a few more details here and there.
ed1c30b   Eliminate a gp fault on mpm_winnt since we don't have a scoreboard table.
a0e0d65 Bring the HTML man pages up to speed with the nroff ones and change the format slightly.
ef52f17 Bring a couple man pages a little closer to the 2.0 reality.
7f4a5fe   Use the appropriate APR_FINFO_flags for the apr_stat/lstat/getfileinfo   calls to avoid ownership and permissions on Win32 when they are not   required, and until they are implemented.
fce4fb7 BeOS BONE shouldn't be using this BeOS R5 check, so alter the check to make it work correctly.  Shouldn't this be APR'ized?
ea7095f   Sunny and warm (if 30`F meets your definition of warm :-)
ae47b7c Fix a seg fault.  The problem is easy to explain.  On a HEAD request, Good handlers will send their data down the filter stack, but 1.3 handlers will just return, giving us a Content-Length of 0.  Since we can't send a C-L of 0 just because it is a HEAD request, we search the headers_out table for a 0 C-L if it is a HEAD request.  The problem is that some filters will not allow (includes_filter) a C-L to be computed, so we end up without a C-L header in headers_out.  Thus, when we do a strcmp against the header value and "0", we seg fault, because the header value is NULL.
c94e933 Forgot this header file when I cleaned the error_bucket code.
cf649a9 Add support for type-safe optional functions.
e4265b4 Cleanup the error bucket code a bit.  This uses the error bucket directly instead of using ap_bucket_read.  It also lets ap_die handle the fact that the filter returned the error. Submitted by:	Greg Stein
4b7e6d6 Reapply patch for chartables.c, only this time in both places (not having it breaks FreeBSD 3.2).
3dccedb Greg Stein and Dale Ghent both reminded me I forgot to add this.
433d723   Was there a file that wasn't updated with the error buckets patch?   Here's the export symbol for http_protocol's error bucket type, but   I can't find the actual instance (which needs AP_DECLARE_DATA as well.)
fd0256e filters can now report an HTTP error to the server.  This is done by sending a brigade where the first bucket is an error_bucket. This bucket is a simple bucket that stores an HTTP error and a string.  Currently the string is not used, but it may be needed to output an error log.  The http_header_filter will find this bucket, and output the error text, and then return AP_FILTER_ERROR, which informs the server that the error web page has already been sent.
08afc3a   Much better for win32 checkouts
4c07254   Discovered these were horribly broken as 'text' files...   Coming back tagged binary.
4ef361c fix mangled headers due to underallocated buffer
f793712 Teach me to change just one more thing before committing.  This fixes my last commit.
e13b493 Stop using the request filters to filter an error response.  This fixes a bug where we were using the byterange filter to filter an error, which caused us to close the connection before we had sent any data.  Currently, we only keep the three most important filters, but we may need to add more in the future.  I am mostly thinking of the charset translation filter.
09fc5f8 Provide a way to allow get_resource and get_parent_resource to return errors that might occur during the parsing of the URI and/or the lookup of the resource in the repository.
2cc4a60 apr_put_os_file() expected the caller to have an existing file or init to NULL. using an existing file doesn't normally work: where would you get a blank file to shove an FD into? expecting the user to assign to NULL is error-prone (mod_isapi didn't).
6d396cd Fix uninitialized variable 'written' in ap_rvputs, noticed by gcc.
d25a04f my mom said not to talk to strangers. whoever is reading this is probably a stranger. I'm not going to talk to you about what I did. nyeah.
049fe03 we only need to worry about infinite-depth PROPFINDs if they are targeting a collection. allow them on plain resources.
2b21bf6 Store the original content_type before we replace it with the byterange C-T.  This allows us to report a correct content type in the boundary header.
fdea7e1 get mod_unique_id building again...XtOffset was undefined
85d62d0 clarify the comments about FollowSymLinks (and .htaccess)
370e045 Updates to upgrading/new_features for some recent changes.  I would guess that there are still tons of things missing from these files.
f0ec6ba Add fragment target
5072831 the issue is resolved.
09f56d2 removed docs/conf/highperformance.conf (re-named to highperformance-std.conf)
612b196 add highperformance-std.conf . The -std name allows make install to work its magic.
4bf49b8 close the post file after reading it
823e2e2 Add the coalesce filter back in. It is NOT being installed anywhere right now.
b7ba872 As Greg noted, set_keepalive has to happen before we check r->chunked, but it also has to happen after ap_basic_http_header.  Otherwise, we don't set r->connection->keepalive correctly, and it can be -1 for requests that don't support keepalive.  This moves ap_basic_http_header to above the call to set_keepalive (after reversing the previous patch), which should be perfectly safe, while still fixing the original bug. Submitted by:	Greg Stein
c422d96 The ap_set_keepalive call needs to be after the call to ap_basic_http_header.  Without this, there are times that HTTP 1.0 requests will do keepalive connections.
1bd791c The current hooking module is _not_ a debugging aid.
3f2a46a Remove the COALESCE_FILTER. It is no longer needed since Greg committed his ap_r* buffering patch.
c30f94e Fix typo in module identifier.
d6b4931 Attributes should be quoted.
6a27a17 get http_core to compile on systems without apr_sendfile() support
1fe72f3 - change the prototype for apr_dbm_geterror()  [and update dav/fs/dbm.c] - fix up some error handling in apr_dbm.c - use "dbm" consistently for the apr_dbm_t parameter
a0a9ff7 Add apr_dbm_get_usednames() so that apr_dbm users can figure out what filenames are actually used by the apr_dbm implementation for a given pathname.
e0ecae2 Use a typesafe function for access objects' pools.
f95929d A single outermost loop is all that is needed. Simplify and add comments about what is going on in there. Shift some declarations to scope their usage and (re)initialize them on each pass over the brigade.
44b78b1 Have you had your Ovaltine today?
c8d300b Begin mod_core.h for CORE-private information. Ideally, AP_CORE_DECLARE function decl's and CORE_PRIVATE header info should all move into this header.
3d03cd3 fix the (error) return values for the ap_r* functions.
67ce413 Loop over the brigade when multiple buckets file are found, instead of breaking out of the function. Submitted by:   Greg Stein
7ac64ef Improve the performance of the ap_r* functions by buffering their data in [the context of] a new filter ("OLD_WRITE").
73baa4f Relax the checking of Host: headers so that only character sequences that are sensitive to the filesystem are rejected, i.e. forward slashes, backward slashes, and sequences of more than one dot. This supports iDNS without compromising the safety of mass vhosting.
b4a5b0f Fix the search form to interface to the new search engine.
5de7834 Allow the core_output_filter to deal with multiple file buckets in the same brigade.
24ad26f Fix the core_output_filter.  It doesn't make any sense to send less than 8K of a file using sendfile, it is easier to just read strings from the file and use those strings directly.
32897f5 Fix the core to take the new file bucket type into account.
41319e0 Fix the byterange filter for the case where the bucket can't be copied natively.  This will only ever happen if a bucket can be split but not copied, because we read the bucket in apr_brigade_partition if we can't split it.  Regardless, this is much safer.  This should also fix all of the problems with the byterange filter.
e62f228   Time to refresh this version (thought we should rename it I suppose.   Not yet revamped for buckets, we won't want to keep them in sync if   we get to the stage of eliminating the ap_rputs mechanics from the   live module.  This remains the classic 'old-style' module for general   performance testing.
86f5376 Cleanup the byterange filter to use the apr_brigade_partition and apr_bucket_copy functions.  This removes a lot of very messy code, and hopefully makes this filter more stable.
1dd9e07   Accomodate the change to the apr_read_dir() arguments, and change all   apr_dirfoo() and apr_foodir() commands to apr_dir_foo() to match the   earlier-renamed apr_dir_open().
31b15f0 We only want to define ap_send_mmap if APR_HAS_MMAP is true.  Without this, we don't build successfully.
7bfd9bc AP_REQUEST_DONE is bogus and a bad idea.  This had the http_header filter return -3 for every HEAD request, which in turn made us call ap_die.  Of course, if we didn't have a 200 status (say we had a 206), then we would seg fault, because we would end up sending down a second EOS bucket, which would in turn make us call the byterange filter again, but at this point, we hadn't cleaned up the byterange ctx structure, because it was never supposed to be called again.
6f089ea s/LAST/MIDDLE/
efab149 adjust to ap_hook_handler changes
b825ae0 Remove AddModule and ClearModuleList.  Neither directive really makes much sense anymore, since we use the hooks to order modules correctly. This also removes the possability that one module will ever register the same function for the same hook twice.
384933d Turn MultiViews on in the default config file.  This allows people who install for the first time to actually get a valid first page.
b2c816e adjust to namechanges
f70ee88 Update Status.  Beautiful day out there.  :-)
d6e3b37 Fix a small bug that was making us create a directory called "-p" in the build directory.
8349a6f If --enable-suexec is specified, then we need to build suexec automatically.  This bit me multiple times last night as I was trying to setup apache.org.  I would make a change to the configuration, run make; make install, and it would fail.  The problem was that suexec wasn't getting re-compiled ever, so my changes weren't getting picked up.  This solves that problem, by making sure that suexec gets compiled if it was specified on the configure line.
ab7466d 	Typo fixes for httpd-2.0 man pages.
8bd4147 Add headers needed for getpwnam & getgrnam prototypes & types.
0871a72 Back out the last change (the one that went in without a commit log) I thought this change was necessary to stop reporting the SERVER_VERSION twice.  In reality, the apr_hook_deregister_all() call in ap_clear_module_list solved that problem.
d852f27 PR:
061b5cc Add a call to apr_hook_deregister_all() in the clear_module_list function. The basic problem was that when we load the modules, we call the register_hooks() function from the module, but then we clear the module list for all active modules, and add them back in one at a time.  When we add them back, we re-call the register_hooks() function, thus adding each function a second time.  This was causing apache.org to log every request twice in the access log.  By calling apr_hook_deregister_all() when we unload the module, the second call to register the hooks is the only call that matters.
4e29435 Get mod_suexec compiling on FreeBSD again
c015cd0 Updated Hebrew welcome page.
fc80edd   Sunny in Chicago.
cd1ef02   The changes required for the APR_FINFO_wanted argument to   apr_stat/lstat/getfileinfo.  These are -NOT- optimal, they   are simply the required changes to get the server working.   The size of the patch is a warning about how we need to   really look at what we are trying to accomplish with all   of these stat/lstat calls.
a9d7c60 some stylistic tweaks post- John's patch
a029ca7 No need to run an external program for checking for the existence of C source files.  echo as a built-in function does the same job quicker.
86a67ef Move initgroupgs, ap_uname2id and ap_gname2id from util.c to mpm_common.c.  These functions are only valid on some platforms, so they should not be in the main-line code.
b610678 Remove ap_chdir_file.  This function is not thread-safe, and nobody is currently using it.  The proper way to do this, is to use the apr_create_process API.
b30a678 - implement DeltaV OPTIONS extensions - let live prop providers get first crack at PROPFIND - work around MS Web Folders limit on DAV header length
7b9cdf0 French translations.
c8a83e9   Thanks for reminding me the comments had to go too, Bill.
e62172b   The fast fix to get FirstBill back out of the gate.  It brings up an   issue I'll address to the list.
a39d930   Kill an unused variable
849a41a Win32: httpd.mak is not used now.
591360f whoops. last two commits didn't deal with $(srcdir)
dd2f5fa maxdepth isn't portable, so just list the .c files (if any)
1a9e94d Fix make depend for the whole server
f582298 Remove the direct links to the Apache web site from the welcome pages so that all the clueless people of the world can find someone else to complain to about their missing porn site.
7820366 missed these files on my previous commit of highperformance.conf - wrong commit incantation
850f8cc   By popular review
8eedea6 Stop checking to see if this is a pipelined request if we know for a fact that it isn't.  Basically, if r->connection->keepalive == 0. This keeps us from making an extra read call when serving a 1.0 request. Submitted by:	  Ryan Bloom and Greg Stein
dad3966 Rely on the APR dso_load cleanup to unload the DSO correctly.  There is no reason for mod_so to register a second cleanup.
af23863 updated to work with either prefork or the pthread mpms.
03dbabc   Align the target binary with the newer layout
bad71ee   The only symbol dropped, not counting regcomp regerror regexec regfree   which aren't namespace protected in the first place.
9bb056e   Normalize the use of AP_DECLARE_DATA
f1a1065   Clearing out the libhttpd.def from win32
59bbd68   The big change.  This is part 3 of the apr-util symbols rename, please   see the first commit of srclib/apr-util/include (cvs apr-util/include)   for the quick glance at symbols changed.
f893274 Remove some STATUS items that are already in APR's STATUS file.
42428c3 Cleanup the STATUS file a bit.
697b6f5 Forward port OtherBill's fix from 1.3.
cbf6e71   When is a void fn(void) not a void fn(void)?  It's a win32'ism, since   the APR_DECLARE (excluding _NONSTD) uses the pascal convention.  Really   irrelevant in a function that never needs to clean up (atexit), but   the compiler complains.  Possible workarounds, but that would break   non-c lanaguge code from linking into apr.
7c8a252   Some missing exports
a0611f9   Fixups to build the whole shebang once again.
9ea289f Bring forward from 1.3:
5e2b16e Fix the RFC number mentioned when complaining about a missing Host: header.
c4aec06 handy alias
e3f9eff   This change eliminates the intermediate httpd.lib from the build of   libhttpd.dll - it was required for the support applications to avoid   linking to the libhttpd.dll, but those functions have all moved to   apr and apr-util.
a96c871 Vancouver is rainy and cold today.  Better stay indoors.
25fd664 Add html versions of unix man pages.  Clearly, some of the man pages have not been updated for 2.0.  I will regenerate these html files after the man pages are updated.
1507b25 what weather?
554c29b Remove a typedef that doesn't seem to be used.
a58cc78 fix the declaration of the register-hooks function in the remaining MPMs... Ryan fixed prefork.c yesterday
5ba42f8 New Japanese translation by Minoru Yamazato <yamazato@geocities.co.jp>
e8e28f9 Add an ApacheToday (Rich Bowen) tutorial on mod_access and a nice discussion by Alan J. Flavell on some language-negotiation issues.
8bdabe8 Fix prefork MPM
de65e8c   Provide apr_pool_t arg to register_hooks, since anything they do in that   step -must- be done with a pool that will not outlive the cmd pool, from   which they may have been dynamically loaded.
40655f8   Provide apr_pool_t arg to register_hooks, since anything they do in that   step -must- be done with a pool that will not outlive the cmd pool, from   which they may have been dynamically loaded.
c560382 Remove reference to srm.conf and access.conf which was forward ported by my previous commit. Suggested by Joshua Slive.
78dc9b7 fix a warning on platforms where <strings.h> is needed for str[n]casecmp()
c04cb69 fix a warning on platforms where apr_size_t isn't int
182b219 mention mod_dav in the description of the ap_http_filter() fix in case other folks were hitting a problem with mod_dav and need an excuse to upgrade
5bddf7a avoid warnings on systems where apr_size_t isn't int and where strings.h is needed for the str[n]casecmp() declaration
9631487 Fix an endless loop in ab which occurred when ab was posting and the server dropped the connection unexpectedly.
ba95d79 Change everything to The Apache Software License 1.1
ad75d6e  Fix a segfault in ap_http_filter().  I hit the segfault while discarding the body of a request, but it could affect other paths.
8ec990a Backport documentation about Include som-dir usage from 1.3.
eaf7535   That's not a -D'ef - its an envar - you can't pass foo=bar in apache!
43d0cfd   Eliminate a warning, pid is an int.
cc64de8   Lay it on the table
d552489   Clearly the last patch is the -wrong- solution for awk... so I'm backing   it out; we need to find another way to help gnu awk users
501a006 Fix a comment
a9093d7 Add a note about the ap_r* problem with regard to buckets
69c51c7 open_postfile():   fix some return codes along the lines of OtherBill's comment   fix some bad conditional logic for when to check if we read the     wrong number of bytes
e9d44af Fix a problem found by Ryan when deleting collections, which triggered an underlying (broad) bug. dav_add_response() was assuming the walk params were a dav_walker_ctx. During the walker cleanup in Nov00, that assumption was removed, so response errors that occurred in the cleaned sections (such as dav_fs_delete_resource) could trigger a segfault.
31b52fc I only suggested a scheme. Ryan did the work.
240a92d Not the best explanation, but at least the start of one
0354d22 Document the changes in how hints.m4 works and the additional of NOTEST_*
05fbb71 Get some sleep. sh != C
3f9070c Avoid confusion at times when someone may expect it to be reapplied, but it isn't
2414fc8   Build was broken on some pure unixish awks, this fixes.
c33b25a Remove a couple more NULL handler specifications.
4f551be Stop using environment variables to set ONE_PROCESS and NO_DETACH.  Now we use the -D command line argument to Apache to configure these options. Submitted by:	Greg Stein
976a3a7 Per suggestion, tuck NOTEST_* in config_vars.mk. Yep, I changed the name. NONAC_* causes autoconf to complain loud and long.
84c36af note that rewrite map expansions work in rewriteconds
9a73c1f get rid of an unused variable
eb4d1e4 My bad... don't need the quotes here
f1a1e2e Fold into all Makefiles
056bd9a Begining stub of NONAC_LDFLAGS and NONAC_CFLAGS stuff. First of all, avoid re-adding values to the various hints each time called (not a problem now, but could be later). Then build up CFLAGS/LDFLAGS during Makefile generation.
d88b08d It is not sufficient to reset the file pointer before each call to ap_send_fd.  A better solution is to make certain that only apr_sendfile() will be used to send content with a cached file handle. This assumes that apr_sendfile() should not rely on the position of the file pointer. I suspect that sendfile implementations that rely on the position of the file pointer are broken and we should not use sendfile on those platforms.
f39fd56 Change some INFO messages to DEBUG messages. Cleanup some message wording.
2651fbe Fix typo in anchor name.
81cdb4a Fix typo in anchor.  Link to mod_so.html#loadmodule instead of mod_so.html for LoadModule directive.
6bf314e Add a quick note about external modules.
d51b0e5 back out the previous change, which broke FreeBSD 3.4, OS/390, Tru64, BeOS, and perhaps other platforms
5d7e4d4 Fix a typo in an example and make a slight clarification in the TransferLog docs.
bfee2d6 "Well, hello! Gay now!"            -- Willow, from Buffy the Vampire Slayer
c5cc436 update some references to the old prefix/libexec directory
83b77a0 only handle the request if server-info is the handler Submitted by:	Greg Stein
e7ee420 Tidy up the beos mpm a little.
24588fe get mod_info working again (mostly)
a345ba4 Libtool takes care of the lib prefix so get rid of our own workaround.
322f19d 	This sets an example for this type of module, so let's make sure 	it uses our own guidelines.
2ced1b7 	Minor typo fix.
06c2846 use AP_HOOK_LAST for this module. This may or may not be the final solution but it is at least more correct.
b73b51e Fix a compile break with the new APR libtool setup.  Basically, we are using a libtool library from MM, but it isn't getting linked into the Apache executable, so we fail the link stage.  This makes APR publicize the libtool libraries that it uses, so that Apache can link them in.
9989f54 Fix a compile break related to the apr libtool change.
591d6e4 a couple tweaks to get Apache building with the new libtool-ized APR
99f359c get rid of some invalid errno references; use the apr_status_t instead
fe3320a use the apr_status_t instead of errno
4796d86 get rid of a non-portable use of errno
b7c731a get rid of some bogus uses of perror()
8f0c8d4 fix some handler brokenness
096826b fix some handler brokenness so that dexter doesn't segfault at startup
37d7b23 get rid of a bogus use of perror()
9af7caf Reference to the docs project.
a235af4 This is the second in a series of clean-ups of the environment variable docs.  Here is what I have done:
095717c get rid of some bogus uses of perror()
55e9bcf use ap_strcmp_match and fix pattern typo
40391fb adjust remaining modules to use the new handler hook method (Alan Edwards)
6381c54 fix handlers->hooks compile breakage
e118cbf Set MKDIR for APR's RUN_SUBDIR_CONFIG_NOW macro.
894760c Handlers now use hooks, remove handlers entry from module data.
68b9d88 Fix message when the error log file can't be opened.
57cd46c seems nobody is using sethostent()
778f927 Keep Greg happy.
77f15c7 Strip trailing stuff from mime types.
049c005 Note hooks->handlers change. PR: Obtained from: Submitted by: Reviewed by:
45f6206 Make handlers use hooks.
7bbfc67 For some reason the chartables.c target requires a full path.
ab328cf Stop leaking sockets.  This is a minimal leak, but it was there. Basically, we were creating a socket_t, but never assigning a port or IP address to it.  We then re-read the config file, and search the list of allocated sockets for the socket that we have already allocated for this port, but we never find the port and address, because we never stored them in the socket_t.  This was keeping the Listen directive from working properly.
644cc2e - add some missing distclean targets - use DISTCLEAN_TARGETS and CLEAN_TARGETS everywhere (to be consistent with other macros and with APR) - warn that aclocal.m4 is a generated file
7349b1f Move ap_generic_hook from the Apache include directory to the apr-util include directory.  The hooks themselves are implemented by apr-util, instead of Apache.  This removes a few warnings when compiled in maintainer-mode that have been bothering me.
dc8ed8a This file needs to be renamed from config.m4 to config5.m4 to allow the ordering to work correctly otherwise it breaks the build. It didn't seem possible to move the file in CVS so I've added a new copy and deleted the original.  It's such a simple file if we don't have the history it's not an issue!
0be0106 add pool parameter to ap_is_directory and ap_is_rdirectory
83c2b3f Stop copying file names that we get from apr_file_t's and apr_dir_t's. We copy the data when we store it in the structures, we can just return a pointer from there, and use const data.  This puts the onus back on Apache to copy the data if it needs to modify it.
214ce80 Add a needed header file.  This is another of the patches I've had for a while but forgot to commit... Doh!
d5a0dc9 As we now use pools in the logging of the failure to get a hostname, use ap_log_perror() as per Brians suggestion.
9b968f8 eliminate entries from libhttpd.def that are also in libaprutil.def
76090d0 This stops a segfault on my machine where I haven't got a hostname for the function to find.
402f0d3 Fix typo that messed up dependencies and broke the build
654854b Get rid of some warnings on Tru64 and OS/390.  void * isn't compatible with function pointers.
a65b522 Set up stderr logging explictly early in initialization so that a pool is available for creating the APR representation of stderr.
5c30786 fix spelling PR: Obtained from: Submitted by: Reviewed by:
acdca74 make Windows build aware of export variable name change : ap_debug_module_name to ap_current_hooking_module
b3ec253 mod_cgi: Fix some problems where the wrong error value was being traced (errno instead of apr_status).
ac64aeb typo. PR: 7020 Submitted by:	Peter Brodersen <apache_p@ter.dk>
de8bb36 Pass a valid pool to apr_create_lock().
f3ce72c Make a brief note about recent EBCDIC fixes.
8ae90fc EBCDIC: Fix some byterange protocol data translation.
da47216 Get mod_so to build again by including apr_general.h, which is where the APR_GET_POOL() macro is defined.
3c4d977 Change a bunch of mallocs in mod_cgid to apr_palloc.  These were never getting freed, and using malloc.  This was safe, because we were in the CGID process, but pools are just safer here.
19519df Generic hooks (and a demo content filter module).
db280eb Simplify the lingering close logic a bit.  Doesn't actually change anything, this just removes a duplicate call to ap_flush_conn.
5d4e510 add dump_{bucket,brigade} macros
bc18917 Modify a couple of calls to ap_log_error with a NULL server to use ap_log_perror, and pass a pool.  The keeps us from seg faulting if the error log hasn't been opened yet.
821dee4 Remove AP_USE_MMAP_FILES, it doesn't really control anything anymore.  Now we just use APR_HAS_MMAP directly, just like APR-util does.
ebbd77a We never use MMAP_SEGMENT_SIZE, and we are better off determining if we have MMAP, by just checking with APR, instead of using an Apache definition which doesn't really control anything anymore.
703d13f When we are starting the server, we have a pool that can be used to open the error log.  Rather than try to log a regular error, log an error with the pool that we have, so that we can open stderr successfully.
2af4c27 We have a pool in this function, and log_error_core needs a pool in order to open stderr successfully.  By using ap_log_perror, we can pass a valid pool down to log_error_core
e417013 Use a real pool to dup the error log file descriptor.
1ca170d RM was not defined. Just use rm instead.
2fe462e fix the path
c20d452 *) simplify config file list construction (especially the second sed    expression). *) comment extensively. *) process into lines which are always guaranteed to sort properly -- don't    rely on sort switches or whether "" sorts (numerically) less than "1".
266050a Add BeOS to hints.m4.  This explains why I've been having to set the MPM via configure...
ad377b5 Find all config.m4 files when building generated_lists.  Also, convert the sort to use 'sort -n -b'.  These arguments are specified by single unix, so they should be portable.  This restores the ability to order the config.m4 files. Submitted by:	Dale Ghent <daleg@elemental.org>
9ebfd56 Get rid of the "-g" on sort.
b9d820b Fix a segfault caused by mod_ext_filter when the external filter program does not exist.
0fa45dd note some recent tweaks to bucket/brigade processing, as well as the problem they fix
b38b38d ap_content_length_filter(): if ap_save_brigade() fails, tell the caller
4b9d80e ap_save_brigade() can fail, so report what happened via an apr_status_t return code.
c5e356d Recognize a downstream error as such (instead of saying simply "returning error").
74383a7 Because we can't get APR_EAGAIN from sendfile if we have a timeout, we can simplify this test now.
d21e756 On EBCDIC machines, fix up the charset of the header terminator.
4645a98 We don't want to install CVS files, but the -P option to cp means something different on FreeBSD than it means on Linux.  This puts the recursive copy back in, and just has us delete the CVS directories after they are copied into place.
d1df834 Ignore CRLF (or LF) when PEEK'ing at data on the socket.  The general problem is that some browsers send an extra line at the end of a POST request.  We use the PEEK method to determine if there is any data left on the socket, if there is then we delay sending the response until we have enough data to make it worthwhile.  If the browser sends an extra blank line, we don't want to delay the response at all.  The only time we use the PEEK method is to check for a second request, so this is safe to do.
4d657e4 Last change to get SuEXEC working again, and respecting configuration changes made using autoconf setup.
e32055a Get SuEXEC building properly.
7808798 On Unix, we do not want to use an absolute path for CGI scripts.  SuEXEC will not let us use one, and when not using SuEXEC, we chdir() into the correct directory.
f15376d We cannot set the SUEXEC_BIN directory from autoconf, because all of the instructions say that in order to modify this variable, you have to modify httpd.h
608c1c3 Fix a small typo that was causing big problems.
f87aa4d Make it possible to build suexec from the top-level Makefiles, and make it install when using make install
d4016a4 Get suexec compiling again.
af5e43b We don't want to install the CVS directory when we use make install
84ed423 Finish up the config.m4 file overhaul, so that we can load config.m4 files in order.
0ef67c9 Move the config.m4 file to config5.m4 in the generators directory so that we can actually make the cgi module decision based on MPM.
083aa58 Allow buildconf to find the config.m4 files in the correct order.  This allows the decisions made in one config.m4 file to be based on decisions made in previous config.m4 files.  For example, the config.m4 in the generators config.m4 can choose the correc cgi module based on which MPM is chosen.
8d630e5 Time for bed soon.  :-)
672c917 Get mod_cgid to use apr calls for creating the actual CGI process. This also allows mod_cgid to use ap_os_create_priviledged_process, thus allowing for SuExec execution from mod_cgid.  Currently, we do not support everything that standard SuExec supports, but at least it works minimally now.
72cbd26 Allow SuExec to be configured from the ./configure command line
77a4ed8 get the layout from the right directory
1621c73 and some background for why --disable-shared was added and what needs to be done to get it back out of there.
d6419f1 Update the Readme and Install docs to reflect 2.0 a bit better.
39a2364 If we get EAGAIN returned from apr_sendfile, then we need to loop back and call it again.  This change allows us to serve large files (such as apache_2.0a9.tar.gz) using Apache 2.0 on FreeBSD.
5ffae0a Binbuild.sh works again, so remove the STATUS item.
79c543f Back out the .libs thing from the aprutil linking. Add --disable-shared (for now) to the subdir config to ensure that we only get a static library for aprutil (which allows for linking all of its functions into the executable). [ APR will need something similar if/when it gets libtool-ized ]
b9d06de Allow the auth modules to load into the server.
0b34a61 be gone, fool!
323102d minor correction to libexecdir for the standard Apache layout
00ec6af Cleanups so that the support programs build cleanly.  The Win32 values need to be sanity checked. Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com> Reviewed by:	Ryan Bloom
3404634 Place a note in some of the files that contain obsolete information.
72a1fee   OPTIONS request crashed server, this fixes it
8a5e320   Last of the Win32 goodness I've noticed
2da60f9   Simplify and order the dependencies as well as possible.
c2239e7   All the supports now build on APR (+APRUTIL), no reliance on httpd.
7252673   This should build entirely with APR support.
a459c02   This should build entirely with apr/aprutil support
7c0baa0   This program should run entirely without ap_config support from   Apache, given that it is apr'ized
67ae4c2   More Win32 Goodness
04da134   Win32 Goodness
b9f233d   Allow the server to run in the bin/ subdirectory, and back up over the   bin/ directory when determining the Win32 ServerRoot.
924d513 Fill out some docs for the MPMs.  The content is there, but the formatting could probably use some work.
863ff16 forgot to axe this line a couple commits ago, when I added the NOTE about buildconf.
ce1c3ff no content change. just reflow.
69f53d8 bunch of random updates... this file still had a lot of 1.3'isms, and also needed a goodly number of changes for current layouts, web locations, etc.
a5d2a7a   Given the delay, it's time to put the binaries where they belong, in bin\   for win32
3847823 Small update to add reference to developer docs and correct graceful restart signal.
dd229e9 A few small changes to bring this up to 2.0. This doc could use a major rewrite.
247ad88 Bring the vhost directory into the current century.
8d86635 Update the release schedule.
b919571   Document the Win32 .so change.  Time to rest the brain.
3212658   Warnings for users, start filling this up before we roll.
8ecdf22   Add known bugs to Announcement in preparation for release.
86a904d Fix a 1.3 to 2.0.
4473f59 Fix two references to the wrong files in binbuild.sh
c876e84   Out of the sandbox and into prime time.  Note... these should always and   only be regenerated immediately prior to the tag and roll.  Do not assume   they are current with the sources in the development tree.  They should   be generated as vc5 make files, since only vc5 makefiles are readable by   both vc5 and vc6.
e3cf093 prevent crash when connection closed before complete request received
b3d5978   Back out the target path change from serverroot\bin back to serverroot   for Apache.exe and it's associated lib*.dll files until after beta one.   Change the make projects as well... and a commit of the actual .mak files   will be coming in a moment.
61379ef Actually link apr-util's .a file, instead of relying on libtool.  We may want to change this later, but right now, we want a single binary that has every function it requires.
0a37cdf   Correction, commited the vc5.  Need vc6 in the tree.  Humble appologies.
a73fd34   Missed aprlib -> apr in the project overhaul
58a5a1c Update the README.  Libtool and autoconf are not required unless you are a developer.  This should make that clearer. Submitted by:	Greg Stein
91b976d Add the INSTALL file.
4315b0c   The Win32 overhaul, in summary;     Modules are named mod_foo.so     Dynamic Libraries are named libfoo.dll, and are stored in bin/     The former ApacheCoreDll is now libhttpd.dll     Apache.exe moves to bin/     The make install now copies include, lib, and libexec     All build options are normalized, filenames adjusted appropriately
deab944 Add the README file.  Almost a copy from 1.3, but slightly modified.
5d9e6e0 This is about 99% complete for the binbuild script.  The only problem that still remains is that some of the apr-util functions aren't being compiled in, so they work when the apr-util library is in the right location, but once that library is removed, the server won't start.
8b80bbc Send HTTP status line in ascii from ebcdic boxes...makes browsers much happier.
4b0913c why do people keep removing this blank line?
2c28500   Talk about a nasty hack :-/  Here is the Win32 build solution for the   missing xcopy /Y option on NT4.0.
fcf3c26   Hmmm... seems the /dy solution wasn't sufficiently portable.  This patch   prevents us from displaying the files copied, but at least bypasses the   confirmation messages.
4a7ffcf Remove a STATUS entry that can't be implemented cleanly.  The problem is that there are multiple ways to start a CGI script, mod_cgi, mod_cgid, and mod_include.  If we move the directives out of the core and into one of those modules, then the rest of the modules won't have it.
351725e Switch to the APR-provided APR_CHARSET_EBCDIC feature test macro.
efe5ac6 Add a note about the directives to add input and output filters.
eb739fd Today would be a good day to roll a beta.   :-)
a6ad7ce Mention the sendfile issue with FreeBSD.
7cc0697 Commit the Announcement for people to review before we go beta.
bc845f6 sdbm is in apr-util now.
84fc13a Include mpm.h so the tests for SPMT_OS2_MPM actually work.
9ab2ee5 When building exports list, allow for multi-part and negative conditions in #if tests.
8b79c4a mention the recent IPv6 changes...  I had hoped to get the doc updated by this time but...
05de3e2 exports.c was dependent upon delete-exports, but that dependency will always fail since there is no delete-exports file (thus, exports.c would always get regenerated, recompiled, and relinked). Instead, we move the delete-exports target "up" to the "all" target. However, ltlib.mk doesn't allow us to add things to the "all" target, so we also revise the set of .mk files to use.
31a5783 Get the binbuild.sh script into the CVS repository and start to modify it to work with httpd-2.0.  There are still a lot of issues with this script, but we have to start someplace.
597902b Remove the test directory from the top level Makefile, and move the STATUS item to "non-showstopper but nice to fix" category.  This is in preparation for tomorrow's BETA.
a3886e6 Remove some STATUS items, and finish off the install dir re-org.
694d5f9 update this lil gem
abe9bbe Add the config.layout page back.
3a9d37b Remove some redundant checks. Submitted by:	Greg Stein
3ac0dba Stop calling shared modules libapachemod_*.  mod_* is much easier to deal with.
7aac4f8 Stop searching in installdir/includes/apr.
aa06aa0   Round out the Win32 build.  Changes include:
b4116c0 Install all headers in the include/ directory.
1ac15e4 tell AWK to erase existing httpd.default.conf so rebuilds don't append it.
47570c9 Improved Polish translation. Submitted by:	Bartlomiej Grzybicki <bartgee@mail.morliny.pl>
98a2023 ap_start_shutdown is not used by anybody outside of the MPMs, so we don't need to put it in the ap_mpm.h header file.  This also makes all of the instances of ap_start_shutdown static.
6fbd866 Find the RM program during configuration.
b2c9db9 Remove a warning on some platforms.
c2141cd Correct a mistake in the delete-exports target
b5440c3 Force all Apache functions to be linked into the executable, whether they are used or not.  This uses the same mechanism that is used for APR and APR-util.  This may not be the correct solution, but it works, and that is what I really care about.  This also renames CHARSET_EBCDIC to AP_CHARSET_EBCDIC.  This is for namespace correctness, but it also makes the exports script a bit easier.
b22291a Rework the RFC1413 handling to make it thread-safe, use a timeout on the query, and remove IPv4 dependencies.
772355e Get all of the auth modules to the point that they will install and be loadable into the server.  Our new build/install mechanism expects that all modules will have a common name format.  The auth modules didn't use that format, so we didn't install them properly.
b145ee0   Add icons and cgi-bin ... needs shebang rewrite for printenv and   lib/exp/h copied to the right places.
48fbb39   Quote the destination paths in the event that INSTDIR contains spaces.
a5f4ab3 "Mommy! Mommy! I keep spinning in circles." "Shut up, or I'll nail your other foot to the floor."
337464a Get the perchild MPM working better again.  I have been able to pass some file descriptors back and forth and serve requests, but this code is still very experimental.
59c4216   The awk update for Win32 build/install.  If awk is not installed, only   dbmmmanage.pl, httpd.default.conf and httpd.conf are left uncreated.
50cca38 Remove an IPv4 dependency in do_double_reverse() by calling apr_getaddrinfo() instead of gethostbyname().
c17ef15 API routines ap_pgethostbyname() and ap_pduphostent() are no longer available.  Use apr_getaddrinfo() instead.
59a6e91 typos
08a9b27 apr_get_hostname() is gone.
fbeea29 Stop using apr_get_hostname().  It doesn't support IPv6 and it is redundant.  apr_getnameinfo() provides the same function.
07c7211 update French page
a0765fd Get "NameVirtualHost *" option working in Apache 2.0
4b8b173 Clean up some formatting.  Using a tab of 22 characters makes the output very annoying to read.  8 looks much more reasonable to me. PR: Obtained from: Submitted by: Reviewed by:
ab3721d Get -t -D DUMP_VHOSTS working and properly documented.  This removes the -S option from the docs.
0727410 Make the server return HTTP_RANGE_NOT_SATISFIABLE if the all of the requested ranges begin after the end of the response.
b34037d Get byterange requests working with data that is generated by a handler that does not add a content-length.  For example, mod_autoindex doesn't set a content-length, but the byterange filter requires one.  We fix this by computing the content-length in the byterange filter.
14482de When the platform supports IPv6 (according to APR) and the system is configured to support IPv6, Apache gets IPv6 listening sockets unless the Listen statement says otherwise (i.e., Listen specifies an IPv4 numeric address string or a hostname which resolves to an IPv4 address).
cb38a3c Call ap_log_error() instead of ap_log_rerror() from alloc_listener(). This bug, introduced in a recent commit, caused a segfault when the hostname couldn't be resolved.
40eae41 Rename the apr_opendir symbol to apr_dir_open.  This makes more sense, and the rename was proposed a while ago inside of APR.
76c6c06 Update some STATUS files.
936b6a9 Major rewrite of mod_access docs. Submitted by:	Joshua Slive, Cliff Woolley
dece169 get_addresses()  . use apr_parse_addr_port() so we handle IPv6 addresses on    NameVirtualHost and <VirtualHost > directives  . don't hardcode AF_INET when a hostname or IP address was    coded
b43e31d tweak the responsibilities of make_sock() and alloc_listener() because we need to resolve the hostname (i.e., call apr_getaddrinfo()) before creating the socket so that we get a socket of the appropriate family
6b3c397 Use apr_parse_addr_port() in fix_hostname().  This simplifies the code by a small (okay, tiny) amount and lets IPv6 numeric address strings be passed through. Obtained from:  the idea is from the KAME IPv6 patch for Apache 1.3
cecc3899 use apr_parse_addr_port() in ap_set_listener(); this allows IPv6 numeric address strings to be specified (though we wouldn't get an IPv6 socket for it at the moment)
fb4cd95 Display whether or not APR (and thus Apache) supports IPv6 in the httpd -V output.
8cb9685 Fix a problem with the last commit...  I missed one of the hashing changes so some of the code had an unnecessary IPv4 assumption.
43f1418 Get rid of some IPv4 dependencies by passing the hash function the apr_sockaddr_t * instead of the IPv4 address.
7e18009 Fix the call to apr_snprintf() for formatting the sockaddr in a vhost entry when dumping the vhost config.
77bbf23 apr_get_inaddr() is gone
290df5f move closer to IPv6 support by changing the server_addr_rec representation of the bound address to something which handles IPv6; this also allows us to switch to APR resolver routines in places instead of calling gethostbyname() and gethostbyaddr() directly
73c6ea5 Get exe CGI's working again on Windows
348b5f2 Axe ap_get_virthost_addr().  This <address>[:port] parse routine is not used anymore and it doesn't handle IPv6, so it is best to drop it.  If/when mod_tls (Netware) is ported to 2.0 it can use apr_parse_addr_port().
b0089c5 Greek translation of welcome page. Submitted by:	 simos@pc96.ma.rhbnc.ac.uk
56f0f68   Overly protective with a code block, let that return run free again...
4d09ea9   Thanks again, Andrew Braund... a little testing and sleuthing revealed   we were trying to load kernel32.dll as we unloaded, which is badness.
b1e8b05 The local_addr and remote_addr fields in the conn_rec are now apr_sockaddr_t * instead of sockaddr_in.  This is a small step towards IPv6 support.
4a5786b Suppress xcopy prompt during installation
91c6ce7 add apr_getnameinfo
02970a9 "Anybody calls me Francis, I'll kill him."
05be6a6 Straighten up the first-time-through check in mod_cgid and add a CHANGES entry for the bug fixes to mod_rewrite and mod_cgid.
78309d6 Get rid of the once_through flag.  It is never used and doesn't work in DSO mode anyway.
22a2fa9 Get mod_rewrite to work as a DSO by changing the way it keeps track of whether or not its post config hook has been called before.  Instead of a static variable (which is replaced when the DSO is loaded a second time), use userdata in the process pool.
555f8ff   Sorry bout that... have a newline
64bb50e Get mod_cgid to work as a DSO by changing the way it keeps track of whether or not its post config hook has been called before.  Instead of a static variable (which is replaced when the DSO is loaded a second time), use userdata in the process pool.
468d728   Fishing for undefined symbols, came across only this one.
e3ea80e Get the server setup for Beta 1
6102810 PR:
92d3f8a Update the version numbers for a9
a75a852 Update the Announcement for a9
c3aa1c6   Boy, that's alot of shoveling (the snow... really)
397d63c   Add magic, mime.types and -default of all /conf files to the Win32   build/install.  Also copy the manual tree to htdocs/manual/, and the   index pages (if they do not exist) to htdocs/
485d06b   One, it's very hard to type perl without $'s (stolen by the .mak parser)   Two, it's official ... we don't have anything useful on Win32 to help us   with rewriting (no sed, no nothing, by default) so we will require perl.   Sorry to anyone that causes trouble for, but it's fairly unavoidable   unless we want sed instead.
a3d09c3 Change a couple of socket call failures from 404 errors to 500 errors.
b57feba   This appears to be the correct patch, but I'm not certain... FirstBill,   please verify it's the right fix.
d3c1d4a   Changes for correct apr-util.dll lib name, and don't try building into   the current tree from the workspace.  Also correct commentary.
b601a06 Fix Windows build
8158a6c Add "(const void *)" back to the hack variable assignments to avoid warnings like this on Tru64 (and perhaps other platforms):
dfd30ad Get "make install" to install DSOs again.
ca4c6af Fix a comparison with ENOENT which was accidently broken during the canonical error cleanup.
9a32d23 pick up exported build variables from APRUTIL
84e6349 sdbm.h is now apr_sdbm.h
4003f98   To enable debugging, uncomment the line commented out below.
a9b6cf8   Here's what should work flawlessly... WinNT/2K as a service or a   console app, Win9x as a console app or hidden service, the ctrl+c,   ctrl+break and close button on all platforms.  Now the rough part,   Win9x, while the processes set themselves up as services, are dieing   on logoff.  My guess, the hooks are deregistered regardless on logoff,   unloading the 'partner' .dll that is sitting in WinOldAp's process.   Anyway, before rebooting 1,000 more times, and possibly loosing some   fruits of my effort, here is the working code.
b9a95e0 Get perchild serving pages again.  This doesn't work completely, namely it can't really pass the data correctly yet, but at least it serves pages correctly when the correct child accepts the page.
45643bc Major update of mod_log_config docs.
32afc79 config.m4: support mod_ext_filter (I'd been using --with-module            until the recent build changes) mod_ext_filter.c: get rid of a warning
fae9975   So close we can taste it, this patch adds necessary delay timers for   the win32 console window detection, gobs of documentation and some   streamlined and more debuggable structure, pardon the reorg of the   source for Win9xConHook.
d227f6c   Clear out the old cruft, moving function declarations to win9xconhook's   own header.  Update the build to reflect the changes
7f6be77   This prepares to eliminate all 9x Apache issues.  We isolate most of   the 9x issues into this module.
2115c23 Remove mod_log_agent and mod_log_referer from the documentation.
2671ff1 Small fix in intro para.
92639e4 Getting cloudier.
cbdbb7c Adding howto docs from 1.3 tree
e3489b6 Normalize syntax.
a254122 It was sunny in Vancouver this morning, but it's getting cloudy.
1c1bd5b   Clean up expatlib for the new /GX-, +/Fd and Debug/Release .dll targets.
804f120   pcre lives in harmony in Lib[D|R] without /GX, after an /Fd flag
85cd420 remove building of the dbu test proggie
e281d9d   Now that sdbm and installer are gone, clean up the win32 build.
4e842d6   The feature macro may appear a bit odd.  I'm open to any better suggest.   Define AP_AUTH_DBM_USE_APR for apr dbm access, and apply the symbol to   the win32 build.
66667b7   Moved to apr-util/test
a0087fb   Back out the .dsp changes (my bad - jumped to fast.)
9af3de8   Adjustments to dav for apr_dbm_open args change
9cefc29   Fix a nit, unreferenced symbol
412ded1 configure's --with-* type switches are the standard way to specify foreign directories to a package. APRUTIL works this way, and does not need APR's location at buildconf.sh time.
37a44a3 provide complete instructions on fetching APR and APRUTIL
19d7659 not into looking into this right now, but it should be done. just watch the make output and the bazillion -export-dynamic options getting added to know that something should be fixed :-) [ and more precisely, it is needed for AP modules, but not Apache itself nor   libraries such as libmain.la; therefore, the move to special.mk ]
02ce223 Get Apache filters and Apr-util buckets using the same values for blocking and non-blocking reads.  This allows us to use the mode parameter passed to a filter to read from the bucket correctly.
ed60c30   This file's targets made no sense in the new schema.  I'm not certain   they make sense yet anyways, but this is improvement.
bad06d1   Eliminate the /GX flag from release builds of the support tree.  This   disables exception handling overhead that has no handler in Apache.   Add the /Fd"Debug|Release/projname" options to eliminate conflicting   vc50.pdb and vc50.idb files.
cfae7d8   With this patch, dav and file_cache ride again :-)  Note file_cache now   uses mmaps, which may or may not be desired on win32.
999e8d5 ab: use apr_parse_addr_port() in parse_url(). httpd.exp: Add the new APR symbol apr_parse_addr_port.
057d153 Add some files that should be installed when we install Apache.
b18b5e3 *) top-level: build our base libraries (srclib) first since these (by    definition) have no dependencies on anything else. this will also ensure    that we have *.exports available for building server/
b5de155 *) fix up buildexports.sh:    - enable it to be run from any dir by passing a parameter for the      location of srclib, and using its own location for determining where      the AWK script is located    - accept exports files on STDIN, and produce output on STDOUT    - use "pwd" and cd back to it, rather than assuming ../../.. (which might      not apply if we feed it other export files)    - add USAGE reporting
e5b579b *) simplify the AWK script a bit *) do not put the (const void *) cast into the code (it isn't needed)
9787943 *) remove STANDARD_LIBS line; it is unused/unneeded *) simplify by removing the extra AC_DEFUN() in each file
32bf158 *) add check for mod_so *) juse use APACHE_MODULE (the custom defun only saved a single arg) *) toss AC_SUBST(STANDARD_LIBS) line; it isn't used/needed
2a01704 My cable apparently cut out in the middle of DBZ. grrr.
1e453f2 Port httpd to the newest MMAP api.
08460ee Change some spaces to tabs.
6449efc Make mod_include use a hash table to associate directive tags with functions.  This allows modules to implement their own SSI tags easily. The idea is simple enough, a module can insert it's own tag and function combination into a hash table provided by mod_include.  While mod_include parses an SSI file, when it encounters a tag in the file, it does a hash lookup to find the function that implements that tag, and passes all of the relevant data to the function.  That function is then responsible for processing the tag and handing the remaining data back to mod_include for further processing. Submitted by:	Paul J. Reder <rederpj@raleigh.ibm.com> Reviewed by:	Ryan Bloom
0c44f97 Install the manual correctly.
cc58804 Remove an incorrect comment.
855891f Get the Perchild MPM serving pages again.
093d361 Add cgi and cgid back into the configuration system. Submitted by:	Paul J. Reder <rederpj@raleigh.ibm.com>
2431b52 "I like a girl that sleeps above the covers. Four feet above the covers."
0517b39 don't build test by default. users/developers can go to the dir manually and build if necessary.
6384774 get the test directory working again: - use apr_dbm.h and the updated naming - don't try to link against libap(util?) or libsdbm. just use libaprutil.
f044f56 switch to apr_dbm.h and the updated naming
ac775f9 apache_need_sdbm is no longer applicable. clean it out.
5b5b015 remove APACHE_CHECK_DBM and the usage of srclib/sdbm/. this stuff is part of APRUTIL now.
bc26855   Goodbye exported apr_canonical_error
3815aef   This solves two issues, one is a backref from apr-util into the   apache namespace, and the second is the proper linkage declarations   and their explanations.  Documented the distinction between   AP_IMPLEMENT_HOOK_ and AP_IMPLEMENT_EXPORT_HOOK_
730f195 And this gets Apache for Windows compiling from the command line and serving files again. The APR_DECLARE_DATA declaration allows the ap_*_type structures to be exported which is reqired for the correct operation of the AP_BUCKET_IS_* macros.
18990d0 Get Apache installing again.
56f91d4 Get the perchild MPM building cleanly again.  This hasn't been tested, because I can't install Apache right now.  As soon as I get the make install target working, I'll test this MPM.
3a75a98   Fix some leftover dirtyness from the conversion.  All is building   over in Win32 land.
1ee17e7   Fixed the make, crippled dav till it's building.
bf57cf0   The -big- fix, all the proper linkages for BaseAddr.ref plus a bit.
70289cc   We build through Apache.exe!!!  Onwards...
edbf3e0   Got a little carried away earlier with path names :-)
ac1c6a3   Slide symbols from one place to another.
e31eb77   A little fix here, little fix there
a3b550c Generate the apr-utils exports file using APR's buildexports scripts. This also modified Apache's buildconf to add those symbols to the exports.c file.
7c9a490 Windows project file update to accomodate the new directory structure.
4662c58   Set up dependencies on the apr-util package.
56560e4   A bit of inclusion for the apr-util package.
f119caf   This patch illustrates the new locations, and makes the majority of the   adjustments.  Now to actually try to build the thing.
fe2ef8d Fix two spelling and syntax problems in ap_get_local_host().
9f8b455   Release the last occurance of apr_canonical_error.  Next stop, apr.
8804cdb Use quotes instead of angle brackets when including apr_strings.h so that a dependency is generated for it & to be consistent with the rest of Apache.
552eee5 Speed up the generation of exports.c by using an awk script to process apr.exports instead of shell script.
3d16ccc Include mpm.h so that we know which MPM is being built and therefore when to export ap_listen_open().
6f5fa0a Clean up some warnings about APR string functions by including appropriate header.
c028982 OS/2: os.c doesn't exist anymore, remove it from the build.
67c0a20 Remove "installer" from the ignore list so the directory doesn't get blown away every time I do a cvsclean.
2515b30 Get make distclean working again.  The replaced egrep-style regexp does not work as-is with "GNU sed version 3.02".
390609a   En route to httpd-2.0/modules/... in their appropriate places.
fceb721 Make ApacheBench compile cleanly again
a78de40 Build apr-util correctly when building the rest of the server.
cb1297b Use the correct apr-util library
9b621a3 Make the test for APR a bit more stringent and add a check for apr-util
84c3dcd Add apr-util to the build process.  This should now build once everything has been checked out to the correct locations.
b2d2ce8 Add a couple of files that I missed earlier today.
c512685 Ignore all the files that are generated during a build
261d4aa Do not automatically add the core module to the modules.c file.  This module will be added when we build it.
ff3d032 Don't find Makefiles in apr or apr-utils, because those libraries will take care of cleaning and distcleaning on their own.
2c31dcf Apache builds again, although the test directory doesn't.  I will work on the test directory soon.  The server does NOT currently run, but it does build cleanly.
9c7f058 Get the support programs building properly.  Httpd itself is next.
b1e313e Get base Apache to build properly.  This doesn't solve the problem of not having apr-util, but we should be getting to the link stage now.
5661f21 Buff was removed this weekend, so the STATUS item should go away.  This also adds the STATUS file to the new httpd-2.0 directory, with all the history from apache-2.0
a5a1891 Get Apache to configure completely again.  This still doesn't build, but now we are getting very close.
d412995 Get the modules configuration stuff working correctly.  This just deals with STANDARD modules and Protocol, not MPMs.
a87a761 Start to add back the config.m4 and Makefile.in's that were separated out during the repository move.
0778144 Start pointing the configuration scripts to the correct directories
67d3652 Get rid of ap_new_apr_connection().  ap_new_connection() now has fewer parameters: the local and remote socket addresses were removed from the parameter list because all required information is available via the APR socket.
4c8baf6 Get rid of ap_new_apr_connection().  ap_new_connection() now has fewer parameters: the local and remote socket addresses were removed from the parameter list because all required information is available via the APR socket.
d209fe6 Get WIN32 building again
a57d7d9 Get files including mpm_winnt.h compiling again by removing the unnecessary references to buff.h and BUFF.
c4b550a include new APR symbol apr_make_os_sock
ac4b298 ignore the generated files.
35f7897 Get buildconf working in the new repository.  Nothing builds, but we can at least configure everything.
9409605 A short history of the Apache Group (outdated) and the ASF.
d834ae3 The httpd-2.0 repository is now open for business.  I have copied over all files for which the cvs history is important.  The rest can be added as new files (like this one).
67821c9 Add a test to buildconf to ensure that APR has been checked out.  If it isn't there, we output a message giving the public CVS root. Submitted by:	Roy Fielding
8e4b488 Remove buff.c and buff.h.  There are still a few files that rely on these, but those files are already broken.  This just makes that breakage more obvious.
384955c   This chops the compile time warnings back down to one (a sufficient   reminder that we need some workaround for msvc's broken const'ness.)
aec32f4 Remove multilogs.html which is documented in mod_log_config.html and update STATUS.
ef83746 Removed "index.html" from a bunch of <a hrefs>.
1808110 Cleaned "index.html" out of a bunch of <a href>s. Quoted size in a bunch of <font>s. Wrapped and fixed mismatched <p>s in index.html.en. Wrapped and encoded > in index.html.it.
5c0cb21 Remove mod_mmap_static.  This has been replaced by mod_file_cache, and there is no reason to keep this duplicate code
eba324b Removed some illegal <p>s wrapping <hr>s.
445c56f Removed some more occurrances of "index.html".
efa261f Typo fix: 'of' used, 'for' wanted.
544abe5 Removed a couple "index.html"'s.
37b9fa4 Fixed mismatched list tag. Fixed typo.
e9edcdb Removed "index.html" from <a>.
951f821 Consistency enforcement for directives that take extensions and a reformat of mod_isapi.html into the new standard format.
15f9d66 More changes to get BeOS building once more...
dee2be1 Fix a couple of small typo's
5843ecf Note the patch submitted today by Jon Travis about cleaning up inet_ntoa. This patch is waiting until IPv6 is settled, and we can really see what we are left with.  I don't want us to forget that inet_ntoa has thread- safeness issues, so I am noting this patch here.
b7e17bb MPMs that require multiple segments of shared memory now just use two shared memory blocks to ensure that all of the memory is available.  This removes the hack that added 80 bytes to each shared memory block.  We end up needing two apr_shmem_t variables, because it is difficult to determine exactly how much memory will be needed.  MM automatically tries to align the shared memory allocations, so we either need to pad the shared memory segments, or just use two different segments.  This also changes APR and MM to take into account whatever memory those packages need to allocate when creating a shared memory segment.  Any memory that APR and MM need is automatically added to the size requested by the program.
6af2db3 Remove an unnecessary header file. PR: Obtained from: Submitted by: Reviewed by:
e562fae Clear and sunny outside
f6dc4c9 use APR_SIZE_T_FMT to avoid a warning on AIX
a6978fb include <strings.h> for the strcasecmp() and strncasecmp() prototypes; AIX doesn't have prototypes for these in string.h
bf0cbf2 Use APR_LOCKALL in dexter and mpmt_pthread to serialize poll and accept.  This allows APR to optimize when a platform has locks that work for both threads and processes.
04b0c15 Stop referencing apr_get_socket_inaddr(), apr_get_remote_name(), and apr_get_local_name().  They have been removed.
dafb8da If apr_lock() or apr_unlock() fail, write a log message before bailing out.
a321e8b Add "-D PROCESS_LOCK_IS_GLOBAL" to the httpd -V output when appropriate.
6baa1b4 Get Apache to use the new generated exports list.  This works on my Linux machine, but I am pretty sure there are going to be problems for others.  The idea here, is to be able to generate a list of the exported functions from APR.  This list needs to be correct, we can not list functions that are not exported on the platform being built on.  To accomplish this, we generate a list of the exported symbols when we configure APR.  As a part of this list, we also include all of the #if macros that surround those symbols.  Apache then uses this list of functions and macros to generate a file that refers to each of those symbols.  Because we have the macros, when we compile this file, the compiler ignores any symbols that aren't valid on this platform.
5296cf7 Get htpasswd.c to build on EBCDIC machines again.
9eb6ae3 Document mod_log_config %{FOOBAR}C option Submitted by:	Sander van Zoest <sander@covalent.net>
84993db   This is the Win9x console hook handler ... much code to be pulled now   from the src/os/win32/services.c for Win9x.
f98dcb9 Enable logging a cookie with mod_log_config Submitted by:	Sander van Zoest <sander@covalent.net>
bab020a - Remove some "platform specific notes" from the main page where the platform doesn't currently work in Apache 2.0.
87c30b0 Remove an unused header
af4581a   Fix some const confusion with simpler code.
7cf10a4   Fix uninitialized badness
b94e095   Eliminate the last WSAE error test.
656a5d3 Use "const char * const *" for process->argv (which is the correct const-ness since we sometimes put "some string" in there, and also the CRT's argv). propagate this change within http_main and mpm/winnt/ (also correct some other const type usage within the MPM).
b5b5895   Make Win32 build again
5c1d33b Fix a segfault in mod_info.  mod_info_module_cmds() had a misstep when reaching the end of the configuration.
4357532 Get ab to compile cleanly after the apr_initopt() change.
ba6de03 can I be a Super Saiyan? please?
19cc3c1 add the new apr_lock_file and apr_unlock_file functions.
7067db9 reorder the libs for proper inter-lib dependencies
b44c768 Bring mod_ext_filter.html up to the new format.
cc596fb Remove mod_digest docs which have been supplanted by mod_auth_digest.
7a72a9f Bring mod_dav.html up to the new format, fix up some questionable HTML, and remove the LimitXMLRequestBody which is actually in the core.
a8e2f4f Bring mod_charset_lite up to the "modern" format.
90e122a A little more prettying up of developer docs.
f5d7f84 Put the developer index in the standard format.
f534dfa   Compile break when I changed 'thread' in mpm_winnt.h to a HANDLE type. Fixed.
1b690e0   Clean up some compiler warnings (there remain some float=double and   long=double warnings that didn't offer a simple answer at this moment.)
c0aa895   clean up some really bad typedefs - and move one into mpm_winnt.c since   that's the only module remaining that needs it.  Should be an apr type,   but we aren't using the apr accessors to handle them.
de3e504   The only win32 project file that used (but didn't really use) os/win32/passwd.c
f04e51c First step towards extracting the SSI handling from mod_include so that it is extensible by modules Submitted by:	Paul J. Reder <rederpj@raleigh.ibm.com> Reviewed by:	Ryan Bloom
e5ab277 Fix some const warnings.
48c4bb7 Add a couple more user-visible changes to upgrading.html.
af8a254 Add a little more detail on starting Apache for the benefit of beginners.
d35076a Get "make install" with DSOs to work on AIX and Solaris.  A recent change by me to get "make install" to work at all on Tru64 caused this problem.
6b7491b Update command line options docs to match what is currently in http_main.c.  Also, add documentation on apachectl options.
8726697 Split the hints file into two files, one in APR and one in Apache.  The APR hints file just sets build variables, the Apache hints file just sets Apache variables.  This is meant to clean up parts of APR, so that they don't include Apache information.
26d261c   Pulled the aprlib base address out of Apache's baseaddr file (aprlib is hard   base addr'ed to 0x6ee00000)
7cb77a2 Remove some status items that belong in APR now.
d870b17 Fix some lvalue casts so that we can compile with xlc on AIX. Submitted by:	"Victor J. Orlikowski" <v.j.orlikowski@gte.net> Reviewed by:	Jeff Trawick
0d5a270 Get mod_example building cleanly.
076335b Get mod_echo to stop using BUFF. Submitted by:	David Reid
817f43c add --with-dbm switch to configure, allowing the user to set the type of DBM   that apu_dbm will use (defaults to builtin sdbm). first pass at gdbm   config support (seems to work fine in my simple test).
e6121c2 Change some apr_ssize_t uses to apr_size_t. Submitted by:	Victor J. Orlikowski Reviewed by:	Jeff Trawick
ffe0634 Fix some incorrect docs Submitted by:	Jon Travis <jtravis@covalent.net>
9fca860 fix an apr_size_t/apr_ssize_t discrepancy Submitted by:	Victor J. Orlikowski
2f9034d Tweak the logic to avoid "make distclean" inside APR directories so that it works on Tru64.  On that platform, when grep failed (because we weren't in an APR directory), the non-zero exit status failed the entire operation.
e980d3f *) sprinkle a little magic "const" dust around (specifically, to compensate    for the prototype change to ap_os_create_privileged_process()) *) wrap some long lines
989546f fix a bunch of apr_ssize_t/apr_size_t discrepancies
42af0ef Get the pthread mpm building again.
257a9e2 <sys/resource.h> requires <sys/time.h> first on some systems (e.g., FreeBSD 3.4)
a710535 Change Apache's distclean rule to rely on APR to clean up APR as appropriate.
706c56e Use #if APR_HAVE_xyz_H, not #ifdef APR_HAVE_xyz_H Submitted by:	Brian Havard
6875989 Always include lib/sdbm in INCLUDES (until somebody that can spell lbi/aputil teaches the configure to be a little smarter).  This lets apu_dbm compile, which in turns lets us build httpd again.
ee3c11e use the APR feature test macro to check for sys/uio.h; it is the only one defined and it is used in other Apache code; this gets mod_rewrite to compile on RedHat 6.0 (and perhaps some other systems)
f8f50c9 *) make find_liveprop() hook take a dav_resource rather than "r" *) repos.c: liveprop hooks shouldn't respond if the resource is not an FS      resource. *) std_liveprop.c: use empty-elem form if value=="". return NOTDEF for the      properties that we aren't ready to insert yet
b49a274 liveprops are handled via hooks, not the dav_provider structure. clear it out of there.
71390fb toss dbm. use the new apu_dbm interfaces.
ae06db8 missed one. This is needed to build the new aputil library.
18c6822 shaddup
d9f25a3 *) Put lib/aputil/ into the INCLUDES path *) add a Makefile.in to test/ to help with building test programs (these are    not part of the build; just manual compiles right now) *) add test/dbu.c as a quick test of apu_dbm    [ dbu.c originally came from the SDBM package ]
5ab185a Start the oft-discussed, but oft-punted lib/aputil library. Drop in a first cut at an "any" DBM set of cover functions.
ead2dae *) Compensate for recent changes in the APR headers. Specifically, some    files need to specifically include stdio.h, or a particular apr_*.h    header.
8b05144 fix spelling: "writable" is the proper form
738e290 Update some headers and footers to the proper version number.
8317318 Update the dexter and perchild docs, and add a missed directive.
d0968eb add the "next filter" parameter to the rest of the ap_sub_req_* calls.
e570b2c shift some processing of "core" WebDAV properties out of the generic property handling code, and into a new, core liveprop handler.
f71c71e dav_resource should carry around a pool for allocations related to it
7d56947 More revamping of live properties. Focused around the fact that a provider's hooks are only called if that provider defines the prop (e.g. NOTME return values are no longer needed). Also refactored some code to simplify liveprop management for providers (assuming they don't have "funny" stuff).
fe0a05c *) fix subtle crasher in COPY method *) update sub-request-creation calls to include new "next filter" arg
a5c1252 Fix a few broken links.
8ce821c Add the ability for apxs to install both libtool generated and non-libtool generated shared objects. Submitted by:	Jon Travis <jtravis@covalent.net> Reviewed by:	Ryan Bloom
70bfbdd Addition of BindAddress and small cleanups of upgrading/new features docs.
e0f96dd Clean up a few broken links.
645eedb A complete re-write of mod_include.  This has served the entire manual now.  This makes mod_include a filter that uses buckets directly. Submitted by:	Paul J. Reder <rederpj@raleigh.ibm.com> Reviewed by:	Ryan Bloom
da982da Remove mentions of the obsolete ResourceConfig/AccessConfig.
02f60b7 Allow modules to specify the first module for a sub-request.  This allows modules to not have to muck with the output_filter after it creates the sub-request.  Without this change, modules that create a sub-request have to manually edit the output_filters, and therefore skip the sub-request output_filter.  If they skip the sub-request output_filter, then we end up sending multiple EOS buckets to the core_output_filter.
9f9ed49 minor cleaning: provider ids are no longer used
1242bda Add some docs to mpmt_pthread.html.
180ef30 Update the "bind" docs, remove the stuff from "server-wide.html" that will now go in the MPMs, and update prefork.html with that documentation.
344e7fa A little more general MPM documentation. Feeback welcome. Note the comment at the bottom: <!-- XXX: Needed here: a brief discussion or reference to instructions on how to choose and load an MPM, how to figure out what MPM you are currently using, and what MPMs are the defaults on various platforms. -->
a90554d Next pass at the content-length filter.  Not perfect quite yet, but getting closer Submitted by:	Greg Stein
2d5a108 Don't use APR_INET6 unless APR_HAVE_INET6 is defined.
798d259 Modify the content-length filter to change the criteria used to determine if/when we compute the content-length.  There are just a few cases now:
754e923 Update ab to accept URLs with IPv6 literal address strings (in the format described in RFC 2732), and to build Host header fields in the same format.  This allows IPv6 literal address strings to be used with ab.  This support has been tested against Apache 1.3 with the KAME patch, but Apache 2.0 does not yet work with this format of the Host header field.
5ad917a Remove links to some of the documents that were moved to manual/platform.
0e58095 Add an MPM status to the directive-dict.
a8bc4e8 Fix typo. Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com>
d4df202 updates to changed interfaces to apr_set_port(), apr_get_port(), apr_set_ipaddr(), and apr_get_ipaddr()
68ded31   *) Accomodate an out-of-space condition in the piped logs and the      rotatelogs.c code, and no longer churn log processes for this      condition.  [Victor J. Orlikowski]
0f5f707 We are working on a9 now.
69142af ignore generated files .libs and *.la
4187b03 Link up the new platform directory.  It still needs an index.html, but the mod_autoindex listing should suffice for now.
727d79c Get rid of apr_create_tcp_socket() reference.
6de8f5e Add partial write support for apr_sendfile to core_output_filter.
0d8f112 Get the version number bumped to 2.0a8
c54e0f1 The Announcement for a8
31602dc Get SetFilter working with MIME-types again and update the docs
ac560d6 Restore Ryan's original intent in ap_proxy_doconnect() return value check
9bd296d Clean up core.html a little.
afb2bd6 Remove some obsolete docs.
ccfe507 Add some docs to the common MPM directives.
6c72454 Add the MPM docs to the index-bytype front page.
43e6780 Add the perchild MPM docs and do a little bit of cleanup.
1206c2c Update the SetFilter directive to work with Handlers instead of MIME-types. This also updates the docs to reflect the change. Submitted by:	Joshua Slive Reviewed by:	Ryan Bloom
25fca54   Disable two features, with warnings, if a relatively Win32 SDK headers   are not available (e.g. stock distribution of MSVC 5.0).
a17358b Add a directive to mod_mime which allows people to configure a filter stack for a given mime-type.
0caf561 Call apr_create_socket() instead of apr_create_tcp_socket() (deprecated).
ff3ed25 Change apr_bind() to take apr_sockaddr_t.
a458bdf Add an outline for mpm_winnt.html.
b93c6a2 Remove more of the directives that moved to mpm_common.html
93330fa Woops, I just discovere UNIX_DAEMON_COMMANDS and LISTEN_COMMANDS.  Add in those directives and dexter.
7d44234 Using an mpm_common.html file for the common directives makes things considerably easier.  But, there is still lots of work to do. Clearly, some of the directives are not implemented exactly the same.
1a1769c clean out some liveprop hooks which are now handled by AP_HOOK functions
291c8d6 Add apr_get_sockaddr() for getting the address of one of the apr_sockaddr_t structures for a socket.
4f5c5ca Fix an error message since we are using common code to add all filters. Submitted by:	Greg Stein
e5fcfb7 Remove some common code in adding filters to either the input or output filter lists. Submitted by:	Sascha Schumann <sascha@schumann.cx>
e56d9d5 Begin to remove some of the cache-ing logic from the http proxy.
425f557 Change references of AF_ to reflect APR_ so they should work on all systems.
7512a5e   Cleanup a signed/unsigned warning
4bdc763   Cleanup more compiler warnings.
8aefb9c   Extern symbols (per the warning) belong elsewhere, since (on Win32) the   http_main.c is both the startup and entry stub.
a961325   As promised, and discussed on new-httpd, goodbye ordinals.
44b9040 remove unused variable
a1346d5   Clean up some timeout arg warnings
a34aea5   Some signedness issues - consistify the size_t references
0955906 Get Multi-Views working again.  It wasn't working because we weren't setting the path_info field correctly if we didn't find the specified file.
4be2035 Fix 204 handling.  This moves some logic that used to be in ap_send_error_response to the http_header filter.  The reason for the move, is that the header filter takes care of all header processing now.  Without this change, we were sending garbage data to the client whenever we sent 304 responses. Submitted by:	Brian Havard and Ryan Bloom
66078e0 More proxy fixes.  There are still some bugs in this code, but this has successfully proxied www.yahoo.com and www.ntrnet.net among other test sites that I chose at random.
0ff4a23 add some docco from John Vasta
b33314a Suggestion of files to delete from httpd-docs-2.0.
54b84fb I forgot one change for the start of the MPM docs.
8b09ca2 First attempt at MPM documentation.  Feedback appreciated.  Discussion to follow on apache-docs.
5ac709c   Just style nits before someone goes and does something significant.
bb227c0 First pass at a set of caching filters and handlers.  This implements a working disk cache.  There are a lot of improvements to be made to this, but this is a pretty good start to a dynamic cache.
2588d59 fix apr_getaddrinfo() call
c2345ef Get rid of a bit more BUFF cruft in mpm_winnt.c
92abe95 Make function definition agree with the declaration, which fixes a compile break on Windows.
3463c8c APR: Change apr_connect() to take apr_sockaddr_t instead of hostname. Add generic apr_create_socket().  Add apr_getaddrinfo() for doing hostname resolution/address string parsing and building apr_sockaddr_t. Submitted by:	David Reid Reviewed by:	Jeff Trawick
0bb6b7f Get exports.c symbols to compile even if the declaration is hidden in APR include file.
4baadb8 This removes all BUFF's from the HTTP proxy.  This code is relatively ugly, but it does proxy pages.  This even fixes the content-type bug that I introduced yesterday sometime.  As soon as BUFF is removed from the FTP proxy, the buff.c and buff.h files need to go away.
7f0f6e6 Yet another broken link.
23f6308 Bring a couple typo fixes forward from 1.3.
c1e2dc1 add apr_create_socket to the list of symbols
38b21a7 Update httpd.exp for recent symbol changes. Submitted by:	"Victor J. Orlikowski" <v.j.orlikowski@gte.net>
0fb2536 use apr_size_t and a few minor tweaks
274c566 Make the proxy work with filters.  We are still using BUFF for the back-end communication, but BUFF has been removed from the communication with the client.  The headers are not working correctly yet, but we are making progress.  The most important part of this commit is that we are able to actually filter data coming from the proxy.
51b515f use apr_size_t
95e93f2 Do not send a content-length if and only if this is a HEAD request and the content-length is 0.  The problem is that the C-L on a HEAD response has to be the correct C-L, but if a handler returns saying the handled the request without sending data, the core sends an EOS down the filter stack, and we compute a 0 C-L.
89bfd6b First stab at a STATUS file for httpd-docs-2.0.
12745dd Make cgi-bin work as a regular directory when using mod_vhost_alias with no VirtualScriptAlias directives. PR:	6829
80196f5 Apply a patch from John Vasta for adding (some/more) DeltaV support to mod_dav. The patch applied and compiled cleanly, so I'm committing. Any necessary changes from a review will come later, so that we can easily track what needed to change (and can be back-ported to mod_dav 1.1).
402ca08 Hmmm... It appears that there were some translation in the 2.0 "it works" page that were not in the 1.3 version.  Bring these up to date with the new name for the http server web site.
ca47b8b Bring the "it worked" pages in 2.0 in sync with the ones in 1.3.
b227aa8 Remove BUFF from the CONNECT handler.  This works as well as the rest of the proxy, meaning that it has proxied a page.
b91450f Get the proxy to look at requests that are being proxied again.  In the big commit of the other day, a few !r->proxyreq's were changed to r->proxyreq, which made the proxy decline requests when it shouldn't have. Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com> Reviewed by:	Ryan Bloom
4519f66 Typo in example.
e79d870 repair cgi's on Windows
2b8f739 Changes for previous ap_proxy_doconnect() calling PR: Obtained from: Submitted by: Reviewed by:
6ec843d Get the proxy working again.  With this change in, I have successfully proxied a page from perl.apache.org.
4f9a6f5 Simplify ap_proxy_doconnect(); now returns apr_status_t PR: Obtained from: Submitted by: Reviewed by:
02b0fb6 Ignore generated file pcre.h.
f6bdcb2 Get "make install" to work on Tru64.
59f2a0c Remove the change from earlier tonight to not send a content-length of 0. Submitted by:	Roy Fielding
7e991c2 Stop the default_handler from trying to deal with HEAD requests.  By doing this, the content-length filter can determine the C-L before we send the response, and we get a better response.
b31bf6e Make the header filter decide if a body should be sent.  This gives us a chance to compute the proper content-length before we try to send a set of headers.  If a handler wants to ignore the HEAD method, then it can either just return from the handler function or pass an EOS bucket down the filter stack.  Either method will still get the headers sent to the client.
66b3a62 If the content-length is zero, then we don't output the Content-Length header file.  The only time that the C-L should be zero is if there is no body.  Zero is a valid content-length, but the only time that we ever really send it is on a HEAD request right now, and that is incorrect. The HEAD response should have the actual content's length.
22587a3 Associate a pool with the pool bucket so that it serves it's intended purpose.  This also moves the create_pool function outside of an if to decrease complexity.
8a75c27 Add the referer to the error log if one is available. PR:	73 Submitted by:	Markus Gyger <mgyger@itr.ch>
caa9d3d Include ap_config.h to get the definition of AP_DECLARE_DATA.
eb2e6db Get http_core to compile again after the last change.
b62a882 Port mod_info to 2.0.  This is basically a complete re-write to use the config tree instead of re-reading the config file.  As a part of this change, the config tree needs to be exposed to modules as ap_conftree. Submitted by:	Ryan Morgan <rmorgan@covalent.net> Reviewed by:	Ryan Bloom
1a00f1a We can not use heap buckets for data that was allocated out of a pool. The basic problem is that when the pool is destroyed, the data will go away unless it is in a pool bucket.  If it is in a pool bucket, then the data will be copied into a heap bucket when the pool is destroyed.  This becomes a real issue when we set some data off to the side to deal with pipelined requests.
f6fa47c Get rid of warning on Tru64:
d741d68 Get the default_handler to use the bucket code directly.  This keeps us from traveling down the stack multiple time for a static page.
a6e345e Update coalesce filter to use heap buckets rather than pool buckets. This should fix the mod_autoindex funky chunking behaviour until the ap_r* routines are reimplemented, at which time this filter should probably go away.
e675d4d Get send the content-type header sent correctly for both regular requests and byteranges. Submitted by:   Ryan Bloom and Will Rowe
0eeea9d Update the httpd.exp file. Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net>
46fdec3   Win32 symlink (NTFS Junction) support for mod_rewrite
1eda389 Fix type complaints on Xlc. Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net>
f53ac58 The core handler should never close a file, because we haven't actually sent the file yet.  This also removes the send_http_headers call, because that's a no-op so it doesn't make much sense to leave it in.
ffc6052 Get the hints file working on Linux.  This also gets SINGLE_LISTEN.... working on linux 2.2.
30fbbe1 Change mod_rewrite's tilde expansion to use apr_get_home_directory().
85815fe Clean up some of the warnings from a Tru64 build, mostly due to the recent apr_ssize_t->apr_size_t changes.  The problem in mod_cgid was an int function which didn't have a return statement.
09a8d94 Get SINGLE_LISTEN_UNSERIALIZED_ACCEPT working again. This defines that macro on those platforms that have it defined in 1.3.  The only platform that doesn't work yet is Linux 2.2.
960d7c0 add apr_get_home_directory(), teach mod_userdir to use that instead of calling getpwnam[_r] directly, back out mod_userdir's config check for getpwnam_r
f5db5c4 Fix a few broken links.
9dc2c4d Typo in mod_rewrite.html.
91f3b21 The whole proxy compiles cleanly now.  Now we need to make it actually work again, but at least we are making progress.
c0fe0a6 proxy_ftp and proxy_http both compile now.  Not tested because the rest of the proxy is still not compiling, but we are making progress.
cac411d Make proxy_connect.c compile cleanly again.  Not sure if it works or not, but it does compile.
a336184 Pick up buff.h for the moment, now to get the conn_rec changes from the last few days taken care of.
1fabe68 Fix small thinko in void funcs PR: Obtained from: Chuck Murcko Submitted by: Reviewed by:
31c42a9 This is the 1.3.x current proxy into 2.0 - first stage PR: Obtained from: Sam Magnuson Submitted by:  Chuck Murcko Reviewed by:
adebe63 This is the 1.3.x current proxy into 2.0 - first stage PR: Obtained from: Submitted by: Reviewed by:
2852402 This is the 1.3.x current proxy code into 2.0. PR: Obtained from: Sam Magnuson Submitted by:	Chuck Murcko Reviewed by:
64da7b6 This is 1.3.x current proxy folded into 2.0. PR: Obtained from: Sam Magnuson Submitted by: Chuck Murcko Reviewed by:
c1c3267 Not all platforms have INADDR_NONE defined by default.  Apache used to check for this and the define it if needed.  Since APR also needs this check it makes more sense for APR to just check and export a symobl that is always available. Submitted by:	Branko �ibej <brane@xbc.nu> Reviewed by:	Ryan Bloom
5ef1c8a   A good thing, allow W2K to perform the symlink test.
b8e4c88 Get mod_userdir compiling on FreeBSD when APR_HAS_THREADS. This doesn't account for the fact that getpwnam() isn't thread-safe on FreeBSD; it also doesn't account for systems where getpwnam_r lives outside of libc.
86c61a2 MM has a bug that when you ask for a specific amount of shared memory it allocates just that amount.  But, MM actually uses some of it, so we need to over allocate just a bit.  On 32 bit machines 40 bytes is enough, but on a 64 bit machine it isn't.  So, we bump it up to 80 bytes until MM fixes this bug. Submitted by:	David Hill <David.D.Hill@compaq.com>
50758ec Fix a lot of the fallback from the apr_ssize_t to apr_size_t change Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net>
fbca1df remove a thread un-safe function from mod_rewrite
cdb6b21 Remove the comments that I accidentally left in from testing.  Doh!
d45d0b5 Remove a thread un-safe function when APR_HAS_THREADS
1a13ab6 Don't use ap_bucket_read() to find the length unless e->length is -1.  Otherwise, we'll never use apr_sendfile().
2377bb2 More local/remote changes and tidy up http_vhost a bit.
3a03e06   Fix symbol break.
cf28fad   Killing ap_os_is_filename_valid.  Left actual win32 code, since it is   moving into apr and the check_safe_file call.
9b2fa16 This is always displayed to the console. There is no reason to print the date and time to the console, so we should use APLOG_STARTUP to suppress them
75856cb   Just some things I noticed letting someone else have some desktop time.   Guess homework isn't a bad sacrifice, actually read some docs :-)   Correct me if I'm wrong on the mod_auth_digest changes.
1b84db0 I have fixed PR#4455 already.
f971a55 In mass hosting setups (using mod_vhost_alias or mod_rewrite) where the hostname is interpolated into the filename, we need to be sure that the result of interpolation doesn't expose parts of the filesystem that should be private. This was done by checking the syntax of the Host: header according to RFC 1123 and RFC 952. However, many people have broken configurations that violate this syntax (frequently because they use underscores in their names), and it also doesn't accommodate the current effort to internationalize the DNS. I don't think the former is a compelling reason to relax the syntax checking, but the latter does justify this change.
f128eac   Newer canonicalization code should replace this patch entirely, however   it's nice to have a working server as a starting point :-)
3dd5f4a Bring the apr_in_addr type into line with naming conventions and make changes where appropriate.  At least on my system virtual hosts seem to still work :)
3ce94ea Remove MMAP handling from the default handler.  MMAPs are created by the file_bucket read function now.  If we try to read from a file bucket and it makes sense to convert that bucket to an MMAP, that just happens.
930fab5   Per new-httpd discussions, this version of mod_autoindex has been set   aside as a test for rputs style backwards compatibility.  It has really   horrid chunking charateristics, so it was the ideal nominee for the job.
0d07a2f Clean up compiler warnings
cd0afa6 Eliminate use of BUFF in mpm_winnt. Thanks to rbb for pointing this out.
35034e6 Change the code to reflect the recent API changes... Alter http_vhost.c to use the new apr_get_inaddr fucntion.  Old code is still there just in case it breaks.  can someone check it who knows this stuff?
b09eca4   Return buff.h to the winnt mpm till Bill (or I, if I must) remove the   acceptex style contexts into apr.
e935210 Simplify the call to ap_send_fd().
dfa26b3 final round of walker cleanup: fix the provider API to match what is Right.
d9892f5 one more round of walker cleanup: remove some items that are internal to the     FS provider from the public API; bang up the FS internals for the     now-private items and mechanisms; a bit more revamp to the FS walker     top-level APIs to narrow in on obsoleting dav_walker_ctx.
8d70e84 should be DAV_WALKTYPE_NORMAL, not _ALL
5de83d8 first round whack at cleaning up the walker interface
820d6de byterange handling simply did not work for internal redirects.   (e.g. fetch /foo/ which redirects to /foo/index.html)
6838403 minor tweaks, cleanup, comments.
20e7cd1 Tie up some loose ends that fell through the cracks while I was fixing things the first time.  The server compiles again after this change.
07390aa Use the content-length filter to compute the content-length for byterange requests.  This allows the byterange filter to work with the PDF plug-in.
8dca57c The content-length filter needs to compute the length even if the content-length has already been set.  If we don't, then we won't know if the content-length has changed because some other filter changed the length of the actual data.  We also ALWAYS want to calculate the content length if we get the whole brigade in the first call to this function.
4ee1d8e Remove BUFF from the main server.  :-)  The buff code needs to remain as a part of the server until the proxy is purged of BUFF however.
8662bac When caching file handles (vs. mmaps) reset the file pointer before serving, since a filter may have caused the file pointer to advance.
54c9571 Slight clarification of chunked encoding and keep-alives.  Thanks Tony.
b0f2ef3 In the content-length+bytes-sent filter, only set the content length if we decided to do so initially *and* we've seen all the data.
5d45272 Remove the byterange code out of mod_file_cache's handler.  That is completely in the core now.
c43a79f Get ab to build again by changing apr_set_remote_port() to apr_set_port().
e0d2ff0 Fix the format strings used for apr_port_t (APR_PORT_T_FMT anyone?). The sscanf() call was actually broken.
ee4d197 This adds the APR_LOCAL/APR_REMOTE to APR and changes the apr_get/set_port functions to use it.  This is onyl the start and I'll pause a while before I continue in case people really hate this.  The patch can be backed out and all evidence will be removed, but I think this makes maintaining/developing the code easier in the long term.
d313909 More cleanup of apr_port_t stuff.
73a6c4c Doh!  Missed this from the last commit...
2318bf5 Missed these first time round...  More apr_port_t changes.
33aabfe Start of moving to apr_port_t in the server code.  This will probably the first of a few...
2b00b3a fix the byterange filter.
16d27f0 The byte-ranges filter.  This looks like it should work, but the Acrobat plug-in doesn't like it for some reason.  This does work better than what we currently have, because at least it returns all of the requested data.  This basically removes all BUFFs from the byte-range code and removes all of the byte-range code from the default-handler.
9904e85 ap_set_content_length() now has a void return.
0225f34 Fix a compile break.  ap_set_content_length is a void function now, so we can't check the return code.
efc5b26 Make the keep-alive documentation more accurate.
754480f Use apr_off_t for the content length, rather than long. Propagate through the byterange handling and ap_set_content_length().
f076d87 Avoid warning about unused function open_file() on systems with no sendfile().
134dbc9 Convert a lot of apr_ssize_t to apr_size_t.  We don't ever accept or return signed values in these integers, and we return the error codes directly, so we should always report the number of bytes read/written correctly.  If we have an error, that is 0 bytes.  If that is true, then using signed values doesn't make any sense.
b6f8c9c Remove the original ap_send_fd code.  The filters have been working for a while, and this is cluttering up the code.  If it is really needed, it can be found in CVS
2ead6f8 Fix typo
4cb7090 Get rid of unused variable zero in ap_send_http_options().
5350f73 The LoadModule line should specify a .so file, not a .la file
d6cf339 Always compute the content-length regardless of whether it is sent to the client or not.  The reason for this, is that it allows us to log the bytes sent to the client correctly.  This also simplifies the content-length filter a bit, by making it a single pass through the brigade.
5b834d5 Remvoe AP_END_OF_BRIGADE.  This definition didn't really mean anything, because it didn't signify the end of the brigade, and it didn't signify the end of a response.  It ended up meaning flush the data, which can be detemined with bucket type checks.  This also makes the FLUSH and EOS buckets have a 0 length, which makes a lot of code cleaner, because now we can just add lengths and be sure they are all >=0.
9964960 Grammar/Style fixes.
895794d ap_send_fd should not be sending an EOS bucket, so we should remove any trace of that possibility from the code.  First of all, there is nothing that says you can only send one file bucket in a response, and second, even if a handler sends a file, nothing says that it can't add text before or after it too.
d1e7726 Make the desired evaluation explicit to keep gcc -Wall happy.
413869c Fixed a couple leftover &amp;s. Submitted by:	Chris Pepper <pepper@mail.reppep.com>
7cccb1e Cleanup of perf-tuning.html.  No content changes. Submitted by:	Chris Pepper <pepper@mail.reppep.com>, Joshua Slive
3f0129d Allow the core_output_filter to save data in the filter past the end of the first request if this is a keepalive connection.  This allows us to save the end of the first request until we have enough data from the second request to make it worthwhile to send the responses.  In order to do this, we need to allocate mmap's from the connection pool instead of the request pool.  If we don't use the connection pool, then the mmap is freed before the data is sent, because the mmap is freed at the end of the first request.
6747378 oops. only do the slash management if dir != NULL
e54e1b6 Minor content and spelling fixes to two recently added docs.
231c702 Clean up blocking and non-blocking reads from buckets.  The only bucket that works correctly right now is sockets, but pipes are coming next. This also makes the http_header_filter do AP_MODE_PEEK correctly.
7a1ec9c Sub requests should never get into the http headers filter, so we remove the check for it, and through in an ASSERT.
6d89d14 Remove REQUEST_CHUNKED_PASS and change ap_discard_request_body() to use REQUEST_CHUNKED_DECHUNK.
fdfcc2d Change the content-length filter to give up (i.e., not provide content-length) if it gets a flush bucket.  A generator of streaming content needs to send down a flush bucket (e.g., by calling ap_rflush()) if it wants to send a partial response to the client immediately.
d7430d7 Axe a couple of newly-unused variables.
d6f677f Remove some more references to sockaddr structures...
bd165c3 More removal of raw sockaddr references. This shouldn't cause any problems, but folks may want to test it :)
23b9976 Another removal of using raw sockaddr where we should be using APR.
86f8525   John's patches to provide depreciated messages for the -i and -u   options (now -k install|uninstall), and best yet, restart the console   mode server on Ctrl+Break (Ctrl+C still stops it.)   At least this is the second half - sorry I missed a bit.
3698e24   John's patches to provide depreciated messages for the -i and -u   options (now -k install|uninstall), and best yet, restart the console   mode server on Ctrl+Break (Ctrl+C still stops it.)
760b659 Merge the 1.3 patch to add support for logging query string in such a way that "%m %U%q %H" is the same as "%r".
e905ec9 Merge forward mod_log_config enhancement.
60acdb0 We don't really want to fool around with socket structures if we don't have to, and in this case we can get the ip address directly from the socket.  This should mean that if we add more protocol support we don't have to worry about this.  No doubt this is the first of many such changes...
e878631 We have functions that allow us to get the ports from the sockets, so use them here.
fccf6b4 Document mod_log_config %c option
98eac2b Add a new LogFormat directive, %c, that will log connection status at the end of the response as follows:  'X' - connection aborted before the response completed.  '+' - connection may be kept-alive by the server.  '-' - connection will be closed by the server.
4cc33e9 It doesn't make any sense to set a CHUNK flag in the BUFF, because the BUFF isn't used for output anymore.
f397734 Fix last commit which was done from the wrong tree which contained an incomplete version of the default_handler change.
5e747a7 Remove some more BUFF code.  This makes the 100 continue code use buckets instead of BUFF.
0e6c7a8 Make the default handler read the dechunked request body on a POST request.
f46ebf0 Fix the core_output_filter to work with FLUSH buckets.  With this change, when the core sees a FLUSH bucket, we automatically send everything to the network.
bdf3f91   Solve the os_is_absolute_path problem for the moment.
e86a47d   Two patches (sorry), first to clean up the double assignment of the   r->content_type value on UNICODE_FS, and the second to add ETag and   Modified-Date to the file listing.  If anyone sees an objection to   this thing, please scream (loudly) before I go and attack 1.3.x with   the ETag/Modified-Date Friday a.m.
d95eb05 Create a feature macro that determines if Autoconf was used to configure the server.  The ap_ugly_hack variable is only valid if Autoconf was used for the configuration.
7bf310d ap_http_header_filter() can't remove itself until after we the CHUNK filter has been added.  Otherwise, f->next won't be the CHUNK filter and thus the first brigade won't be chunked properly. Reported by:	wrowe
1cd4c73 In writev_it_all(), tell the caller how many bytes were sent.
37a90cb   Get Win32 building again.
f95da0f   Get win32 building again... we need something just a little more sophisticated here
3e93cdc   Cause the command line version of mpm_winnt to do nothing with the   service config unless the -k run argument is provided.
a55dfa4 Simplify the configuration mechanisms for threading in APR. Revise how Apache configs APR and allow MPMs (or other config scripts) to     pass cmd line params down to APR. For the MPMs that specifically require     or disallow threads, have them force APR threads on/off.
93bdf51 Get rid of some warnings on Solaris 8 by using APR's ctype macros: logresolve.c: In function `main': logresolve.c:327: warning: subscript has type `char' ab.c: In function `main': ab.c:1074: warning: subscript has type `char' ab.c:1087: warning: subscript has type `char'
087dc39 Bring forward from 1.3.  Some of this is obviously not correct in 2.0.
df37918 Fix in regex example. PR: 6777
46c701d Create the pool bucket after we know the true length, because (currently) we can't shorten the length of such a bucket by setting e->length.  (We could split and then remove the extra bucket, but this seems cleaner.  We may still want to have a way to shorten a bucket, but there isn't a pressing need for that at the moment.)
339bd0b Don't include a '\0' in the header.  (I'm still seeing more binary stuff in the header, but one fix at a time...)
8b890b1 Comment fixes.. just to get them out of my tree
6210f09 Update the main doc page to a two-column format, and add a new section called "Using the Apache HTTP Server" for task-oriented docs.  Also, remove some of the "other notes" links that are more or less obsolete. They are still available on a sub-page.
906a993 Get rid of a couple of buff calls by manipulating the APR socket timeout directly.
2730adb Fix a buglet in the APR-ization of ap_lingering_close() -- use APR_SO_TIMEOUT instead of BO_TIMEOUT.  (We were actually setting a different socket option.)
91976ba Prevent a compile warning on FreeBSD by making pointers const (only needed for data, but not harmful for functions)
6f896b6 Forgot one variable when I re-created the patch.
223355d Fix canned-errors and OPTIONS requests, so that we don't allocate 8k for the headers.  We count the number of bytes we expect to get and only allocation that many bytes.
7998ed4 Stop always allocating 8k for each request.  We now count the number of bytes required for the headers for each request, and we just allocate that number of bytes plus 100 extra.  The extra 100 are a fudge factor, because it is a bit difficult to compute the exact length for the basic HTTP headers like date and the status line.
4b1eefe Clean up the http filter a lot.  Instead of sending a bucket per header, we now create a single bucket that has all of the headers and send that. One known issue is that this limits the headers to 8k, but it is a minor patch to fix that.
8ef7721 Remove a BUFF function that isn't used anyplace.
7ccd0d2 a couple of fixes for byte ranges: . use %qx format instead of %llx for 64-bit integer (apr_time_t);   %llx prints as "%llx" . pass offset and length to ap_bucket_create_mmap() so that byte   ranges work with mmaps (at least for a single range)
6c14dd3 exports.c is generated.
ad7545f Compute the content length (and add appropriate header field) for the response when no content length is available and we can't use chunked encoding.
5403b81 Cleanup some warnings in mod_auth_digest.c
1576740 Mod_auth_db.c compiles cleanly now.
e4fe63f Make mod_cgi and mod_include work when compiled as DSO's again.  This is accomplished by moving suexec out of it's own file and into unixd.[ch]. The problem was that suexec.c wasn't being linked into the server unless a module was actually using ap_os_create_process.  This is still not clean, but it works now.
511d2c4 This is an ugly little hack to allow DSO modules to work.  This basically forces Apache to link in all of the APR functions whether they are used by any static modules or not.
8e02713 Make mod_auth_dbm compile cleanly.
7d9a83f Make mod_auth_db compile cleanly in 2.0
11c6868 Get mod_auth_anon to compile cleanly in 2.0
1db4cfe Fix a const problem.
2824dc2 Remove the suexec patch from mod_mime_magic
19e74e6 initial commit of mod_ext_filter code and documentation
7fc510c note some filter configuration issues
1514234 Don't truncate the string if a RewriteMap lookup has a syntax error. Submitted by:   erik quanstrom <quanstro@clark.net>
5fbafcd Create modules.c in the build tree. This file depends on your configuration and thus cannot be shared by multiple build trees.
9fd450b Clean up a few incompatible pointer types (int * vs. unsigned int *). Submitted by:	Cliff Woolley <cliffwoolley@yahoo.com> Reviewed by:	Jeff Trawick
c57b27d Out goes the EBCDIC issue, in goes the error message issue.
d7b3bb8 Get rid of some outdated character set translation cruft.
bd8f893 EBCDIC support: convert protocol data in getline() and ap_send_header_field(); change terminate_header() to build the CRLF in ASCII to begin with.
6217bc8  Introduce ap_xlate_proto_{to|from}_ascii() to clean up some of the EBCDIC support.  They are noops on ASCII machines, so this type of translation doesn't have to be surrounded by #ifdef CHARSET_EBCDIC.
66f9756 Get rid of the xlate version of ap_md5_digest() since we don't compute digests of filtered (e.g., translated) response bodies this way anymore.  (Note that we don't do it at all at the present; somebody needs to write a filter to do so.)
6bd89dd On an EBCDIC machine, be willing to translate mod_autoindex- generated output.  Otherwise, it doesn't look too cool.
7d82e9d Don't segfault if the filter doesn't have any request config prepared. This can happen when the config doesn't tell us to do anything but the administrator coded us in Add{Input|Output}Filter.  Instead of segfaulting, we turn into a noop.
d2ee323 EBCDIC: Make chunk_filter() write chunk headers/trailers in ASCII.
2c0d3fd Fix a typo in a comment. Submitted by:	Chris Pepper <pepper@mail.reppep.com> Reviewed by:	Jeff Trawick
718ef1c ensure that all cpp directives start with a # in column one PR: 6742
a1b4760 not raining
c94fce6 Get rid of a // comment so we compile on OS/390 without the funky compiler option.
20a7482 Add a comment about a requirement with the eos_sent variable.
c19cd1f Provide a bit of doc for the hackish^H^H^H^H^H^H^Hwonderful filter types I introduced yesterday.
5c59c9a   Ok here it is: Win32 utf-8 native unicode filename support.   There are just too many folks to credit... so this goes out from   the entire ApacheCon hacking team :-)
8834cc5 Introduce more filter types.  This gets chunking of output working again by ensuring that the chunk filter gets added after the http headers filter.
994d16c Fix SSI syntax errors -- strings inside #if test expressions are either bare or in single quotes, not double quotes. PR: 6736
f0c80af Fix mod_include to serve the FAQ correctly.  The problem was a couple of bugs in get_tag.  This also allows mod_include to save buckets with partial tags in them. Submitted by:	Ryan Bloom and David Reid
9b9b84c Fix the signature of no_set_limit() to avoid a warning when AP_DEBUG is defined. (no_set_limit() is compiled only if we are missing one of the RLIMIT definitions.)
049e020 Always send the EOS on the correct request.  Basically, we call ap_finalize_request_protocol on the main request, then we find the last internally re-directed request, and send the EOS on that request.
2932ba2 The request body should be read with the normal send/receive timeout instead of in non-blocking mode.
6d49e59 other than minor tweaks:
2bf04d2   Get everything working with suexec patches again.
98516e9 Don't build mod_suexec by default. It breaks other platforms, and since suexec isn't built by default anyway, it makes sense to treat mod_suexec similarly.
56a50e5 Back out the suexec change to mod_rewrite.c.  It now builds again. (No, it wasn't a simple issue to get the suexec patch working.)
1766317 Fix typos and grammar.
0426d37 One more update for "config directory" patch, plus update of keep-alive documentation. PR: Obtained from: Submitted by: Reviewed by:
95c0b6b Small fix.
099abe3 Style changes and small content changes to handler.html.
2f0cec8 Get rid of some stuff and a few small tweaks.
3e1f93c Fix a breakage due to Maoj's suexec patch of earlier today.
7802c3b   Improve legability for new Win32 hackers (I hope)
4486e14   Answer says... -X is redundant and inappropriate.
8e5cf24   Fix foobar
3c6ba6b I didn't know that mod_userdir was even used on Windows. Oops. #ifdef out Unix-specific portions for now.
ab03790 Remove an attempt to fix a race condition. The attempt is not successful, the race condition is not particularly important (people deleting users in the middle of a request), and the attempt introduces more thread-safeness problems. Oh, and I thought I had taken this out already. :)
6abb1ea   A more thorough example is appropriate.  Also simplify the behavior and   always return root (/) if n < 1, which is no worse than returning elems   if n > elems.
c69699e use a cleaner form for building the TAR file
b1fb908 Add back suexec support.
515147e London Sun.
603dec1 Add a temporary pool argument to unixd_pre_config, so that it can call APR functions (grumble). This is needed for apr_stat, which will be in the suexec path coming up.
a90cfa5 Make lingering close access the socket directly, instead of relying on BUFF.  This has been tested, but all we can determine is that it doesn't fail, not that it works.  This needs to be tested much better.
9d5f496 Make ap_rflush use the flush bucket properly, and remove the BUFF code from that function.
776482a Fix internal redirects.  They should have their own HTTP_HEADER filter instance, and we need to remove the main-request's HTTP_HEADER.
458ab19 Fix some brain dead code. Submitted by: Greg Stein Reviewed by:  Bill Stoddard
d915406 Correct a check to see if we are attempting to remove a filter that has already been removed from the stack. Hummm, seems to me we should not attempt to remove filters multiple times....
804a7c1 Add logic to rebuild mm's configure
4b173d7 The headers need to be at the end of the request_based filters. Submitted by:	Jon Travis <jtravis@covalent.net>
2a407c1 Fix problem where a 304 response was not generating an EOS bucket. ap_finalize_request_protocol()'s sole purpose in Apache 2.0 is to send the EOS bucket. Probably need to reimplement ap_send_error_response() to be consistent with ap_finalize...'s new mission.
95b1b28 Get HTTP/0.9 and subrequests working again.  The http header filter wasn't letting any assbackwards brigades get past it.
902d55f Get rid of a couple of buff-isms -- setting the B_EOUT flag in a couple of places and doing ap_bread() in ap_lingering_close.
807983f namespace-protect dechunk_filter and http_filter
ddf387f Fix the return type of ap_http_header_filter().
4fd88db Fix Win32 compile break introduced by the http_header filter code.
1c79523 Add a way to remove output filters.  This is used by http_header_filter to remove itself once it has actually sent the headers.
6b22f05 Fix a broken hack.  We should save the state in the ctx pointer, not a static integer Submitted by:	Jeff Trawick
5908f4f Remove original_uri.  This is the same as r->unparsed_uri Reviewed by:	Roy Fielding and Tony Finch
9fbdac0 Hack headers to work semi-properly.  This is a hack that will need to be fixed, but it is good enough for now.  The idea is that headers shouldn't flow through the BUFF anymore.  Now, we have a header filter that is called at the end of the request-filter chain.  This filter writes the headers directly to the connection filters.
1a26023 It isn't raining at the moment.
fdb8815 Get translation of request bodies working.
96cf82e Input filters and ap_get_brigade() now have a input mode parameter (blocking, non-blocking, peek) instead of a length parameter.
bf1eb05 Rename buffer_filter to coalesce_filter.
1776c14 A bit of cleanup
ddee29d Get Apache on Windows working again after Ryan's first commit to remove BUFF.
fdc82e1   Enough of pcre.h, begone vile beast
ac4e80a   Don't you love clean checkouts :-)  Wrong href on dbmmanage, to boot
e367e05 Insert missing worg. Submitted by:   Chris Pepper <pepper@mail.reppep.com>
4418c82 name-based vhosts should come before ip-based vhosts.
8df1ca0 Belatedly update the documentation to include the NameVirtualHost * stuff. This isn't quite a sync with the 1.3 docco because we don't want to mention 1.3 in the 2.0 docs.
e6c948e Updated welcome page translation. Submitted by:	Ragnar Wisl�ff <ragnar.wisloff@asker.online.no>
34eb2ff Belatedly update the documentation to include the NameVirtualHost * stuff. This isn't quite a sync with the 1.3 docco because we don't want to mention 1.3 in the 2.0 docs.
7d6e7a7 getline():  Fix MIME header folding for character mode (telnet) clients.  Clean up comments & tighten asserts.
7dbbeb4 somebody was a Very Bad Boy when they inserted casts into this function. casting away the const was absolutely wrong... the warnings were saying the return value type needed to be fixed. did that and torched the casts.
946cd78 Change some of the BUFF calls to direct calls to the socket.
86a8923 Fix the chemical/x- mime types as suggested in the PR. Or should they be killed? PR: 4600
19f5bcd Update to the media types as of 2000-10-19. I also fixed the case of application/batch-SMTP to match the official name. Obtained from:  ftp://ftp.isi.edu/in-notes/iana/assignments/media-types PR: 6613
140586d Namespace protect the rest of the macros defined by ap_config.h
7493daa Support HTTP header line folding with input filtering.
9cb96d8 Update the STATUS file.
e349d8c Add .so and .dll to the application-octect stream mime-type Submitted by:	Pier P. Fumagalli <pier@apache.org>
415ea97 Get mod_include working again.  This still needs to be re-written, but at least now we are serving SHTML files again. PR:	6641
9245120 Sub-requests have to have a value for their request_config structure, or we'll seg-fault.  This should set the sub-request's request_config structure to the same exact same structure as the main request is using.
2441a2a Set the request config in the new r, not the old r.
0dbda59 Make the core access the socket directly instead of going through the BUFF.  This doesn't actually change any behavior, it just makes the core access socket directly.
d85bbfb This begins to remove BUFF from the server.  The idea is to go very slowly with this.  To begin with, we store both the socket and the BUFF in the conn_rec.  Functions are free to use which ever they want, in the end all of the data goes to the same place.  This modifies all of the MPMs except Windows.  All of the Unix MPMs are working, but the others need to be tested.
1af6430 We have to create the core_request_config structure in the core on internal redirects.  If this isn't done, we'll seg-fault during the AP_DEBUG_ASSERT that makes sure getline didn't leave any droppings.
b34f852 apr_psprintf doesn't understand %lld, so we should be using %ld PR:	6653 Submitted by:	 Tomas "�gren" <stric@ing.umu.se> Reviewed by:	 Ryan Bloom
af3c942   That's the end of things broken this morning... now to try Jeff's patch
7eecd80 ap_get_client_block() now uses a brigade in core_request_config instead of a brigade in core_dir_conf.  For now, getline() and ap_get_client_block() share a brigade.
29c802e   Fix more broken things
4743e5f   Fix a broken thing
fead05f   expatlib is definately more in sync with the Unix build, so we now   build the expatlib.dsp rather than seperate xmltok/xmlparse .dsp's.
dddb7a8 The final line of the config file was not being read if there was no \n at the end of it.  This was caused by apr_fgets returning APR_EOF even though we had read valid data.  This is solved by making cfg_getline check the buff that was returned from apr_fgets. If apr_fgets return APR_EOF, but there was data in the buf, then we return the buf, otherwise we return NULL.
2311f55 Add a core_request_config so we have a safe semi-hidden place to save core data that lives across function calls during a single request.  Change getline() to take a request_rec parm (rather than a conn_rec) so we can access the core_request_config.
12c00a6 Fix a compile error in mod_rewrite.c.
16a54f9 Fix piped logs in 2.0.  This basically: 1) cleans up an annoying type that was getting in my way while I was    trying to fix things. 2) Makes some of the allocations pcalloc instead of palloc 3) The arg array passed to create_process is a const *char *, not    const *char []. PR:     6642
c23305c Clarify when [NC] is effective.
edddcde Restore functionality broken by the mod_rewrite security fix: rewrite map lookup keys and default values are now expanded so that the lookup can depend on the requested URI etc.
1d4c412 Tighten up the syntax checking of Host: headers to fix a security bug in some mass virtual hosting configurations that can allow a remote attacker to retrieve some files on the system that should be inaccessible. The problem occured with requests including the line "Host: ..." -- the last dot is stripped and the remaining ".." then reveals a parent directory.
2e8c484 Use pool buckets where appropriate.  The places I have found so far, are the buffer_filter, and where the core_filter gets data from the BUFF.
e50f548 Add pool buckets to the bucket list.  These buckets are not currently used although I have begun to test them on my machine.  The idea behind these buckets is that data allocated out of a pool and put into a bucket has to survive the death of the pool until the bucket is destroyed.  To accomplish this, we register a cleanup when we create the bucket.  If the pool is cleared, the cleanup converts the bucket to a heap bucket and everything is good.  If the pool isn't cleared, then we kill the cleanup when the bucket is destroyed.
b8d35c9 ap_get_client_block() allocates its brigade from r->pool (as it was before today) so that we don't have a growth of these across many pipelined requests.
d5bc93e Remove brigade_bgets.  Getting the chunk header is now done by getline.
d67027b http_filter():   get rid of an unnecessary condition where we set ctx->b to NULL;   it was already NULL
b61db87 Remove an incorrect comment.  Bucket brigades are allocated out of pools, if we drop one on the floor, it will get cleaned up when we clean the pool.
ac66b6c http_filter():   when delivering body bytes, only deliver one block of data (however   much is returned by bucket read) instead of delivering the entire   body at once; this gets painful with a large body
894e2e7 Remove some annoying warnings from http_protocol.  This is untested, but it makes sense logically.
74ff3bb   Make things a little clearer in reaction to the _snames snafus.
ce0a65b Rename output filters field ("filters") in core_dir_config to "output_filters" for consistency with the name of the input filters field ("input_filters").
6ace1c8 Rename ap_debug_assert() to AP_DEBUG_ASSERT(). This should have been committed with httpd.h a few minutes ago. Submitted by:	Greg Stein
61a74c6 Capitalize AP_DEBUG_ASSERT().  All macros should shout, even if their forbearers (e.g., ap_assert()) did not. Submitted by:	Greg Stein
14beea3 Sync descriptors.html with 1.3.
86a1ecb Add a flush bucket type.  This bucket advises filters to flush any data they are currently storing.  There is no way we can force them to flush, but we can advise.  This also adds the code to ap_rflush to use flush buckets, although it isn't enabled yet.  I will enable it once we remove buff from the code.  I also removed all calls to ap_rflush that are either immediately before or immediately after a call to ap_finalize_protocol. ap_finalize_protocol sends an EOS bucket, which also advises filters to flush their data, so having both calls right next to each other is redundant.
25535f8 Add a sub-request filter.  This filter just strips the EOS from the brigade generated by the sub-request.  If this is not done, then the main-request's core_output_filter will get very confused, as will any other filter in the main-request filter-stack that looks for EOS.
d1c3f2e simplify bookkeeping in getline() to make it run a little faster, and (hopefully) be easier to understand in the future.
456c858 dechunk filter:   Get rid of an assertion which assumed that HTTP_IN is the filter   below us.  Some other filter may play the same role. ap_setup_client_block():   Get rid of a commented-out hack which was used to allow chunked   transport encoding of a request body received by mod_cgi[d]. ap_get_client_block():   Get rid of special handling for zero-length buckets...  The main   loop handles that fine. Submitted by:	Ryan Bloom
eb7793f input filtering changes:   get dechunking working   verify that infrastructure for input filters works     (use existing AddInputFilter directive)
c06c057 Get rid of some old code related to the way that character set translation of protocol data and bodies was performed in the past.
a37d062   Fix compile break in Win32
32a8423   Nice to see we build again on Win32
d649063   Renamed all MODULE_EXPORT symbols to AP_MODULE_DECLARE and all symbols   for CORE_EXPORT to AP_CORE_DECLARE (namespace protecting the wrapper)   and retitled API_EXPORT as AP_DECLARE and APR_EXPORT as APR_DECLARE.   All _VAR_ flavors changes to _DATA to be absolutely clear.   Thank you Greg, for the most obvious suggestion.
251bf4d   Cleaning up a _Security_ concern - Please Review Carefully
82ee158   More docs of oddities.
0c6f3b1   Document more bad Win32 behavior... if the url isn't .exe, then don't   throw an .exe
e6dbddd   Adds quick access to the must-haves (STATUS/CHANGES) and group the apr   library in to functional units
a5f3645 the zero-length hash key is valid. use (-1) as the discrimnator for auto-computed string-length hash keys
fdc834f   Some issues with the dependencies that prevent a clean checkout from   actually building under win32
a737624 Tidy up some types.
92e94d1   This is a pretty significant cleanup of things already moved to OS2's   APR - Brian, please review closely.
0d2677b   Cleanup ap_os_kill from TPF and unix.  Maintainers please validate.
4ffa12a   Just some symbol cleanup from grep'ping sources.   BS2000 maintainer please verify.
64c0937   Eliminating a bunch-o-junk from the Win32 os.h header that now lives   in apr or isn't used.  Please review closely (every symbol removed was   grep't for, and no references were found.)
b73fb78 Stop using the index into the array for the bucket type.  Now we just use a pointer to a static structure.  The ap_foo_type functions have also been replaced with simple macro calls.  I am going to replace the ap_bucket_(read|split|setaside|destroy) functions with macros soon. Reviewed by:	Will Rowe
579ced0 Some fixes and a general tidy up of ab.  With these changes ab can now support concurrency levels > 1 against the loopback on BONE and will actually use all the connections it starts.
e6668f5   Change to buckets for isapi output.  Still requires emulation of IO   Completion/Async behavior, but a non-async REQ_HSE_TRANSMIT_FILE is   now implemented.
26b91c3 Get dav-fs building again.
f6a7230 Cleanup ap_get_client_block a bit.  All of the code that I am removing doesn't actually do anything useful, it was meant to remove all zero length buckets before trying to read from the brigade.  However, it is perfectly fine to not do this, and to just read those buckets along with the rest of them.
1486d62 My last patch had most of the code to insert the eos bucket, but it was missing some major pieces that I only found after the commit.  This patch fixes the problem, and makes sure that request bodies are always ended with an EOS bucket.
15fe310 Get non-chunked input body filtering working with an EOS bucket.  The basic design has ap_setup_client_block setting a field in the conn_rec which tells http_filter how much data is in the body (with chunking this will represent how much data is in the chunk).  The ap_get_client_block then calls down the stack with the maximum amount of data that it can receive back.  When http_filter reads all of the data, it adds an eos bucket to the end of the brigade.  ap_get_client_block continues to read data until it gets the eos bucket.  This allows filters to increase the size of the body data.
7c2f708 Forgot to change the title.
26db2ff Introduce ap_debug_assert() macro, like ap_assert() but only active if AP_DEBUG is defined.
ee1ba0a getline() fixes...
f5ab7f6 Add a #else back into http_core.c, so that this compiles on Unix again.
a286d71   Completes the port of the <Directory /> handling for Win32... there is   still a patch needed for OS2 ... Brian?
745e689 Remove all function pointers from the ap_bucket type.  These function pointers are replaced with a global table that allows modules to register their bucket types.  Those bucket types are then allowed to be used in the server processing.  This also required removing all direct calls to those functions.  The ap_bucket type has an index into an array, so in each ap_bucket_* function, we use that index to find the correct set of functions.
2f6f8a6 mod_cgid: In the handler, shut down the Unix socket (only for write) once we finish writing the request body to the cgi child process; otherwise, the client doesn't hit EOF on stdin.  Small request bodies worked without this change (for reasons I don't understand), but large ones didn't.
2761c91 Fix a couple of problems related to large request bodies:   http_filter() - this was referencing e->length even though e->length     is sometimes -1 (if we have to read the socket bucket to get the     next bit of the request body); now it does e->read() to force a     socket need if required   ap_get_client_block() - this was getting a brigade back with the     desired amount of data (yeah, right) but only copying out the first     bucket
ca0b9e8 Fix a typo from earlier today.  The filters accept apr_ssize_t's, so the get_brigade code should also use apr_ssize_t. Submitted by:	Greg Stein
4a5c3ee   Modify ap_make_dirstr_prefix, platforms with HAVE_DRIVE_LETTERS or NETWARE   can request 0 elements, returning the '/' root.   [William Rowe, Tim Costello]  from 1.3, with documentation
44d920d Make http_filter go a little faster.  Remove unused #define.
5b52f5d Clean up obsolete modules.
9a12345 Remove the offset field from ap_bucket type.  This is a file bucket specific value, and therefore it belongs in the ap_bucket_file type, which was also created with this commit.  ap_bucket needs to be as generic as possible to make it easily extensible, which means we have to keep the generic ap_bucket type very separate from ap_bucket_foo.
c27033d Implement a length argument on input filters.  There are three possible values for the length, -1, 0, and a positive number.  -1 means that the next filter should return all the data it has, the current filter will take care to ensure that the protocol is followed.  Most filters will never use this, because it implies they are implementing a conn_based input filter.  0 means give me exactly one line of data.  A positive number means give me a maximum of n bytes.
c792f50   Move more path parsing fixes forward from 1.3
f43a574   I hope this clarifies.  Greg is absolutely correct, there is no need for   any modules symbol other than AP_MODULE_DECLARE_DATA, since module .h   files containing imports and exports imply something more sophisticated,   as the early mod_dav.c example illustrated.
3aed2aa A small cleanup for ap_get_client_block.
08be793 We never actually store anything in input_data (from the conn_rec), so it doesn't make much sense to check to see if there is something there.  This removes the input_data brigade from the conn_rec altogether.  There is no good reason for a filter to be accessing a bucket brigade from within the conn_rec.  This shouldn't be here anymore, just like the output_filter shouldn't be storing the data in the conn_rec.
73670f6 These functions aren't used by any module, and they don't make any sense with the bucket design, so they need to go away.
999d08b These BUFFs aren't used anymore, so they should be removed from the cgid module.
3645872 minor updates for a7 release data and missing buff functionality
b9b414f This is pretty much the wrong solution, but at least it makes POSTs work again.  Chunking input doesn't work with this change, but that is because this is a stop-gap to get POSTs working again.
494d2b0 Get rid of some compile warnings on systems with no sendfile and/or lack of one or more rlimit controls.  (Solaris 2.8 hits both of these.)
ff2371a In read_request_line(), we don't have to check any sort of EOF flag anymore because getline() returns < 0 upon EOF. There are also a few very minor tweaks to getline() -- remove an unused variable, remove a couple of unnecessary comments, simplify an error path.
1c066ac Clean up input filtering & getline() some more.  Character mode telnet now works for me, but please beat it up and review.
4e2d080 Avoid swap-til-you-drop by cutting off a loop once the client closes.
cf1c256 Just a scratch of a start of an upgrading doc.  It would help if people note any changes here that will affect end-user configuration.
3216599 Clean up the input filtering a lot.  This makes the code a bit easier to follow.  This code works for browser based requests and line-based telnet requests.  It is untested with character-based telnet requests. I will be testing that very soon.
d61830e Change env.html from a specific discussion of special-purpose environment variables to a general discussion of environment variables in Apache.
3c11b99 Cleanup the input filtering a bit.  This does not work with telnet currently, but it is a step in the right direction.  Input filtering should be slowly improving from here on out. Submitted by:	Greg Ames, Ryan Bloom, Jeff Trawick
e5b6b0c CVS goodness...
52b408f   Reflect the ApacheModuleBleck -> mod_bleck rename for Win32.
e512e00 In getline() and ap_get_client_block(), use ap_bucket_destroy() instead of bucket->destroy().  bucket->destroy() wasn't being called correctly and also we were leaking the storage for the bucket itself since bucket->destroy() doesn't free the ap_bucket. Submitted by:	Ryan Bloom, Jeff Trawick
24de5d9   A star is born ... adds mod_dav and mod_dav_fs to the Win32 build/install
c1e7352   Here it is, mod_dav should build quite nicely on Win32 (two last mild   warnings to contend with.)
c4c2596   Read the /D symbol declaration in this patch with the next patch to   mod_dav.c sources, and things should make a world of sense.
eaba82f   Regardless of reaction to a symbol rename -within- the sources, these   external symbols change for clarity.
3f7906e   Parallels the commit to apr.h.in/apr.hw for the apache core library.   Only mod_dav/mod_dav_fs and ap_hooks.h (as best examples) will use these   symbols until it is acceptable to all or the new symbols are backed out.
d68fd09   Get rid of some darned ugly exception lists
446a780   Finish the ApacheModuleBleck -> mod_bleck cleanup
4331fae   Second half of the ugly name to nice name change.  Clean your tree   before you grab this set :-)
7c0e698   MSVC Project Rename - ApacheModuleBleck.* is no longer... now mod_bleck.*
44c44aa   I guess I can commit this, mod_dav and mod_dav_fs aren't depended upon   by InstallBin just yet.
36a96d3   These don't do anything until the patch on the table is resolved, but   it's progress and out of my tree.
39d454d   This much, at least, we don't need to debate.
3d1b0df   Missing some DAV required symbols.
a14d772   Preparing the way.
b010bb5   Yet another warning down (pps... I choose to cast rc since i is being   doubled... I expect the mismatched types were deliberate.)
a5fee66   Away fool precompiled headers... while I'm at it, need to look at why   sdbm is sucking in far more headers than could possibly be useful.
7fd7c33   This one is odd, it's not the patch either of us are concerned with, it's   the logic that they started with.  If problems we never knew about just   go away, don't blame us.
1abfaec   New symbol for HAVE_URL_PATHS reminds me we need to prefix a bunch more   symbols with AP_.
bead96c minor cleanups in http_filter() and ap_get_client_block()
869ecd1 add DAV_RESOURCE_TYPE_PRIVATE. some minor reformatting.
75f2baa echo should not be built by default (maybe this module should be moved to modules/example/)
93dfd4e *) fix GET handling: cache the provider; test through the provider rather    than the handle_get config member (which is now gone)
b3d23df use the APR type
5845a2d   This will have been a good thing if we get that far.
8a0da4d Write all of the request body to the child, not just what the kernel would accept on the first write.
af3351b Back out the change to move the core_output_filters brigade to the conn_rec.  Since all requests on a given connection use the same core_output_filter, the ctx in that filter has the correct lifetime
142f720 rename core_register_filter() to core_insert_filter()
9e5bc08 core_input_filter():   remove old code which looked for LF   return apr_status_t value instead of length
259a47b We need to flush all logs when the child exits.  To do this, we just create a child_init hook, and use it to register a cleanup for child exit. PR:	6550
5e89120 Remove an annoying warning.
cce128b Remove some deprecated functions
89c398a  Fix another bug in the send_the_file() read/write loop. A partial  send by apr_send would cause unsent data in the read buffer to  get clobbered. Complete making send_the_file handle partial  writes to the network.
4b7bc4b Fix some types in the latest tree, so that AIX builds cleanly again. Submitted by:   Victor J. Orlikowski <v.j.orlikowski@gte.net> Reviewed by:    Ryan Bloom
818f941 Initialize nbytes across each iteration and not just after a call to writev_it_all.
2d27a0a Remove stray semicolon from AP_NOBODY_READ and AP_NOBODY_WROTE decls. Remove some out-of-date ap_pass_brigade() doc. Tweak the ap_get_brigade() doc a little.
c184561 Fix bug which would cause offset to be ignored in send_the_file() if there were no headers to send.
3e53334 Handle receiving APR_ENOTIMPL from apr_sendfile. This is mainly to accomodate Windows 95/98 with binaries compiled on Windows NT.  The solution is not specific toWindows though.  Catch up on some CHANGES logging.
ba06ae5 Update some docs httpd.h
9c3497c   Gee, that .zip file of 2.0a7 looks out of sorts
e016730 Port the fix for Remove Handler from 1.3 to 2.0 Submitted by:	Sander van Zoest <sander@covalent.net> Reviewed by:	Ryan Bloom
371ea46 Update the version for 2.0a8-dev
dfb124f Update the Announcement for the 7th alpha.
4baac9c   Ok, if I remember right, somewhere along the way we decided not to   generate a pcre.h header from pcre.in, but Win32 (at this instant)   still generates pcre.h from the pcre.hw source.  For this moment   (T-0001 to tag and roll) this is the reasonable fix.
c63005f   My Bad.  Local environment had leaked into the tree.
d16cd78   Just cleaning house and assuring there is nothing untword in the alpha.
e1d024d No need for the if statement here.
d07a605 Fix the char-at-a-time problem.  To fix this, we just buffer up a line until we have found a LF, then we send the data up to the previous filter. I have test on Linux with both Linux's telnet and Win 98 telnet.  Win98 uses a char-at-a-time, so this should solve the problem.
68115db Clean up the test for \0 in getline. Submitted by:	Will Wrowe
a5f1250   Really out of date, but here's something worth adding.
f63d97f   That's all I wrote... except for the mpm_winnt.c canonical error patch,   my development tree is up-to-date.
5c85623   Missed it, a rather messy canonical error example.
3a68c04   Missed it... another canonical error fix
e92c25e   Kind of hard to load without an exported module structure.
9dcd313   Movin on over from 1.3.13-dev : this patch fixes the problem of nasty   popup windows alerting an Admin that the isapi isn't working, and   simplifies mod_isapi by relying on dso.
18d0b70 Make mod_log_config compile cleanly when using BUFFERED_LOGS PR:	6519 Submitted by:	Mike Abbott <mja@sgi.com> Reviewed by:	Ryan Bloom
a50e06a Fix handling of LF only terminated header lines by not assuming the LF character will be followed by a 0.
7903d2c Add back the ap_disable_nagle call in make_sock.  However, this is a performance enhancement only on platforms where turning off nagle is inherited by accepted sockets.  Because this is not always true, in order to have the disable_nagle call active, the macro DISABLE_NAGLE_INHERITED must be defined. PR:	6531
260f2cb Remove all compiler warnings from the proxy code.  There are no garauntees that this still works, but most of the changes were just const-safeness changes. PR:	6631
27c7ee7 Remove ap_send_fb and ap_send_fb_length.  These functions don't make much sense anymore, because the BUFFs that Apache used to use it for have all been replaced with buckets.  BUFFs can't be used with filters, and Apache doesn't use these functions anywhere anymore, so they need to go away now.
a9e2a36 Update send_the_file to fall back to a read/write loop on platforms without sendfile.  This also makes the apr_hdtr_t type available on all platforms, regardless of whether apr_sendfile is defined or not. Submitted by:	Brian Havard and Ryan Bloom
41fef59 Use autoconf to substitute the proper values into apachectl, and install it when we install everything else.
aa6cec8 sysconfdir should use { and } instead of ( and ), because it is used in apxs Submitted by:	Simon Geard <delgarde@ihug.co.nz> Reviewed by:	Ryan Bloom
360f36a The core filter should not be using its own brigade inside its own ctx structure.  This changes the core_output_filter to use a brigade inside the conn_rec.  Think of this as analagous to the BUFF in the conn_rec. The idea is that if we have pipelined requests, and it isn't worth it to send the last bit of data from the first request, we want to save that extra bit of data to the conn_rec, so that the next request sends it automatically.
99b8129   Addresses the huge issue that Crypt::PasswdMD5 is probably not, and   Digest::SHA1 is possibly not already installed, but the user may not   even need it for their files!  Also inform the user what to grab and   where.  Finally, assures that the old Crypt::PasswdMD5 (that didn't   export apache_md5_crypt()) will work nonetheless.
bf4966e The newest incarnation of http_filter.  This is far from perfect, but it is a step in the right direction.  The idea is that the http_filter knows about the http protocol.  So, it uses that knowledge to discover HTTP request headers, and sends those headers up to getline.  However, it keeps the request body saved in it's ctx pointer.
6aa34d3 clean up the provider stuff some more: don't allow pick-and-choose of pieces, but just a complete provider. they aren't really separable anyways.
1416c49 forward-port John Vasta's checkin to mod_dav 1.1.x (on Sep 25, 2000). this begins some work to upgrade the versioning support to some of the more recent drafts.
3933b6d This is ugly, but at least we compile again on platforms that lack sendfile(). PR: Obtained from: Submitted by: Reviewed by:
b15f501   Roll forward fixes identified for 1.3.13-dev.
fdd0427   A 'little' reminder about a 'little' problem.
b8a5407 recent changes bungled the state of the EEXIST test.
1eeb399   Back out or finish up a few non-apr tests.  Won't touch proxy at this   moment with a 10 foot pole.  fs_dav is ok... the others need apr'ization
7775df3   Completed review for new tests:     APR_STATUS_IS_EACCES(s)     APR_STATUS_IS_EEXIST(s)     APR_STATUS_IS_ENAMETOOLONG(s)     APR_STATUS_IS_ENOENT(s)
cbd58ab   Here it is, the Win32 part of the big canonical errors patch.
283760d Fix a potential memory overrun error in ap_get_client_block.  The problem is that the bucket code does not respect the length passed into it.  This is correct for buckets, but it means that when we get data out of the buckets, we may have to split the bucket to make sure that any copy operations are safe.  We were originally doing the split at the number of characters read from the bucket, but we really want to do it at the length of the buffer.
394b6fe more uuid tidbits
2e94a85 *) convert fs/lock.c to use APR UUIDs for the opaque locktokens. *) blow away opaquelock.c and dav_opaquelock.h since direct use of APR UUIDs    is quite easy. *) toss the uuid_state from the per-server config in mod_dav.c
bb8525b Add the first draft of the http_filter.  In time this filter will split the bucket brigade between the headers and the body.  Right now it just converts \r\n to \n\0.
d58e23d Be a little more explicit about the consequences of ErrorDocument xxx http://....
1999084 Modify ap_get_client_block to use the bucket brigades instead of BUFF. I'm pretty sure this isn't complete, but it has worked in my tests with a very simple CGI.
6ebf77b Port over the config directory stuff...
17c0e04 Back out some more of build changes from last night so that Apache builds on FreeBSD 3.4 again.
d16b589 Install APXS if it is built.
01f4c4f   The lots of little ones... APR_IS_STATUS_condition(rv) conditional macros   replacing the majority of fallible rv == APR_condition tests.  But there   are lots more to fix, these are the obvious ones that already did proper   canonical error conversion.
73369a1 Back out the build changes I added last night.  This was causing libtool commands to be sent to gcc.  It worked on some platforms, but not all of them.
b7d7652 Add a bit of infrastructure which will be needed for input filtering:
27808c6 Disable the buffer_filter because it may be masking bugs in the bucket brigade code.
a9a0b56 Now that we have ap_add_input_filter(), rename ap_add_filter() to ap_add_output_filter().
bf7aaeb Get rid of much of the old implementation of translating the charset of response bodies.
8d4c541 Multiple build and configuration fixes
ad880b3 Prepare our autoconf setup for autoconf 2.14a and for cross-compiling PR:	6379 Submitted by:	"R�diger" Kuhlmann <Tadu@gmx.de> Reviewed by:	Ryan Bloom
327d811 Fix a bug where a client which only sends \n to delimit header lines (netcat) gets a strange looking HTTP_NOT_IMPLEMENTED message.
bee0cc4 If mod_so is compiled into the server, we need to create libexec, even if there are no shared modules compiled.  This is in keeping with what we did with Apache 1.3, and it allows APXS to work, even if there were no shared modules installed initially.
bbdb190 Update the call to ap_add_filter() to include the new conn_rec parameter.
9fd5df3 The new request_rec set up for redirects needs to pick up the output filter chain from the conn_rec.  Any required request filters will be inserted later.
8b56ba8 Connection oriented filters are now stored in the conn_rec instead of the request_rec.  This means that a conn_rec must be supplied when calling ap_add_filter.  The reason for this change is that we need to be able to add the core_filter (whether or SSL or not) before we try to read the request.  This way, if a request fails, we can actually send the error page back to the client.  With this change, we add the core filter to the conn_rec during the pre-connection phase. Submitted by:	Ryan Bloom, Jeff Trawick, and Greg Ames
73be8aa In core_output_filter(), reset nbytes to zero after calling writev_it_all() in case we have another brigade to process. Otherwise, nbytes is bogus for the second brigade and writev_it_all() doesn't know when to quit (it loops).
a98b5c5 Use a handler rather than a magic mime type in mod_asis.
f1a7b0d Take another shot at reimplementing core_output_filter. This implementation buffers brigades across multiple calls until MAX_IOVEC_TO_WRITE or MIN_SIZE_TO_WRITE thresholds are hit. This implementation does not attempt to coalesce bytes. Moving a bit further down the filter learning curve...
baa50d0 Back out a patch that should never have been committed
006d343 Fix a small typo that was keeping us from copying os-inline.c to the include directory
eed0345 Clean up md5 digest support in default_handler() a bit: 1) don't compute md5 if we have a content filter; it is almost always wrong 2) add note about adding md5 filter in the future; this can be done 3) delete some APACHE_XLATE/CHARSET_EBCDIC baggage associated with md5    digest support; part of this deleted baggage is a segfault on    subrequests referencing r->rrx (which is not allocated for subrequests)
94e6f97 Fix spelling mistake.
7c7a6ff   Hey... didn't know these were hanging around.  Time to file and forget.
3d4873b Change ap_send_fd() so that it returns a proper apr_status_t value instead of the number of bytes sent.
d0c344b Change core_input_filter() so that it returns an empty brigade upon FIN/EOF or error.  This meshes with what getline() looks for.  It isn't perfect, but it avoids some nasty loops consuming all available storage on http/1.1 connections.  In keepalive state, we call getline to read the next request...  getline() calls core_input_filter() (indirectly)... core_input_filter() calls apr_recv() which returns APR_SUCCESS/0 bytes to signal FIN/EOF.  But core_input_filter() returned a bucket with length zero to getline(), so getline() called core_input_filter() again.
25fb26a Fix some bad calls to ap_log_error(); some of these neglected to turn on APLOG_NOERRNO even though no syscall failure was being reported; others passed errno instead of the APR retcode.
07cb423 The previous commit pointed out an unfortunate problem with the ap_os_case_canonical_filename() interface: It returns const char * on platforms where no mapping is ever performed but char * on platforms where mapping can occur.  Such a discrepancy seems to be a good choice, as no platform is penalized with extra pathlength.
ceedcbd   Definately need a canonical name, so comparison succeeds at run time.
86878ef   Fix a few colliding modules
134a70e   Ok... I've been waiting to find out what happens when we commit to two   trees at once.  To that end, this is the caching and rather stable 2.0   mod_isapi, with the docs brought over from 1.3 and freshened a bit.
3d31ec8 Replace ap_get_data_from_filter and ap_save_data_to_filter with ap_save_brigade.  This function does not try to save the actual brigade to a specific location.  If just traverses the brigade, calls setaside if it is available and concatenates it with a previously setaside brigade.
532f7b3   Whoops... that there was a handle I left hanging (and growing).
274ac10   Downgrade warnings, stop changing errors from something meaningless to   something unrelated, and solve a bug in arg passing.
b1c5fb8   Choices.  Choose -X, -DONE_PROCESS or set ONE_PROCESS=token for the   diagnostic behavior.
796d2a4   _not_ up to 100%, but some structural changes to make the rest easier.
c34b70d Fix two problems. First we are setting aside the wrong bucket brigade. Second, we need to check that a setaside routine is defined for the bucket before attempting to call it.  Not sure at all if we even want to keep this routine as it does not allow using filter->ctx for other purposes.
ba047ef Move where the CORE_IN filter is added to the server.  We used to do this in ap_new_connection, but that is bogus, because then other modules can't put their own filter in.  Now, we do this in a new pre-connection hook function.  Later, we will want to add some checking to make sure that this is really an HTTP request that we are adding the filter for.
e16363a   Cleaned out empty symbols... preparing for some real order, al la   FirstBill's efforts on aprlib.def
11285b9 Clean up some const-ness warnings in getsfunc_STRING().
0a4019f   Just Typos.
e7cb8a6   Forward port 1.3 overhaul of isapi to 2.0.
7ae2f29 Implement input filtering.  This is definately not completely correct, but it is a good first step.  It is possible to add filters when reading from the client with this change.
e99b0df Fix the default logformat and CLF description. PR: 6556 Submitted by:	Mike Abbott <mja@sgi.com> Reviewed by:	Joshua Slive
e00f6c0 Fix link to RemoveHandler in the directives list.
6029357 Deprecate "Order Mutual-failure".
bddddae First cut at a filter to buffer/coalesce multiple small buckets into a single large bucket. This implementation is limited to coalescing a single string of small (< MIN_BUCKET_SIZE) buckets into one large bucket.  If a brigade contains a string of small buckets followed by a large bucket followed by another string of small buckets, only the first string will be coalesced.
3d7f9d7 Remove compatibility info from index.
22f4f44 Fix the lifetime of the autodata buffer used for the chunk header. Submitted by:	Bill Stoddard Reviewed by:	Jeff Trawick
f57744e Last of the module style changes (I hope).
2582da8 Style updates.
c0a46ef Style update.
5299474 A couple more tutorials.
02faee3 Style changes.
4381880 Style update.
d525472 Create a helper function "get_canned_error_string" for use by ap_send_error_response.  The new function simply returns the error response string corresponding to given HTTP error core.  This makes it easier to change the mechanism for sending these strings, because we no longer have r[v]puts calls spread throughout the error string generation code.
c5afef0 Debug messages in mod_charset_lite are now controlled by CharsetOptions DebugLevel=n instead of CharsetDebug on/off.  Use the debug level to decide which debug messages to issue (if any).  Use ap_log_rerror() instead of ap_log_error() when appropriate. Describe CharsetOptions in the doc.
563acd5 Style fixes.  I've stopped removing 1.3 references. This will need to be done later.
5b11c10 Sanity-check the use of multiple instances of XLATEOUT in a filter chain.  If the translation performed by an instance being run for the first time clashes with an instance already in place, disable the new instance.
624792a Set BSD_MAKEFILE in configure.in. The macro APACHE_GEN_MAKEFILES is executed in the context of config.status with variable substitution already performed, so the check in the macro itself did not work.
1008581 Redirect stderr to /dev/null to suppress error messages.
9b07279 Style updates.
d9b6839 Style updates.
52184d6   Cleaner feature tests and new -d -m -s -p options for crypt, MD5, SHA1   and plaintext password cyphers.  Not certain what the $^O tag for   NETWARE really is, so this may need to be fixed.
f41b93b Update mod_actions.
3a1e7ab Fix compile break. It should be apr_pstrcat.
f2b58b3 mod_charset_lite no longer ignores subrequests.  (Some logic in mod_charset_lite to avoid problems with subrequests is forthcoming.)
5e822a1   Return a decent message, in keeping with conf parsing semantics.
ec6cfbd Clean up a few warnings in core_filter().
aa564c0 We don't have config.guess until later in the build cycle, so change the test to use uname.  with this change a clean CVS copy will build using ./buildconf;./configure;make exactly like it should.
b98f31a The new core post_read_request hook needs to return something (DECLINED).  This allows Apache to serve pages again (other than the 500 Internal Server Error page, that is).
3761b0a Conversion of mod_access.html to new format.  Note that this includes removal of all the "introduced in 1.x.x" stuff.
d1a8073 Combine the calls to add the core_filter to one place.  Basically, it is safe to add the core_filter during the post_read_request, and it means that we only have to add the filter once in the code.  This should make it easier to add an SSL module in the future.
137b900 Workaround for systems like BSD/OS without mktemp.
364208a Pedant of bsd_makefile. Reverses the include directives to SysV-style.
8c5ede4 Don't use $0 for creating tmpfile as it will contain "/".
11149ed Fix a security problem that affects certain configurations of mod_rewrite. If the result of a RewriteRule is a filename that contains expansion specifiers, especially regexp backreferences $0..$9 and %0..%9, then it may be possible for an attacker to access any file on the web server. The fix replaces a multi-pass string expander with a one-pass expander, and includes the code quality improvements that were committed separately to 1.3.
35b3a96 Make the core_filter use apr_sendv and apr_sendfile as appropriate. This is still a bit crufty but it is an improvement over the previous implementation.
61fa3a7 Description of terms used to describe modules in the new (not yet implemented) format.
7cb5b58 Add Convert-to-BSD-Makefiles-On-The-Fly system
276a2b2 mod_include now tweaks the subrequest output filter chain so that only *subsequent* filters from the original request are inherited. Previously, *all* filters from the original request were inherited.
c6dc6d8 Provide a socklen_t to the user of APR as a portability aid.  Some systems have unsigned sockaddr len parameters; others have signed. When passing the length by address (as to accept()) a warning is generated if the sign is not correct.
964740f Fix error in setting bytes_sent. Need more time to think about the other problem noted in this commit. Thanks Jeff!
cf3d455 Syntax docs.  (Yes, I am essentially just documenting the shell syntax.  Oh well.)
0ddc51e Get the call to find_string() out of a loop.  find_string() loops across the buckets internally.  This gets rid of a compile warning but doesn't change the behavior. Inspired by: "Victor J. Orlikowski" <v.j.orlikowski@gte.net>
9115d63 First cut at a file bucket. Modify the core_filter to handle use of apr_sendfile(). Modify ap_send_fd() to use the new file bucket.
0147cfc Fix the prior fix to the usage of ap_brigade_split()...  The caller of send_parsed_content() needs to see the new brigade representing the rest of the content.
fcd7b34      Overhaul of dbmmanage to allow a groups arg (as in Apache 1.2)      as well as a comment arg to the add, adduser and update cmds.      update allows the user to clear or preserve pw/groups/comment.      Fixed a bug in dbmmanage that prevented the check option from      parsing a password followed by :group... text.  Corrected the      seed calcualation for Win32 systems, and added -lsdbm support.      PR: 3810, 5527
6fa42d5 Fix mixup in call to ap_brigade_split().
21d948e Avoid a segfault when parsing .htaccess files.  An uninitialized tree pointer was passed to ap_build_config().
7ae73c8   Correct dbmmanage pwfile check behavior to ignore [:grp...] contents.   Also add SDBM_File for -lsdbm.
942c71b   Never carried forward from 1.3.13
5b0d34c   could be bad - no dav here yet
5328517 Fix parameter list to ap_pcfg_openfile().
e986dbe   Transposed return values between conditions, oops.
0e60f79   Get mod_auth_dbm building using Apache's sdbmlib under WinNT.
eef73d8 Get internal redirects working by initializing the output_filters list.  We start over with only core_filter just like a fresh request. Processing of the new URI will determine what filters (if any) are appropriate.
f8453ca Fix filter registration so that the appropriate list of registrations is actually modified.  This allows Apache to server pages again.  (Before this, every ap_add_filter() silently failed and so output content went to the bit bucket.)
35bb070 Get rid of unused variable.
c0f7a5b Fix a bug where errors that happen during early request parsing (like 400 HTTP_BAD_REQUEST) don't send any error message content to the browser. The core_filter wasn't present this early in request parsing, so the output went into the bit bucket via r[v]puts->ap_pass_brigade.
faa7487 Cleanup the brigade split in mod_include.  It turns out that we have had a brigade split function for quite some time.
96c98ff tart getting things setup for input filtering.  All this basically does is add part of the infrastructure.  Namely:
ebc7064 Change the registered filter name to XLATEOUT (from XLATE).
b528a5f Fix the calling convention on Windows for ap_bucket_printf() and ap_method_list_do().
cc30150 Fix some problems with the recent port of RemoveEncoding and RemoveType to 2.0.  (--with-maintainer-mode works wonders!)
9b97d6d PR: 6451
29e68ae Change r->filters to r->output_filters.  This sets things up for us to put input filters into Apache.
705f38e Add some more .cvsignore files for BeOS and add a CHANGES entry.
c65ff24 If a bucket is split at the first or last character, then we should get a zero length bucket and a bucket containing the original text.  Later filters will either throw away the zero length bucket, or they will just ignore it.  The problem is that if we return an error in those conditions, then all filters need special logic whenever they are going to split a bucket.  By always splitting, only a few selected buckets need the special logic to deal with zero-length buckets.  This also fixes mod_include to not have the special logic around it's split call.
dc62a5e Port the RemoveEncodings/RemoveTypes code from 1.3 to 2.0.  This includes the bug fix that was recently committed to the 2.0 tree.
a0b638e Handle a tag that appears at the start of a bucket.
9f0a23d PR: 4976 Obtained from: Claus "F�rber" <claus@faerber.muc.de>
9f61992 PR: 5040
a855884 PR: 5289
2e269fe PR: 5596
08b904e PR: 5961
2a2e344 Fix a bug parsing configuration file containers.  With a sequence like this in the config file
6f6e4b5 Get rid of some unused variables introduced in recent method work.
cc23cc0 Fix the types of the variables passed as the len parm to bucket->read() (in various places). In ab, change the declaration of argv so that it can be passed into apr_initopt() without warning. Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net> Reviewed and modified slightly by:	Jeff Trawick
48cccb8 In find_string(), handle eos and end-of-pipe conditions.
fc05e52 Change AddFilter name to AddOutputFilter
3df886e eos_bucket->read() no longer returns AP_END_OF_BRIGADE, so check for eos in a different manner.
dad154a put ctx back in ap_add_filter()
154bfaf Improve the way the chunking filter handles zero-length buckets, and fix the comment explaining how to reduce the incidence of tiny chunks. Submitted by:	Jeff Trawick Reviewed by:	Tony Finch
b0cfe2c Add a pointer to the filter_rec_t from the filter_t.  This allows modules to get to the filter name from the filter itself.  This is useful for modules like mod_perl, which have one filter function that does different things based on the name used when the filter was inserted.
9c295f8 Add the AddFilter directive.  This directive takes a list of filter names that have been previously registered with the server.  Currently the directive is only valid inside the config file, but once the Options directive is tweaked a bit, I would feel more comfortable exposing this directive to htaccess files.
651d8d2 Fix another seg fault with allow_methods and sub requests
737e7b2 Fix a seg fault with sub requests.  We must allocate space for the sub-requests allowed_methods array before we try to copy into it.
7baf3bb Fix a stupid typo.  I wanted to register the filter, but I didn't want to add it.  I accidentally deleted the wrong line before I committed last night.
a44d1c0 Encourage people to use the simpler NameVirtualHost * syntax for new setups and use a syntactically valid hostname in the example.
4363b68 First pass at mod_include as a filter.  This is at an incredibly alpha stage, but it should compile for everybody now.  I have experienced a few seg faults that I haven't been able to track down yet, but it should compile on all platforms, which is better than before this patch.
5d50a3e 	Start introducing the extension-method elements so we're not 	bound to hard-coded names and a bitmask.  We still use the 	bitmask for known methods, but we also have an array for 	extension method named.  Wherever we used the M_* constants 	we need to use a routine that knows about the new structure instead.
023fadd 	Do a bunch of style-guide fixups (like wrapping Boolean tests 	correctly and enblocking singel-statement if()s).
32bcfc4 This commit adds support for purely name-based virtual hosting that does not require any IP addresses in httpd.conf and which disregards the local IP address of any connections. This will be particularly appreciated by people running little servers on machines with dynamically configured IP addresses, and by people wishing to use identical httpd.conf files on all the machines in a load-balanced cluster.
17e0e03 New doc describing configuration process.
97318f9 allow->Allow, deny->Deny, order->Order and require->Require. All directives are now consistently capitalized. PR: Obtained from: Submitted by:	Rich Bowen <rbowen@rcbowen.com> Reviewed by:
1cf8754 Explictly close the AF_UNIX socket to the cgid child after nph cgis too. (Yeah, it got closed during pool cleanup, but it is more understandable if it is closed the same way for nph and !nph cgis.)
9acfd7d Ensure that only one EOS bucket is sent down the filter stack.  This is done by adding a flag to the request_rec.  When ap_pass_bucket sees an EOS bucket, the flag is set.  If the flag is still unset when ap_finalize_request is called, then ap_finalize_request sends an EOS.  This fixes the problem with chunking and CGI.
902d1cc The apr_file_t representation of the Unix socket from which we read the CGI output should live in the request pool, not in pcgi.  pcgi (in the httpd processes, at least) isn't cleaned up until we restart httpd.
0778992 Get mod_isapi.c to compile with the level of Win32 headers which ship with VC++ 5.0.
001db8a Tutorials.  These are, of course, all for 1.3, but it is better than nothing.
2d9c1ec Modify mod_cgid to use bucket brigades.  This means that mod_cgid behaves like mod_cgi, creating a single element bucket brigade that is passed to the next filter.  This is instead of making mod_cgid read from the socket, and call ap_r* repeatedly.
b7af164 Don't do non-idempotent things in macro arguments.
2e15f37 Use XXX for comments describing inadequacies in the code, as in the rest of Apache.
d6c84c7 The "get resource" functionality is no longer a hook. Instead, providers register themselves by name with mod_dav. The user configures a particular provider for a location/directory. mod_dav looks up that provider and uses it explicitly. (the prior behavior simply asked "anybody" to satisfy the get_resource, but it did not mesh well with user-specified providers)
9a919e0 the DAV directive now takes the name of a repository provider
5a6282f pass_chunk() was tossing a brigade composed of just the EOS bucket. on     entry, it saw there were zero bytes and simply returned. the client     would never receive "end of response" and timeout (or the server would     timeout the client).
86aab2e Update mod_charset_lite to use the new ring-based macros for manipulating the brigade.
41890cd PR: 6139 Submitted by:	 ken@nsds.com Reviewed by:	Joshua Slive  "TestCond" should read "TestString" in documentation for mod_rewrite
0c4da4d PR: 6419 Submitted by:	chris@chrullrich.de Reviewed by:	Joshua Slive Missing Override.
ed488c4 PR: 6470,6450,6218,6216,6478 Submitted by:	pepper@reppep.com Reviewed by:	Joshua Slive Grammar fixes from the bug database.
7c90cf4 BeOS doesn't have an os-inline.c file so don't try to install it!
e87c135 publish the mod_dav.h header for DAV backend providers to use
805c4a9 update the WebDAV versioning support: - recognize and dispatch the latest set of DeltaV methods - refine the CHECKOUT provider hook - add avail_reports provider hook - fix the "target" resolution mechanism
7ac6ab9 Use wrapper macros to avoid the verbosity of the AP_RING macros when doing things with bucket brigades.
7f4afed Fix inserting elements at the head and tail of a ring when the ring is empty. Avoiding referring to the element type in the macros resulted in some double dereferences that did the wrong thing. Reported by:	Jeff Trawick
84c84cb PR: Obtained from: Submitted by: Reviewed by: Small fix to modules index.
3550f88 PR: Obtained from: Submitted by: Reviewed by:
f56ccf5 Fix a compile break in mod_mime_magic.c.  In early 2.0 versions, we would get a pipe back from create_child, and stuff that into a buff to read from it.  This made sense in 1.3, because we got a buff back from the create_process call.  In 2.0, we are getting a pipe, so this doesn't make sense.  This patch just uses the pipe that is returned to us to read the information we want. Submitted by:   John K. Sterling <sterling@covalent.net> Reviewed by:    Ryan Bloom
7b90751 Change prefork to use the same listen api as the rest of the unix mpms (ap_setup_listeners).  This eliminates the need to force a recompile of listen.c when you switch to/from using prefork.
6d7be19 Reduce the manualarity of managing bucket brigade lists by using the new AP_RING macros. Most of this commit is fairly pedestrian as you would expect, but I had to redo the chunking filter because of the amount of pointer juggling it did. I have done some minimal testing of this patch and it seems to work.
3b64d1d Fix merging of AddDefaultCharset directive. PR:		5872 (reported against 1.3) Submitted by:	Jun Kuriyama <kuriyama@imgsrc.co.jp> Reviewed by:	Jeff Trawick
9042b81 Fix the ScanDoc output on IE.  I don't have IE, so I can't test this, but it looks correct, and this problem has been submitted to me multiple times PR: 6501 Submitted by:	 Shuichi Kitaguchi <ki@hh.iij4u.or.jp> Reviewed by:	Ryan Bloom
da4da4e Note release date of 2.0a6. Submitted by:	Jun Kuriyama <kuriyama@imgsrc.co.jp>
d51b1a4 Fix default Timeout & KeepaliveTimeout. Still need to limit directive values to prevent integer microsecond overflow.
db2b158 Update export file for AIX with recent symbol changes. Submitted by:	Victor J. Orlikowski
079af32 fix a few bugs and improve error handling:
a1d3d62 reversing the latest commit; it was vetoed a while back.
eab77d6 Modify the way filters are added to the server.  Instead of using a FIFO, we use a modified LIFO.  It is modified, because if we add a filter while in the middle of another filter, the added filter gets put in after the current filter.  This requires that the server is smart about which filters are added when.  This should be handled by the HTTP protocol, but we will want to keep and eye on things for a little while.
f357cee Filters (and thus ap_pass_brigade()) now return an apr_status_t as their return value.
d94ed13 Stop using strlen() for the size of an array.  It isn't valid C (though gcc was happy with it).
65feb70 If the src/apachecore.dll and src/apachecore.x files exist, copy them to the install bin directory during "make install".  Used for OS/390 dso builds.
933a5d5 Update chunk_filter to handle buckets with unknown length (e.g., pipes). As soon as we hit such a bucket, we'll read from it then pass everything we have so far on to the next filter.  At that point we'll start over.
10ed6f6 	Adding the Taiwan translation bits.
5b3c8b1 Call ap_pass_brigade() *before* soaking up stderr.  The normal CGI is going to write a bunch of stuff to stdout and nothing to stderr. Reading stderr before processing the stdout pipe can cause deadlock if the CGI fills the kernel buffer for stdout because the CGI will stall writing to stdout while the httpd process will stall reading from the CGI's stderr.
096b214 Remove a needless cast.
d9ce6e3 Make CGI's use bucket brigades.  This will only work with mod_cgi for the time being.  The changes should apply equally to mod_cgid, but I haven't had a chance to really try it yet.  This is definately sub-optimal as far as performance is concerned.  The concepts are there, and the flags are available for performance tuning, but I didn't want to really get too enmeshed in it today.
9747c3b   Keep this note for 2.0 developers, as well.  Needs additional comments   to follow, after the Bills haggle out the final config registry details.
1a109d6 It's dark.
591ec8d Add ap_buckets_pipe.c and remove iol_socket and iol_file
5e1e8eb We need to test specifically for setrlimit/getrlimit instead of just the structure or the RLIMIT_* defines. Also, we should make the API function unixd_set_rlimit() ``available'' even if it doesn't do anything. PR: Obtained from: Submitted by: Reviewed by:
58958c7 Always delete generated_lists. This should cure problems with makes which don't handle the .PHONY target correctly.
3441731 Try to organize the MPM pre-selection to the hints.m4 file.
fa2fa44 Fix a small typo and an incorrect type. Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net> Reviewed by:	Ryan Bloom
15d12a5 Use the AP_INIT_() command_rec initialization macros and fix up the signature of command handlers to avoid maintainer mode warnings.
ae7cca1b Remove IOLs from Apache.  They are no longer necessary, now that we have filtering beginning to work.  There is a hack that has been repeated through this patch, we morph a pipe into a socket, and put the socket into the BUFF.  Everytime we do that, we are working with a pipe from a CGI, and we should be creating a pipe bucket and passing that bucket back.  Because we don't actually have pipe buckets yet, we are using this hack.  When we get pipe buckets, this will be fixed.
87f6dea Fix charset translation breakage on EBCDIC machines...  the core turned on buff's translation by default, but mod_charset_lite (when configured to do so) turned on its own filter-based translation, resulting in gibberish.
36de783 Fixed...
7ed1412 APRize disabling nagle (setting TCP_NODELAY). Note that several areas have not been tested as they apply to MPMs or APR code that I can't test.
4c0400f Finish fixing the pcre build.  PCRE's configure script should be called, and we can't clean config.h and then touch the file, we actually need some of the data that config.h contains.
e190811 Backport the Makefile to the previous version.  PCRE wasn't building without this change.
68b4618 Win32: function pointers use C calling convention unless explicitly set to use stdcall. The 'split' function pointer in ap_buckets.h points to both static functions (which use C calling convention) and exported functions (which normally use stdcall). Let's settle on using the C calling convention.
c0c75b8 Add a couple of new bucket functions to the Win32 project file.
3ed8a56 Win32: Reset the acceptex context on a GetQueuedCompletionStatus() failure. We were losing contexts before this fix, and if we lost enough, the server would stop responding.
0c9aab8 	Expand a little on the description, while testing enhancements to 	the log_accum.pl CVSROOT script.
b683419 	Another minor cosmetic fix, committed from the httpd-docs-2.0/apidoc 	tree.
e7ebf29 	Cosmetic fix, committed from the apache-2.0 tree (this will also 	test the CVS module association).
74dd3dd Fix some bad calls to ap_log_rerror() in mod_rewrite.  In some places, errno was passed as the APR error code.  In other places, 0 was passed.
8095e3b 	Fix a typo.
ff9a120 Update mod_charset_lite for recent changes to ap_bucket_create functions.
18bba12 Win32: Don't count the AcceptEx context when reset_acceptex_context() fails.
896b95f Use context data, initialized prior to insertion of the filter, to indicate which translation handle to use.  This will allow the same filter to work for input and output.
dafd6d0 Upgrade PCRE to version 3.2 PR: Obtained from: Submitted by: Reviewed by:
ce501e5 We have a list of all of the suspended PRs in the STATUS file, so mentioning that we need to review them seems like overkill.
9ae62f4 Add a note about sub-requests and filters.
e577544 Add generic support for reference-counting the resources used by buckets, and alter the HEAP and MMAP buckets to use it. Change the way buckets are initialised to support changing the type of buckets in place, and use it when setting aside TRANSIENT buckets. Change the implementation of TRANSIENT buckets so that it can be mostly shared with IMMORTAL buckets, which are now implemented.
a0ee328 the ExtendedStatus directive is also dead
5766b45 Remove the obsolete ResourceConfig and AccessConfig directives
73074dd fix up the </LimitExcept> missing from the previous commit
b4c1179 Use LimitExcept in the commented-out example for the UserDir stuff rather than a list of supposedly all of the other HTTP methods,
15c4d63 Remove extra tabs from Makefiles Submitted by:	David Hill <ddhill@zk3.dec.com>
55179b5 Remove whitespace from blank lines in rules.mk.  This fixes Irix 6.5 PR:	6357 Submitted by:	Mike Abbott <mja@sgi.com> Reviewed by:	Ryan Bloom
dfee69c Fix type of bytes_sent parm passed to ap_bucket_mmap_create().
300c442 Convert mod_charset_lite to use a filter for character set translation (used only on output at the moment).
9d13a8f Advance all the numbers in the CHANGES and httpd.h file to reflect that we are now working on a7.
b2cdd87 Update the Announcement for the 6th alpha
04edbc9 Update httpd.h for the release of a6.
c34e5c7 Tweak apache/apr builds to support dsos on OS/390.
ec51d14 proxy_cache.c was still in the ApacheModuleProxy project, although that modules is deprecated.  Remove it from the project. Submitted by:	Bill Rowe <wrowe@apache.org>
6545ce8 Fix chunking.  Two bugs fixed.
312b07f Add entry about win32 socket timeouts...
fc0718f Mod_echo was using raw args instead of a flag to enable and disable itself.  I believe this is what was causing the module to not be able to be enabled and disabled on a per-server basis.  This patch makes it use a flag
209770a temp fix for filter ordering: +1 on the core filter's type. bug fix in chunk_filter(): it was creating the wrong-size bucket.
04bf273 this shouldn't have gone in yet. there is still pending discussion.
032972c A first pass at the chunking filter.  This is incredibly simple.  As bucket brigades are sent to this filter, it inserts the chunking header at the front of the brigade.  When the filter sees an EOS bucket, it adds the 0 chunking trailer.
fbcf521 Make ap_add_filter use a LIFO stack instead of a FIFO queue to add filters to the filter stack.  This makes the chunking filter work.  Without this, the core_filter is installed in the insert_filters hook, when we get to the ap_send_http_headers function, we insert the chunking filter, but it has been installed after the core_filter.  This means the chunk_filter is never called.
8c30c02 prevent zero-length-content brigades from entering the filter chain
b401e40 some notes about filter fixes
1e260bd fix timing of the EOS bucket delivery fix ap_rputc() note some problems with subrequest finalization and ap_rflush()
19fcd34 Ryan's recent, suggested patch in this area pointed out that we were     missing the needed comparison on the request. this allows subrequests to     insert filters properly (by stopping the scan before transitioning to     the parent request's filters)
d954f48 fix the insertion of the CORE filter. it should be happen last.
277e45d Nuke ap_make_dirstr from the Windows exports file.
1045a24 We are a LONG way from having stable code...
bb4706d Let ap_send_fd handle the error logging to eliminate duplicate error log entries.
00e5a65 Remove the sendfile_handler (was #if 0'ed out) that does the buffer hi-jack trick in order to send the headers out on the sendfile call. Besides, BUFF is going away with brigades and filters...
0ea4f1f finish cleaning up after a change i made over 3 years ago.
f6b5b33 Win32: Add bucket brigades and util_filter to the project file.
d1e02d1 a filter's context is to be used however the filter likes. it is a void*,     not necessarily a bucket brigade.
2c74169 Fix some typos in the comments.
f06c15c Win32: Enable lingering close.
fd1c44b 	Make compilable on Windows again.  I'm not sure the x = { [1] = 1 } 	syntax is even ANSI C, but it originally compiled for me.  Oh, well. 	I'd rather have this statically built at compile time, but I don't 	want to add the dependencies on the method order and its being 	a contiguous sequence.
af4a85e When ap_register_filter() registers a cleanup function, specify apr_null_cleanup() instead of NULL to indicate that no child cleanup is desired.  (With NULL, we branch to zero.)
9ca6d01 Fix a minor bug in the default template file.  The template used to not escape the spaces in file names.  It does now.  This also adds the default template for Apache to use.
b0f3a1d Remove a bunch of warnings from the server when compiled using --with-maintainer-mode
57dbb4f Add a make directive for making the documentation
f841e97 Fix a small typo
3efdd08 Document http_request.h using ScanDoc.
ee321d8 Finish commenting httpd.h using Scandoc.
712101b More tidy up for mpmt_beos mpm.
e87289d Missed this first time and forgot about it until now...
b036ef2 Cleanup the buckets a bit, and add ScanDoc comments.  The cleanup was basically removing functions that aren't really necessary anymore.
ffbfb21 Add an error condition to the filter code.  Basically, if somehow we get to the very bottom of the filter stack and nobody has written anything to the network, then we need to return an error.
46645e4 document util_filter.h using Scandoc
5d12c06 Remove some suspended PR's that have been closed in the PR DB.
35d4c4a Initial Filtering code.  This uses a bucket brigade scheme to allow modules to add and modify data while processing a request.  The docs still need to be updated, and a simple html page needs to be created explaining all of this.
ca817f4 Change the rewrite log lock from intra-process to lock-all (and we really can log it if it fails).
ce7baf6 	Allow <Limit*> to accept arbitrary extension method named instead 	of varfing.  Nothing takes advantage of this yet; that's coming 	next.  Also replace the shorthand Allow setup to use the new 	API (this is possibly a problematical change for the core default 	handler; no problem to back that out).
1d9541f 	Add mnemonics for the ap_allow_methods() reset flag meanings.
9c56ea4 	Note the connexion between the method number list and the 	ap_method_name_of() routine.  (This should have been included 	as part of that commit but wasn't, alas.)
001a3da 	More prototypical API support for arbitrary extension HTTP methods.
db1852b 	Preset the cmd_parms->limited field to the magic 'no limit active' 	value, and add some prototype API routines for expanding support 	for arbitrary extension HTTP methods.
1851f29 Export util_xml.c functions. Add dependency on xml libraries to apache.dsw.
f379bdd Get rid of an ancient comment (which was updated for the CHARSET_EBCDIC ->APACHE_XLATE change.  Once I figured out what "32/9" meant (doh!) it was pretty clear that the comment is no longer applicable.
6298906 	Don't skip any remaining methods just because one was already 	noted.
6f7162d 	Fix another oversight: don't add an extension method to the Allow 	list if it's already there.
c684a6b 	Add recognition of the --with-port=n (as was added to 1.3), and 	raise an error if --enable-layout is specified but we can't 	find the definition file.
5bc475f 	Whoops, head off a potential segfault.  The array is only 	created at need, so check for its existence before trying 	to peek into it.
b8e0434 Tweak apr_getopt() and its use in ab to avoid compiler warnings. (Note: apr_initopt() and/or its callers still need tweaking.) Submitted by:	Bill Rowe Reviewed by:	Jeff Trawick
df5ed41 Change use of ap_pstrcat() to apr_pstrcat() in previous commit so that Apache builds again.
702dd42 	Add support for arbitrary extension methods for the Allow 	response header field, and an API routine for modifying the 	allowed list in a unified manner for both known and extension 	methods.
a5121d5 Fix comment delimiters so that Apache builds again.
b7cbde0 We've already released a5
1da7450 Begin to document httpd.h with ScanDoc
2b13823 mod_cern_meta: fix broken file reading loop in scan_meta_file(). We checked the retcode from apr_fgets() improperly. Submitted by:	Rob Simonson <simo@us.ibm.com> Reviewed by:	Jeff Trawick
8776c94 Update exports file for AIX.
a270d78   Fix ApacheBench for the apr_initopt/apr_getopt change.  This illustrates   abusing the apr_getopt_t for direct access at the working structure, just   as we did with the global vars.  By my global search, there should be no   more apr_opt*** symbols out there.
9e74a86   Adjust the WinNT MPM/SCM code for apr_initopt/apr_getopt; mostly just a   bunch of constness changes.
6734be0   Provide the first real-world update for the new apr_initopt/apr_getopt   changes.
35b38e8   Add a useful header
9bb89ff Fix compile break
6773b80 Some tidying up of the beos mpm.
9339da0 Guess this one was missed when the rest were fixed :(
5f3814a   Minor nits in documentation.  The link to the ISAPI spec is broken.
808831e Updated patch to fix compile warnings from not including apr_strings.h
0b80a25 Win32: Add util_xml.c to ApacheCore.
cba8d8f Fix win32 compile break.
ba3660b   A few new observations for the Win32 user.
493366e Fix syntax error in the typedef of schemes_t so Apache builds again.
a843a52 Document the util_md5.h file using ScanDoc.  Also add package directives to util_xml and util_uri headers
c41c099 Document util_xml using ScanDoc
afc04bb Document util_uri.h using ScanDoc
befea18 Document os.h.  I am only documenting the Unix copy, because every os.h file has the same functions, and I don't want to duplicate docs.  When we generate docs, we'll just grab them from this directory.
f7ec9dd A few more (last?) ap_xlate->apr_xlate changes covering stuff not completely handled in the big apr rename last week.
afa05b8 Include apr_strings.h to avoid missing-prototype warning.
99cf606 Fix some problems with the apr conversion so that APACHE_XLATE builds work again.
b921ee6 Document util_script using ScanDoc
af971e4 Document util_ebcdic.h with ScanDoc
c30e232 Use AP_INIT_* macros for command_rec [] in a few more modules.
20738bb Remove some values that aren't needed anymore.  These were used at one time while writing this MPM, but they are obsolete now.
21636ee Document util_date.h using ScanDoc
4535bf8 Some enhancements for OS/2 ap_canonical_filename: - Log proper error message instead of error code on failure - In case of error caused by an invalid file name, don't return an empty   string as that tends to confuse things rather than make them better. - Avoid using the very expensive ap_os_systemcase_canonical_filename()   unless it's truely necessary.
aed89bc Add #include <unistd.h> for getpid() prototype.
15a43f6 Finish renaming AP_CTIME_LEN to APR_CTIME_LEN.
1a9db20   Remaining cleanup of ap_ -> apr_ and AP_ -> APR_ transformation...   see src/lib/apr/apr_compat.h for most details.   Also a few minor nits to get Win32 to build.
ddc1989 Document util_charset.h using ScanDoc
a7dce91 Document util_cfgtree using ScanDoc
0b2565f Document mpm_status.h using ScanDoc
3b68210 Document rfc1413 using ScanDoc
2179ba1 Update the mpm_common.h file with docs to use ScanDoc
330e49d Use new AP_INIT_xxx macros & include apr_strings.h to get rid of warnings.
9b3af37 Update http_vhost.h to use ScanDoc
5d5267a Update http_protocol.h to use ScanDoc.
0356da9 Remove some old APIs.  These were left around for legacy modules.  Since we have broken all modules anyway, this is a good time to cleanup a bit.
fbb8b41 Document http_main to use ScanDoc
26074e4 Document http_core's public APIs for use with ScanDoc.
be3e863 Fix warnings about string functions.
14dd6f0 Finish (almost) Ryan's change of apr_filter_t back to ap_filter_t so that apache builds again. AFAICT, there is one last occurrence of apr_filter_t in ryan.patch.
cfba61e Fix a small name mix-up.  Filters are part of Apache, and should have the ap_ prefix, not apr_
127fc59 Fix a config tree problem.
10a530d Fix a small typo Submitted by:	Victor J. Orlikowski <v.j.orlikowski@gte.net>
ac30859 Bump the numbers since a5 has been tagged already
4159ff8 Update the version number for the new alpha release
78fa0c5 The announcement text for Apache 2.0a5
1966574 	Whoops; forgot to apply this to the 2.0 docs..
f0483bf Fix the Perchild MPM.  This does work now.  This change has us using socketpair instead of sockets created with AF_UNIX.  There is very little chance this will work anywhere other than Linux, but it is a start.  I have a machine with two virtual hosts, which are started as two different users.  When I make requests for each virtual host, they pass the request to the correct child process.  It is possible for a virtual host to have multiple child processes all with the same user ID, and they all share the responsability for answering requests.
750ff5f Disable the dbm_ usage in mod_rewrite so that it links. Still to do: decide at config time whether any modules need dbm, whether              to use the native one or sdbm, etc.
c709731 More progress with the perchild MPM.  This is serving pages again, but only when the request is accepted by the server that supposed to serve the result.  The biggest problem right now is descriptor passing.  This isn't likely to work anyplace other than Linux right now either.
03585c8 Clean up maintainer-mode compiles of mod_rewrite (use AP_INIT_xx macros and clean up resulting warnings).
4f7694b Don't trace EINTR errors from accept() on the Unix socket.
6b6f36f Update the perchild MPM.  This does not work, but that is because Linux doesn't use any of the standard methods for passing around file descriptors.  I am setting this aside for a day or two, and then I will come back and finish the implementation on a new OS.  This is highlighting the need for descriptor passing in APR.
2a87aae Convert all of the apr_listen.h to ap_listen.h.  This was a side effect of Doug M. big change last night.
059d8dd prefix libapr functions and types with apr_
3ae78ff Use the AP_INIT_TAKE23() macro to clean up a maintainer-mode warning, then fix the warnings resulting from AP_INIT_TAKE23() :)
ce2ce1e Use the AP_INIT_FLAG() macro to clean up a maintainer-mode warning.
8c05063 -DMPMT_PTHREAD is no longer needed.
78e0d95 This serves requests again, although it still doesn't forward requests off to the correct socket yet.
1292081 Complete redesign of this MPM.  This is almost working now.
6971497 Add a NO_DETACH environment variable to all MPMs that understand ONE_PROCESS.  This allows Apache to start up without detaching from the controlling terminal, but also not going into single process mode. The main purpose of this patch is to make it very easy to debug the child process startup code. PR:	2144
6c29fb3 	Put back PR#6347, but note that it's waiting for an external 	entity.  Add a 'Status:' line for each PR, but don't remove 	any -- because if they're not in STATUS, they essentially 	don't exist.  If we're not serious about dealing with them, 	let's just close them.  If we *are* serious, they should be 	in the work-to-do list.
ae53f32 Remove a PR that depends on the submitter (or someone else) getting a proper IANA allocation for the JNG and MNG MIME types so it's out of our hands.
1922c20 	We've been ignoring lots of PRs forever, marking them as 	'suspended' with the supposed intention of either implementing 	them someday or saying why not.  Well, it's about time we did 	something with them, so now they're listed in STATUS for people 	to work on as they may.
e5d6c21 Win32: Add sdbm to the windows build
ed49d74 Include <strings.h> if we have it to get protos for strcase* on AIX. Submitted by:	Victor J. Orlikowski <vjo@raleigh.ibm.com> Reviewed by:	Jeff Trawick
9d2b8d9 Remove a bug from the STATUS file.  Manoj tested the patch I committed, and he said it seems to work.
e23401a Fix some problems with which error code to use after a pthread_ failure. Most of the changes added support for PTHREAD_SETS_ERRNO; a few of the changes fixed bugs in existing code which always used errno (which doesn't get the right error code on most platforms).
b6faa37 Don't use perror() to report the failure of an APR function. Introduce apr_err() for that purpose.
a32cdbf Make http_log use ScanDoc
4913fca This makes the perchild MPM server requests again, but it still isn't passing requests to other children.  That's next.
92a253d Document http_connection.h using ScanDoc
6b4218f Note the patch for graceful restarts in the STATUS file
b4c9427 Make the Unix MPMs not clean the scoreboard on a graceful restart.  This compiles, but it hasn't actually been tested yet.
2714bb6 Get dsos working again by including $(LTFLAGS) on the command-line for the --mode=link invocations of libtool/shlibtool.  The lack of LTFLAGS resulted in no -export-dynamic, and dsos couldn't resolve symbols in httpd.
7a990a4 Finish the http_config.h documentation.  :-)
91288b6 Add more of the comments to http_config.h.  This is a horrible job by the way.
739f638 Wireless LANs are soooooo cool. Oh, and the weather was ummm, something today too...
5f0b258 Eliminate references to specific MPMs from mpm_common.c by having the MPMs export interfaces to the tables used to keep track of children.
de6d7ef Change semantics of ap_child_table somewhat. Instead of checking for a dead process with status == SERVER_DEAD, check with pid == 0. This makes somewhat more sense conceptually, and also matches the behavior of MPMs that use a shmem scoreboard to track children.
b673f7f Fix a couple of apparent typos.
c5a5438 Up HARD_THREAD_LIMIT. Handle it correctly in mpm_winnt.c
b3e80b6 mod_file_cache docco
d5ee92d Use ap_dso_error() instead of ap_strerror() when ap_dso_sym() fails.
6e927f2 Begin to document http_config.h.  This documents most (if not all) of the structures defined by this header file.  The functions will be the next thing that needs documenting.
fe64231 Move the Server Token stuff out of http_config_globals.h because it is now isolated in http_core.c
1d2b77a Missed the footer
3f2333a 1.3 -> 2.0
cd1acd8 Copy some 1.3 doc to 2.0
9df8876 Document ap_mpm.h using ScanDoc.
aaf678a Document ap_mmn.h using ScanDoc
24eefbc Document ap_listen.h using ScanDoc.
c266de9 Remove iol_socket.h.  This file had one declaration, and it makes more sense for that declaraion to move to ap_iol.h.  This also modifies all of the files that include iol_socket.h to include ap_iol.h
f775bd0 Add a small doc on how to document the APIs for use with ScanDoc.
4b75a05 convert some -1 back to errno.
495b502 Associate virtual hosts with a specific child process.  This doesn't work quite yet.  The problem right now is that the thread doesn't really have the logic required to pass the request to the next child process.
844bc85 Change the storage allocation mechanism for ap_proc_t structures passed to ap_note_subprocess() by mod_rewrite and mod_include.  The storage needs to last as long as the pool passed to ap_note_subprocess(), so autodata won't work.
368bb3c Fix segfault/SIGSEGV when running gzip from mod_mime_magic.c. An invalid ap_proc_t was passed to ap_create_process().
f89738e Add the ability to register filters.  This commit introduces a warning into the build.  This warning will be removed automatically, as soon as we decide on a prototype for the function causing the warning.  That decision is tied to which filtering mechanism we decide on. Submitted by:	Ryan Bloom and Greg Stein
c90431e Fix a small typo.  TAKE3 directives really do need to take all 3 arguments. Submitted by:	Jeff Trawick
61a7806 Cleanup the perchild MPM.  What I am doing so far in this MPM does not require hashes.  This makes it much easier to now associate the child process with a virtual host.
f36dd14 Add the macro for AP_INIT_TAKE3 directives.  I am assuming this was left out by mistake.
dc6c862 Remove the mod_cgid-won't-go-away problem from the STATUS file.
d3bb567 Use ap_note_subprocess() to register the mod_cgid daemon process for cleanup so that it is killed at termination if it does not die when the parent gets SIGTERM.  This change is to fix occasional problems where the process stays around.
c25872b Update the perchild MPM.  At this point, it is possible to specify that a child process runs as a specified user.  That child process is not currently tied to a virtual host.  Using this MPM, I can launch Apache and have it serve as both nobody and rbb.
6e9e954 Don't bark at developers which are too lazy to pull down the htdocs module. ;-)
19cabcc Install htdocs again.  This was recently removed for an unknown (or at least unmentioned) reason.
48aded9 Win32: Enable compiling expat from the command line
602226a ap.h had nothing in it.  I am removing it from Apache 2.0 all together. This also removes it from the two files that were actually including it.
307207d Don't try to process a connection when accept() failed.
8d42ddd Win32: Revamp NT shutdown code. I think this shutdown code is pretty close to production ready. Introduce a two-phase shutdown. First phase is shutdown_pending which prevents new contexts from being queued to the AcceptEx completion port.  The server runs for a period (~1 second) in this state to enable threads to drain the completion port of active connections by handling the connections. This works very well on a busy server as the contexts are consumed quickly and completely (leaving non to cancel in the next phase).
11a5f3f Add a patch for review.
5af33bc Remove some items that are done from the STATUS file.
bc2a3f4 No idea how these 3 characters got there, but remove them so this file will build again.
d2c9dd8   Another day's progress... little changes, but just establishing the   baseline for fully implementing extensions.  Filters... that's still   a little way away.  This demonstrates the HSE_STATUS_PENDING result   wait event trap, so we let another thread keep working till we get   the HSE_REQ_DONE_WITH_SESSION request.  Cleaned up callback names   and tossed bunches of stuff in the isapi_cid (connection/request) and   the isapi_loaded (dll details) for future caching optimizations.
4adecb1 Add a new MPM.  Currently this is almost an exact copy of the dexter MPM. In time, this will be the MPM that allows each child process to have a unique user id.  I need a place to work and keep track of my changes. Don't expect this to work until next week sometime.
a123234 Cleanup the MPM #defines.  Each MPM #defines a unique name that identifies it to the system.  That name should be of the format NAME_MPM where name is something like DEXTER, MPMT_PTHREAD, SPMT_OS2, etc.
a2322df Fix a bug in our time parsing.  We need to zero out a few fields so that the imploded date is valid. PR:	6266
f34f432 Fix some build issues for dexter:
d880f8a Back out some changes that weren't supposed to be in my last commit.
28f6bfe Remove all of the ap_is* functions from Apache.  They were already in APR, and we all hate duplicate code.  :-)  This also required adding ap_isascii to APR.
891b6a6 packet minimization when doing sendfile...
f0bb335 Get ap_socket_disable_nagle() working again. Submitted by:	Greg Ames Reviewed by:	Jeff Trawick
992516b Fix some compile warnings in mod_file_cache. Submitted by:	Greg Ames Reviewed by:	Jeff Trawick
f308d7c Fix an error in service.c, where we were returning APR_NOTFOUND and should have been return APR_ENOFILE Submitted by:	Gregory Nicholls <gnicholls@level8.com> Reviewed by:	Ryan Bloom
7d5da54 The Windows MPM was sometimes returning APR_NOTFOUND when it should have been returning APR_ENOFILE.  This fixes that problem. Submitted by:	Gregory Nicholls <gnicholls@level8.com> Reviewed by:	Ryan Bloom
c04a254 New translation PR: Obtained from: Submitted by: Jerry Su <su@mail.thu.edu.tw> Reviewed by: kevlo@
2547832 - fix POOL_DEBUG ... restored the ap_pool_joins that dreid removed. - removed the apr_abort foo since every caller was passing it NULL anyway;   and this is debugging code, so i don't have any qualms about using   stderr or abort().
28cfab7 REmove the mpmt MPM.  This also removes all of the config logic required to get this MPM to compile.  I may try to combine the two threading MPMs a bit more, or I may not.
d14b8ae Change --enable-shared that Apache defines to --enable-mods-shared.  The original name was conflicting with an option for ./configure that libtool defines automatically.
e370211 Update mod_so to use the new command_rec format.
902f8b3 Fix typo in log message.
a8924ba Remove EXEC_ON_READ from ClearModuleList and AddModule.  Having these as EXEC_ON_READ was causing a seg fault, and it was unnecessary.  Neither of these directives changes how the server interprets the config file, they only change how the server responds to the configuration. PR:	6318
2ea44150   Undo my damage.
c50d070   Undo the damage to mod_isapi (leave placeholders for new functions though)   and add APR_EOL_STR to log files (precomiled, of course :)
84fb2ae   This should be clean... ap_snprintf already holds a byte for the   null terminator, and this patch sets aside whatever space is needed   for the newline termination.
f5cd4a7   Caught a bit of my own bad style :)
847b201   Add APR_EOL_STR for a platform specific text delimiter, provided by   apr.h (defined in apr.h.in and apr.hw).  This is needed -only- in APR   created files (true raw files) such as logs.  It is not required in any   splat to screen (stderr/stdout) formatting, nor any html markup.
fc3580d   Missing apr_strings.h - hope this wasn't destined for some global header.
03a99d6   Changes to get Win32 compiling again, including substituting   apr_string.h for apr_lib.h, fix some bad linkage declarations,   and some more comments on threadproc/win32/proc.c
b75d439 Fix some issues with mod_mime_magic.  Basically, we need to include apr_strings.h, the command table needed to be fixed to use the new format, and we had vestiges of stat left around.
143b69b Clean up rules.mk and add support for building C++ source files.
ce7a5bc Remove apr_strnatcmp.h.  All of the functions prototyped in this file have been moved to apr_strings.h.  This also modifes Apache to include apr_strings.h instead of apr_strnatcmp.h
778cbc2 Fix VPATH builds
aa83ec4 Clean_child_exit is not a public function.  This keeps it internal to mpmt_pthread.c and allows mpmt_pthread to compile cleanly.
de60cfa Include apr_strings.h in scoreboard.h.  This allows it to compile cleanly again.
22d9fbd Move all APR functions related to strings to their own directory, and create a new header for those functions.  This is the first step to removing the apr/lib directory completely, and moving those files/functions to descriptive directories.
71afb1f Remove a filtering patch from the STATUS file.  This was the second patch I posted, and it was more or less a proof-of-concept for changing the filter registration method.  Everybody agrees the patch was a bad idea, but it did prove that the filtering registration code could be completely re-written in very little time.
fccf469 Protect some sendfile()-specific logic with APR_HAS_SENDFILE so that mod_file_cache can build on a system with no sendfile().
510681a Get mod_cgid.c to compile on OS/390 again.  It needs unistd.h for STDERR_FILENO.
c8131d3 Make ap_child_init_lock() work properly... It didn't call ap_unix_child_init_lock() at the right time, so any lock mechanism which had interesting work to do (only flock()) was broken.
db3c12a Fix some bad ap_log_error() invocations.  Comment on a bad ap_log_rerror() invocation.
8ad5bec Grab OtherBill's latest 1.3 code to provide a default ServerName and log the error. Submitted by:	"William A. Rowe, Jr." <wrowe@lnd.com>
14df9ea Fix copy/move depth infinity lock propagation problem. Submitted by: Joe Orton <joe@orton.demon.co.uk>
1610c8d OS/2: Put back creation of listeners in main thread in spmt_os2 MPM.
7a35744 ab would start up more connections than needed, then quit when the desired number were finished. Also fixed a logic error involving ab keepalives.
d3b192a add ap_full_read() and ap_full_write(). they guarantee to read/write the     full buffer unless an error occurs. use the new functions in SDBM and DAV. [and Subversion] Win32 and OS/2 can directly include/use file_io/unix/fullrw.c since it is     written in terms of other APR functions.
24c8105 ap_dso_init() isn't needed. if/when a platform needs it, then     ap_initialize() can be used to init DSO support. or set up a lazy     initialization for it. solves the questions, "when do I call it? can I call it more than once?"
ffc7e71 Replace this unknown hash function someone contributed with the classical DJB times 33 hash (using XOR instead of ADD).  This hash is better understood and is faster. Also because in the old function the "& 0xff" was not necessary and just slowed down processing.
9b38689 Make Apache use the new APR buildconf script to generate APR and MM ./configure.
38b39b2 Get smpt_os2 working again after recent reorganization. - globalize & namespace protects server_conf as ap_server_conf - puts setup_listeners back in under a more appropriate name   (setup_listen_poll()) as it's quite different to ap_setup_listeners in   mpm_common.c. - fake a suitable parameter to ap_process_child_status() as it assumes a child   refers to a process when, in the context of spmt_os2, it's a thread.
74b0d88 Remove #define conflict with mpm_winnt.h exposed by Ryan's recent patch to ap_listen.h
0207f83 Apache doesn't actually check for stdarg.h, but APR does.  Just use the APR defined APR_HAVE_STDARG_H to check for the existance of stdarg.h
d2c1911 Fix the prefork MPM to make it compile and work again out-of-the-box.
97514ef update for APR-ized SDBM interfaces
5f8215e reverse the setup_listeners() change from a few days ago. it broke prefork     by not getting listenmaxfd set, nor listenfds.
b95eb3f Some status...
5181058 Save the write end of the pipe. pipe_log_spawn really needs to be combined with log_child.
af21383 Ooops... Didn't notice this one until I tried compiling with APR_HAS_OTHER_CHILD
c8527e9 Fix a nasty stack corruption. ap_proc_t should be allocated out of the same pool passed to ap_create_process. A little further down the road to getting reliable piped logs working on Win32.
35a902c fix problems with placing stuff across multiple lines.     -- noted by Joe Orton.
9ed01c1 Add mod_dav directives to the index
b00343f Initial checkin of mod_dav documentation
c4aeab1 #ifdef APR_HAS_OTHER_CHILD to #if APR_HAS_OTHER_CHILD. Not tested.
9a37659 Some status
ffd0a49 Remove all pthreads calls from the mpmt MPM prefork emulation.  This makes the mpmt MPM look almost exactly like the original prefork MPM.  Basically, all that's left is re-naming the defined directives so they work with 1.3 config files.  That will come later.
86ef0b0 Correct Win32 Expat build.
98514ba Fix a warning associated with the ap_send_fd change from earlier today. This just changes a couple of long's to ap_size_t.
71aeedd shift the LimitXMLRequestBody directive to the core. use it from util_xml.
5a567cd make sure this is defined, so that mpm_common.c compiles with the right    values, functions, whatever. specifically, ap_reclaim_child_processes()    was not getting compiled into mpm_common. this appears to keep mpmt_pthread running properly. dunno whether a similar    issue exists for prefork or dexter. (until all are torched)
2d0127d eek. don't include carriage returns in the m4 macro. they get copied thru.
b251f45   Advisory: This patch is still anywhere but complete.  However, it   resolves most of the big bugs of the services to mpm relocation.   I apologize that it's taken this long to get back on this.
c3379e5 Make the spmt_os2 MPM use the new setup_listeners API.  This should work, but I make no garauntees.
f23ce00 Move sock_disable_nagle to mpm_common.c.  Rename it to ap_sock_disable_nagle. Again, I tried to modify all MPMs that are currently using this code.
6aa73a7 Reimplement ap_send_fd. Eliminate ap_send_fd_length. If APR_HAS_SENDFILE is defined but ap_sendfile fails with APR_ENOTIMPL, the BUFF implementation of ap_send_fd will get a shot at serving the request.  This fix is required to get Apache working on 95/98 again and can also be useful on Unix systems where sendfile is available via a servicepack/fixpack/PTF on a particular level of the OS (e.g., AIX 4.3.2 base does not include sendfile but is is available with a PTF).
c481bb2 Move setup_listeners to listen.c.  This renames it to ap_setup_listeners, and removes the duplicated code from all effected MPMs.  The only this doesn't touch, is Windows.  That MPM was using a different setup_listeners. If one of the Windows guys would like to modify the WinNT MPM to use the same setup_lsiteners, that would be VERY cool.
074e3c2 Move process_child_status to mpm_common.c.  This requires re-naming it to ap_process_child_status and opening up ap_coredump_dir.  I have modified all of the MPMs that I saw using this function to work with this patch.  Sorry if I broke anybody.
818d394 Stop doing the find for make clean.  This was causing us to clean every directory twice.  We should still clean those directories that weren't configured in the current configuration, but this wasn't the right solution.
3b056b7 Beware the Jubjub bird
66cd266 complete the removal of the old dav_dyn crap. dav plugins are now     implemented entirely through standard Apache modules, hooks, and some     additional registration.
66b55cd liveprop namespace indexes are 1-based. make room in the marks array.
4a6ae61 torch just about all of the old dav_dyn stuff. temporarily hard-wire the     liveprop provider setup. this will go away momentarily (another pass).
d2abd67 new liveprop namespace registration and lookup. modules register each     namespace they will use, which then receives a process-wide index. get rid of old dav_liveprop_uris global (and minor cleaning in dav_dyn);     encapsulate liveprop handling in liveprop.c. do not build/use an ns_map; use dav_get_liveprop_ns_index().
8bc7029 Fix mpm_common for use with the real prefork MPM.  This was broken when mpmt was added.  This change can be removed when the MPM stuff calms down a bit and either mpmt or three separate MPMs are chosen.
b7a635b Fix building the mpmt MPM.  The problem was that IfModule uses the name of the C file to determine if a module is present.  mpmt emulates three different MPMs though.  If the default config file we have sane defaults for each of the three MPMs that mpmt emulates.
1200d95 Days off are a good thing.  :-)
8707031 sunny. of course.
140a661 Change variable name to avoid conflict with typedef.  Yes, it's anal.
44726ca Can you believe VC++ 6.0 was not catching this! Not even a warning.
ef84c41 Ack.  is the variable that's set, so we better check that one :)
ced6e4e We already depend on these autoconf functions in other places. Avoid possible portability concerns by using them here as well
88efd0b get rid of more of the old module/provider mechanisms -- use ap_hooks to look up the plugins' function hook tables.
f55b0cf the new "mpmt" MPM is busted. the config system didn't listen to me when I said that I really wanted --with-mpm=mpmt_pthread. I made it listen :-)
5b4dfe2 Initial version of the mpmt MPM.  This MPM can emulate dexter, mpmt_pthread, and prefork.  This basically just combines a lot of common code.  This builds and serves pages in all three modes, but I don't think killing the server works in any of them.  The configuration system hasn't changed at all, so using --with-mpm=(prefork|dexter|mpmt_pthread) all work.
7952200 Drastically increase the listen backlog for mod_cgid's unix socket.  It was pretty easy to hit ECONNREFUSED errors when the backlog was 5.
3d67469 do the "get resource" via a hook rather than through the repository hook     structure. once the resource is retrieved, then we have the relevant     repository hooks and can dispatch through those. some additional tweaks to use lockdb->hooks rather than fetching them
fb21773 do the config/build for module stuff "right"
8342446 add a bit of framework so that experimental modules can be built a bit more easily.
8c92d23 turn dav/fs/ into a real module move the DAVLockDB directive to the dav_fs module
362846c I bunged up Joe's patch. Use the right size in the pcalloc().
ffe8e43 This patch fixes several problems with mod_file_cache - Pool usage problem - SIGSEGVs when both MMapFile and CacheFile directives are present.  The fix combines the cleanup routines and only cleans up resources when appropriate. - Log sendfile errors.
cebd829 use ap_size_t rather than plain size_t
205578d APR-ize repos.c and lock.c. trim back repos.h. Original patch by Joe Orton     with some additional APR-izing from Greg (lock.c and ap_rename_file).
3ab487f Fix the way that ap_rwrite() checks for an error from ap_bwrite(). A dropped connection could cause a loop in ap_send_mmap() (and probably a few other places) because of this problem.
9399882 Temporarily disable lingerling close until I can get the sendfile path right. This avoids a seg fault when we try to shutdown then close a socket that has been reset by the client.
9c61a68 Do not set the sendfile flag to disconnect the socket when sending byteranges. Thanks to Jeff Trawick for pointing this one out.
edb2fa4 WinNT: Implement acceptex socket reuse. Make sure that the ap_sendfile flags argument is properly initialized for all platforms.
f24caae Eliminate a couple of compiler warnings. I don't like casts but these seem safe.
b185537 Fix make distclean and make clean.  Before this commit, we only cleaned directories that have been configured by the last call to ./configure. This means that if somebody does ./configure --with-mpm=dexter;make and then ./configure --with-mpm=prefork;make and then make distclean, dexter doesn't get cleaned up.  Same thing goes for clean.
51d0326 Update mod_cgid to work with attach_iol_socket again.
ee824ac Remove a bunch of dead code from util_script.
d92be21 Allocate iols out of the ptrans pool rather than mallocing them out of the heap. The extra malloc/free is a significant performance hit on some platforms and repeatedly alloc/freeing small chunks of storage can fragment the heap.
8c04557 Get rid of some warnings in mod_file_cache by moving to the new command-handler initialization macros. Submitted by:	Greg Ames Reviewed by:	Jeff Trawick
8e6d46a struct a_file needs field mm to compile at all when APR_HAS_MMAP is defined
0966bdb Remove some warnings from the latest compile.  I don't know why these haven't turned up before.  We were using the wrong types in our printf calls for times.
9316326 "What's wrong with them?", Tech Sergeant Chen, Galaxy Quest
d02f5c7 add ap_get_status_line() so that modules can get a standardized     Status-Line value for their response.
6dcafac Joe Orton writes:
ec10e40 Joe Orton says:
a9799bc ID4 on DVD roolz...
8b37cdf re-enable the "move by rename" optimization (now that we have the     ap_finfo_t.device field) re-enable the "executable" live property (now that we have a chmod()     equivalent in ap_setfileperms())
a4ae129 Stop a compiler warning in maintainer mode.
4fddc03 Bring beos back into line following the changes to iol_socket.
8013de0 APR-ize dav_format_time()
eb053db misc const cleanups and others issues found using maintainer-mode     (initial errors found by Ryan Bloom). also switch to use new command table initializer macros.
e59d089 fix the Win32 build w.r.t recent iol_socket changes
1f2ceda enable Expat for the Win32 build.
fd79f01 run DAV's type_checker first so that it can grab the non-GET methods (it     will pass thru GET for normal processing) fix the DBGn() macros for Apache 2.0
aaaadb6 sunny. wish my pool was finished...
85f6adf filter out the warning that AC_TRY_RUN gives us while running the     AC_C_BIGENDIAN macro. we've already handled the cross-compile case,     so we don't need to see the message
f17044a making progress...
1182b0b build the XML utility stuff now (req'd by the DAV code)
af4c667 config magic for enabling DAV, Expat, and SDBM. *) AP_LIBS contains the target .a files from src/lib/ *) AP_LIB_DIRS contains add'l directories (besides pcre and apr) that we    will build (and generate Makefiles for) *) apache_need_expat and apache_need_sdbm are two new configure feature    macros; set by the DAV stuff as needed *) hackery to deal with dav/fs/ since it isn't really a module *) do endian testing, so we can feed it into Expat to optimize that code
a6ef5ad no need for relative includes. the directories will be added to the     compilation by the configure system.
ab8e7c2 add some basic infrastructure to sdbm. update expat-lite's
db32e1a autoconf gives us WORDS_BIGENDIAN. a bit more of our magic for whether we     even know the byte order one way or another.
81e6f3d brand new Makefile.in to work in the Apache 2.0 config/build system
36fbc8b bring up to date with respect to Apache 1.3 src/lib/expat-lite/
793779d Remove iol_socket.c from OS/2 build after Ryans's cleanup.
53346f1 Remove ap_get_server_conf() from the MPM's that implement.  The only place this function was ever called was inside the MPM's, and not all of the MPM's actually had the function.  This is part of another round of common code clean-up.
e912f27 Cast a vote
c1d4928 Fix the problem with ./buildconf not working right out of CVS.  The general problem, is that we were using AC_CONFIG_AUX_DIR_DEFAULT, which the autoconf source says shouldn't be called directly.  It should be called using AC_REQUIRE, but I couldn't make that work.  So, since we know exactly where the files that we are looking for are located, we'll just point autoconf directly to them, and ignore all of the hoops.  :-)
114fb2e Combine some common code.  Before this, all platforms implemented their own iol_sockets using APR.  This just combines all of that code to a common file and moves that file to main.  I have tested this with all of the Unix MPM's, but I am willing to bet I missed something (Makefiles) for Windows, and possibly moving some code for OS/2 and BeOS.
1952e2f I am removing my veto and stepping away from this discussion for at least two days.  This does NOT mean I like the patch at all, it just means I have no desire to continue with this discussion right now.  Because I have no plans to respond to any more e-mail on the topic currently, I have no right to veto a patch.
038c7cc always include limits.h for the INT_MAX value.
2676c40 First cut at getting mod_mmap_static function into mod_file_cache. My intent is to retire mod_mmap_static.
8cf0173 Remove the config stuff from the STATUS file.  I believe the configuration in 2.0 is as clean as it's going to get now.  Most of the cruft has been removed.  Any more changes that are needed to make the configure system work can easily be added within the current configuration framework.
766b602 Finish the Configuration cleanup.  This basically merges all of the autoconf scripts that APR provides for other programs into apr_common.m4. Other programs can then just include that file to get the APR checks that are required. Submitted by:	Sascha Schumann <sascha@schumann.cx>
8bcc58e Update mod_file_cache to use ap_core_translate.  mod_file_cache is essentially identical to mod_mmap_static now. Time to merge the two together...
b5c0ae0 Include strings.h for strcasecmp(), strncasecmp(), and bzero(). Include time.h for time().
263ebac turn this off for now; the stuff compiles but doesn't link...
d1709dc note todo items to complete first pass of integration
0672675 get the DAV stuff to compile for Apache 2.0. some unpleasantries are in     there, but it *does* compile.
a4559b7 initial whack at the config/build stuff.
992c193 first, obvious step: alter the license/copyright on all mod_dav files.
59ad7a1 initial checkin of the new Apache DAV code. this is a pristine copy of mod_dav 1.0.1 (tag "V1_0_1" in the mod_dav CVS repository).
8d92b2f   Whoops... will be needing this exported rsn for mod_mmap_static.  But the   argument to register hook fn takes a __cdecl function, so _NONSTD it is.
b9ce8c3   Hook functions aren't translated (and when they are, they are _NONSTD)...   but you don't need to export a function you will pass by ref to a   register hook function.
74ba5a3 Fix the configure process.  This does a couple of things to allow APR and Apache to share information.
944823a Fix another compiler warning. Forgot to commit this one along with the earlier patch. Sorry... Submitted by: Victor Orlikowski Reviewed by:  Bill Stoddard
fc97838 Fix compiler warning on AIX Submitted by:  Victor Orlikowski Reviewed by:   Bill Stoddard
06d26b5 Pass the configure args to sub_configure scripts with the RUN_NOW macro.
60b349a Fix compile warning on AIX
1381f07 Use libtool to compile instead of cc.  If we are going to use libtool, we may as well go all the way. Submitted by:	Hubert Feyrer <feyrer@rfhs8012.fh-regensburg.de> Reviewed by:	Ryan Bloom
3765b95 Still a sunny day.
5f0e931 sunny? yet again?
6704c8e Move the checks for bcopy and memmove down to APR.  APR now defines memmove and bzero on platforms that do not natively support them.
0727689 One bug and one fluff: need to use the '.' shell ``command'' to source the file; and remove error message first time APR's configure is run, and APRVAR doesn't exist. PR: Obtained from: Submitted by: Reviewed by:
165839f Make sure to get the required vars for the config.guess/et.al. family first. Right now, this is semi-duplicated, since APR does the same. PR: Obtained from: Submitted by: Reviewed by:
74d69f4 We need to preload first, before running any other configures.
6d3fe9d Fix the configure script.  If a either the mpmt_pthread or dexter MPM's are chosen, the default CGI module is mod_cgid.  If any other MPM is chosen, mod_cgi is the default.  I would rather have the maintainers for other platforms change their own defaults, than make mod_cgid the default on all threaded MPM's.
8da014b Detect libraries based on which platform configure is being run on.
73b1f79 Remove const from ap_socket_t parameters on APR functions so that APR can modify the ap_socket_t as it sees fit.  It may choose to modify the ap_socket_t on functions which only read from the ap_socket_t conceptually.
a5999a6 Fix the type of the 5th argument to iol_sendfile().
19ee439 Large tidy up of the beos mpm.  this brings in a lot of the changes that have been made to dexter and mpmt_pthread and adds more support for graceful restarts.
23439fc mention a newly-available patch from Jim Winstead
676f456 "kick the baby!"
3931d4f allow apxs to be run from the source tree, before installation (e.g. perl ../apache-2.0/src/support/apxs -q CFLAGS)
2f0cdb3 parms needs err_directive incase execute_now() returns non-NULL (e.g. if LoadModule fails)
614f793 Since we are initializing the status variable, use the error code specially set aside for that purpose.
9258e49 Quiet an unhelpful gcc warning which said that stat might be used before set.
5b2a5ff Clean up some warnings by including appropriate headers & removing an unused variable.
8b17259 Fix a couple of const warnings on Linux.  This basically just defines ap_strstr and ap_strstr_c, which make sure that things are const when they need to be.
02a2200 blast the old names for the status codes
1f993fd http_request.[ch]: *) add the "install_filter" hook as a hook/control point for modules to    install their filters. [Ryan Bloom]
76f1e03 Bug fix: . check proper error variable when handling errors from ap_write(pipe_of_death) . log proper error variable after ap_poll() failure . ditto for ap_create_pipe() failures . ditto for ap_set_pipe_timeout() failures Stylistic change: . pass 0 instead of errno to ap_log_error when APLOG_NOERRNO is specified
de7b833 Log errors from ap_accept(). Fix bad ap_log_error() argument list. Pass correct error code from ap_poll().
a7b7813 Fix a few problems checking and logging errors in prefork.
de5c9c1 OS/390 needs arpa/inet.h for htonl(). Submitted by:	Greg Ames
03730c6 Fix a couple of problems associated with recognizing when file descriptors for connected sockets are too big.
4a9cda0 Clean up the APR-ization of the pipe of death.
872f6db Fix the mpmt_pthread MPM to use an APR pipe for the pipe of death.  This allows us to use APR_SOCKETS_AS_FILES to poll on an APR socket.  Finally, this makes the MPM more portable, because it is now always possible to set the pipe to be non-blocking.
220a39f Bring back the hokey call to ap_create_tcp_socket() so mpmt_pthread works again.  It is completely hosed at the moment.
fbb60cf Properly detect the existance of send_file() on AIX
cc15e35 Modify the dexter MPM to use an APR pipe for the pipe of death.  This fixes a bug I introduced earlier today, because it uses the APR_FILES_AS_SOCKETS to let us use the pipe of death in a poll call.  With this change, dexter becomes much more portable.  Dexter used to try to set the pipe non-blocking on it's own, but it only tried one argument to fcntl.  There are at least four different arguments to fcntl based on what platform you are on.  APR gets rid of that ugliness for us.
6878409 Remove select checks from Apache config.  These checks were used to define ap_select in ap_config.h.  The only file that used ap_select() was prefork.c.  I have modified prefork.c to use select instead of ap_select. In the future, this should be modified to use ap_poll like the rest of the Unix MPMs.  There are other MPMs that are continuing to use select, but this too should change in time.
5fc0d74 Commit a few changes to the mpmt_pthread and dexter MPMs.  These basically fix the error checking for one return from ap_poll, and use ap_pcalloc to allocate the listenfds array.  By using listenfds, we can avoid making an unnecessary call to ap_create_tcp_socket. Submitted by:	Jeff Trawick Reviewed by:	Ryan Bloom
4284045 Get Win32 building after yesterday's patch to make MPM's explain where to change compiled-in limits.
6accf4e Make dexter use the ap_poll API.  This change is forced by AIX's redefinition of pollfd.
e2cc660 Add the EXTRA_LIBS to get apache building on BONE again and now that we're using ap_sleep remove the need for sys/socket.h in mpm_common.c
536d252 Remove a few unnecessary calls to select.  These calls used to be made so that we would sleep for a specified number of microseconds.  APR provides a function ap_sleep that does this for us.
7231c3a Cut free mpm_common.c from ap_max_daemons_limit as a variable.  Now we get the value from the MPM and thus free the MPM to use any variable name they like.
c976aaa Correct the pid that's being stored in the child_table to reflect what it's supposed to (doh!) and fix some things to help with restarts.
b8182a9 Small change in an effort to get restarts working correctly on BeOS.
7966a8f Add the ap_get_max_daemons to dexter, prefork and spmt_os2 MPM's.  The only one now lacking it is winnt, but that'll need someone form the winnt camp to sort out.
8089463 stop defining ap_scoreboard_fname multiple times in Mpmt_pthread MPM. Submitted by:	Victor J. Orlikowski <vjo@raleigh.ibm.com> Reviewed by:	Ryan Bloom
06e584b Stop defining ap_scoreboard_fname twice in the Dexter MPM Submitted by:	Victor J. Orlikowski <vjo@raleigh.ibm.com> Reviewed by:	Ryan Bloom
e6a8fd2 #undef strchr and strrchr when in maintainer mode.  This keeps us from getting a lot of warnings on platforms that use macros for these functions.
973c011 Fix error messages issued from MPMs which explain where to change compiled-in limits (e.g., ThreadsPerChild, MaxClients, StartTreads).
6538aaf Fix warnings.
c2e9f55 Fix warnings.
2b5cf4e Convert module and fix warnings.
61a67a0 Fix warnings (we really need typesafe arrays, y'know).
d287a7e Fix warnings.
96c4960 Fix warning.
9a29587 Blue Skies.....
87e0219 ap_create_pipe was changed to return a pipe with both handles blocking (previously, both handles were non-blocking).
6c265eb     Correct the problem where the only local host name that the IP stack     can discover are 'undotted' private names.  If no fully qualified     domain name can be identified, the default ServerName will be set to     the machine's IP address string.
0a82e00 Remove unixd_detach function, because it is provided by APR as ap_detach. This also modifies the ap_detach function to look like unixd_detach. Finally all calls to unixd_detach are changed to ap_detach.
8b4f89d Fix a typo. Submitted by:Victor J. Orlikowski <vjo@raleigh.ibm.com>
484354d Fix detection of sigwait prototype for NetBSD. Submitted by:	Hubert Feyrer <feyrer@rfhs8012.fh-regensburg.de> Reviewed by:	Ryan Bloom
eb3c5ca The new beos mpm.  This is the first pass but will let more people test later this week.
adbb76a ignore some generated files in pcre and modules/proxy
d118510 Use the new command-handler initializer macros in some more modules.
b17a3d6 Removed the pointless ap_is_aborted macro.
ad6759a   This Win32 patch adds the key HKCR/filetype/shell/execcgi/command as the   preference over the HKCR/filetype/shell/open/command for registry-based   script execution, allowing two behaviors to coexist peacefully (the pipe   based console behavior and the Win32 shell behavior.)
a8dfe79   This patch disallows bogus args to the ScriptInterpreterSource directive
fd3e806   This patch solves several specific issues:
e7a6e84 fix compile warning Submitted by:	Victor J. Orlikowski <vjo@raleigh.ibm.com> Reviewed by:	Jeff Trawick
e67a4b2 Update mpm_common to work with the latest BeOS version and start adding support for a new BeOS MPM that I'll commit in a few days.
2e40320 Get rid of more compiler warnings.
c53f336 Get rid of a compiler warning.
60d8b9d Eliminate warning.
6f4bcbf Add notes field to conn_rec
e31659f Use the new command-handler initializer macros in dexter; clean up the resulting warnings.
0219062 Repair C++ compatibility in ap_config.h, apr_file_io.h, apr_network_io.h, and apr_thread_proc.h. Submitted by:	Tyler J. Brooks <tylerjbrooks@home.com>
593a57f Use the new command-handler initializer macros in prefork; clean up the resulting warnings.
8db6090 Use the new command-handler initializer macros in mod_access; clean up the resulting warnings.
e9a67ea Use the new command-handler initializer macros in mod_actions; clean up the resulting warnings.
c58c39b Use the new command-handler initializer macros in mod_auth; clean up the resulting warnings.
b4dfc95 First pass at documentation for the debugging options in APR's memory allocation.  Mainly just the comments from apr_pools.c.
ccdc889 Use the new command-handler initializer macros in a few more modules, cleaning up the resulting warnings.
43befa3 Make unixd_config.user_name const char * instead of char * to avoid a warning when the set-user-name command handler saves the address of the arg from the config file.
132dc4e Provide some more missing initializer macros for when AP_DEBUG isn't defined (no, I didn't miss these in my commit this a.m. :) ).
8da89da More command handlers.
8981deb   Time for these to be gone?  I'd say it's long past :)
8e9bda7   Get Apache building on Win32
f8abdd9   Time to jump back into 2.0 again... here are yesterday's updates to   the MSVC conversion scripts, since the old ones would occasional be   whacked.  Again I ask, if you see better code here, please commit it.
8685f1b More command handler updates.
c0a4cb7 More consification, correct command initialisation.
7a22b1a Constification.
24878f1 Fix warnings.
1b9f3d9 Fill in missing implementations of AP_INIT_whatever for when AP_DEBUG is not defined.  Apache now compiles for me on FreeBSD 3.4 when AP_DEBUG isn't defined (albeit with a few warnings).
c1b3945 Command handler revamp. Note that this makes the code produce a LOT of warnings!
5f186c0 ap_pool_join is a debugging function so remove it.
26b5a24 reduce some code redundancy / simplify. use a consistent var name for va_list
c7d0508 ap_bvputs() is a misnomer; introduce ap_bputstrs()     [todo: proxy and file_cache code should be updated for new name] add ap_vbputstrs() use ap_vbputstrs() from http_protocol. use EOF in a few places, rather than the magic "-1" constant
d72e9ac Buffering for config file reads is now enabled.
b18a907 Turn on buffering for config file reads.  This is dependent on ap_fgets() doing the right thing.
7857103 Fix segfault when reporting this type of syntax error: "</container> without matching <container> section", where container is VirtualHost or Directory or whatever.
21fda11 Rebuild Apache and APR configure scripts when lib/apr/hints.m4 changes.
e387026 Include the proper header file (under X/Open, at least) for ntohs() in a couple of modules.  This lets us link-edit successfully again on OS/390. (OS/390 only has the macro form of these functions.)
f2354c8 Prevent the source code for CGIs from being revealed when using mod_vhost_alias and the CGI directory is under the document root and a user makes a request like http://www.example.com//cgi-bin/cgi as reported in <news:960999105.344321@ernani.logica.co.uk>
8df8ca5 Add support to ap_xlate_open() for an app to specify that the charset of the locale is to be used for the source or target charset.
35e9737 Add sys/time.h to mpm_common to include define of timeval.
87fb37f Tidy up the beos mpm by - removing some unused variables - correct a problem with pool allocations that killed the server - add back the ap_lingering close call which I removed in error   just before going on holiday.
a974637 Get the ap_config.h cleanup working on FreeBSD by adding includes of additional system headers.
20641b5 Add mpm.h to the src/modules/mpm/winnt directory (it's empty for now, but its presense is required for http_core.c, et. al.).  Update ApacheCore.dsp to pick it up in the include path.
54c34b3 fixups for remaining current warnings
54a3c92 OK, this builds and is autoconf safe about system headers, until it starts using APR PR: Obtained from: Submitted by:	Chuck Murcko Reviewed by:
a1a3b57 Fix the configuration process.  If no modules are specified in a given directory, then that directory is no longer added to the build process. Also, I have added a .cvsignore to the file_cache directory and removed a generated file from this directory.  Finally, I have removed some unnecessary checks from the config.m4 files.
b4f482c Stop checking for Shared Memory.  This function is actually no longer defined by our autoconf setup, but I forgot to remove all of the calls to it.
4c847f5 Remove the check for EAGAIN.  With APR handling the error codes, this is no longer an issue that Apache needs to deal with.
750d8cc Protect system header files with the appropriate macros.
47df25b Mod_proxy should not be a default module... yet.  :-)
469a91d resolved conflicts (2) in PASV handling from original commit
580852d Clean up a big chunk of ap_config.h.  This basically stops ap_config.h from including any files.  Because of this change, other files must include their own headers.  I also cleaned up a couple of other bugs in some modules because I had to compile them all.
db096af New mod_proxy/mod_cache (file cache) for 2.0. This uses a caching API so that shared mem, LDAP servers, DBs, etc. can also be used for proxy caching. The caching API is very young, and subject to change as APR changes.
bfbb1c7 Fix logging of errors creating the httpd.pid file.
93a6d2f Back out ap_set_default_perms().  Remove old logic to play with umask around the creation of the httpd.pid file.  Pass explicit permissions to ap_open(), omitting write-ability except by the owning user.  As always, we end up with rw-r--r-- for the permissions unless the umask is something unusual.
374f895 Get mod_cgid compiling again.
19a6c37 pcre.h is a permanent file now... don't .cvsignore it any longer
f8aafcf Add exports required by Jeff's recent changes.
802f37b Another struct stat to ap_finfo_t change
09076e7 Clean up the stat commit.  Basically there was one struct stat that I missed converting to ap_finfo_t.
29faf41 Fix Win32 compile break caused by Ryan's stat cleanup.
2cf4563 Including apr_file_io.h is not necessary.
4f8f778 Fix typos.
573f975 add note about building MM library
8e9db83 Finish the switch to light-wheight pcre.
ec58094 All of Apache uses APR for shared memory, so Apache doesn't need to check for SHM_[RW].
5a2f77c Apache doesn't use struct tm anymore, Remove a check that defines a macro that we never use.
b44c18e Add a new function ap_set_default_fperms.  This allows people to set the umask to be used when creating files.  This should change the permissions of files created using APR_DEFAULT_OS.  Also removed a warning introduced with the sys/stat.h changes.
e6d6a8d Missed one sys/stat.h in mod_rewrite.h.  Removing it now.
16748b4 Remove the final vestiges of stat.h from Apache 2.0.  All calls are now to ap_stat.  This also adds the new function ap_lstat().  This function is analogous to lstat.
b6571e1 Dont' add -ldl for BeOS.
26d4070 Don't add -ldl for OS/2.
ad61482 Make this build again...
a03d62f yaabbos? gravity?
2a521ae Remove reference to dftables.lo from CLEANFILES. *.lo is automatically unlinked.
a4accf8 Build only needed parts of libpcre. This is more light-wheight than having a complete build-subsystem for PCRE.
6bd252e Nothing in Apache should be calling stat anymore, so we can remove the check for sys/stat.h and all references to the resulting macro.
06ec998 Apache doesn't need to check for inline or pid's, because APR provides both ap_inline and ap_proc_t.
206ce7a add some items that Jeff has noted. other misc tweaks
a8591e5 Fix a couple of problems with the pre/post config processing changes:
2cc83e1 Make dependencies work.
ef9d562 Update dependencies.
dc9ff3b Make "make depend" work - pending a real fix, that is. I did attempt to do this properly, but that means some radical autoconf shit that is, once more, beyond me.
854b6e6 Do printf formatting properly.
aec3139 Eliminate spurious tab.
1825b98 Split generating Makefiles and creating config_vars.mk.
3ef147f Avoid second invocation of cat.
1252e46 Fix dependencies for util_uri.lo and util.lo.
9a8238a Fix path for helpers/PrintPath which is in $srcdir.
b1db065   A little more cleanup of win_service and windows .html docs.
a2bf1b4 cast ap_snprintf() argument to the type expected by the format string (to fix gcc warning on FreeBSD)
fe6fe52 Get FreeBSD 3.4 building again.  It doesn't have lib dl, so the build was broken as of the time we started always sticking in -ldl.
ba532e1 hi Toto!
697b686 perfect blue sky.  Ain't CA wonderful?
a6c0539 clouds? what are those?
8a9a5b9 Cleanup more of the Apache configuration.  This removes all of the shared memory checks, because Apache relies completely on APR for shared memory support.  In doing this, we also need to know how APR/MM are providing our shared memory (ie file or memory) that requires the change made to APR's configure script that was just committed.
88b6c4a Get FreeBSD building again with the resource limiting changes (FreeBSD 3.4, at least).
cd6953b httpd -V now displays APR's selection of the lock mechanism instead of the symbols previously respected by prefork.
0ecf437 Fix a Solaris compilation problem with mod_cgid: Use <sys/un.h> to get sockaddr_un.  Previously we declared it ourselves for unknown reasons.  I am now able to compile on Linux (RH6.1), Solaris 8, and FreeBSD 3.4.  Also, I don't see a mention in UNP V1 (2e) of the need to play tricks to get sockaddr_un.
dfb9909 fix nagle
a5cccc2 another iteration on the saferead/bhalfduplex stuff ... there was a commented out bhalfduplex call which ryan missed; and which was a bit more troublesome to solve with the iol interface.
c69795a Update the Dexter MPM to use APR for shared memory.  This removes a lot of duplicate code and allows me to clean up some config stuff in a few minutes.
2c4df0c Looking good outside.
3eb7650 fix dependencies.  (what is a .lo anyway?  i tried making the .o depend on the .h which is how dependencies usually work, but the other rules didn't work out right unless i used a .lo ... i suppose this only matters to folks building with -j N)
7e50066 We don't ever actually use HAVE_CRYPT, so stop defining it.
4e76161 Remove waitpid from the config checks and all calls to waitpid from the server.
6b6800f Remove a bunch of string functions from Apache.  These are basically standard string functions like strstr, strcasecmp, etc that Apache used to define for platforms that don't have them.  These functions and the feature tests have moved down to APR where they really belong.  In doing this, I am also able to remove a bunch of tests from the Apache configure process.
9803fc2 Remove all occurances of strerror from Apache.  ap_strerror works just fine with standard errno values, and it is more portable.  This also allows me to remove the check for strerror from Apache's configure script.
d01fb3c PR: Obtained from: Submitted by: Reviewed by:
86b74c3 mention date of 2.0a4 release; mention a mod_cgid bug
45df6f0 When mod_cgid is started as root, the cgi daemon now switches to the configured User/Group (like other httpd processes) instead of continuing as root.
f6e8fe6 The prefork MPM now uses an APR lock for the accept() mutex. It has not been getting a lock at all recently.
20c08c0 fix typo in AC_TYPE_RLIM_T
568362d Fix the check for rlim_t correctly.  I wish I had known that we had created an rlim_t check in acinclude.m4.  :-) Submitted by:	Jeff Trawick
29a2154 ARGH!  resource.h lives in sys. Submitted by:	Doug M.
e629f47 Include a definition of rlim_t if the platform doesn't have it natively.
9b90f11 Cleanup APR header files a bit.  Basically, this splits ap_table_t related functions into their own header file, away from apr_pools.h.  At the same time as I was doing this, I removed a couple of definitions that aren't used anywhere anymore, like ap_child_info_t.
9578f8b a couple of data type issues have a more generic solution
ebba9a0 sleep until the next second, rather than sleep for <current-time> seconds. fix typo on symbol (prevented compilation)
074aa6a Fix some problems with the time commit.  I guess mod_unique_id isn't turned on by default, which is why my last build's didn't catch this.  I'll be more careful in the future. Submitted by:	Greg Stein
cc8eeb2 Remove all occurances of gettimeofday.  Replace it with ap_now which provides the same function but works cross-paltform.
75f76de Fix Win32 bug when pathname length exactly equals MAX_PATH. This bug caused directory index to be displayed rather than returning an error.
825b977 Remove the check for difftime, we aren't actually using it anywhere.
95be918 	Forgot to include when I committed the code change..
79d04b3 Greg Ames' mod_mmap_static fixes have been applied, so remove the corresponding entry.
28856f0 Change the mmap() feature test to check only for existence. The autoconf-provided check used previously fails when the platform doesn't support MAP_FIXED.  Apache doesn't use that mmap() feature, so we don't want to require it. Submitted by:	Greg Ames
78a645f Fix some bad (1.3 style) parmlists to ap_log_error() which were introduced with the reintroduction of resource limiting logic.
5672197 combine two entries because they just *cannot* be separated...
115d32c Fix a couple of bugs in mod_cgid:
1b501ac little wooden boy.
3c8e0cb Add the resource limiting code back to Apache 2.0.  This only works on Unix because I can't find any other platforms with rlimit.  If there are other platforms that need this code, then some of the code needs to move. This has just barely been tested, so it could probably use some good testing.
704abb1 OS/390: avoid unconditional -ldl and -export-dynamic (other platforms can add related logic to the case statement)
1837ae3 	Bring forward a change from 1.3 (the ability to use SetEnvIf* 	and BrowserMatch* in .htaccess files).
63066cd 	Bring forward a fix from 1.3.
130e171 Increase the size of the buffer passed to ap_strerror(); I saw truncation of a particularly long message on OS/390, and useful info was past char 100.
71a767c Fix zombie process problem with mod_cgi.  This problem was introduced as part of the "Convert ap_proc_t to a complete type." enhancement.
9445b08 PR: Obtained from: Submitted by: Reviewed by:
1ad75f8 PR: Obtained from: Submitted by: Reviewed by:
343754d PR: Obtained from: Submitted by: Reviewed by:
c84d219 Port mod_mmap_static to 2.0.  Make it go faster.
b7d113d PR: Obtained from: Submitted by: Reviewed by:
f105e38 PR: Obtained from: Submitted by: Reviewed by:
f888d95 Fix typo in configure script when checking for mod_so.  bash doesn't seem to have a problem but /bin/sh on Solaris does. Symptom: "./configure: test: unknown operator =="
bcbcf75 Remove some #ifdef'ed code that doesn't make much sense (what does the 2 signify?)
1b9c484 Remove the ability to enable/disable DSO support in APR.  The only current way to check for DSO support is to look for libdl.  Apache automatically adds -ldl to it's LIBS flag from config.m4 in modules/standard.  Other platforms will need to add the correct flag for their system.
150c8bc Fix a warning and a bug from the server_token commit. Submitted by:	Eric Cholet <cholet@logilune.com>
20f66c9 PR: Obtained from: Submitted by: Reviewed by:
d60f217 cleanup to cgid_init():   axe unused var cgid_server_conf   fix type of pid   don't create the socket as a file here; it doesn't help anything
0497495 Make the string in a log message unique so we know what failed.  Before, "couldn't create child process: " was used for a couple of different logs.
3983c8b Make a copy of getenv("PATH") before storing for later use.  Some getenv() implementations use the same storage for successive calls. CGIs on OS/390 had a bad PATH due to this.  (Believe it or not, ANSI says getenv() can do this.)
eda6e3d Add server tokens back to 2.0.  Also bring forward the change to allow the PRODUCT_ONLY value for ServerTokens.  This is relatively clean, all of the code lives in http_core, and when a module wants to add a token, they just call ap_add_version_component from the post_config hook.  Actually ap_add_version_component can be done anytime after the config has been parsed, it just makes the most sense to do it in post_config IMHO.
33c17ce on a5 now.
d1247af 2.0a4
bed6974 Fix mod_so handling.  Basically, if --enable-so or --enable-some-module=shared is specified on the ./configure line, then mod_so is included in the build, -ldl is added to LIBS, and --enable-dso is added to APR's configure line.  Otherwise, mod_so is turned off, -ldl is not added, and APR is specifically told to build without DSO support.
ca422fe add self
b96ae71 correct some typos from the last commit.
f2851fe EBCDIC fixes:   getline(): pick up a couple of Martin's changes which were missed when   the 1.3.x EBCDIC fixes to this funciton were merged into 2.0
fefab2b mod_cgid:
8a5914e mod_charset_lite:   functional changes:     setup input translation for PUT or POST   other:     bail out more quickly if our dir config says do nothing,     tweak the debug trace,
43c2b45 EBCDIC: Rearrange calls to ap_checkconv() so that most handlers won't need to call it. Submitted by:	Greg Ames, Jeff Trawick
aab4114 a few changes that should be in the next announcement. I still think this is waaaay too corporatespeakish and that we should add more information about how to get involved  with development.
a6bc058 Bring mpmt_beos up to date and allow it play nice with mpm_common.
71d8e39 Modify the config order so that we read the config, process all EXEC_ON_READ directives at the same time, run pre_config hook for all modules, and then walk the tree.  This allows all modules to have a pre_config hook and know that it will be called at a reasonable time.  I also made "Include" an EXEC_ON_READ directive so that it is included in the tree properly. This was required after the other changes that were made.
9ef87c2 mod_cgi: Make ScriptLog directive work again by fixing the flags passed to ap_open().
85c06e3 PR: Obtained from: Submitted by: Reviewed by:
79d1068 PR: Obtained from: Submitted by: Reviewed by:
e908c4f PR: Obtained from: Submitted by: Reviewed by:
ce20a11 Start a "Common Problems" section in the mod_charset_lite documentation.
91408a7 PR: Obtained from: Submitted by: Reviewed by:
41ddd98 Argh, bhalfduplex is implemented, but it doesn't work for this case, so put the TODO back in.
f374baf Remove a TODO.  Actually just putting back a call to ap_bhalfduplex now that the function exists again.
730cec6 APACHE_XLATE, when doing translation that isn't single-byte-only
0cc2db9 Add pre_config hooks back in for all modules.  This is important for the server tokens code that is coming soon.
5d2faa8 fix missed change to comment
bbe8ad7 Add something to the STATUS file. Submitted by:	John Travis <jtravis@covalent.net>
e9a493b Fix a SIGSEGV in ap_md5digest() (bad parms to ap_seek()).  This is used when you have ContentDigest enabled and we can't/don't mmap the file.
9d1a70c Add support for the BeOS mpm.  Also change some things to make it easier for future additions.
fa5cf82 Fix DSO enabling logic.  Basically if --enable-dso was specified on the command line but the cache had DSO off, we used to turn DSO off.  This has been fixed with this patch.  Also, if we specify ANY Apache module as being compiled shared, then we automatically turn on mod_so.
8fa23df PR: Obtained from: Submitted by: Reviewed by:
4fe948c don't include apr_shmem.h when APR_HAS_SHARED_MEMORY is false, but instead set up our own dummies
0230ab1 PR: Obtained from: Submitted by: Reviewed by:
b508640 Fix building with DSO support.  If any module is configured to be compiled for shared support then APR_HAS_DSO is enabled and -ldl is added to the LIBS variable.  -ldl may need to be modified based on platform.  If no modules are designated as shared then APR_HAS_DSO is disabled and nothing is added to LIBS.  In basic testing this compiled without errors or warnings.
24beda9 Remove a warning when compiled with --use-maintainer-mode.  Basically, process_rec should just be storing argv the same way that getopt expects it.
9c60c54 PR: Obtained from: Submitted by: Reviewed by:
7825f17 PR: Obtained from: Submitted by: Reviewed by:
ce6df54 PR: Obtained from: Submitted by: Reviewed by:
4d401b5 Rework DSO error reporting to be more flexible & informative. This patch covers os/2, unix & win32. Other platforms still need some adjustment (BeOS, AIX).
366bc3c APACHE_XLATE: in ap_send_error_response(), move the setting of the translation handle to before we process ErrorDocument strings.  The previous placement of this logic only handled the hard-coded response documents.
0a0fb25 PR: Obtained from: Submitted by: Reviewed by:
eb266c4 PR: Obtained from: Submitted by: Reviewed by:
782de3b Forward fit a bug fix in the TAKE13 handling from 1.3 to 2.0 Submitted by:	Jon Travis <jtravis@covalent.net>
3f55024 Saferead on Windows should have been fixed with the lastest patches to saferead.
4cf9306 An xlate configuration module shouldn't mess with BO_WXLATE; ap_set_content_xlate() takes care of that detail.
b7685b7 Ensure that the proper translation handle (if any) is used when sending the canned response document to the client.  Otherwise, the client may get garbage depending on the translation in effect.
dd52309 We now report the correct line number for syntax errors in config files, so remove the associated status item.
1d642ba We now report the correct line number for syntax errors in config files.
35118dd Mention the line number problem for config file errors and Greg Ames' mod_mmap_static patch.
acdcd30 Add OS/2 todo items.
37c45bc Brought mod_auth_digest up to synch with 1.3, fixed ap_time_t-related bugs, and changed shmem/locking to use apr API. Shared-mem is currently disabled, however, because of problems with graceful restarts.
677c482 PR: Obtained from: Submitted by: Reviewed by:
a32a5cd PR: Obtained from: Submitted by: Reviewed by:
9d8956e Switch to APR's ap_probe_writable_fds() in spmt_os2 MPM.
e960297 Add an mpm.h for spmt_os2 MPM so that mpm_common.c will build.
7cdbb71 Only compile ap_reclaim_child_processes() if a CHILD_INFO_TABLE is known.
554c0ca Use http://www.apache.org/httpd instead of http://www.apache.org/ as the link to Apache Web server.
822f0dc mod_cgi: Restore logging of stderr from child process when ScriptLog isn't used (as in 1.3), except that on Unix it is now logged via ap_log_rerror() instead of by the child having STDERR_FILENO refer to the error log. Submitted by:	Greg Ames Reviewed by:	Jeff Trawick
8c4bc90 PR: Obtained from: Submitted by: Reviewed by:
fe1555a PR: Obtained from: Submitted by: Reviewed by:
639ee3f PR: Obtained from: Submitted by: Reviewed by:
3ae65d8 PR: Obtained from: Submitted by: Reviewed by:
f7e32fc PR: Obtained from: Submitted by: Reviewed by:
e73e905 	Anchor tags aren't permitted to span elements like this.
05b5a5f PR: Obtained from: Submitted by: Reviewed by:
553f9f3 PR: Obtained from: Submitted by: Reviewed by:
d82e6e2 PR: Obtained from: Submitted by: Reviewed by:
3f29977 PR: Obtained from: Submitted by: Reviewed by:
da493b8 PR: Obtained from: Submitted by: Reviewed by:
f9f1ad6 Add a showstopper for Windows.
c48b971 PR: Obtained from: Submitted by: Reviewed by:
0d59289 PR: Obtained from: Submitted by: Reviewed by:
2f0e895 Keep the MSVC++-isms out of the Unix flavor of API_EXPORT().
0d1a103 Fix broken comment in util_ebcdic.c Submitted by:	Greg Ames
f8fdc29 PR: Obtained from: Submitted by: Reviewed by:
5e05af5   Pass the process_rec to the MPM to allow rewriting of the args list.   Especially necessary under Win32, or other non-unix front ends where   oddball arguments might be required, but without causing a mess in   http_main.c.
ff26991   A really simple change for readability:
86e2a18   This patch corrects the issues from the AP_EXPORT and linkage   specification arguments to the ap_hooks.h declarations.  As with   the APR_ and AP_ patches, API_VAR_EXPORT becomes API_EXPORT_VAR,   and MODULE_VAR_EXPORT becomes MODULE_EXPORT_VAR.
c361eb1 fixes some compilation errors (macros, function params, etc). also shifts     the time when ap_destroy_pool() is called. it used to be called too     soon, which caused a core dump on the second CGI request.
e66f725 PR: Obtained from: Submitted by: Reviewed by:
32368e5 s/IMPORT/EXPORT/g; typo i assume.
c596116 Add mod_charset_lite for configuring character set translation.
7663082 Finish cleaning up after the API_VAR_EXPORT -> APR_VAR_EXPORT renaming.
ed7378f PR: Obtained from: Submitted by: Reviewed by:
ad04fc9 PR: Obtained from: Submitted by: Reviewed by:
867c2e8 PR: Obtained from: Submitted by: Reviewed by:
605d3d9 PR: Obtained from: Submitted by: Reviewed by:
65b45a7 This item doesn't really work properly, so we are removing it from the STATUS file.  I was going to wait, but Manoj (the person who originally put it in STATUS) said get rid of it, so away it goes.
78aba72 APACHE_XLATE, CHARSET_EBCDIC stuff: Provide new function ap_set_content_xlate() to simplify what needs to be done to set up translation of content.  Use it where appropriate.
c715975 	Add '-n' option to make htpasswd send user:pw result to 	stdout instead of fiddling with a text file.
2745ccd Win32: Convert ap_proc_t to tranparent type.
4512225 Clear up some int vs. pid_t issues in prefork to keep compiles clean on Solaris.
9c112e7 Implement saferead in Apache 2.0.  This has had minimal testing, and it seems to work, but only really hammering on it will tell for sure.
333cc1d Allow --enable-cgid and --disable-cgid to work.  Basically just make cgid a standard module.
93d9ac5 Fix a memory leak with ap_wait_or_timeout.
6c75ebc Rename stdin, stdout, stderr from new ap_proc_t to in, out, and err because Windows was having problems with the original names.
026c77c use the correct size for 'ret'
ea432e5 Fix a small bug/warning when compiling with use-maintiner-mode related to the ap_proc_t change.
76b6dc4 	Note a patch for htpasswd.  A matching patch for 1.3 is also 	pending.  I'll commit in a couple of days if no-one comments.
6fd5974 Port mpmt_pthread and dexter to the new ap_proc_t code.  This works just fine for these MPMs and it was easy to make the changes.
f9f4c47 Convert ap_proc_t to a complete type.  This lets us access the pid directly. Only the prefork MPM has been ported so far, the rest of the Unix MPM's are coming later today.
2ed396e Win32: Socket reuse is not enabled yet, so always mark used accept sockets as being closed.
b538807 Win32: Fix compile problems.
4889839 Clean up some pid_t vs. int confusion in mpmt_pthread MPM.  This is needed to avoid some warnings on Solaris.
da0e294 Clean up some pid_t vs. int confusion in dexter.c.  This is needed to avoid some warnings on Solaris.
f28301e Turn on buffered I/O in mod_include for reading the input file.
7218b78 Remove ap_destroy_context from Apache 2.0.  With the name change back to ap_pool_t, this function doesn't make sense.  This also changes all references to ap_destroy_context back to ap_destroy_pool.
e9380c4 Fix the config parser so that if there is no current node, and we are evaluating an EXEC_ON_READ directive, and the directive's sub_tree is empty, we don't try to set the node's parent pointer.  This stops a seg fault. Submitted by:	Jeff Trawick
aec887e Remove all remaining instances in Apache code of ap_{block,unblock}_alarms.
508efa1 configure is a generated file; hence it should be in .cvsignore.
f2ab73e   Why should Ryan have all the fun?   Cleans up compiler warning emits.
8e71dbb Make Apache and APR use the same flags to specify maintainer mode.  I chose to use --with-maintainer-mode, because that flag can be passed down using AC_CONFIG_SUBDIRS.  I couldn't find any easy way to pass environment variables to configure scripts called from within Apache's configure.
b5e7b43 Remove a warning about ap_base64encode not being defined anywhere.
584ae79 Remove a warning when build with USE_MAINTAINER_MODE.
ceec7e2 Fix a bug in adding EXEC_ON_READ at the top level of the tree.
eefcb4c Fix warnings on use of common prototypes.  Fix bug of printing a pointer to proc_t instead of the actual pid on error.
62a3810 Temporary fix for misuse of int instead of pid_t. Also include mpm_common.h to pick up the common prototypes.
8c2bf31 Prototypes for the visible functions in mpm_common.c.
591482f We shouldn't be calling mm_free directly.  Use ap_shm_free instead.
e2cb3c6   Current and clean make files for Win95.  Changes Include:
40b92fe   Fixes to allow Apache to run as a Win95 service... highlights
42ec41c ap_wait_or_timeout() can't be static since it is called from dexter.c, prefork.c, and mpmt_pthread.c.
b31d97d ab: Fix a command-line processing bug; track bad headers in err_response; support reading headers up to 2K.  (In the original patch it was 8K instead of 2K; it isn't clear to me that 8K is really needed or appropriate.) Submitted by:	Ask Bjoern Hansen <ask@valueclick.com> Reviewed by:	Jeff Trawick
c065c11 Move wait_or_timeout from the MPM's into the new mpm_common.c file.  I also renamed wait_or_timeout to ap_wait_or_timeout for namespace protection.
2a648d2 First function removed from Unix MPM's and moved to a common file.  This work is not anywhere near finished, but the cleanup has begun at least. Had to make a couple of variables non-static, so a name change was required since they are now viewable from outside the library.  The advantage to this is code that is much easier to maintain into the future, because it is duplicated less often.
e724138 Add "-D APACHE_XLATE" to the output of httpd -V when APACHE_XLATE is defined at compile time.
4636c1e Fix some bugs in the use of APACHE_XLATE vs. CHARSET_EBCDIC which prevented building with APACHE_XLATE on an ASCII machine.
5ee0436 rebuild mm's configure if mm's aclocal.m4 has been modified
1b03656 The following is a patch to fix Dirk's patch from March 14 so that mod_rewrite will work without caveats. Basically Dirk was just dropping patterns of the form ${x} if x didn't resolve to an environment variable. That breaks mod_rewrite since mod_rewrite uses the same syntax for some of its non-environment directives.
52da995 Get dexter building/running on OS/390 (same changes as those made to mpmt_pthread previously): . don't include netinet/tcp.h if you ain't got it . handle OS/390 flavors of pthread_sigmask() and   pthread_attr_setdetachstate()
da18421 Fix problem where the Unix mpms had an unitialized variable for child exit status by adding an exit status parameter to ap_wait_all_procs(); with this change, the mpms use ap_wait_all_procs() more like they previously used waitpid().
943ce40 Remove an unused variable and warning.
865d93d Move prototype of ap_hook_deregister_all to where it belongs.
c80abcc This commit will most likely break everybody on Windows.  The .dsp files I am checking in though will build a usable Apache on Windows. This finishes at least the first round of the merge work to get the common code into common files in APR.
60aa84a arg!!  should have committed this with last night's changes; need more sleep
d83c61b include translation information in the request_rec; finish converting ap_bsetflag(B_ASCII2EBCDIC or B_EBCDIC2ASCII) to ap_bsetopt(BO_WXLATE or BO_RXLATE)
710c194   Cleanup ap_config.h fallout for Win32.  Only a few very minor   changes to ap_config.h and util.c, but they might hurt someone...   please watch those two carefully.
44f9229 PR: Obtained from: Submitted by: Reviewed by:
9bfb956   Radical overhaul of the Apache-2.0/Win32 mpm <-> service schema.
71cb49b fix up the repository with the correct add/remove sequence.
7245baa Fix a bug in the EXEC_ON_READ logic.  When we build a sub_tree while reading that is the first item in a container, we have to return that tree and set the parent pointers correctly. Submitted by:	Jeff Trawick Reviewed by:	Ryan Bloom
a55a506 Update a couple of modules to use ap_stat() rather than stat().
12eba90 APR-ize the CHARSET_EBCDIC support in the SHA1 routines.  The app (e.g., Apache, htpasswd) must call a function to set up translation.
f4b9e21 Handle some OS/390-isms dealing with pthreads: . the types of the parameters to pthread_attr_setdetachstate()   and pthread_detach() . the fact that sigprocmask() must be use to set a thread's   signal mask
ecba1e2 OS/390 doesn't have ranlib and its make utility thinks RANLIB=: is a rule, so set RANLIB to true if there is no ranlib.
c39a049 Fix PCRE build on OS/2. This includes taking libtool out of the picture, making static build the default.
12394ec EBCDIC bug fix: do the required translation handle initialization so that ap_MD5Encode() can translate properly
516688c APR-ize the CHARSET_EBCDIC support in ap_base64encode() and ap_base64decode().  The app (e.g., Apache, ab) must call a function to set up translation.
e3a862a oops. somebody snuck different names for my_error, and I goofed a sizeof(). fixed some indents. rename some 'stat' variables to 'status' use ap_strerror() in load_file()
46a6b50 do not canonicalize errors for ap_strerror(). use sizeof() rather than     a bare constant.
1d68663 Fix some bugs (mostly lost 1.3 code) in ab's command-line processing.
47df20d mod_include: . APR-ize some EBCDIC logic that translates char-by-char . use the buff option BO_WXLATE to store a translation handle   instead of the old logic to turn on the B_EBCDIC2ASCII flag
3d35a19 APR-ize some EBCDIC logic which handles conversion between characters and hex digits
48a8c2d reorder libapr.a and libap.la in terms of dependencies (i.e., libap needs libapr, so put libapr last) for OS/390
70a7892 Remove the dso code from the os/unix directory.  These functions are not used in Apache anymore because they are part of apr.
534e7aa Make mod_so use ap_strerror instead of the old ap_os_dso_error.  The error codes for dso's will need to be added to strerror in order for this to work fully.
66826a6 Commit the EXEC_ON_READ changes.  This allows modules to hook into the config file read phase.  Full details are in the CHANGES file blurb. Examples to see how this should be used are provided for <IfModule> <IfDefine> LoadModule, AddModule and ClearModuleList expect docs in the next day or two.
ce613dd Cannot build the pthread mpms on AIX 4.2.1
7387a84 util_ebcdic.h, util_ebcdic.c, http_core.c:   tweak ap_checkconv() for 2.0 buff.c:   fix typo in comment util_md5.h:   change CHARSET_EBCDIC to APACHE_XLATE util_script.c:   APR-ize some character set conversion (EBCDIC only)
9039334 We no longer have to -DHAVE_CONFIG_H on the $(CC) line, because the ap_ac_config.h file has been renamed to ap_config.h which is included directly.
d5e5e9c All this file does is include another file.  I am fixing this by removing this file and replacing it with the file it includes.
5c24246 fix WIN32 build for APACHE_XLATE changes
691b46f Update to the media types as of 2000-05-12. I also added the non-clashing filename extensions for the WAP types, as discussed in the "WAP/WML" thread starting with Message-ID: <391696E0.4D0D6161@Golux.Com> Obtained from:  ftp://ftp.isi.edu/in-notes/iana/assignments/media-types
ea36aac Update beos_mpmt to new function names.
7a4d24d Win32: Some cleanup of winnt.c. Retry AcceptEx on failure in preparation for socket reuse patch. Sometimes the recycled accept socket will not work; need to handle this case by closing it and obtaining a new one.
eb0506d Add the prototype for ap_lingering_close()
b99d4c1 Create ap_bpop_iol to pop the buff off the iol and unregister the cleanup.
8d281d3 src/build/build2.mk: build PCRE's configure script if needed (when you                      run buildconf, for example) src/Makefile.in    : re-order libpcreposix.la and libpcre.la to make                      OS/390's binder happy (now the libraries are listed                      in order of dependencies)
4bd0fe1 Create new function, ap_lingering_close(), which will explicitly do a lingering close if USE_SO_LINGER is not defined. Move responsibility for closing connections out of http_connection.c and into the MPMs.
f219386 Exit connection processing normally on a graceful shutdown (which will allow a lingering close where applicable). Set is_graceful in the winnt MPM.
60d0373 repair some compile warnings, axe a wasted getsockname() call and some unnecessary local vars, fix bug in a rare trace of a pid
ccd36c3 Add mod_example to the build system. I also fixed a few bogosities in mod_example itself, mostly improved ordering of the code; I also fixed the long-standing numbering mistake for the order of the request processing stages, and added the hook registering function to the module record.
6412ac1 Vertically align all the descriptions of the modules in ./configure --help (m4 is gnarly)
4a43910 PR: Obtained from: Submitted by: Reviewed by:
00e1bf9   Clean up documentation on both sides (1.3 and 2.0) for the Win32 build.
b23b7bf   Clean up documentation on both sides (1.3 and 2.0) for the Win32 build.
2c8f922 use helpers/PrintPath instead of which to find the location of the perl interpreter
5e0e87e EBCDIC: Update util_md5.c routines to use APR-ized ap_MD5*() routines.  As in 1.3, ap_md5digest() has a different function signature when CHARSET_EBCDIC is defined :(
34ecfec Pick up various EBCDIC fixes from 1.3 (from Martin Kraemer and Oliver Reh originally according to the change log).
0d56f0d namespace-protect hdrs_to_ascii, hdrs_from_ascii, locale_to_ascii, and locale_from_ascii by adding ap_ prefix Submitted by:	Greg Stein
d1202fe   Still have this lying around - maybe I should look below src   more often :-)
0f9eaa5 Get tree build to work correctly with config Include directive
69e47b9 generic EBCDIC support code, changes to rfc1413.c to use APR translation in its EBCDIC support
a2225fc rfc1413.c fixes: 1) we were retrieving our local port before APR filled it in; wait a    little longer :)    (maybe APR needs to be a little smarter about when/if to call    getsockname()?  it could call it when the info is first needed and    not do it at all if never needed) 2) when the server dropped the connection before sending a properly-    delimited response, we entered a hard loop; we weren't reacting to    EOF/FIN properly
bda5a65 reap_children doesn't make sense on a machine without a scoreboard, and it causes compile problems, so it's going away on dexter now.
7a0d5c6 Remove dynamic MPM's from the status file.
adc0efc   pcre lives and dies on the _WIN32 define, rather than WIN32...   Adjusted os/win32/os.h to always declare _WIN32, and fixed up   some goodies.  Win32 now serves pages.
a10be77   Cleanup of Apache build with pcre in Win32.   Plus clean up ab and htdigest to conform to build   of other support executables.   Everything seems to be working again.
d8c829e   First crack at getting Apache to build with pcre in Win32.   Cleans up all the gen_ projects to strip off garbage files,   as well, and follows the same pattern for dftables.
7ea4d18 serious bug fix:   htdigest didn't init the first parm to ap_open(), so ap_open()   segfaults thinking it was passed valid storage build portability:   make most src/lib/apr/test/Makefile.in compatible with OS/390   make (no -o outfile after infile specified) MD5 translation support:   when APR_HAS_XLATE, low-level routines allow translation handle   to be specified
fa7fae9 initial .cvsignore for PCRE-in-Apache
807e5ae Initial revision
c445556 Replace hsregex with PCRE.  The PCRE library is always used in 2.0, regardless of what system we are on.  Currently, we are using the POSIX wrappers that PCRE provides.
dbe89e6 Fix a stupid mistake in apxs.in. Submitted by:	Greg Stein
fcb3417 I forgot to update the alpha information with the last alpha release.
c3b2429 Make apxs mostly work for 2.0.  It doesn't add the module to the config file yet, but that should be trivial to add back in.
40bb44b   Ahem... the newsgroups seem unruly over the explicit   reference to the other half of Wintel.  This seems like   a more accurate statement
803be27 Install os.h and os-inline.c from src/os/$(OSDIR) to $(prefix)/include
e034386 Move the generating empty deps stuff into fastgen.sh. The .deps files are only used by Makefiles which are created by fastgen.sh, so fastgen is the natural place to create them.
d06207a Back out an inadvertant change to apxs.
fcc4d8c Port reliable piped logs to mpmt_pthread and dexter.  Also a couple of small cleanups for reliable piped logs.
8c385f0 Make reliable piped logs work on 2.0.
66c90f6 Get rid of warning by including crypt.h when available. Make tmpnam stuff less complex.
597b2a3 	Use our own buffer for tmpnam() if the platform seems to know 	about it.  Avoids threading and reentrancy problems.
3512abd Win32: Fix some bugs in the restart logic.  This is still rather adhoc. A more rigorous solution is to maintain a list of overlapped io structures in the child_main control thread and use HasOverLappedIoCompleted() to manage the connections and pending io.
9452b0d 	Be more expliciti in our error messages if the tmpnam() call fails, 	or we have trouble opening the filename it returns.
b6d1cf0 The 'portable dirname' shouldn't leave a trailing / on the directory name as it causes double trailing / in some places which confuses some programs.
afb48ff Configure creates config.nice now containing your configure options. Syntax: ./config.nice [--more-options]
a7315d1 Blurf. Move the preload down a bit to ensure that the location of config.guess is set :)
56faece And preload from the top.
b9de469 - checking for thread options is mature
54b4528 Cleanup the STATUS file a bit.     --  Configuration modules have been rejected     --  make install works already.
85a9f21   Final .dsp changes to produce the lightest weight builds   without precompiled headers or source browse files under   Win32.  Enabling these is straightforward, if that's what   the user desires.  Also correct minor errors, and reset   some project defaults to their current config.
607d91d add missing ';' in non-ASCII path
624a665   Just a last few files to ignore in the installed Win32 tree.
6d9adaf   Significantly shorten the Win32 build and shrink symbol tables   for precompiled headers and debugging by eliminating large chunks   of the windows.h declarations, especially the graphical user   interface declarations.
f8e8de3 Make install target work on AIX.
5c5d265 Use F_SETFL for setting the O_NONBLOCK status flag. F_SETFD is for setting file descriptor flags (like FD_CLOEXEC).
0a29229 Make piped logs work again in 2.0.  The next step is reliable piped logs.
6a0e55e Add VPATH support to Apache:
998b291 Most of the support programs are created during the build, so we can expect them to be in $(builddir).
6c2a300 Always create the target directory, if it does not exist. Also use the Makefile template from the source tree.
88fdb2f We want to build in the build dir, not the src dir.
0ce9111 Allow for help messages for modules.
bb5807c Work around the non-working pthread.h detection on OpenBSD.
110f9d8 Get rid of last relative include path in our Makefiles
99fa11c Overall UNIX build system improvements:
0cfb1d0 Add ap_sigwait() to support old-style sigwait().
d2892da Update some docs.
716eb6d PR: Obtained from: Submitted by: Reviewed by:
c922c0d PR: Obtained from: Submitted by:	William Rowe Reviewed by:
85845c9 PR: Obtained from: Submitted by:	William Rowe Reviewed by:
0a3f836 Get rid of NO_RECURSION. This was originally implemented for PHP and is not used by Apache (will soon be obsolete in PHP as well).
603a6ec PR: Obtained from: Submitted by:	William Rowe Reviewed by:
e5954e6 PR: Obtained from: Submitted by:	William Rowe Reviewed by:
42f60d5 PR: Obtained from: Submitted by:	William Rowe Reviewed by:
7d4602b PR: Obtained from: Submitted by:	William Rowe Reviewed by:
de87338 Update the version string for the current dev version.
78b0a25 Update version information for 3rd alpha.
b2308e9 Update announcement for 3rd alpha.
2f45db7 back out APR_ prefix for TRUE,FALSE
6bb2ecf Win32:   install ab.exe   fix dependency in Apache.dsw (ab is dependent on aprlib and ap)   fix ab and htdigest projects so that they find all header files   define ap_signal() in apr.hw - this is o.k. for casual use as with     cmd-line programs   use API_VAR_EXPORT as appropriate in getopt.c general:   ab doesn't need to declare ap_optarg/ap_optind; fix a warning   htdigest needs to call ap_initialize() to avoid segfault at     startup
9e9da6e Add back in the build before install step when using make install.
0c524df   Dependency sequences appear to overrule other .dsp project sequences.   Also stripped out some nonsense - dependency loops may have caused   some compiliations to always rebuild.
37ed753 Backout the APR_TRUE|FALSE patch for the Windows MPM.
3f99179   Clean up a few Win32 build oversights before the alpha.
0f976d4   Following constructive advise of Ralf, and comments of JLW:
f3a4cf4 prefix TRUE,FALSE with APR_
fd9c9ad Remove unnecessary rules for .S files which clash with the rules for .s file (which we probably also don't need) on case insensitive systems like OS/2.
76ad4e3   Untangle Win32 build errors.
150b558   Replace ERROR constant with TODO_ERROR to flag these for review.
f7900eb   Replace ERROR constant with TODO_ERROR to flag these for review.
e469801 extremely minor cleanup: apr_file_io.h: fix comment describing APR_OS_DEFAULT sockets.c: use socklen_t instead of int to avoid compile   warning on systems with unsigned sock len parms dexter/.cvsignore: ignore .deps, .libs errorcodes.c: get rid of some unused vars
b47c5b4 Build ab on Win32. Fix some minor ab APR-ization issues.
65a47d0 This stops Apache 2.0 from trying to compile the server when we run make install.  We never used to build the server when installing in the 1.3 tree, so I'm going back to that behavior.
b7f8b9d change ap_hook_pre_connection from VOID to RUN_ALL
aa86bb9 Cleanup more files when make distclean is used.  This should be all the files that should be cleaned.
b39d735 Merge the htdigest.c file from the apr/test directory to the support directory.
8b087b6 Repair ap_poll() on UNIX systems where APR's poll flags have different values than the system's poll flags (i.e., call get_revents() to translate flags before returning to the caller; otherwise, they are quite meaningless :) ).
bb7a33f Remove two items from the STATUS file.  These are most definately not show-stoppers, and I don't think they belong in the status file at all.
f3efd8e Fix the parsing of a config file when the first item in either the config file or a container is a container.
73139ac Install the support binaries.
3730078 ignore the .libs directory too.
14053b0 ignore the intermediate build files.
5d1791d Eliminate redundant calls to initialize the Winsock.
e317818 fix path to mm's configure.in fix aclocal.m4's dependencies Submitted by:	Sascha Schumann <sascha@schumann.cx> Reviewed by:	Jeff Trawick
b886306 I have merged the two ab files together, the one from src/support and src/lib/apr/test.  This means that the ab program in the support directory is now portable using APR.  This has only gone through the barest of testing, and needs to be tested much better.
fdd1a28 Fix some compile breaks in the support directory.  These have not been tested, but they do compile at least.
eb3fe5c Add the support directory back into the build process.
8d22638 report dso_error if any
440ba7b A bit of mod_file_cache cleanup. Eliminate mmap_static specific code, etc,
88e2d0c Fix the progname stuff to work the same way the rest of the configure scheme works. Submitted by:	Sascha Schumann Reviewed by:	Ryan Bloom
b25965d Some windows tweaks to the default configuration, including providing a default ServerName of 127.0.0.1, including the new auth digest and file cache module LoadModuleDirectives, et. al.
aad98a7 Increase the default NumSIG value from 32 to 33 on behalf of OS/390.  unix_siglist_init() will now blow up via ap_assert() if NumSIG is too low.  (This is no fun to debug!)
c5fa06c Define HAVE_STRING_H, HAVE_STDLIB_H, HAVE_CTYPE_H, HAVE_LIMITS_H at configure time.  Some of the modules use these.
6644b34 add AP_ prefix to *HOOK* macros
4ea1a36 Get rid of ap_pool_t argument on ap_strerror
b663505 Win32: Graceful restart is working again, and better than before.
4320687 If a developer uses --with-program-name=foo, the config files are renamed to match the name of the executable.  In this example, httpd.conf will be renamed to foo.conf.
429098f Port a 1.3 EBCDIC fix to 2.0:
385effc Tell APR to truncate the httpd.pid file if it exists. Fix a bug in the Windows side of APR to correctly handle this flag. Also fix related bug in ap_write.
dcbfa92 More win32 shotgunary to the windows project files and to eliminate compile warnings.
a5a1cb8 Win32: Add htdigest
7508ca7 Update logresolve.dsp and add to Makefile.win
ce2268f Allow the Apache-2.0 executable name to be specified with the --with-program-name command line argument to configure.  This does not change the name of the config files or anything else, yet.
6b3fd8e Some Windows tweaks from William Rowe...
b43da86 Add the logresolve Windows project file
3bcafbf We should be checking for apr_private.h.in and updating it from now on.
d0d596a Win32: First cut at new shutdown/restart logic. The key new feature here is the use of CancelIo on the listen socket. Threads can only cancel their own I/O. To enable use of this nifty feature, I needed to make sure only one thread ever initiated async I/O. So, if the workers detect that they need more completion contexts (async AcceptExes), they set the maintenance_event, which directs the control thread to do the work on behalf of the workers. Most of the other changes are to support this end.
cf8864f Remove ServerType from the Windows config file
8bfd06c Change names of strnatcmp & strnatcasecmp to cpmply with APR naming conventions
f79f63f Fix compile break
befe0a0 Include apr_md5.h rather than the deprecated ap_md5.h. Fixes compile break.
b97ec4c drop the "container" param from ap_walk_config(). callers should simply     pass the first child, rather than expecting the walker to do it. remove the nasty "static" variable inside ap_walk_config(). it now walks the     tree provided with no worries about bumping up/down levels. minor refactor between ap_walk_config() and ap_walk_config_sub() to clean up     some logic and clarify the code.
c2c13c6 clean up cmd_parms: config_file is no longer valid; end_token is bogus;     add directive. move configfile_t and functions from httpd.h to http_config.h new signature for ap_build_config() (since config_file removed from cmd_parms) add "data" to ap_directive_t for future use by modules. add filename. syntax checking for section-close directives: a section-open must exist,     the section-close must be </FOO>, and the open/close must match.     the file as a whole must be properly balanced (issue errors for each     unmatched section-open). </FOO> command_rec structures are obsolete. Remove from http_core.c. do not store </FOO> directives in the config tree. clean out section-close logic from http_core.c (and old, related comments) <Limit> and <LimitExcept> must walk their children. new mechanism in ap_check_cmd_context() for testing enclosure in a     Directory/Location/File: find_parent() <IfModule> and <IfDefine> must pass cmd->context when walking the children several places: we had a walk followed by ap_get_module_config(). that     assumed the walk would create a config that we could fetch, which is not     true -- it is possible that the children are all from other modules     (e.g. the <Files> section in httpd.conf-dist has no "core" directives).     using ap_set_config_vectors() ensures we get a structure, and it returns     it to us.     [ note: when we had </Directory> (and friends) in the tree, the config       would get created; removing the directive removed the config; this       was a bitch to track down :-) ]
059ab7a handle error messages during building and processing of the configuration. add missing return statements, wrap some lines, remove unused vars. move syntax error reporting and exit(1) back to the right place (to be     fixed in a future pass; the exit() is inappropriate for parsing     .htaccess files).
5c2410d Change strncasecmp() definition to match Bill's prototype. Fixes compile break on OS/2.
89d7e60 Add `IndexOptions +VersionSort', to nicely sort filenames containing version numbers.
2f6ab67 First cut at a file handle cache. It serves on Windows and should work on Unix systems that implement sendfile.
3548f16 Fix some problems on systems where EAGAIN != EWOULDBLOCK (e.g., OS/390). ap_canonical_errror() for Unix now maps EWOULDBLOCK to EAGAIN/APR_EAGAIN when appropriate so that the changes here (as well as bjh's changes from a few days ago) to call ap_canonical_error() before comparing with EWOULDBLOCK will work on Unix as well.
dd4bfd8 ap_open(..,APR_OS_DEFAULT,..) uses perms 0666 instead of 0777 on Unix; access_log and error_log now created with these perms; non- Unix is unaffected
7cbb1cb Finished move of ap_md5 routines to apr_md5.  Removed ap_md5.h. Replaced more magic numbers with MD5_DIGESTSIZE.  Yuck.
4e54ed5 ding, dong, ServerType is dead
ab31187 Parse the config tree, instead of the config file.  This is a first step there are some big improvements to be made to this code, but this works now, and it is a first step.
9a6e328 Add ApacheModAuthDigest to apache.dsw. Get rid of compile warnings.
4440d3c Server Type is not recognized by any of the current MPMs.  I am removing it from the sample httpd.conf.
5eabf62 Win32: Get mod_auth_digest compiling and added to the Windows build environment. Not tested and I'd be suprised if it actually works.
d11f29b Remove mod_digest. Its being replaced by mod_auth_digest
0f381e5 Eliminate compile warning on Windows
a8065b5 Win32: Update docs to reflect new build environment.
ace2bda fix buglet in example
17c5e3f Revamp the Win32 make environment. Makefiles have been removed and Apache.dsw created to bring together all the pieces. Create new file os/win32/BaseAddr.ref to define module base addresses (to prevent dll relocation at start-up).
e062a42 OS/2: EXTRA_LDFLAGS is required when linking the table generation programs.
52c04b6 Add support for pool to log_error_core.  Also add ap_log_perror to allow logging without either a request or server _rec.
af789a8 Another required ap_canonical_error().
f5b782f Use ap_canonical_error() where appropriate.
cf31310 OS/2: Clean up spmt_os2 mpm to get shutdowns working cleanly.
cc6e027 [EBCDIC] Port Paul Gilmartin's CRLF patch from 1.3.  This replaces most of the \015, \012, and \015\012 constants with macros. Submitted by:	Greg Ames Reviewed by:	Jeff Trawick
acec159 Win32: More winnt MPM cleanup. Moved code to queue acceptex completion contexts to after the worker thread pool is created. Sometime over that last month or so, we checked something in that tanked performance about 15%.
6127cc7 Provide prototypes for the provided strcasecmp & strncasecmp.
87072f3 	Propagate the 1.3 FAQ fixes over here..
5eddb9d this is California. what to _you_ think the weather is?
a4db624 More FAQs and answers from comp.infosystems.www.servers.unix. Submitted by:	Joshua Slive <slive@finance.commerce.ubc.ca> Reviewed by:	Tony Finch
b026efe Win32: Change message type to INFO
5f10349 Watching for tornadoes tonite
04effbc Begin some long overdue clean-up fo winnt.c
07f387c Add logic to timeout CGI scripts properly.  This requires that APR pipes can be timed out.
860eb11 Add a pool to dupfile.  There is no reason that when we duplicate a file,       we would want to use the same pool for the duplicated file as we used for the original file.  This should solve a problem we were having with dieing quietly on startup, because we are no longer closing stderr in the original process and then opening the config file as file descriptor 2.
2106d6e Hey, wow! Some of the sky is blue!
e3784eb linkwin20.diffs Resolves:
8989a00 Updates Makefile.win 1) offers a single execution list, regardless of the CTARGET.    Sans CTARGET, it builds the default (the .exe or .dll).    With CTARGET=CLEAN, it cleans back up.
1b8894d Update Apache on Windows documentation. Add new document describing how to compile Apache on Windows.
a27e83a Add back in logic to put the ending container directive in the tree.  This needs to be there until we have a validating tree.  Without this, it is possible for a config file to read:
a9bce52 Add some todos, remove some vague comments, remove items completed
16e366c Win32: First cut at getting mod_isapi working under 2.0
f76bc22 Here's my first stab at getting mod_auth_digest working under 2.0
a572f92 Win32: 1. Move the space stripping of physical service names fix up from Apache 1.3. 2. #include'ing "ap_mpm.h" fixes up an unresolved symbol. 3. Add dependency checking to the CreateService call to ensure TCPIP and AFP (winsock) is started before Apache.
369722d cleaned up a comment
442861a Somebody needs to check the labels on their medicine.
2ca788b shades of a bad global replace --- fixed comment
3539705 Add buffered I/O back into APR's file I/O on unix.  This code comes from the OS/2 code, and has been munged to make it compile.  This has not been tested, but unbuffered I/O still works.
48ed70a apr_config.h is a private include file, and shouldn't be used by any C files outside of APR.  ap_signal has been moved to apr.h, so this include is no longer needed.
a42506c Brians' mod_auth_digest patch
3f836c5 Allow for the possibility of receiving data regardless of the pipe error condition or receiving EOF on the pipe read. This patch assumes that a read returning APR_SUCCESS with 0 bytes read is equivalent to an EOF.
0aa29af Win32: Protect another chunk of code unique to Windows NT with an ap_oslevel check.
de3a77d Change ap_context_t to ap_pool_t.  This compiles, runs, and serves pages on Linux, but probably breaks somewhere.
20325a8 Fix minor configuration & platform dependencies
5986484 more namespace cleanup
cfbb9ef Get mod_rewrite to compile with no warnings on OS/390 (cc) and Linux (gcc -Wall).
119b2c3 Sunny outside today.
ba8f9dc Alternately wet and sunny.
b2b986e Add util_cfgtreee.c to the win32 build
3353aa3 On all the systems I could get hold of (Solaris, ReliantUNIX, BS2000, SINIX), SHM_R was always 0400, never 0x400. My assumption is that is usually (always) is. Feel free to change it to an OS test like this (if your OS differs): case `uname -s` in   SunOS | POSIX-BC | SINIX-* | ReliantUNIX-* ) # BS2000     AC_DEFINE(SHM_R, 0400, [ ])     AC_DEFINE(SHM_W, 0200, [ ])     ;;   *)     AC_DEFINE(SHM_R, 0x400, [ ])     AC_DEFINE(SHM_W, 0x200, [ ])     ;; esac
e8477f5 remove "fix lingering close"
07fa5cc Get lingering_close() working again.
6b4f8cc Fix a small bug in ap_add_node.  We need to set the child's parent pointer correctly.
ad33e9e First step to getting configuration modules working.  This step creates a tree, but does not use the tree for anything.
27030ef Some status update.
b90fa61 looks sunny out there
62c2756 In my libnsl, there's gethostname but not gethostbyname
43efd0e Remove bogus application/rtf (keep standard text/rtf)
30ee2ec update about saferead
8fe727f CGIs work again on UNIX because ap_create_process() works again on UNIX.
f37d222 Update the STATUS file.
9566b29 Add error checking in case libtoolize is not in path. PR:	10
689a3da Recognize an EBCDIC platform during configuration and turn on CHARSET_EBCDIC.
e0c99ce Get Apache on Windows compiling again after the patch eliminating buffered file i/o.
db9d037 Make the server work without asking for buffered file I/O.  This removes all APR_BUFFERED flags from the server, and it fixes a minor bug in the ungetchar patch (I forgot a file when comitting).
e58d317 Change the declaration of ap_scoreboard_image to match the one in scoreboard.h (API_VAR_EXPORT instead of static).
b04191c In mpmt_pthread.c, include <netinet/tcp.h> only if the system actually has it.  (This was intended to be committed with the mpmt_pthread.c change.)
d6fa489 In mpmt_pthread.c, include <netinet/tcp.h> only if the system actually has it.
006237b Start to clean up winnt.c a bit. Consolidate several calls to CreateIoComplationPort into one and isolate it from the Win95/98 code path. Still much to do...
4360cc7 Get mod_rewrite building and running, and mod_status building for Win NT
33a43f6 Added Hebrew entry page
7c22583 Fix charset names (see ftp://ftp.isi.edu/in-notes/iana/assignments/character-sets) and resynchronize unix & win versions
6f2baaf Get mod_negotiation working. We may ultimately need finer granularity of type_checker hook ordering, but this will get MultiViews working for now.
9454276 Patch to port mod_auth_db to the 2.0 api and also to support Berlekey DB 3.0. It works for me with both Berkeley DB 3.0.55 and 2.7.7.  It should work with version 1 as well but I haven't tested it.
ca0f151 Get DSOs working on Windows. Required cross platform change to mod_so.c. Tim tested on Windows. Not tested on other platforms.
1f80b36 Arrgh... Release aprlib.mak/.dsp is broken. Now aprlib.mak is deleting apr.h and apr_config.h so I don't have to in makefile.win
f62fe87 Windows: Cleanup auto-generated apr.h and apr_config.h
a212f92 get rid of an unused variable from virtualhost_section()
98730c6 stop relying on a macro to map signal() to ap_signal(); call ap_signal() directly
b2a55b8 if HAVE_SYSLOG is defined but LOG_PRIMASK isn't, define LOG_PRIMASK to the standard value
92cafef stop relying on a macro to map signal() to ap_signal(); call ap_signal() directly
7d1ca34 The Unix MPM's now use the other_child logic from APR.
3cb7bfa Refine a todo...
9df77a4 Allan Edwards fixed this problem.
9cb4c5a FAQ changes related to tidying up historical documents on the web site. Submitted by:	Joshua Slive <slive@finance.commerce.ubc.ca> Reviewed by:	Tony Finch
7cadc5a Russian Translation, contributed by Pavel Polischouk <pavelp@iil.intel.com> Dirk, do you think the AddCharSet's are OK like this?
6352ccc Under OS/2 (well actually EMX gcc) libraries don't have a 'lib' prefix. In main code libtool handles it. This deals with APR.
14a2e29 Clarify the DOCUMENT_ROOT environment variable oddity. Suggested by: Scott Goodman <scott@searchbc.com>
5774eb4 ap_os_kill isn't being used now as it's in APR, so remove it!
1fa11f8 Start cleaning up the beos directory. DSO stuff is now in APR.
dfde766 Tidy up the beos mpm files.
1d5997a Eliminate a warning related to the struct socket_t vs ap_socket_t change.
2e7ac8a Get APR DSO code working under Windows
b0167a1 Remove file_io/win32/readdir.c and .h
0b0be53 Eliminate apr_win.h and apr_winconfig.h (and the ugly #ifdefs they cause). Now, apr.h and apr_config.h are generated from apr.hw and apr_config.hw at build time. At this point, the server will not compile on Windows because of the recent DSO commits. Fixing those next.
9cfe627 First pass at mod_so with the new APR dso calls.  It builds OK, but as I can't build any dynamic modules to properly test it with I'll let others do that!  It'll need some work, but I wanted to get code in so people can start hacking it around :)
781803f Updated media types. Obtained from: http://www.isi.edu/in-notes/iana/assignments/media-types/
56ef3b4 fix minor typo
aa4e257 And then there was 2.0a3-dev, and Ryan said "Doh!"
ff544b0 Update the version name in the tree for 2.0a2
0d9b8cb Update the announcement text for the 2nd alpha.
e63f4de Update to Apache Software License version 1.1
1be5367 Update to Apache Software License version 1.1
2bee4ad Update to Apache Software License version 1.1
057b29f Update to Apache Software License version 1.1
2a98ce1 Update to Apache Software License version 1.1
88479e5 Update to Apache Software License version 1.1
3e9769a Update to Apache Software License version 1.1
4cbcd0f comment-out nonexistant directives
f93ba81 Merge forward changes in Apache 1.3 printenv
98ebd36 Eliminate src/apaci, and replace with a header file containing paths: include/ap_config_path.h.
3f4be26 Remove a trailing slash from library.mk.  This slash was causing problems on non-GNU make systems PR:  20 Submitted by:	Mike Abbott <mja@sgi.com> Reviewed by:	Ryan Bloom
b17ff9b An initial implementation for the mpmt_pthread mod_status API.  Again, this is a working implementation, but it is almost definately not a complete implementation.
6680bb4 Fix the generation of the apaci script, so it has valid permissions after running config.status Submitted by:	Brian Martin <bmartin@penguincomputing.com> Reviewed by:	Ryan Bloom
0685390 A very first shot at implementing the status API for the prefork mpm. This is without a doubt a bad implementation, but it works, and the server compiles with mod_status enabled.
69ad445 Fix the warnings associated with the pre_config patch.
bf6ce21 ap_hook_pre_config is gone Submitted by:	William Rowe Reviewed by:	Jeff Trawick
3fa139e Put the pre_config hook back into the table.  This solves the problem of the pre-config hook only being valid for MPM's.  This patch also distinguishes between STANDARD modules and MPM's.
81a15da when logging a failure of ap_mmap_create(), pass the returned status to ap_log_rerror() instead of the current errno value
3d43419 Tweaked APR initialization and termination so that the lifetime of memory management mutexes is longer than the lifetime of managed memory.  APR apps must now call ap_terminate().
7205dc8 Remove the last piece of the layered I/O code.  I don't know why this didn't get removed with the rest of it.
6aa3e06 Apache Software License, version 1.1
c998281 Change the name from apache back to httpd.
63f93a6 Backout layered I/O changes.
c75543b Fix typos.
d3de5e4 Remove a broken link back to the user documentation.
5fbce1d Fix a couple of typo's and add a link to the list of MPM's from the changes document.
0512ee1 Add docs for layered I/O
6a4d775 Enabled layered I/O.  Docs are forthcoming.
270e1fb First part of getting BeOS to survive restarts correctly.
6805222 Do a bit of Win32 specific garbage collecting. Most of os.h (of not all of it) should go away eventually, merged into APR. Seems useful to delete the obvious garbage first.
ba62a0e Eliminate os.c and ApacheOS.dsp, ApacheOS.mak, et. al. Update the winnt MPM to use native thread control calls rather than the deprecated stuff in os.c. Even though I don't use APR in the MPM yet, this is forward progress.
5902c60 Get mod_rewrite working with APR locks
789a32d Clear hook registrations between reads of the config file. When DSOs are unloaded and re-loaded the old hook pointers may no longer be valid. This fix eliminates potential segfaults.
5675cf3 Add htpasswd back into the compile
28c41a0 Get htpasswd compiling under Windows
914b0b7 axe some deprecated MULTITHREAD code
61ae47a improve error message for missing mime types file
5d99c6e change the error message logged for a bind() failure so that it shows the interface and port number; it is now very similar to the error message used in 1.3
b2af7ce axe code to print "-D MULTITHREAD" for apache -V; MULTITHREAD is a 1.3 hangover; exit with a log message if ap_create_context() fails when creating the initial context; otherwise, we SIGSEGV later
b222ae5 get rid of unused local variable w in set_error_document() Submitted by:	Jeff Trawick
9c664cc Win32: Continue removing precompiled header support from the dsp and mak files. Submitted by:	William Rowe Reviewed by:	Bill Stoddard
6ca61b0 Time for a few beers, I think.
898f959 Some TODOCs have been DOCced.
2ad2f9e Document that a whole pile of directives have moved to the MPMs or disappeared entirely.
7c75844 Explain the changed syntax of CacheNegotiatedDocs
ac23f18 Explain the changed ErrorDocument syntax.
0183bf2 Helps if you have the include files correct!
4df995a Update the BeOS mpm to use ap_lock_t's.  First of a few changes to come.
ef7ae67 Is this the right place to be updating Apache 2.0 code?
a7d9eca It works on Windows 2000 with VC++ 5.0
3169ee1 Create one makefile for all win32 distributions. Submitted by:	Jeff Trawick Reviewed by:	Bill Stoddard
f491cde Turn off precompiled header support for Apache.mak/dsp and ApacheCore.mak/dsp. Submitted by:	William Rowe Reviewed by:	Bill Stoddard
797eb4b Bring forward my recent 1.3 patches.
9b9ea65 Remove a debug line left in accidentally.
36b960b Bring ap_os_case_canonical_filename() & ap_os_systemcase_canonical_filename() implementations for OS/2 forward from 1.3.
518183d Less verbose solution.
a22493c Ignore more generated files.
247292f Ignore generated files.
66b5916 Test for AP_USE_HSREGEX, not USE_HSREGEX, as that's what actually gets defined (in ap_config_auto.h) when using the bundled hsregex.
02ed62a Make dependency generation work on OS/2. The preprocessor outputs \\'s as path separators so switch them to /'s
b659179 Tru64 make uses the wrong directory for includes.
3355ee5 Tru64 make gets confused by null argument!
f4dc950 Strict prototypes are no use until someone rewrites the config API.
ebcf9fd Add missing pool parameter.
e2bd68a Update the prefork mpm with the new ap_shm_init prototype.
2b839de Update the licence in the documentation.  Should this be done for 1.3 as well?
27beb79 sp
66d7a81 After adding the AddCharset's back in; here is some minor stuff to make that work and some examples.
6f4be46 Added AddCharset back in again. Need that badly for my production hosts. Still checking and this also exposes the lack of EBCDIC and the NOT_PROXY change which is done since 1.3.9
290f682 PR: Obtained from: Submitted by: Reviewed by:
3393f4a Remove tabs from blank lines PR:	17 Submitted by:	mja@sgi.com
52be8e2 Added NO and KR intro pages donated by Lee Kuk Hyun and Lorant Czaran and copied some lang's across into the conf file. PR: Obtained from: Lee Kuk Hyun and Lorant Czaran Submitted by: Reviewed by:
ba569bb s/1.3/2.0/g and add a link to the developers' documentation
955b23e Replace the interim manual index with the file from 1.3. The rest of the documentation has been imported with a repository copy in order to preserve the history.
5fd9dd2 Ditch the interim index file and replace it with the standard "It worked!" pages, copied from the current 1.3 documentation tree.
fc83493 fix some inconsistencies and add a paragraph explainint how to include a "." in the expansion string immediately after a % directive.
77d4a52 Fix a comment
be68e36 Allow arguments to buildconf. Makes cvsclean, etc. a bit easier.
ad3cb55 Eliminate implicit usage of access.conf and srm.conf.
ee839f0 Minor nit: use top_srcdir instead of topsrcdir, to be more consistent with autoconf.
4ec68a3 Jeff's couple of small corrections.
f982c85 This gets the server working again after Ryan's order change for ap_getopt.
7956b7e go dirk go, RAW_ARGS is evil.  added a TODOC.
bc0b995 +1000 on dirk's change... and add a TODOC: which is the token i used when doing the initial mpm stuff to indicate required documentation changes.
99a9d6e Another one in the department of fairly useless patches which are best described as feature creep. Allows ${ENV} constructs in the config file. This avoids the need for mod_perl or m4 cleverness whilst mainting some of the usefullness. It does not do (of course) multiline things or anything that clever.
b779325 Nasty backwards compatibility breaking 'fix' to get rid of
36d7c5c Take my chance and try to sneak in a very nasty change which will break some backward compatibility but get rid of half a dozen nasty if-then special cases in any config file parser or gui. I am _NOT_ going to be offended if anyone rolls this patch back; or hack's it with a RAW_ARG as to also take the old config as well.
a5b741f even more distclean goodness (there's still more... time for zzz though)
3b69cd6 more missing from css
e5a4cff missing from css patch
de314fc it's more traditional in autoconf projects for "make distclean" to clean up things such as the apaci script, rather than "make clean".
70baa34 Update the example module to 2.0
2e251f9 Updated the announcement from 1.3.6 to the 2.0 Ryan actually sent
70ef1e6 Backport the CSS security fixes to Apache 2.0a. Or is that forward port? My sense of direction is all confused.
28b8785 Update the version string to reflect that we are currently working on Apache/2.0a2-dev.
4a67c03 Just make 'buildconf' run on BSD (there is a space after the hash-bang) and added bogus INSTALL file plus some blurp in readme.mpm to point out that you really need libtool and autoconf (which need m4).
f7cd8be some messed up comments... just copied in the license again from main/http_main.c hope that was right
fa1059d more post-old-style Configure cleanup
896d648 Add my pgp key.  Hmm.  These files are awfully different.
09223ab This fixes a bug on a development version of BeOS.  Not sure why but when this is called it closes the original socket, not the accepted one.
780f76d Don't feel like sleeping, there's no one of interest in the bar, and after some serious harassment of NetSoft, I have a net connection again.
0ce9eda DUH #2
07694e6 DUH
590983d changed module name to more consistent naming scheme, as used by configure: mod_auth_xxx -> auth_xxx_module
d77cf47 Add a new KEY
b1c26f0 Fix all the License issues.  Including: s/Apache Group/Apache Software Foundation/ s/1999/2000/ s/Sascha's license/ASF license
d226cfa PR:
ff5f26b This is all we have said we need for an alpha release.  The rest of the showstoppers are only showstoppers for an actual release.  I'm working hard to get the alpha out this week now.
f0798b1 Part of a fix for not being able to reset the --prefix. This will allow the installation prefix to be reset after a "make clean". To do this really properly, all the code that depends on the prefix should have a dependency in the makefile. This is coming RSN.
6c08c11 Rebuild the configure for MM.  Once this has settled we can remove the configure script as it shouldn't really be there anyway.
ea8d5c6 Add requried #include "ap_config.h" in a couple of OS/2 specific files.
f90d341 Signed my own key. Thanks to Nick Boyce for the advice.
462285d Added my PGP key, which was used to sign the Win32 release
760f5c2 "libtool" gets generated to the current directory and gets picked up by PrintPath on subsequent buildconf's so look for libtoolize instead to find the libtool source directory.
38333a2 Allow scripts (that don't have a .exe extension) to be found by PrintPath under OS/2.
e1802b3 Fix include file order.
2d76464 Default to spmt_os2 on OS/2
a5e0a28 Look for crypt() in ufc.
1a47df7 Fix the logic for ap_signal, so it is exposed in external header files in APR. Also change the header file included in http_log.c.
7dd8a75 clean up a bunch of -Wall/etc warnings
231edbc meow
b5124540 my cat says the weather is mew
09b79af .cvsignore goodness
1978d0f apaci perms problem
1bb39e9 make distclean does not quite
6929a75 Oops, EXTRA_CFLAGS wasn't getting set.
b19a48b A little CFLAGS reformation. Additions to Apache's CFLAGS should be using EXTRA_CFLAGS instead, so we don't affect packages that Apache configures.
5ab1abb 	Update a stale URL and RFC reference.
74bb38f Add a test program for pipes.  Add support for non-buffered CGI's to mod_cgi. This still doesn't terminate CGI's after a time limit, that's the next step.
5c44108 	Some Apache users are nervous about the version number (e.g., 	"Apache/1.3.11") in the Server: version string -- so add a 	new ServerTokens keyword that displays just the product name 	with no version (i.e., "Apache").
69f23ae Remove second ap_initialize left over from previous patch. Submitted by:	Jeff Trawick Reviewed by:	Ryan Bloom
3501ade More stuff to de before release
151d004 2.0 builds, but dumps core on FreeBSD 3.3 (ap_lock).
e3b52cc4 Add a couple of todos.
daa0153 Sort hooks after dynamically loaded modules have registered.
1fbede0 Make file I/O and network I/O writev/sendv APIs consistent. Eliminate use of ap_iovec_t and use Posix struct iovec. I never did hear a case (much less a strong case) supporting the need for ap_iovec_t, so out it goes.
4cdb8a3 Documentation fixes do not harm anyone, so I feel free to commit this English cleanup to the mod_rewrite documentation although we're in code freeze state. But we should now really kick out the 1.3.12 baby. We're already behind the proposed dates...
2a1ed8b Ahh, found ap_flush()!
76a7d97 Have seperate variable on ap_writev to set the number of iovecs passed in and pass back the number of bytes written. Use ap_iovec_t on the call rather than struct iovec (I may reverse this tomorrow :-). Whatever we do, the network_io and file_io calls need to use iovecs consistently, which isn't the case now.
0a4a79d These changes didn't get into the patch for dynamic modules.  With this, dynamic modules should work.  :-)
d72f35d Update Windows project and makefiles so dynamically loadable modules get built
38f5358 Enable dynamic module support on Linux.  This should work on any LIBTOOL based system, but YMMV.
7e977c5 Update Windows ap_filedup() call to recognise when it is asked to dup2 a standard i/o handle. Return error if the dup2 handle is not one of the standard i/o handles (because Windows does not support a dup2 style function to operate on native file handles)
b806bc4 Fix FreeBSD build break caused by my last commit to the file. Doh!
32bb120 Make sure mod_mime always has a chance to run before mod_mime_magic. Submitted by:	Paul Reder <rederpj@raleigh.ibm.com> Reviewed by:	Bill Stoddard <stoddard@raleigh.ibm.com>
609f037 More stuff to do.
05206c7 Add rotatelogs to the Windows port
0a7592f make a note that the encoding="..." attribute must always PRECEDE the var="..." attribute
0fb202a Some status updates
05723f4 Logs have already been opened by http_main.c. Don't need to do it here again. --------------------------------------------------------
3930dd3 Temporary hack to fix WIN32 compiles until the autoconf induced include file mess is fixed.
294e28e Fix the make clean rules.  We must delete *.slo files or we are leaving stale libraries in the modules/standard directory when configured for dynamic modules.
bdad334 ap_dupfile (specifically dup2) is not available in a general form under Windows. So use SetStdHandle directly. A single call to ap_dup2stderr() (or similar) could replace the entire chunk of code in the #ifdef #else #endif block.  Ryan didn't want to put this speciality function into APR, but we could put it into os.c if folks are interested.
4da04aa Don't close the duplicated AcceptEx completion port handle in the parent. Check the return code when duplicating the acceptex completion port. Get rid of the event routine wrappers.
b99c3ee First step to get piped logs working on Windows (and Unix as well). There are still all kinds of problems in http_log.c. This patch just barely scratches the surface.
4791cb1 Port the scoreboard from the mpmt_pthread MPM to use APR's shared memory. Tested on Linux, but it could use testing on other platforms.
aab3db5 Rework the code to handle apache -k shutdown|restart. The fundamental problem being solved here is determining the best way to discover the Apache parent process PID (stored in the location specified by the PidFile directive). This patch attempts to read the config file directly to determine the pidfile and avoids going through the motions of calling all the module initialization routines.
20b80ac Enable Windows MPM to run in single process mode Submitted by:	Allan Edwards Reviewed by:	Bill Stoddard
6461b73 Set up return codes correctly in the failure case.
79a3fc6 Remove dead code.
97083bf 	Add another module capable of doing footers.
d33f994 Fix compile breaks on Windows. Projects need to know where to find os.h.
799b68e Change </a> to </A> to be consistent with remaining layout. Thanks to Martin for hint.
c6d6c84 Make the prefork MPM use APR shared memory for it's scoreboard.
e952cf1d One more fix. Thanks to Eric Cholet <cholet@logilune.com>
e18ab17 Make sure we don't receive another PR where a user tried to take the solutions exactly as written down without noticing that they usually always have to be adjusted for local contexts.
5b78978 Update old net.sw entry to avoid confusion by the reader.
b5f6901 Cleanup my old physical HTML markup into a logical one to fit better into the Apache documentation.
7b31a31 Fix typos.
4c58901 Small changes to remove some compiler complaints.
2588e9b Add the rest of the files to allow BeOS to use the buildconf stuff. Forgot to add these last time.
fd1b6ab Fix some bugs with running Apache as a service Submitted by:	Allan Edwards <ake@raleigh.ibm.com> Reviewed by:	Bill Stoddard <stoddard@raleigh.ibm.com>
8901d28 Fix prefix handling.  Before this patch, when using --prefix on the configure line, the binary ignored it when setting HTTPD_ROOT.  This patch fixes that problem.
fa3731e Work done, bugs found.
85f80d7 This changes build.mk to use the PrintPath utility in helpers to try and keep as much portability as possible.
97474d1 These changes allow the MPM to be selected based on platform.  At present it works for BeOS but adding others shouldn't be hard.  Also added the OS2 MPM to the list.
da9a969 These changes allow BeOS to use the new buildconf configuration.
345e660 Fix description of regex quantifiers.
7022dfe Make clear that there are more directives which are actually not allowed in <VirtualHost> sections.
d306ea8 Enhance AddCharset description.
af4ec5a Try to reduce confusion over multiple and possible "conflicting" versions of the term "default" by changing AddDefaultCharset to be of the mode Off | On | charset PR: Obtained from: Submitted by: Reviewed by:
2211d0e APR requires that ap_initialize is called as one of the first functions. It sets up the rest of the APR types.  This was causing lockups whenever we tried to us an APR lock.
312b86c Streamline the AddDefaultCharset directive. Now this one directive controls the entire 'charset' specification setup. If there is heartburn, I have no trouble with backing this out, but it makes live easier for those not using the "default" charset, and reduces directive bloat a bit :)
4763488 Add missing references (they *WERE* in marc's first patch?!?!)
bf91ca5 Marc's CSS patch!
c70c963 This patch is sure to break someone! We need to define MODULE_VAR_EXPORT, API_EXPORT, API_VAR_EXPORT, et. al. in an os specific way and the definitions need to be done as soon as possible in the include file chain. I choose to use os.h as the preferred mechanism for doing this (for now anyway) since this is they way it was done for Apache 1.3. win32/os.h and unix/os.h probably have some Apache private macro definitions that are being exposed publicly because of this patch. The solution to this problem is to remove the private definitions from os.h.
3956182 Finally, back working on the MPM... Eliminate DOS hole. I can see no easy way to time out AcceptEx (a.k.a., accept_and_receive) when a connection is received but no data is sent. So, make AcceptEx just do an accept and leave the receive to the other Apache code.
240ecfa The 'canonical' name for this #define (as of Configure, ap_config_auto.h) is USE_HSREGEX
5bb2506 Enforce a sensible permission on the httpd.pid file. Submitted by:	Frank Miller <frankm@system-associates.com> Reviewed by:	Martin Kraemer
c9f8933 Add missing AddCharset directive.
7763f0a Set timeouts to sendfile operation in http_protocol.c. Fix bugs in Win32 sendfile implementation.
fdf50f1 	This really *is* a FAQ..
d8183c5 remove one space...
f8a7fce Include ap_config.h before httpd.h, this ensures that AP_USE_HSREGEX is defined correctly in all C files.
e38f994 More sendfile work. Use new sendfile API in Apache, update Windows MPM to begin using APR socket API. Note: sendfile on Unix side is broken. Need to detect for NULL hdtr. I'll do it later this week if no one else steps up.
90ea71a Get OS/2 working with new configure system. Yay! :)
a65a6b4 Only check for pthreads for mpms that actually need it rather than assuming everything except prefork needs it. Clarify threads != pthreads.
9004aa4 OS/2 doesn't have groups, don't try to mess with them.
3f31dc4 Quiet some warnings. - 1 'suggest parentheses around assignment used as truth value' - a few "subscript has type `char'"
a452d1f Fix compile breaks on Windows.
a813925 Note that module ordering is now done per-hook. Suggested by: Ben Laurie.
46630ce Fix Windows compile breakage.
e0ec652 Let ap_config.h figure out whether netdb.h should be included or not. This fixes a compile problem on platforms that do not have netdb.h.
b97e24e Add back the script_interpreter_source code.
620c82b Back out most of the last commit. Keep APR macros seperate from Apache macros.
6be94de Convert HAVE_NETINET... to the APR mac
505fa49 Manoj has been pushing for this for a while, but I've been too dense to understand that he was right.  :-)  Basically, this makes the modules use ap_config to test for header file inclusion.  This method is not to be used for larger modules that run autoconf theirselves.  Including ap_config is only valid for modules which rely on Apache to do their configuration.  Currently, this is only the core modules.
0432102 Cleanup a few things with the compile.  There were also a few macro name changes I missed earlier.
82e85ab Fix Windows compile break. Gotta find a better way to fix this.
b540c5c Fix compile break on Windows and update to use ap_stat()
a8ce196 Finish the commits for the change in the header files.  Basically, this hides all of the Apache macros that modules don't need access to.  This should have been committed with the modules, but I wasn't paying attention to the directory I was in when I ran the commit. Submitted by:	Manoj Kasichainula and Ryan Bloom
70a4fae This is a huge change to the configure system.  Basically, this name space protects most, if not all, of the Apache macros.   This has been tested on Linux using all of the Unix MPM's.  The biggest push was that Apache's httpd.h header file can no longer include the ap_config.h file.  Most of the other files include this themselves now. Submitted by:	Ryan Bloom and Manoj Kasichainula
d396b34 Documentation for the Netware port Submitted by:	Mike Gardiner
8f5579e The start of a 2.0 changes document. This will be a basis for Manoj's ApacheCon 2000 presentation, so please add to this. :)
afb25f1 Remove vestiges of automake.
d1451eb Update Windows port to new file_io and time specs
a32dc6e At least add a pointer to Andrew Ford's cronolog utility, now that it's under the Ap.License
ab6abdb Move threads/reentrancy m4 macros into threads.m4. All results are now cached and can be made easily available to Apache and APR.
e959e6b Rewrite pthreads check to be more tool-independent, and propagate flags to APR.
fe938b5 Remove config.cache, if configure is rebuilt
312bc88 Remove dependency on automake's aclocal. We continue to use acinclude.m4, because aclocal.m4 needs to contain libtool's m4 macros.
f90af90 Missed this file!  So here it is...
5973d1e The remaining files for the new documentation.
0d503f4 Another file for the documentation.
8cdd779 This attempts to make more sense of the documentation along the lines of my suggestion about a week ago.  Now when I figure out how to move files...
b77478d We're building Apache, not PHP.
3b1447b Fix OS/390 binbuild break Submitted by:	Greg Ames
db95a6d gcc on AIX takes -mthreads. I wonder what they smoked during creating all those wonderful flags.
941a969 Fix some remaining problems with SSI's and Windows.  Basically, the sendfile stuff doesn't work properly with chuncked data. Submitted by:	Allan Edwards Reviewed by:	Ryan Bloom
a04b640 `-follow' is a GNU extension, remove it.
25cf1b6 Revert the scoreboard change because Jim doesn't like it.
5288c0f Be more explicit about the performance of UseCanonicalName DNS after the scoreboard change.
ff4d0f2 Make OS selection work for non-UNIX cases
bbe1a36 These changes are committed together, because they depend on each other.
ffb8b69 Update .cvsignore files
0df3ec3 Rework ap_finfo_t to split the file type out of the protection field. I've taken a stab at the unix implementation but tested only on OS/2.
faff1f0 time overhaul:
e9f223a add missing compatiblity info
b69b2f1 Make our nitpicking and complaining guys happy:
2dbb9e6 Move some modules over to using ap_time_t instead of struct tm.
cc8d863 it's -> its
14f8518 Fix the rest of the modules to work with the new APR stat structure.
357c568 Fix mod_rewrite to work with the new APR stat structure. Submitted by:  Paul Reder Reviewed by:	Ryan Bloom
4870d9e Next pass at the time functions.  This defines an ap_ansi_time_t which has a specific format (seconds since 0:00:00 Jan 1, 1970).  I also renamed the (get|set)_curtime functions to (get|set)ansitime.  This should make more sense, and be a bit more intuitive.
9dd20c0 Fix a minor bug that would cause us to return FORBIDDEN for all requests.
8f26ac7 Separate the stat structure from the file structure and use ap_stat and ap_getfileinfo in apache.
528afcc Initialize all ap_file_t's to NULL.  This allows ap_open and ap_stat to work together without causing memory leaks.
d453b6e Try and address concerns about the use of the name.
7cb6de5 A few more tweaks to finish the modules work.  Now, all of the modules compile correctly with Apache 2.0. This does run, but it hasn't been tested any more than simply compiling and running the server.
25d42e7 Make mod_unique_id compile again with Apache 2.0.
ef535bc Make mod_usertrack compile cleanly.  Not tested yet.
0a9c731 Fix a bug in mod_status.  ap_ht_time expects an ap_time_t type, instead of a time_t now.
ca4788f Update these modules to Apache 2.0.  Not tested, but they compile again.
7a25914 Update mod_auth_dbm to work with Apache 2.0.  This has not been tested, but at least it compiles now.
6a9959a merge 1.3 changes to rewrite forward onto 2.0
c7edfe8 port mod_rewrite to 2.0
6786681 Get rid of ap_call_exec.  It has been #if 0'ed out for a long time, and we never call it, so I'm taking it out all together now.
7c7d0b0 Some changes to the ap_strftime function.  We now inform the user of the length of the string written, and we return a status code.  I expect the status code to mean a bit more on Windows than it currently does on Unix.
c434846 Fall back to save values for SHM_R and SHM_W, if the system does not define them.
ca9065b Fix IFS handling. This has the nice side effect that we do not need tr anymore.
5ba4711 (APACHE_INADDR_NONE) Additionally include sys/types.h, if it is available. Also added confdefs checks for the other included header files.
f6044a3 Cleanup the threads check, also resets the CFLAGS and LDFLAGS variables in cases where no threading library was found. Submitted by:	Sascha Schumann Reviewed by:	Ryan Bloom
ad82790 Fix the threads  check so it works on non-bash shells. Submitted by:   Sascha Schumann Reviewed by:    Ryan Bloom
83c8f02 Submitted by:	Sascha Schumann <sascha@schumann.cx> Reviewed by:	Rasmus Lerdorf
191c446 Submitted by:	Sascha Schumann <sascha@schumann.cx> Reviewed by:	Rasmus Lerdorf
cf09b66 Submitted by:	Sascha Schumann <sascha@schumann.cx> Reviewed by:	Rasmus Lerdorf
ef6a9f8 Finish the MPM decision logic.  This moves the threads checking stuff into the mpm directory where it belongs.  It also adds logic so that if threads aren't detected, we automatically choose to use the prefork mpm.  Lastly, I also cleaned up a variable name to make it more consistent with the other variables used in our configure script.
84f9b5d First stab at logic to determine which threading library to use.  This also gets rid of the hack of always putting -pthread in the CFLAGS variable.
a3a24e1 This fixes the bug in my last commit.  Apache always caches a value for enable-threads.  This allows us to re-configure the server for different MPM's without worrying about not having APR-threads available.
3f4fe1c Clean up APR's configure script a bit.  This commit also allows Apache to specify that APR should be built without threads for the prefork MPM.  This is broken if we then try to configure Apache again using a threaded MPM, but this is easily fixable, and I will be doing that soon.  Lastly, I removed all thread calls from APR when it is told to build without threads.
e672e9d I don't have to get up before 2PM for almost 2 weeks!
6e5e06b --include-deps only seems to take advantage of pregenerated dependencies, and makes the build process refuse to generate them, so this removes it. It should be used when making a distribution, though.
53e662b Remove a bunch of functions that are being replaced by functions in APR. Also finished porting Apache to use APR in most cases.
ce25587 Documentation update for latest TPF changes
ed4c96e Change ap_gm_timestr_822 to ap_timestr.  Now, one function can be used to get a timestr for GMT and Localtimes.
c60be44 Fix compile break introduced to Apache 2.0 by the mass vhosting security fix.
5ef2a1e Fix the mass vhosting security problem spotted by Lars, as in 1.3 Submitted by:	Ben Hyde Reviewed by:	Tony Finch
2d433bb [insert weather comment here]
319baed Add back support for UseCanonicalName in <Directory> containers. Found by Dave Colasurdo <davecola@us.ibm.com>
fb179c8 Add back support for UseCanonicalName in <Directory> containers. Mistake was found by Dave Colasurdo <davecola@us.ibm.com>
1f1dac6 We don't need the capability to build an acconfig.h anymore; AC_DEFINE provides everything we need for equivalent functionality. This change deletes the intrastructure that built acconfig.h.in before.
e32d1ed Windows: Can now install/uninstall Apache as a service and start/stop apache via net start and net stop commands. Not extensively tested, so there may be bugs in this still.
f69d6ac Get rid of the C++ style comment.
ec1cc5b Handle -k restart|shutdown command line option from http_main.c
8c56e6d First step in getting Apache to use APR's time libraries.  This gets a good number of them, but I think there are more time values still in the Apache code.  This works under Linux, but has not been tested anywhere else.
135f1dd Speed up building, by making --disable-shared the default until we put proper DSO support into the autoconf configuration scripts.
c90bca7 Don't actually run ./configure in buildconf, it wastes lots of time if we want to use ./configure's flags, among other things.
74b8962 We actually don't have to remove config.cache, because AC_CONFIG_SUBDIRS redirects APR's config.cache to point to Apache's.
f1451ac Make building a little easier by not requiring a separate make of APR.
8c0183b Eliminate the .h.stub files; AC_DEFINE can generate the necessary #defines in the config header for us.
9a754c2 Put back the removing of config.cache. Also add a -f flag to the rm to eliminate a warning.
eb59fcb mmap_static isn't in the standard directory yet; this directory shouldn't try to configure it.
d90986d Make Apache's configure script run APR's.
7ae5490 We need to run autoheader to compile APR.
8467d26 Uhm... forgot require directive...
73ef731 Add some links.
2e7317c Deal with newline at the end of the module list.
c0dd97c Build APR, too.
d7e7dba minor fixes
7f31f4c Remove some nuisance warnings by changing int to ap_ssize_t. Also add a default MPM_METHOD for BeOS.
4b67035 Update Apache version in windows registry.c file
4517101 After a few hours of thorough testing, this patch makes CGI's through SSI's work properly on Linux.  We will be testing this change on Win32 momentarily, but because we are relying on APR for the dirty work, I have no fears.  :-)
afeeaee Include mod_include and mod_so in the Windows build. Submitted by:   Allan Edwards Reviewed by:	Ryan Bloom
cf2a9f7 Fix mod_include so it works.  Both people came up with very similar patches at about the same time.  Since the work was duplicated, I am putting both names on the patch. Submitted by:   Allan Edwards and Paul Reder Reviewed by:	Ryan Bloom
2a91212 Peter Watkins writes: In September, there was discussion of mod_log_config and some need to break the client request "%r" into its separate components. A patch was committed to the 1.3 dev tree that exposed the method and protocol request members as "%m" and "%H". It was noted that "%m %U %H" was not the same as "%r" because %U does not include query string information. The attached patches add support for logging query string in such a way that "%m %U%q %H" is the same as "%r". I would like to see this committed to take care of the unfinished business begun with "%m" and "%H". Thanks,  -Peter
ecf9bb2 Getting rid of more warnings in the prefork mpm.
76b770b Remove the readdir files from os/win32.  These are taken care of by APR now, and they have been bothering me.  This is my first attempt at generating a Makefile for Windows, but it seems to have worked for me.
84ade74 A small change to allow Apache to run on the most recent versions of BeOS.
9b7c1b3 Cleanup the Windows build a bit by getting rid of more platform dependant code.  Still won't compile cleanly, but we are closer.  I am hoping for a clean Windows compile by Friday.
bea42aa Make CGI's work correctly in Apache 2.0.  APR wants the first element in the argument list to be the program name.  This is exactly what POSIX requires, and what Windows wants, but Apache 1.3 would create the arg list, and then have another function squeeze the program name in later.  This patch fixes that by having mod_cgi put the program name the correct place.
e0f0562 Make prefork compile.
57a64fe Fix some warnings when configured with --enable-maintainer-mode. ap_start_(shutdown|restart) are no longer static in dexter, because we explicitly state we are creating them to be called from places other than the parent.  This is the first in a series of patches to get the 2.0 code to compile cleanly again.
0d02294 Get rid of more platform dependant code.
02912a6 Update STATUS
f8be925 Get rid of a couple more ap_os_file_t's along with their platform dependant code.
dc89301 Use ap_open_stderr in http_config.c.  This cleans up some non-portable code that has been bothering me.
516c90f Get rid of an instance of ap_file_os_t from the Apache source.  I will be finishing the cleansing of these interim variables over the next few days.
fd54e29 We now make the decision to USE_MMAP_FILES based on whether or not APR has MMAP.  If APR_HAS_MMAP is true then USE_MMAP_FILES is true.  We also no longer check for MMAP in autoconf within Apache.  Apache relies on APR to give us MMAP functionality, and therefore doesn't need to check for itself.
119e3e9 AIX DSO tweaks. Enable use of native DSO for AIX 4.3 and beyond. Apache DSO emulation breaks with 64-bit compiles of Apache and AIX DSO support is broken in releases prior to 4.3.
0c41b90 	Add a note about DNS being required on Windows.
0678b2a Removed these a bit too soon. Adding them back.
62b6269 Fix Windows build break
2a97b2e 	Add the AddCharset functionality to mod_mime.
27e7900 OS specific patches for IBM's OS/390.
8fed55e An indented "#include" can cause problems on some compilers. Make sure it isn't indented.
7713abd Add license statement to util_win32.c
a43d944 Win32: First cut at getting apache -k restart|shutdown and running apache as a service working
b2a0a30 	Add ability to handle arbitrary methods to Script directive.
daa98a8 Fix even more "-i" -> " ap_context_t " changes.
82e1bf0 If we can't open httpd.conf, print a warning, but don't die. Otherwise, you can't install a module into a package root.
e1f06af Perform check for "$CFG_SBINDIR/$CFG_TARGET" _after_ the command line overrides for CFG_SBINDIR and CFG_TARGET have been evaluated.
80dcca5 Add strucutre to autoconf-config system to allow modules to specify config tests to run if they are enabled.
fe0249e Make most other modules selectable by autoconf's ./configure.
7c98fdc Oops, changed the default status of mod_env for testing and committed it.
c15f582 Move the default status of module inclusion/exclusion into the STANDARD_MODULE macro, to make it a little more maintainable.
c3584b7 Make the call to configure a module a little simpler if the module struct's name is the same as the module's.
f49f38b I shouldn't have to explicitly provide an MPM.  I am setting the default as mpmt_pthread.  I would much rather it was prefork, but the autoconf work hasn't progressed to the point that prefork will work yet.  When it does work, I expect the default to change.
876b8f3 autoconf: Start adding support for selecting modules on the ./configure line. This commit only supports mod_env and mod_log_config.
a653c44 The possibility of a libenv module and a libenv system library (for example) irks me. Take a page from PHP and make the module's library names unique.
869a58d autoconf: Generate modules.c based on configuration. This is the first step to supporting selection of modules, and it seems to make --with-mpm actually work now.
95c3a48 Disable the DYLD_CANT_UNLOAD workaround for Mac OS X Server, since the current version (and the patched older version) doesn't need this any more.  We don't want to delete the code from unix/os.c, however, because OpenStep's dyld needs it.
1ab6b7b The Unix MPMs were depending on APR for signal.h, and broke. Add an explicit #include for it back in.
b259c85 We may not always want to make the pipes between processes non-blocking. This patch allows us to set if both sides of the pipes are nonblocking, both sides are blocking, just the parent side blocks, or just the child side blocks for all three of the pipes created during create_process.  I have also modified Apache to take advantage of this change.
bff9424 Bring mod_mime_magic to Apache 2.0. Submitted by:  Paul Reder Reviewed by:	Ryan Bloom
b1faf30 A thread (of messages) in comp.programming.threads reminded me of this. Blaaaah
adc118e 	Add the long-awaited IndexOptions DescriptionWidth keyword. 	It was waiting for a way to avoid breaking HTML tags, but 	that's already been done as much as possible -- we can't 	do anything about breaking HTML elements without putting 	a full parser in.
f73baa3 	Add a FoldersFirst keyword to the IndexOptions directive, which 	causes subdirectories to always appear first in FancyIndexed 	listings.
6fc9499 Fix a couple of comments
b1cb0fb Place ap_config_auto.h in src/include. It didn't seem to work earlier, but it does now. *shrug*
c264c5e Fix what I think is a bug where rlim_t won't be #defined on systems that need it if the autoconf check for it was cached.
04c494c Eliminate ap_config.h's checks when using autoconf. Now, ap_ac_config.h is used instead, and autoconf's configure script will check for everything else.
1582947 Get rid of ap_check_signals() in all but the prefork MPM, and #define it away there. It's a TPF-specific piece that will likely go into a TPF MPM.
4f70d9d Remove a vestige of the old timeout system. ident lookups need timeouts, though.
c31d4db Some compile fixes for the piped log code. It doesn't completely completely compile, but it looks a little better.
e11d345 Add apr_thread_proc.h so it can find ap_proc_t.
5ef0434 Delete remnants of ap_spawnvp that got missed earlier.
3cfe815 Deal with times() properly in autoconf. This also changes NO_TIMES to !HAVE_TIMES.
5e8f51c The extra (n < 1) check is redundant, leftover from pre-APR code.
8906cb9 Some extra autoconf macros that might help us compile on "a POSIXized ISC UNIX" or MINIX if someone ever tries to do it.
ed08c67 Fix a thinko. Apache's configure.in shouldn't attempt to create APR's Makefile.
23692e4 more accurate reflection of reality
dc594d7 Autoconf can heal your family strife. And it's also a floor wax!
c6b9cc4 The second part of the big autoconf patch, which actually adds autoconf building to the tree.
a7a251c The first part of the big autoconf patch. This replaces a bunch of NEED_* macros with HAVE_* macros to be more consistent with autoconf.
d46c42e First cut at getting graceful restart working with the AcceptEx completion port
2b60007 Added missing links to htdocs/manual/mod/directives.html for AllowCONNECT and ProxyDomain.
e6f39ce Fixed typo in htdocs/manual/install.html.
71a71fd Clean up some code that BeOS doesn't use.
e35f6d1 Update some dependancies.  Move the final two files out of apr/inc and into apr/include.  Basically just finish some cleanup from some changes I've been making over the last two days.
97660e6 Hmmm, turns out that the nice event library for network events on PalmOS only applies to the wireless transceiver. Oh well, I guess select() will have to do...
51fb18f Fix a spelling mistake and we probably shouldn't put Internet Exploder in any official Apache documentation.
444531b Clean up the getopt stuff a bit.  Basically, I am removing the #define's, and changing the names in the getopt.c file so that we are sure there is no namespace collision between regular getopt's, and APR's getopt.
7b7373e Use APR's getopt
98ad401 Next stage of ap_mmap support.  Tested on FreeBSD and BeOS.
409d49d Remove the ap_thread_mutex code from all MPM's.  This code isn't actually being called anywhere, and I have compiled dexter, mpmt_pthread, and prefork without it.  Away it goes.
9ca05a3 Initial version of CGI Daemon module.  This module needs to be tested more thoroughly and cleanup up a bit, but it does execute CGI's currently.
e384163 Update STATUS to get rid of the fprintf(stderr problem.
e0ff64c Finish the conversion from fprintf(stderr -> ap_log_err.
975ea85 First step in removing the fprintf(stderr problem from Apache.  Basically, I defined APLOG_STARTUP, which refrains from printing the date string and the log level information in log_error_core.  I then changed all the fprintf(stderr calls to ap_log_error, and used APLOG_STARTUP. log_error_core on Unix takes care of creating a log file and directing it to stderr if a log file isn't already active.  I will continue to make these changes tomorrow.  Currently, the main code and the dexter mpm have been modified.
d2d0f2d Cleaned up the APRFile uses in Apache.  Also removed the apr.h header file because it is no longer used.  Finally, I updated the dependancies to compile cleanly.
370fc31 Cleanup the ZZZ comments.  Basically these used to mark places where APR is needed.  It is much easier to do this conversion by hand than by searching for old comments, so they are going away now.
cb7f5c2 Update the STATUS file a bit.
8ab5b2f explain how ServerName interacts with NameVirtualHost better
559b646 ap_clean_child_exit is static in dexter now, and the ap_ prefix is gone.
5f0ffa5 Eliminate acceptlock.c from mpmt_pthread. Use an APR type for the cross-process lock instead.
a9aec2c Allow NO_SERIALIZED_ACCEPT to work.
3404041 Eliminate acceptlock.{c,h} in dexter. They mostly duplicated code in APR.
1901b23 Moving Unix socket IOL's to use APR.  Also fixed a small bug in ap_recv. We should NEVER return a status of APR_EAGAIN and say -1 bytes read.  This can cause some strange bugs.
23ec881 remove a superfluous tag that I just spotted
c9cedfa Make mod_so.c compile. Loading modules crashes for me though, haven't figured out why yet....
e3e874f Fix a race condition found by David Colasurdo <davecola@us.ibm.com>. We should make sure that the parent notes the creation of a child process in the scoreboard so that perform_idle_server_maintanence doesn't get the chance to claim that slot.
0311290 Update the STATUS file with three new items.
326753c Fix error logging calls (kinda).
016cf85 Add printf format for ssize_t.
7c3faef mod_autoindex has a small bug when calling ap_readdir. This was causing empty indexes to be created. The following patch fixes this problem Submitted by:	Paul Reder Reviewed by:	Bill Stoddard
3fb176b Get rid of dependency on os/win32/getopt.c & .h
ade0310 Get rid of a number of 'incompatible pointer type' warnings using ap_os_{get,put}_file() on platforms who's ap_os_file_t is not an int.
de46b10 Stop using APR_BUFFERED for the error log and httpd.pid file. The error logging code has been tweaked a bit so that we still have one write per log entry.
e63638c Export ap_send_error_response
af0cac1 Get the Windows 95/98 specific code compiling. Have not tested it though...
d7b029f More stuff to do
554a228 ToDo: timeout pipes to CGIs
8ce6fe8 Some updates to STATUS...
c4ae1f9 First cut at port to apache-2.0. Simple tests are working. Error handling is still not quite clear in some cases (especially in conjunction with ap_pcfg_openfile), and random-number generation still needs to be moved into APR.
2829b12 OS/2: Don't return APR_EOF from ap_read(). EOF is indicated by a APR_SUCCESS status with nbytes set to 0.
640d899 Fix yet another APR bug. This one caused sporadic CGI failures.
a979606 Fix bug setting localaddr and remoteaddr
e82c150 No, PalmOS doesn't have threads or any process support other than a task swapper, but it has a TCP stack with non-blocking I/O and an event subsystem that will report on socket status changes. A PalmOS MPM shouldn't be too much trouble at all.
6641c11 Add some return code checking and general tidying up.
8fb4c0b Add support for connection_info to BeOS.  This follows the stuff Manoj has added to dexter.  Also take the opportunity to clean-up some of the code.
b0a727c De-errno ap_pcfg_openfile().
b4c19fa Delete useless code...
ee53e27 First cut at adding a sendfile API to IOL. Eventually need to move iol_socket into APR...
bc88b5f Change the BeOS iol_socket layer to use apr.  Also update mpmt_beos.c to reflect this change.
5f01862 First hack at getting mod_include to work. Everything seems to work ok but error handling probably needs some work.
1ef7c3d OS/2: When shutting down, kill off child threads properly before shutting down parent thread.
9da8532 OS/2: Bump up thread stack size. 64k just wasn't enough when doing sub-requests in mod_include.
36fdf82 In ap_send_fb_length() don't treat APR_EOF as a fatal error.
02b6ff4 Still no progress on the PalmPilot MPM, though.
2f075c5 Fix mod_asis handler name. This was messed up with Ryans accidental search/replace of "-i" -> " ap_context_t " and the subsequent fix was slightly out.
d25def5 Eliminate use of FILE * & ap_get_os_file() in mod_asis by APRizing ap_scan_script_header_err().
570a2b8 Finish removing references to errno from buff, by introducing ap_berror() to return the status from calls that don't return an ap_status_t.
2c5ab99 Undo the ap_bgets errno patch. It will return status with ap_berror().
9056dc8 An errnoless interface for ap_bgets
b73b1bf ap_bwrite now exports an errnoless interface.
d74bab7 Change ap_bread's interface to no longer require errno.
080f230 Get rid of an implicit malloc, by making ap_create_tcp_socket use the process context.
ad80b8a Force ap_put_os_sock() to create a new ap_socket_t by presetting what's passed in to NULL.
4186d61 Fix a couple of pool-related bugs that may or may not be causing actual problems. This makes sure that all interactions with the thread_pool_parent are mutexed, and makes ap_put_os_sock use the correct pool in worker_thread().
9997c83 OS/2: APRize iol_socket
e811118 This gets the BeOS mpm working again.  I'm still using the poll provided by RSE as so far the APR poll hasn't delivered enough performance.  I'll fix it once I've got some other problems out of the way.
777eda2 Include all the registered media types as of today.
5630e64 Add CVS Revision number to ab.c to allow for detecting changes which were not marked by a version number update. Additionally, display base repository name (apache-2.0)
ff2959a Ops, I forgot to include this file in previous commit
d846c65 A little bit of error logging to help with debugging.
2ab1a9c Only process a connection if we've actually accepted one.
8c4d317 ap_bflush and ap_bclose now return ap_status_t error codes instead of returning -1 and setting errno.
0c15754 One ap_bflush to the client wasn't checked. Now fixed.
3003fe4 Take advantage of ap_new_apr_connection in dexter
b1223a5 Fix warnings from the local/remote_addr stuff properly.
cd45909 Fix warnings, and fix a segfault in the process.
010eb12 Make args to CGIs work.
9030edb Size rigour.
df37d04 Add a context parameter to ap_accept() for the connection socket to be allocated from. This is needed because the lifetime of a connection is ususally much shorter than that of the listen socket. Only tested on OS/2.
5b14910 Fix an ap_log_error() call.
2430058 Enhancements for APR network_io. Adds separate local/remote access methods for a socket's port, IP address and sockaddr_in.
e7d4a01 Be on the safe side
5d63973 mod_speling runs in 2.0-dev now: a bug in (linux?) readdir_r handling and interface adaption to APR functions did it. [Martin Kraemer]
9f432e5 I am not claiming that the modules work now, but at least the parameter lists are prepared for the updated ap_log_rerror() format. BTW: What is APLOG_NOERROR for now that we have an explicit error code? This is still WIP!
f31a42f **WARNING** DO NOT USE YET - interim state This module now compiles, but it appears to loop. I'm currently on the Systems'99 trade fair and will continue work on the module after returning home. Pool types have been adapted to ap_context_t; ap_popendir() has been replaced by the new ap_opendir() APR function.
09b7396 Bring the BeOS mpm up to date with the error logging changes.
da5c37e This brings BeOS back up to date with the recent changes.
856a8fe This patch fixes EBCDIC conversion for Apache 1.3.9 on platforms that support mmap.  Currently, ap_checkconv() is called only if mmap is not supported, or if mmap fails.  This results in mangled .gif's and .jpg's etc. because EBCDIC-ASCII conversion is done by default when CHARSET_EBCDIC is defined.
50c3f70 Missed this one when I was making the support programs compile on BeOS.  All should now compile on "vanilla" BeOS.
7eb6c14 Fix an ap_log_rerror call in a Win32 code branch
63d603f Nuke WIN32ERROR
2423884 Fix broken ap_log_error() calls.
1196e65 Fix dexter after adding a status code to ap_log_error broke it.
b1889e8 Fix mod_cgi so it works on Unix systems.  We need to be VERY careful about calling ap_cleanups_for_exec now.  There is really no reason to call this from outside of APR, unless you are specifically doing a fork/exec. If you use ap_create_process, it will call ap_cleanups_for_exec for you in the right spot now.  Also cleaned up some of the code because it helped with debugging.  We need better error messages in mod_cgi now. iCVS:
3c6a4c7 Apply ap_log_error() errno parameter addition to a few more files.
482dcf3 Add a status value to ap_log_error and ap_log_rerror.  This allows us to use apr_status codes in our error logs.  The main advantage of this, is portable error codes.  Now, Windows will finally be able to use errno!
db0dd36 Use APR's getopt.
77917c5 Need APR_CREATE flag when opening error log & pid file.
4f64017 Fix GetAcceptExSockaddrs plus a few tweaks.
c120d4f Prevent collision with APR symbol of same name.
500c4b4 Delete some old unused code that was breaking compiles.
6e5821c Update spmt_os2 MPM with APR changes.
2df9fc5 Eliminate warning about create_argv_cmd being unused.  Code's topology needs work.
1118174 A couple of arg swaps on ap_open
dd1f752 ifdef ap_call_exec out but keep it around until we get mod_include updated to use the new APR proc API.
97ba63a Fix argv list generation bug.
234823c I missed one function when swapping paramters.  This fixes it.  I think I have caught them all this time.  I really hope this is the final time I have to swap parameters.
05c13df Grrrr, commit apachecore.dsp rather than apachecore.def... This adds mod_cgi back into the Win32 build
50d0f1d Add mod_cgi back into the Win32 build
512a320 Still does not work reliably, but it's closer to being right.
497fac3 Add calls ap_get_connections and ap_get_connection_keys to the connection status API, and add implementations of these calls to Dexter.
c44acc8 This correct mpmt_beos for the recent changes of argument ordering for ap_get_os_sock.
340a9f9 Whack a warning.
43759f1 Remove two bogus decls.
2cf21a3 Redundent and out of synch global.
ec15673 Remove all but one WIN32 from http_main.  Other minor changes.
6a0d39f Add a config directive to Dexter to not maintain any connection status, similarly to what ExtendedStatus did in 1.3.  It's not perfect, since the server might still go through effort to derive status info only to have it not recorded, but it does go most of the way.
8dfd787 My connection status patch broke all the MPMs that didn't have connection status support yet. For now, throw in stub functions so that the server compiles.
777a05a Must have missed this in the past. Sorry.
8d98d62 Add a connection status table to replace the old function of the scoreboard. It allows MPMs to implement their own mechanism for the status table and allows any module to add its own per-connection status entries.
924c199 Eliminate a warning.
6bef7d2 Attempt to make ap_send_fb work again. This is untested, but it works better than the old version because it compiles.
c24df12 Need to pass in just the directory, not including the filename. Note that CGI arguments are being completely ignored. suexec needs to be handled, the CGI arguments need to be canonicalized (e.g., quote args containing spaces, etc.) and ScriptInterpreterSource needs reimplementing. Whew!
312ea66 Fix bug interpreting cgi_child return code. Do some clean-up.
2fcdef7 Make sure to use ap_null_cleanup instead of NULL when setting an empty child_cleanup.
2792406 Fix function arguments to respect APR's New World Order.
b9c7d0c I cannot solve this right now. But this variable sure was uninitialized
8c18eee Remove most of the annoying "re ap_context_t mplement" mis-replacements by what I think is their real meaning. Guys, I didn't verify all of this, please have a close look at my "fixes". Thanks.
0c76735 Fix typos
30d1160 Typo
15be4a2 First cut at migrating mod_cgi over to APR. Still needs some work to make it Win32 friendly (use named pipes, etc.) Submitted by: Paul Reder Reviewed by: Bill Stoddard
a9c5b29 These changes allow the support programs to compile on BeOS.
25c184d This finishes the argument swaps.  The docs haven't been updated, and probably won't be for a while yet.  These argument orders have been documented in the APR Design doc committed earlier today.
b692902 Apply Ben H's patch to the winnt mpm...
6dce1e0 Update win32 exports files
86839cc Yarg... more argument swaps...
018feac Make Apache use the new ap_create_process call.  This is the first of a group of patches.  This patch, allows the core server to compile and serve pages.  There is a set of patches which will follow to allow the standard modules to use ap_create_process.  This change should make writing code which spawns new processes easy to read and understand. Submitted by:	Paul Reder
644262a Bring network code to the parameter order spec.  This means contexts go last, and result parameters go first.  Also fixed a small bug in the Makefile.  We should be removing the libs dir when we do a distclean, we are now.
953b197 Attempt to port mpmt_pthreads to APR, but threads seem to be broken on my plaform so it is only partially tested.
eb03752 Incorporate Ben's changes to ap_listen_open in the beos mpm.  Also used the opportunity to make the setup_listeners routine the same as the other mpm's.  If we're all doing it the same should it be in an mpm at all?
ad9eee1 Use AcceptEx with an async completion port. What we are gaining here is LIFO dispatching out of the worker thread pool.
4dce9f2 Well here is the first attempt at an mpm for BeOS.  It's based on the mpmt_pthread module but is totally threaded as that what BeOS needs.  There's a lot that can be improved but now that it's committed others can start looking and helping.
03f8883 I think this was missed earlier, and as BeOS doesn't define SO_SNDBUF it was stopping the build.  APR_SO_SNDBUF is defined and so all is well again.
1c73c43 Make prefork's setup_listeners looks like the others'.
403c858 This module wouldn't even compile: the parameter list of setup_listeners() was wrong
7b311b0 Re-sync to most up-to-date ab.c version 1.3b
db9bd13 ap_server_argv0 was undefined. Use a simple default (basename(argv[0]))
5ce5086 ap_listeners must be extern, otherwise you get multiple definitions
cd06de1 Well this was thought provoking.
2921356 Add process_rec to the top of {server,connection,request}_rec hierarchy of structs that abstract server activities.  Store some stuff in process_rec (finally a place to have nearly guiltless globals) for example the global and configuration pools.  Put some operations on process_rec in http_main, in particular the destroy_and_exit operation, and the use it to do all the exit calls. Change ap_read_config to operation on this "object" rather than on the configuration pool.  Modify server_rec to point to the process, so you can get at it most all the time which should finally allow most of the server's malloc calls to be eliminated.
6223111 Duh.
7298ff9 Changed my mind, ptemp maybe "systolic" but since it is empty during the entire time the server is serving it's best to destroy it.
9bbc528 Man!  This file vastly improved.  Thanks Dean!
e75cbac Bring file_io up to the new parameter order for APR.  I have decided to do these on a directory by directory basis for the rest of APR.  I hope to cause fewer problems for other developers by doing it this way.
e852186 Remove obsolete ap_util_init function.
1c3fd58 Use new parameter orders.
59ea2a7 Fix bug with listenmaxfd. Get rid of a few signed/unsigned warnings in the same area.
084697c Add a couple of missing function declarations
4d90d23 Convert CriticalSection and mutex into apr_lock_t and delete the old lock code.
6737d44 Update ap_send_fd() and ap_send_fd_length() to use an ap_file_t. Hummm... Still need to get sendfile() in. First, lets get the serving basically working again :-)
5b68bf4 Temporary hacks to the Win32 project files to get the server working
c0223c4 Simple name change.  the function ap_gets has been renamed to ap_fgets. This is more in-line with what the function does, and how it acts, so it makes sense.
2b361ec First patch to re-order function parameters.  This one gets the low hanging fruit, and moves most of the result parameters to the first argument. Future patches in this series will move the rest of the result parameters to the beginning of the list, and will move the context's to the end of the list
fe8b49c Exit the child process if too many select errors
3c8c4f8 Stop CVS from complaing about a manually created src/lib/pth/ subdir if one build with GNU Pth through the pre-configured setup in config.options.
f560513 Make the support stuff finitely working again.
9686424 Restarts were hosed after the APR changes because we were opening sockets even when we had them open already. So, for now, add an "active" flag that indicates whether the socket stored in the listen_rec is an actual open socket yet.
76eaf4d Fix some broken logic. This logic now replicates what is in Apache 1.3.
99154f0 When generating the Location: header, mod_speling forgot to escape the spelling-fixed uri. (Forward-Port from 1.3)
8412e9e Move ap_pregcomp and ap_pregfree from APR to Apache proper, since these functions depend on Apache's regex libraries. This also should fix compilation on platforms not using hsregex.
36e163d Make ap_getipaddr threadsafe.
bf339f0 Instead of blocking all signals in child_main, we were unblocking them; this fixes that. Reported by Dave Colasurdo <davecola@us.ibm.com>.
df49c9b Update FAQ with winsock 2 info..
e4e32bb A change to how APR uses user data.  Now, user data is a linked list that is retreivable using a char string.  Basically, you provide a string that will be used as a key when you store the data.  If the key was used before, we will overwrite the old data.  When you want to retreive your data, pass in the same key, and we will find the data you care about.  This also makes it harder to put user data in when creating a context, so that option has disappeared.  It is also impossible to inherit user data from parent contexts. This option may be added in later.  I will be documenting this VERY soon.
4d628b8 Cut out cruft... More APR'izing...
7b3e04a Add apr include file search path. Remove alloc.c and alloc.h
792093e Add apr include path to win32 dsp and make file
e400447 A bit of WIN32 header file cleanup
5536bd4 Fix warnings.
5e2efaf Use return status instead of character value for EOF.
ef225bd Really get rid of unused options.
44f0c44 This change should allow Apache to build on all platforms with the popenf changes.  I have not been able to test this, but it should be evident what I am doing if it doesn't work.
e07f7c5 Make prefork compile on FreeBSD.
ae0f09d Update dexter to work with the latest APR changes
69adf37 Remove all of the calls to functions like "ap_popenf".  These functions were moved down to APR, but they are being removed.  They are not portable, and were only moved down for backwards compatability.  With this change, they can be safely removed, which is the next commit on it's way. Submitted by:  Ryan Bloom and Paul Reder
a5c3bef beos updates from David Reid <beos@server1.jetnet.co.uk>
127b626 The closesocket define causes problems on BeOS. Get rid of it where appropriate.
1871f5b Fix hyperlink
bea1f60 Moved mod_auth_digest.c from experimental to standard.
43afd89 More TPF-related changes. Among them:   - Code reorganization to eliminate some TPF #ifdefs   - Tweaks to the regex code for easier testing   - Documentation and build updates   - Notes in the CHANGES file Submitted by:	David McCreedy <McCreedy@us.ibm.com> and others at IBM
c06820c Fix all of those annoying --i -> - ap_context_t problems caused by a search/replace gone wrong.
dd0ea1f "Our computers are down. We'll call you back tomorrow morning." Grumble.
edccfa0 Fix dexter to work after Ryan's context patches.
c0d472f Fix faulty comparison. MSVC TRUE == 1 while Borland TRUE == -1 PR: 4333, 4887 Submitted by:	Sergey Verlan
d2ce3ea Fix some errors from a global search and replace gone wrong.  This should let the new context changes work on all platforms.
c37f14d Changed pools to contexts.  Tested with prefork and pthread mpm's.  I'll check this out tomorrow and make sure everything was checked in correctly.
e6991d4 Forgot this hook...
be33dd8 Link in the winnt mpm
c74ebcb Port a few more modules to use the new hooks style.
180ebd8 Add couple of hooks to the APacheCore.def file. Port mod_auth_anon and mod_digest to use the new hooks.
0ac617f Lost the Apache feather icon along the way. Adding it back in...
2d1330f Update OS/2 MPM for latest hooks.
3b4a449 Remove some shadowing warnings. Avoid some possible confusion as well :)
974308f get rid of two additional warnings
3712327 clean_child_exit() is really used globally inside dexter MPM, so rename it to ap_clean_child_exit().
989bc03 Fix the following bunch of warnings in dexter MPM:
895541e Make ``configure --with-option=devel'' under GCC 2.95.1 happy by avoiding various warnings...
dca4c56 Enough for one week.
9b1c6b4 no shortage of things TODO
8e53719 Remove error message that was missed in an earlier merge with 1.3.x.
bd3555a Fix merge bug
888b1f4 Move "handler not found" warning message to below the check for a wildcard handler.  Gee, you'd think someone would have fixed it before seven PRs.
cb7f073 A bunch of changes to get the server compiling on WIN32. mod_cgi, mod_include, mod_isapi and mod_so don't work so I am not making them. Moved a lot of code out of multithread.*  and into os.* (didn't want to add multithread to the new repository). Much of this can be cleaned up when APR is stable.
b8390cd Reverse the unnecessary change to the interface of ap_parseHTTPdate() that was discovered while rebuilding the repository.
07fb6d5 Some cleanups. Among other things:   - The scoreboard is gond, so we don't call it that anymore   - We were accessing the child table through a weird combination of     wrappers and direct access; just switch to direct access and get rid     of scoreboard.[ch]
4d539e1 Reverse the errors from bad merges that were found while rebuilding the repository.
a7da3d2 Be consistent with how we indicate child death and use status = SERVER_DEAD instead of pid = 0. I don't think this actually caused any bugs, but just in case...
c78db03 Fix a bug in setting max_daemons_limit that could lead to not noticing that a child has died in some cases.
db78238 WIN32: htdigest and htpasswd project and make files for Win32 were deleted somewhere along the way. Adding them back...
6f359c7 Yay! A whole new repository for silly comments about weather, pop culture, and spoons.
0813374 First crack at a status file for Apache 2.0. Please fix mistakes and add/rearrange your pet projects
647c120 Now that this beast was officially declared as the Apache 2.0 stuff, let it also say this in his Server headers while testing.  Those who dislike numbers: feel free to name it "foo" or whatever meaningless if it's important that we still do not use numbers. I just want that the version corresponds to the repository area, because I often get confused by running different Apache versions on my development box.
2ab93cc Get rid of the stupid Id line that makes merges impossible.
137d3a7 Update all exports for pthreads and MPM
f94d181 Add define for ap_spawnvp.  Dean removed obsolete symbols NO_OTHER_CHILD and NO_RELIABLE_PIPED_LOGS.
53d7c13 Add ap_spawnvp for thread safety.
5e029f9 Update (or is this reversing ???) the JCL examples for TPF.
5030a21 OS/2 EMX library's select() isn't thread safe so bypass it and go direct to the OS/2 API call. Unfortunately this only works on socket handles which will break probe_writable_fds() so I'll have to find a way to fix that too.
5bfbb0b Changes for thread safety in pthreads.
c4eb9d8 Changes to mod_status so that the two new states for threads are recognized and reported properly.
c77235f Replace comment about SIGUSR1 with SIGWINCH.
bf83ee0 Remove ap_excess_requests_per_child reference that broke compilation, for now anyway.  Likewise for run mode, which is now obsolete.
47303a8 TODO: changing directory should be handled by CreateProcess
f971d0d Remove support for ap_suexec_enabled
3dfd8e0 Modifications to make mod_unique_id thread safe.  This should work on Windows, but no guarantees.  I haven't verified it will always give a unique ID, but the logic is good.  I'll write some test cases to see if I can make it fail later.
dc34953 Remove timeouts as part of pthreads changes.
3c42b1a Extra bit left off of hook additions.
9f817aa Start to implement module-defined hooks that are a) fast and b) typesafe. Replace pre_connection module call with a register_hook call and implement pre_connection as a hook. The intent is that these hooks will be extended to allow Apache to be multi-protocol, and also to allow the calling order to be specified on a per-hook/per-module basis.  [Ben Laurie]
aa9f315 Add prototype for ap_select on OS/2
174302f More MPM changes.  Remove NO_OTHER_CHILD defines.
e7fd968 Special Support for User-Space Threading Environments
d747e33 More MPM changes. Remove ap_can_exec and add a couple prototypes.
08ef8a4 Optimize ap_make_dirstr_prefix().
3e46488 Replace file descriptors with APRFile.
44679ab Odd comments and leftover bits from the pthreads version. The comments really should be deleted, or at least cleaned up.
75496e7 Add an erroe message when handler not found.  This may be bogus, since a change similar to this in 1.3.x generated many PR complaints.
c6ba43b Replace SIGUSR1 with SIGWINCH
49d31d3 TODO: re-implement SAFEREAD external to BUFF using a layer
f8d5b39 Use less memory when generating an error message.
17f8455 Faster versions of ap_gm_timestr_822() and ap_unescape_url().
2bdb308 FIXME: These changes are just errors from bad merges in the past.
c5a36ee This evil little change modifies the interface to ap_parseHTTPdate() for no good reason.  It'll be backed out real soon.
1fa9e10 Sorry, but using C comments in place of C++ comments makes life for me and my compiler much easier.
e397896 Start to implement module-defined hooks that are a) fast and b) typesafe. Replace pre_connection module call with a register_hook call and implement pre_connection as a hook. The intent is that these hooks will be extended to allow Apache to be multi-protocol, and also to allow the calling order to be specified on a per-hook/per-module basis.  [Ben Laurie]
a820330 Changes from pthreads.  Removes timeouts, adds mutex. This probably breaks the proxy on everything but pthreads.
8f30e69 Removed timeouts.
fb1bab0 user and ap_auth_type fields were moved from connection_rec to request_rec
19bca35 Replace all alarms and timeouts with a mutex on alloc. Replace file descriptors with APRFile. Add ap_is_aborted macro.
4ada3bf Parts where server was eliminated from connection rec.
3686d94 Removed RLIMIT stuff, supposedly to be implemented later in mod_cgi. Disabled suexec, supposedly to be reimplemented later.
bab4dcb Rearchitect the mess in http_main.c, http_core.c and buff.c. Basic restructuring to introduce the MPM concept; includes various changes to the module API... better described by docs/initial_blurb.txt.
b09d9fa Replace file descriptor with APRFile [Dean]
96f8ecb A run alias for personal use.
c238bb5 Make process model directives conditional based on MPM module. Add examples for each MPM.
1e58967 Reduce default MaxClients for testing MPM. [This file is probably obsolete  -- Roy]
6678539 Update Lars' key
77e1c3d Blush.. this should have been removed long ago. Stumbled across it whilst trying to write a quick parser to get some well formed or meaningfull semantics to then have XML or SGML to play with.. PR: Obtained from: Submitted by: Reviewed by:
e3e87d3 Apache 1.3.9 baseline for the Apache 2.0 repository.
6f96ad5 Apache 1.3.9 baseline for the Apache 2.0 repository.
ef31f58 Apache 1.3.9 baseline for the Apache 2.0 repository.
77c2776 Apache 1.3.9 baseline for the Apache 2.0 repository.
77acd90 Forgot listen.c in the earlier AcceptEx patch to winnt.c. Enable winnt mpm to detech OS at runtime.
f00de85 Use AcceptEx (a.k.a. accept and receive) on windows NT. Begin work to make the WIN9x code co-exist with the NT specific code. Since I started this work, I've managed to improve the static page serving performance of Apache on NT by almost 50%. Still a long way from Apache on Linux though.
620daec 	Spell it out in words of half a syllable.  Some people..!
d069a6e Move the code to force Expat linking into common code.
81838ad merge the differences in apache-1.3 from tag mpm-merge-1 up to APACHE_1_3_9 (a.k.a. mpm-merge-2) onto the mpm tree
e58d38b More cleanup...
7c427a4 Server will build and serve static pages (page size < bufsize) with the appropriate makefile hacks (remove mod_cgi, mod_include, etc.).
955bb54 Get case indent right.
335b6ab Unbreak dexter and pthread MPM after Ben's latest hook changes.
f98f4f4 The current documentation on the Rlimit{CPU,MEM,Nproc} directives uses the wording "for all processes", which leads one to believe that the limit applies to all of the Apache children processes. However, this is not the case. The resource limits are applied in ap_call_exec() which is only called by mod_cgi and mod_include.
9cbf724 Fix formatting.
78847f9 Child initializer hook.
9aecb9f Auth checker hook
80160d2 Access checker hook.
ad778f1 Fix a couple of error messages.
8933889 Move the ap_sys_siglist code from the Unix MPMs to unixd.[ch]
ca9beb9 Get rid of the single-child worker thread implementation for now. It's a pain keeping track of them both, and it can be added back easily..
79c072b Update listener code. Workaround stupid WIN32 bug(?) in WSASocket (fails with 10091 if the process environment block is not fully inherited from the parent). Start working on I/O layering support. It's time to make this thing serve a page. Waiting to check-in iol_file and iol_socket...
2ab2189 Add a connection ID to conn_rec. It uniquely identifies a connection at any instant in time. It's not very well tested yet.
42958e0 Add -R flag to apachectl for binary builds to work around lack of absolute path to ./libexec directory for SHARED_CORE architectures that need to load libhttp.ep.
959068f Flesh out the descriptions of dexter and mpmt_pthread a bit.
b55c2e4 Try to find overview in the MPM mess. Is this correctly described or did I misunderstood anything? Feel free to fix me...
9a2ba4f A little experiment. Add a special worker thread function for the case when only one child process is running. It eliminates cross-process serialization and can reuse the data from a poll call.
33a1a51 Move a little code around to shorten the worker_thread function a bit.
e7165f6 Still a complete hacked up mess, but getting better!
a21012b Put back the process_child_status code from 1.3. Handling of synchronous signals like SEGV and FPE is still a bit dodgy, though, so this won't accomplish much by itself.
9464934 Fix some changed assumptions in config file format.
98e3163 Use <!--#include virtual="footer.html" --> like for header include
731257c changes for new modules/experimental/mod_auth_digest
a0ad84f merge the differences in apache-1.3 from tag apache-apr-merge-3 up to mpm-merge-1 onto the mpm tree
b82c05a A few more hacks before taking off for the weekend.
f209c99 Win32: Start work on the winnt mpm. This is all horribly broken and hacked right now
2bc99dc Take child_num and thread_num out of conn_rec. They aren't used anywhere anymore, and conn_rec is the wrong place for them.
a36fe50 	Typo fixage..
ae7b890 From Joshua's msg,
cf6470e Attempt to close pr 4808 Can you mention htpassword in the mod_auth documentation. PR: 4808 Obtained from: Submitted by: Reviewed by:
d86e729 	Oops.  Forgot the <HR> that I wasn't supposed to forget..
7192e06 	Boy is this one turning into a FAQ..
65e96b4 Undo the stupid pipe of death changes I made earlier today. dean noted that we need an char_of_death array to do this safely, and it's just not worth the effort. The EINTR stuff is left behind, though. Hopefully this is now decent again.
41b15ba Eliminate a spurious runtime warning.
d30c57e Update OS/2 mpm with new hooks.
b59f5cc Fix a couple of potential graceful restart bugs noted by Dean: EINTR was never dealt with in the code to write to the pipe of death, and in pathological cases where the number of processes is greater than PIPE_BUF, we could end up only killing some processes.
07c55ef No reason to have a loop writing one byte at a time to the pipe of death when the write call will do it for us. Also fix the comments a bit.
1ff7ed7 get rid of the vestigial ap_open_logs call (and the ap_clear_pool that went along with it), to fix logging problems. Sometimes the bug would show up as a segfault, and sometimes as logging to an incorrect file.
779cf1c Update with new hooks.
987500b Make the server compile cleanly on TPF.
433fd8f Set up emacs for the Apache Style Guide.
d61fe22 Another hook.
2746674 Another hook.
76c762e Break out the hook implementations into three kinds, thus avoiding null macro arguments. Gates made me do it!
040a1ca Fix PR#4720
42fbf60 Support non-threaded operation, for the most part. The code still references pthread calls, but they are essentially no-ops in the non-threaded case; these can be #defined or wrapped away.
a098e1a Use Ben Hyde's warning fix on two other MPMs.
956e606 Doc changes. Submitted by:	Alan J. Flavell <flavell@mail.cern.ch> Reviewed by:	Randy Terbush
42b4d0d Replace Min/MaxSpareServers with Min/MaxSpareThreads. This allows the admin to specify with finer granularity how the server pool should be run.
5fd6c03 Update with latest hook additions.
ec496cb Another hook (I won't be upset if someone else wants to do some!).
72cf120 Fix a warning.
5dfa1ce - get rid of pre_command_line_hook ... use register_hooks for this purpose - get rid of optreset... screw -D, use environment variables ONE_PROCESS,   SHOW_HOOKS, DUMP_VHOSTS, ... at least it builds this way :)
2c7ace3 some bug fixes from David
59357cc Update for newest hooks
0485394 Make sure we terminate.
a867fa6 Good grief! How hard is it to try _all_ the elements in a list?
0eeb1db Allow for new hooks.
3c90bf9 Another hook.
48d5f9f Another hook.
b293e9f Fix listener selection logic.
ef93a23 Add a MaxThreadsPerChild directive
d0a3227 Clean up and properly specify defaults for the new directives.
14fa332 Add a little naming consistency, and put in an error condition for MaxSpareThreads being too high.
3840505 Add support for dynamically creating and destroying threads based on a Min/MaxSpareThreads algorithm, and clean up a couple of stray pieces of gunk from the days of scoreboardhood.
8b2e728 Support for echo protocol, to show how multiprotocol support works.
d9297ca Actually, we should always close the connection when it is finished.
ec84a17 And with one bound, he was free! This seemingly minor change allows modules to take over connection processing, thus making Apache multiprotocol. Woo!
840e251 Update windows documentation to address questions on the newsgroups and PR database.
83921a9 Fix silly bug. accept() has to be inside the accept mutexed block. doh.
856321d Cleanups and fixes. Get rid of more stuff having to do with scoreboard slots in the children. Also squashes a couple of bugs.
383e7a1 Some fixing for startup of children after a graceful restart, so that the processes can start faster.
4df306e Oops, forgot this one
d21fd06 A new experimental MPM. Right now, it is the mpmt_pthread MPM with idle process management taken out (so the number of processes is constant) and with the scoreboard eliminated (replaced with a little table seen only by the parent). This will be a testbed for playing around with thread pools.
af76bd0 Releasing a semaphore you don't own isn't a fatal error. Also update with latest hook.
3b8a196 Another MPM-specific define to move into the pthread MPM.
b34f885 Sync module strucuture with the prefork MPM again.
8892eab Another hook.
9014097 Be careful, accept_mutex_child_init() has to be done _before_ unixd_setup_child() switches the process UID, because else under platforms where the mutex is flock() based this fails...
ec76d5d Use new module structure
283f046 Move HARD_SERVER_LIMIT, HARD_THREAD_LIMIT, and other defines from httpd.h that are really mpm-specific, and move them into a header file in each MPM directory.
6330428 poll+accept without accept serialziation is dangerous, so for the moment, keep serialization on all the time and get rid of the attempts to make its usage thread-safe.
0c2af0a Move the scoreboard header files for each MPM into the appropriate MPM subdirectories:
4e57ef8 More cleanup on OS/2 spmt mpm including shutdown/restart processing and moving variables to appropriate scope.
7b067ca commit David's beos port.
dc3954c Assorted fixes for the OS/2 mpm: - pchild really should be thread local - clean_child_exit() should call _endthread(), not exit() - Use DosSleep() for delay in wait_or_timeout() instead of ap_select - Rework logic of searching for listen rec in child main, was getting hung   in infinite loop when two sockets were being listened to. NOTE: I got it   from prefork.c originally so that's probably broken too. - Remove a debugging fprintf I accidentally left in...
d935d79 Another hook.
9faf134 Make run_all symbolic.
103298e Make it all work on OS/2. Includes an OS/2 specific single process, multithreaded mpm.
38636a0 Add topological sorting to hook ordering.
640209d Get rid of the accept abstraction, which seems out-of-place in the MPM codebase, and make the poll-accept model the only model supported. Also, some code was cleaned up and rewritten in the process.
9e723ae Prevent pthread.h from showing up in the Makefile dependancies when we rerun "make depend"
a67f870 Sorry, but using C comments in place of C++ comments makes life for me and my compiler much easier.
944b313 Update to new module layout (Hooks)
d460554 More hooky stuff.
529108e Strawman hooks implementation (beginning of).
5d2fef5 	<P></P> can't contain a <OL></OL> pair.
e61c4df Missed closing tag
be16df6 Some answers to problems that often come up on the www.servers.unix newsgroup.
3273690 Use ap_new_connection in pthread MPM. This required adding an argument to ap_new_connection for now: thread_num.
d1f9d5d This module has only been added to the distribution in 1.3.7-dev, so update the compatibility version number.
596a5e5 Add a new command-line option -T that's the same as -t, but it does not do DirectoryRoot checking. This assumes:
71f32e9 Fix context description of RedirectMatch. It's also useable in per-dir context - similar to Redirect.
49d9148 Make ProxyBlock description more accurate. Submitted by: John Smolin <smolin@alum.mit.edu> PR: 4112
a3eabbb Fix description of "Example" directive. It just activates a demo flag and doesn't really enable the example contents handler.
bbe5847 fix messed up sentence
d4ecd1b New API for I/O layering, and dependency updates.
c2a3834 Fix hyperlink
34f01e3 Change method of checking for active FDs after poll() in the pthread MPM. The new method doesn't require any changes to the listen abstraction.
db15def Updated the pthread MPM to work with the rest of the code
e021b95 If last_lr is the last listener, then lr can start out NULL.
405ecf7 - ap_listen.h: interface to Listen, ListenBackLog and SendBufferSize   directives - I didn't update mpmt_pthread with this change, it shouldn't be hard to fix. - maybe this isn't the best way to abstract listen... but it gets a little   bit of the job done
0b5e261 Backout the DocumentRootCheck stuff.
7e6a60f 	Whoops, missed one <LI> update..
a8857a3 	Break the FAQ into smaller pieces, stitched together for Web 	browsing with SSIs but more easily posted on USENET.
0bfba63 *** empty log message ***
4786e9a I think this is a better i/o layer interface.
79036b7 ignore Makefile
0a0920b new-fangled BUFF... this could easily be broken, but hey, the one that was in here before was broken in different ways... I've served up a few pages with this one.
b75c733 Consistant and shorter naming of MPM methods implemented.
56e0a75 	Fix some docco.
1edfd4a Add DGUX...
338e204 	'Header Unset' really unsets all values for the field, not 	just the first.
58cdcba Minor nit. There are 3 options now :)
a4929c7 PR: Submitted by:   Tony Finch <fanf@demon.net> Reviewed by:    Dean, Randy, Jim, Lars, Martin Obtained from:
10a5e5b ap_mpm_graceful_stop -> ap_graceful_stop_signalled
20004fe detach, set_group_privs, and such... these will be common amongst the unix MPMs, so split them off into os/unix/unixd.[ch].
e35df81 documentation
70ff924 crude ap_thread_mutex abstraction
707320c Compile on FreeBSD.
c60e409 I'm sure this is wrong... but it's my start.  i/o layering.  Lots of stuff disabled/still to be implemented.  This served up a few static requests.
db82a66 Initial revision
075b1f2 Always perform the check for DocumentRoot when doing the config test
045d71f Typo in HREF.
1356837 Typo
67c353b PR: Obtained from: Submitted by:	Mathijs Maassen <mathijs@xs4all.nl> Reviewed by:	Jim, Lars Add the new DocumentRootCheck directive. This determines if we check for each DocumentRoot during startup.
1c109a8 	A minor enhancement to SetEnvIf*: allow it to test envariables 	as well as request attributes.
b709b72 This patch removes the processing of `mxb' parameters in Accept headers in mod_negotiation.  A second patch updates the manual to reflect this (mxb is not documented directly in the manual but support for it is implied in one place).
c4d0539 	These -1s cause us a lot of grief.  When is a signed int not 	a signed int?  When it's an unsigned int or long!  {Sigh}
40033fd Note that -t may is useful to test configurations before doing a restart
4f8584e 	Allow SetEnvIf* to set things according to the protocol of 	the request.
e89c601 Update DSO status...
376ad0e Always log months in english format for %t in mod_log_config.
7af4a10 	Someone finally stood up and made the ReadmeName and HeaderName 	features use subrequests.  Not only that, but they can be 	parsed for SSIs too!
2e710e9 	Add the 'force-no-vary' envariable to the list of specials, and 	put the entire list into alphabetical order.
bcbf315 Add Apple platforms. Update the date.
0ffd5a8 Update some supported platforms.
b68c489 	Minor fix discovered whilst investigating a problem..
17f1eb4 Make the install-bindist.sh script standalone. (don't require src/helpers) This could allow us to do binary distributions without source if we choose to.
95ec032 Add functionality to the install-bindist.sh script created by binbuild.sh to use tar when copying distribution files to the serverroot. This allows upgrading an existing installation without nesting the new distribution in the old.
b4b992e 	Un-make a broken link from being an anchor.
d0bf421 	Point out that for multiple AddLanguage directives with the 	same extension, the last one encountered dominates.  This is 	true of lots of directives, but this is the one on which we 	got a PR..
9a1f46f 	A minor but frequest request: allow Webmaster control over the 	name of the tracking cookie.
797d2b9 	Add another special-meaning envariable, force-no-vary, to allow 	removal of the Vary field from response headers.
9596cc8 Submitted by:	Joe Moenich <moenich@us.ibm.com> Reviewed by:	Dean Gaudet, Martin Kraemer, Manoj Kasichainula
025799e PR:
eaaa65c 	Fix a protocol misquote.
b1dee7a Commit corresponding CHANGES and documentation changes for RewriteLock.
a32933a missing / in example
a438742 Document the MaxRequestsPerChild values wrt KeepAlives and how to tune it
6f16aa6 ie40 screws up vary
3093e0c note about 127.0.0.1
ed91a65 	Add a note about 'no whitespace need apply.'
80b75be Some documentation on the multiple services patch Submitted by: Keith Wannamaker
64ae3e6 RemoveHandler was missing from the directives list
438718f Remove --user/--group tar options... they are not portable. Ignore it for now. I'll have to take a closer at it.
8ada290 Back out Ken's PassAllEnv code...
990a430 Some minor doc updates...
d9ddf6f 	Add PassAllEnv to make all of the server's environment variables 	available to CGIs and SSIs within the directive's scope.  NOT 	recommended for general use, but eases the transition for IBM's 	current LDGW customers to Apache.
5a00f04 Add option to let the user specify an email address.
dcac303 Update negotiation documentation.
2cdc8ea Note the different Start menu option names between 1.3.4 and 1.3.5.
5941f21 Note that Apache may run on Windows 98 (since at least some bug reports say they've tried it).
021edd0 Oops...
8228a41 Typo.
39238ea Added ap_sub_req_method_uri() for doing a subrequest with a method other than GET, and const'd the definition of method in request_rec.
fc80ead Commit %V and \n changes to mod_log_config.
783d3d8 mod_so is base, not experimental. Submitted by: Shane Owenby
c547715 Make paths more portable, since I plan on moving the docroot for apache.org soon.
da661d2 Fix minor HTML errors
dffcc4d This passage got lost. Submitted-By: Joshua Slive <slive@finance.commerce.ubc.ca>
edade40 Updated docs; no FollowSymLinks in <DirectoryMatch>
843569a Spelling fixes.
dae7270 new FAQ doc
e61e5ad 	Remove the ReferIgnore directive from mod_log_config (Dean's veto). 	Get rid of the array for the 'env=' clause, since it only takes 	a single variable name; use a char * instead.  Check for conditional 	envars by seeing if the condition string is non-NULL rather than 	using a separate Boolean cell.
67c4a60 	Add conditional logging based upon environment variable existence. 	Also add RefererIgnore functionality from mod_log_referer to 	mod_log_config; mod_log_referer and mod_log_agent are now 	deprecated.  The list of envariables to check is set up as 	an array even though the current implementation (TAKE23) 	only handles one; just in case we ever want to do something 	strange like, 'env=foo,bar,!bag'.
9d8d630 	Add the licence question to the FAQ..
a415f22 fix/enhancement
7477cec make windoze users happy...
7f891f3 Update y2k FAQ.
a115364 broken link...
f29db3d Added a <LimitExcept method ...> sectioning directive that allows the user to assign authentication control to any HTTP method that is *not* given in the argument list; i.e., the logical negation of the <Limit> directive.  This is particularly useful for controlling access on methods unknown to the Apache core, but perhaps known by some module or CGI script.
ba1afae Update docs according to new negotiation ordering.  Note that we still don't have any documentation of TCN/RVSA effects.
2f623bf Update htdocs with new ScriptInterpreterSource directive.
4b2a234 Note change of default error log filename on Windows from error_log to error.log.
c08d2d8 	Fix a typo..
7ded66b More idiot-proofing?
300d5a7 One item already added by someone sometime, one that should be.
71e28df Update default path to installed httpd binary
84f72e7 add some recent bugs
4029b12 Tony Finch says: >I just realised that this is wrong: the %v won't work on 1.3.4 because >it always uses the canonical server name. It should be changed to >%{SERVER_NAME}e.
aade93e Take II of the shell consistancy change. Although I agree that the use of '.' is easier on the eyes, 'x' does seem more common and old-dog shell programmers kind of expect it. It's also easier to search for in vi :)
61a240f Back out jim's recent "x"/"." change.  This is a veto and I've given reasons in new-httpd.
ebeee1b Final phase of shell programming style consistancy check. PR: Obtained from: Submitted by: Reviewed by:
4af7215 Older shells don't support the newer method of shell execute (  )
ce18f95 First step in making binbuild.sh more "universal" as far as working with all/most shells. Remove the findprg.sh helper since PrintPath works just fine
f462baa Oops, forgot to add it here.
c1c51cd This is the document on how to use mod_rewrite to eliminate the need for virtualhost settings in the config file.  Many thanks to Tony Finch <dot@dotat.at> for contributing this!
46c8efd 	Fix a typo.
8f6ebc0 Fix typos, update for new makefiles.
dc097f3 Try to avoid some confusion from the changing of command line arguments, by documenting the meanings of the arguments for each different version of Apache. This is important since the current live site now documents the "new" behaviour (for -L, -l, h) even though there is no released Apache for which that documentation is valid. Even after releasing 1.3.4 users of older versions will be accessing the documentation.
0440d14 	???
2133186 	The semi-occasional partial cleaning-up of the HTML..
3a45b42 	Add the documentation for the RemoveHandler directive.
da37ba9 Submitted by:   Joe Moenich <moenich@us.ibm.com> Reviewed by:	Manoj Kasichainula <manojk@raleigh.ibm.com> Various TPF tweaks, simplifying installation, etc.
060dc03 Added binbuild.sh and findprg.sh helpers to make it easier for us to build binary distributions.  This is Lars' "take 2" version of 12/26.
89f6b36 	Allow fancyindexed directories to be presorted in some other way 	than by name.
2e340f3 Small fix for mod_env.html: The module was documented as to be _not_ compiled into Apache per default, although it _IS_ compiled into Apache per default.
5377cc5 Two minor enhancements to mod_rewrite: First RewriteRule now also supports the ``nocase|NC'' flag (as RewriteCond already does for ages) to match case insensitive (this especially avoids nasty patterns like `[tT][eE][sS][tT]'). Second two additional internal map functions `escape' and `unescape' were added which can be used to escape/unescape to/from hex-encodings in URLs parts (this is especially useful in combination with map lookups).
a4f8c69 ``Oh, by the way: the same procedure as last year?   The same procedure as _every_ year, James!''
c2419ae Fix a few minor inconsistencies related to directive scoping ============================================================
d3bcc3e A little update (DefaultLanguage wasn't on the directives page).
27f9e91 Some updates/modifications (based on the patch from the PR).
83ab755 file moved
3448301 Cleanup the command line options: `-?' was documented to show the usage list but does it with an error because `?' is not a valid command. OTOH a lot of users expect `-h' to print such a usage list and instead are annoyed for ages by our huge unreadable list of directives.  So we now changed the command line options this way:
93339af Fix dumb typo
d5eb4c8 update the draft-ietf-http-connection-00 link... this new link works... but I'm still not sure if this draft has issued as an RFC or if it's just fallen dead PR: Obtained from: Submitted by: Reviewed by:
3d75841 PORT: Add Dynamic Shared Object (DSO) support for BSDI (v4.0).
1ef824b Fix HTML
f3ace6a Fix negotiation so that we prefer an encoded variant over an unencoded variant if the user-agent explicitly says it can accept that encoding. Previously we always preferred the unencoded variant.
7ef4d35 Actually, without a DefaultLanguage documents are considered to have _no_ language attribute. Apache does not default to English.
9b6422c 	Put in Paul's DefaultLanguage code.  I don't recall seeing 	any negative comments, and it's pretty valuable for multilingual 	sites.
893fd31 A few minor HTML fixes
42d564b Note that Redirect* require FileInfo override.
ffa0b68 Make documentation clearer for Windows users: state when descriptions apply only to Unix; add links to Windows and TPF instructions. Where defaults are different in OS/2 or Windows, show them.  Add the -k command line option (Windows only).
38955a3 Don't assume that filename extension is at the end of the filename
c5f5f84 Add link to description of how files with multiple extensions are handled. At the same time update the descriptions of the directives to make the descriptions in the authoritative file (mod/mod_mime.html).
63e7bd7 Be more careful when documenting the way that extensions are mapped to meta data. Note the effect of multiple extensions in all the Add* directive descriptions, and explain that these directives add or override existing mappings. Remove assumptions that there is only one extension. Add note about how setting both handlers and media types could result in unexpected results. Remove some highly misleading information such as that the type is the extension left "after content-encoding and language extensions have been removed"
d6defc3 Fix documentation of `Action' directive: It can activate a CGI script when either a handler or a MIME content type is triggered by the request. We forgot to mention the handler-based variant here.
dcd7ec4 	Update the compatibility note about "exec cgi" a little.
b64f8bf Finalize my suEXEC/APACI patch...
c416b30 Remove an old "old" from the old days where we thought mod_alias will be old ;-) Thanks to Marc for discovering this too offensive wording...
62ee3cb 	Make it more clear that AuthName takes a single argument, and fix 	a broken example in the FAQ.
97b173f RLimit* vs. premature end of script headers
4bec6f2 Fix some bad links in TPF documentation
1ad3695 Submitted by:	Joe Moenich and others at IBM Newly created files from the TPF port
e8c2bb7 PR: 2706 Changed references to "/status" to "/server-status". This isn't really necessary, but a user was confused by the difference between the docs and the configuration file, and consistency is a good thing.
1f6adef 	Change the FastCGI URL to which the FAQ points; use the 	site's main page instead of a stale one.
775a5f2 	Add a 'howto' item submitted in April of 1998 (ouch!).
f939bad Add hint to HP performance tuning document on authors request.
f662739 	Fix some broken HTML, and note that the "-k option" stuff is 	new with 1.3.3.
fa1e4ed 	Note that the SuppressHTMLPreamble IndexOption only came in 	with Apache 1.3.
eb3d8c6 Fix a few bugs in the mod_rewrite documentation by the help of some hints from Adam M Donahue <amd0978@acf3.nyu.edu>.
31860d7 Add a "default-handler" handler that calls the default_hander() function which is normally called for static content.  This allows you to override a specific handler.  This is not a complete solution to being able to "unconfigure" things as asked for in PR#2979, but it is still useful.
7a2a5c5 Since this entry was based on a small number of reports some time ago and current versions of HP's compiler appear to be fine and I haven't seen anyone report this in a long time, remove the reference to problems with HP's compiler.
8f01495 	Add a note about the size restriction on AddDescription text.
285fc3c Add missing ProxyVia directive.
57c55b7 Document the -k command line argument. This is based on a previous patch to add this documentation from bhyde@pobox.com (16 Jun 1998).
6f41c7e Add the new mod_autoindex features to new_features_1_3, add hyperlinks to the IndexOptions keyword arguments (in the new form HREF="#indexoption:keyword").
ffa03a3 Document `ErrorLog syslog:facility' variant of error logging.
92f2dca 	Back off a portion of the incremental-IndexOptions patch; 	unprefixed keywords should clear all inherited options and 	start setting the local directory's options from scratch. 	Otherwise, 'keyword' and '+keyword' are essentially identical, 	and clearing inheritance a pain.
5a2d3ed Reflect the fact that "Siemens Nixdorf" has been renamed to "Siemens".
ccccd81 	If this isn't a FAQ, I don't know what it is.  And I don't want to 	guess.
8cf72c8 	There appear to be no dissenters (other than for brand-new and 	incompatible syntaxes) after three days, and I want to get this 	in for 1.3.3.  It can always be modified or reverted later.
2e11057 	Add the AIX compiler bug to the FAQ.
59685f1 	Correct name for IndexOptions keyword.
ee4db23 BS2000 only: Change nasty BS2000AuthFile to less dangerous BS2000Account (no need to store a password anywhere)
dda1e03 	Some more consistency (cgi -> CGI) fixes, and shortened long lines. 	(There are about 200 more >80 lines in the dos, but I haven't the 	time now to fix 'em.  Oh well.)
681f8e5 	More documentation consistency cleanup for 1.3.2.
caec9aa 	The semi-regular HTML cleanup of the documentation.  There are 	some HTML errors (incorrect anchor nesting, primarily) coming in 	another commit.
64b5f06 	Fix some typos and inaccuracies and incorrectnesses.
dd3eb53 	Fix 'resource config' to be 'server config.'
7144848 PR: Obtained from: Submitted by: Reviewed by: mod_status is now a Base module and included by default.
b4de412 Fix mod_auth_*.html documents: NSCA -> NCSA
b628c91 Rename some references in the docs from the old "OSF1" term to the official term "Digital UNIX".
db98ceb Fix documentation of ProxyPass/ProxyPassReverse according to the trailing slash problem.
15bd758 Be explicit about the obvious; "if you enable SSIs for a directory tree the setting only applies to that directory tree!"
7102614 Sameer posted the AllowCONNECT back in march. I adapted it to default to ports 443 and 563 (for https:// and snews://) and wrote a description for the mod_proxy.html document.
e7d00b7 Updates, and announce that php3 is running perfectly
20cd109 Add some more detailed information about ListenBacklog and MaxClients, plus a few misc cleanups.
595b5c8 ExtendedStatus is first in 1.3.2, _NOT_ 1.3.  Please be careful when noting such things to avoid confused users.
f2b9b63 Fix mod_expires to add Expires headers for content that isn't served from disk (ie. the case where r->finfo.st_mode == 0), unless it is a modification date based setting.
0189823 	Update the filname column width-sizing piece of mod_autoindex 	so that it's customisable with a NameLength keyword on the 	IndexOptions directive.  A value of '*' means 'as wide as the 	longest filename,' which was the default effect of the last 	patch in this area.
1a6dd5e 	Clean up mod_autoindex's storage of the IndexOptions settings. 	They are per-directory, not per-filename, so keeping them in 	an array is confusing and pointless.  They're now stored in an 	int in the module config record.  Also (finally!) fix the 	FancyIndexing directive so it gets merged into any IndexOptions 	settings for the current directory, rather than replacing them.
f1f562e LocationMatch, not Location, is only 1.3+.
7f9c8bc Remove bad reference to non-existing SERVER_VERSION in mod_rewrite.html
bccc5c5 Fix hyperlinks in vhost/ area. Thanks to Jean-Philippe BAUDOUIN <baudouin@cyberaccess.fr> for hints.
42e46d6 Add proxy Via: header management. Currently, Via: headers can be left unchanged (compatibility), can be set to protocol and host only, or to protocol, host and comment. Optionally, all Via: headers can be suppressed if intranet privacy in companies is desired when going out over a firewall apache.
860f63a Forgot that LimitRequestBody is allowed everywhere.
405e967 Documentation for the LimitRequest* directives.
cbefa02 mod_status isn't included by default so ExtendedStatus is Extension not Base directive
0c968cb Move the ExtendedStatus option to mod_status
e44cc22 And now the docs for ExtendedStatus
06bd9f7 Add some missing entries to the index file.
0ed5793 	Allow CheckSpelling to be used anywhere, not just at the server 	level.
5ba9a0f Some HTML error cleanups (according to DreamWeaver AND Alpha and BBEdit) as well as a start of a "how to submit a patch" FAQ
43af9f1 We don't want to make people think that '_' are allowed in hostnames.
dba2fbb Q: "my htaccess files are being ignored" A: "yea, Apache listens to you if you tell it to."
0851408 Link DSO modules against possible libraries from $(LIBS) (take 2) =================================================================
006c7b9 Fixed examples in mod_rewrite.html document.
b73da07 Corrected the path to src/include/httpd.h, as suggested by Brian Reichert <reichert@numachi.com>
70f15d6 Digest is mostly supported, for all the good it does.
ee442f2 Update the mod_rewrite.html document to correctly reflect the situation of the `proxy' (`[P]') feature.
1e7f98b Followup to previous commit - another reference to beta remove, the link to previously removed text also removed, and 1.3.0 --> 1.3.1.
7af2036 Remove reference to 1.3b6 which may have confused people, and remove documentation for not-completely-implemented feature.
9b2d4a2 Be more explicit when explaining how to compile from DSP files. Add references to the projects to build uri_delims and test_chars files. Give a suggested compilation order.
eb30786 Add new httpd switches; remove reference to httpd sub-version
03c9ede A few minor updates.
d5516a5 No longer correct (and never really was) to tell them to type cc ... to compile suexec.
e5f26b6 fix some broken links
dd01a61 Addresses specified for mod_log_anon are logged in the error log, not the "httpd-log".
b77fe61 Fix HTML error, correct release version number
b550721 eliminate incorrectness regarding linux... there is far more I could say if I had the energy
bbd977c 	Add a missing 'Override' clause.
b79501e 	Add a note to the FAQ about increasing file descriptor limits [sic] 	on Win95.  Does this have any effect on WinNT?
8931c66 PR:
b3a2a73 cache in the event that the client cancels the transfer, provided that the configured percentage of the file has already been transfered. It works for http transfers only.
2f7bf95 Fix incorrect "first available in" statement for ifdefine.
4f5960c Add Dynamic Shared Object (DSO) support for SCO5 (OpenServer 5.0.x).
93e866e 	Add a note about the case-sensitivity of <Limit> as pointed 	out by Dean.
f748f3c 	Clarify some sectional concerns.
5b7b43a lmbench moved
7b2795a PR:
f6a39ff Fix perl variable mention (d'oh!), slightly improve english usage.
125da84 I couldn't resist to add this cookie. Its just too funny and descriptive at the same time ;-)
7d2f2fd PR: Submitted by:	Ralf Engelschall Reviewed by:	Brian Behlendorf
186f002 PR:
17b2b26 PR: Submitted by:	bhyde@pobox.com Reviewed by:	Brian
d670761 PR: Submitted by:	bhyde@pobox.com Reviewed by:	Brian
06d0481 Update the document to include information about the new ERROR_NOTES variable
66e9002 Add some more background info about mod_proxy's behaviour; e.g., that CacheRoot effectively enables cacheing
51dc915 PR:
591e864 PR:
f65b1fc Most will ask this when going to 1.3.0
58139b6 PR: 2365
d7a4e5b PR:
a427b65 	Fix an HREF that contained a line-break.
5d854a8 Update the windows info in advance of the release cut-off so that it is current in the installation. So make it correct if the next release is a non-beta 1.3.0 by giving non-beta installation info and by not referring to 1.3b8.
322e653 	Add a note to the FAQ about something that should maybe be added 	at some point.  (Hidden in an HTML comment.)
924bf2a Correct the description of REMOTE_HOST and REMOTE_IDENT
815ef23 Have people use sysctl to adjust somaxconn instead of the bogus and incorrect method we suggested before
c2841d1 Add the ServerTokens to the main directive list
abe21ff 	Make the evolution of the BrowserMatch* directives more clear.
6ea3e5d document the all too common gcc version mismatch
46b7616 add a note about the content-type reload bug, and a few copy-edit tweaks
65b7400 PR: 2099
5afbff8 PR:
5776969 	Correct the ServerTokens docs a little bit.
1b19735 	Part 2 of the semi-regular HTML normalisation.  Now on to 	apache-site...  No thirty.
38d7331 	Some of my semi-regular HTML cleanup (tag ordering, B/I 	replacement) and long-line (>80) shortening.  No thirty..
d32d995 PR:
62e9d8a PR: 1808
f8ad341 PR: 1773
f27852e PR: 2066 Submitted by:	Ronald Tschalaer <Ronald.Tschalaer@psi.ch>
262932b PR:
bf70d92 fix typos.
2624750 fix typos
2f0af27 Little enhancement of suEXEC docs to make sure the user knows that he can install suEXEC via APACI but only if he is carefully and does something explicitly (options).
797e7e6 Just some minor fixes.
6b51b48 Update/Create hyperlinks to new HTML document about DSO.
8ddca13 A lot of cosmetic stuff: more <CODE>, less <PRE>, etc. pp. Thanks to Brian for the initial ASCII->HTML translation.
797657c PR:
2fce8dc PR:
89c64e6 PR:
1087ddf PR: Obtained from: Submitted by:	Jim Jagielski Reviewed by: Replace the AddVersionPlatform directive with ServerTokens directive which allow for either Minimal ("Apache/1.3.0"), OS ("Apache/1.3.0 (UNIX)") or Full ("Apache/1.3.0 (UNIX) PHP/3.0") type Server headers. SERVER_SUBVERSION is no longer supported.
8e8965c Fix AllowOverrides --> AllowOverride in docs.
9861f8b Update windows instructions for 1.3b6. Move compilation stuff to the end on the basis that most users will be interested in the pre-compiled installer. Document the registry key used and how it relates to command line arguments (-d, -f) and the ServerRoot directive. Show how to start and stop the Apache service from the command line.
985ba57 update with a few more links
2c31eba 	Final touches on removing the AddVersionComponent directive and 	correcting my BD references to something called "Server-Version." 	D'oh!
8282199 	Change the default setting of AddVersionPlatform to 'on'.  Jim, 	Brian Havard, and Marc think that's better - and if Marc, who is 	so security-conscious, thinks it's a good idea that tips me over 	to that side as well.
39ce411 	Add the core AddVersionComponent and AddVersionPlatform directives, 	which make the SERVER_SUBVERSION functionality a runtime thing and 	allow adding OS identity to the Server-Version string respectively.
6cfa45c Ops, looks like Brian typed "x:x<CR>" in his Vi instead of just ":x<CR>" ;-)
f678c97 PR: 2100 Submitted by:	Dale Couch <dcouch@training.orl.lmco.com>
1ce2568 PR: Submitted by:	"Michael K. Sanders" <msanders@iNetz.COM>
ef8a865 PR:
16152b6 BS2000 Security: BS2000 needs extra authentication
2cb0766 PR:
3d29b06 PR:
3478ab4 A HTML fix and a documentation fix for ServerSignature directive.
119e0f2 It is bogus to direct people only to .unix for the Win32 version.
b37ad00 Document syslogd-based error logging
1f1e1ae Some clarification that only one NameVirtualHost is used per IP:port pair
3c3ad42 	Add Dean's description of what pools there are to the soi-disant 	documentation.
fbe5361 This should help folks trying to understand vhosts.  It adds the command line option -S which dumps a description of how apache parsed the vhost directives.  In particular it'd really help the folks who recently ran into /etc/hosts mismatches with DNS.
130f212 Someone should add disable-auth-for-subdir hack.
19ceb53 Add notice about some inefficient SVR4 implementations of time zones in gettimeofday()
dd10c03 Oops: csubst missed a couple of old names.
0061f0e Document renamed functions instead of old names
0a65243 Fix grammar and layout error. PR: Obtained from: Submitted by: Reviewed by:
e881953 Fix FAQ entry on problems with POST, plus a few cleanups.  The old entry is extremely misleading, and answering a Q that isn't really FA, and I see someone posting somewhere every week who tries this to fix their "method not allowed" problems.
9d62e62 tweak
9663798 Although mod_mmap_static is an experimental module it works fine and already is distributed with Apache it was not prepared the same way as the other modules. Hence let us give it a first cut for a documentation and an (disabled, of course) entry in the Configuration.tmpl file.
acdebec Update EBCDIC document, add Status table
3a24027 	Modify the licence clauses for 1.3 to prohibit derived packages 	from claiming to be "Apache" without the AG's permission.  (Always 	the intent, I believe, but previously not explicit enough.) 	Hopefully this will help deter further dilution of the brand.
8da501b PR:
7481dab "Options +Includes" wasn't corrently merged if "+IncludesNoExec" was defined in a parent directory.
62b426a 	Sort-of FAQ: "how do I make Apache scream?"
2244546 typo
fc1127b Add a preliminary EBCDIC porting paper (derived from README.EBCDIC)
749ac50 - more RegEx hints, especially to the Friedl-book - update of the directive blocks to be directive-dict.html compliant
785afc4 	Time for some FAQ revamp work.  Mostly cosmetic, but the LockFile 	issue has been added because it has certainly become a FAQ!
729df56 	"Has no effect on MS Windows" is rather misleading.
593e68f Document the fact that StartServers, MaxSpareServers and MinSpareServers have no effect on Unix. Also that ThreadsPerChild has no effect on Unix.
68bde2e Update docs to reflect the fact that mod_dll has been replaced by mod_so. In particular, mark mod_dll as obselete, add Windows information and examples to mod_so documentation, copy info about creating DLLs from mod_dll.html to mod_so.html (although this needs more work to add info for Unix users, since most of the description applies to all systems).
8329962 Various updates: add libap to the list of required libraries. Remove reference to StartServers. Change links to mod_dll to mod_so.
c1b238f Typo
070b733 One more missing hyperlink.
1e7928e Add missing hyperlinks.
e6d5336 Added hints to the source and documentation what version is needed and where to find that version on the net.
3d9c082 Reanimation of an undocumented feature of mod_proxy: ProxyReceiveBufferSize
52733e3 - The "merging" optimization in mod_setenvif did not deal with   SetEnvIfNoCase properly; and it used strcmp() to compare header   names when it should use strcasecmp().
05bb354 We don't allow ServerRoot in vhost.  1.2 just does it and changes the global one, 1.3 whines.
716820a Phase 2 of mod_rewrite documentation enhancement: Cleanup of the HTML markup code (Thanks to Marc and Martin for hints)
b765293 Change to the multiple-slash behaviour of LocationMatch for consistency with AliasMatch and RewriteRule.  This was discussed in nh.9711, search for subject "mod_rewrite/1440".  My proposed change had the support of Roy, Ken and Dirk... I modified it slightly here so that it wouldn't break every single existing config that has <Location /server-status>.
d40815d Phase 1 of mod_rewrite documentation enhancement:
5f3c44c I thought we got rid of all the <Limit> ... </Limit> in our examples... is there some reason this one is still around?  I'm ditching it anyhow unless someone explains why it's necessary.
8e95d00 Explain %p and %v a little more.
568485f more accurate %p docs
4de290b Fall back to USE_FCNTL_SERIALIZED_ACCEPT for Solaris.  It's foolish us wasting resources trying to solve what may end up being bugs in solaris.
d13ed61 Add %a to mod_log_config for inserting the remote IP-address.  This is the adapted patch against 1.3 of Todd Eigenschink <eigenstr@mixi.net>'s original patch for 1.2.5. For 1.2.5 we don't want it because its a feature.  I also added corresponding entries to the CHANGES and mod_log_config.html file.
ab8f939 what a tangled web we weave... PR: 1874
b51536b Ops, we have totally mis-documented the %{LA-U:xxx} and %{LA-F:xxx} constructs, thus no one noticed that it can be used to lookup the REMOTE_USER variable (one of the mod_rewrite FAQs) even in per-server context.  One just has to use %{LA-U:REMOTE_USER} instead of %{REMOTE_USER} there.  Notice that %{REMOTE_USER} is also useful, but only for per-dir context.
97f8f0a First part to fix the synchronization-locking for RewriteMap programs under Unix derivates who doesn't accept the locking of pipes directly.
63ae18d Add the new RewriteMap types `rnd' and `int' to mod_rewrite to allow Apache to be used as a Reverse Proxy (where the backend servers are choosen via a `rnd' map) and to allow mass virtual hosting without <VirtualHost> sections (where you have to fix the case of server names when translating the Host-Header to a directory structure).
eb0f7d6 Add the ProxyPassReverse directive which allows Apache to be used as a full-featured Reverse Proxy in front of a backend webserver cluster.
15feab9 more obviousness
5ee66a0 spell out the obviously not so obvious
2808828 tired tired tired of these stupid linux questions
fb52259 PR: 1818
c4f22e7 Fix various parsing bugs with <Dir/Loc/Files> sections.  Improve the error messages generated.  Introduced cmd->end_token to make it easier to do nested sections with proper error reporting.  (Note that it can't be used for <IfModule> or <Limit> unfortunately.)
dd1cd02 document piped errorlog
2017374 mention src/support/apachectl
87bc4d2 I am tired tired tired of dealing with "kill -9" and "killall -whatever httpd" bugs
cebb900 doc the addencoding mess
96b520b 	Clean up some references to "bugdb.cgi".
9f23f69 	Fix some broken links detexted by Xenu.
72017a3 Add all the BrowserMatch directives mentioned on the known_client_problems page.
c092f3a PR:
f18d0df PR:
6740cae 	More HTML fixes (improper nesting of tags).
6241994 	Correcting some HTML boo-boos (not subject to style debates). 	It has been said, and verily it is true, that weblint rocks.
80c32a1 	Another pass at the normalisation of the HTML tags.  Some 	corrections coming up.
3ff603f 	Correct a link that assumed the old documentation tree layout.
2de2b1c Fixed error in HREF
b80e49d Add a document describing a solution which uses XSSI and negotiation to custom-tailor the apache ErrorDocuments to taste, adding the advantage of returning internationalized versions of the error messages depending on the client's language preferences.
688c1b5 two of the probably many missing directives
46d10cb Document change from mod_dld to mod_so. Actual mod_so usage info to still pretty minimal.
2c85f99 Add the UseCanonicalName directive which controls how self-referential redirects are generated.  This was at least approved in spirit by a handful of folks two weeks ago.  The default should be no behaviour change.
29e3ee1 Cleaned up (capitalized) some more HTML tags
8d03a2f 	As threatened.  The directive attributes in the module documentation 	are now links back to a description of what the attributes mean.
558d60d Server-generated pages can be server-signed now (new directive)
07050bb 	A truly mighty mod normalising HTML tags to uppercase, and 	'i' and 'b' to 'EM' and 'STRONG' respectively.  Been threatening 	to do this for months.. no-one need try to maintain this when 	writing/modifiying the docs.
bbc3f6d PR:
feec2b0 PR:
dc74eb3 PR:
47c02cd PR:
45a59fe PR:
6398405 PR:
c26bf27 - no need to use stat() since r->finfo is already what we need - no need to play with atime/mtime crud, the web server doesn't preserve     that info normally anyhow - deal with r->finfo.st_mode == 0 || !r->filename (i.e. not a disk file) - don't reference mime_module.type_checker, this should be controlled by     the ordering within Configuration - work properly with multiple vhosts - doc update: even prior to this patch, the code was disabled if there     was no MimeMagicFile directive.
149dbf2 	mod_auth_msql isn't part of the distribution any more, so take 	out all references to it that assume it is.  Plus some miscellaneous 	HTML cleanup.
255333c PR: Obtained from: Submitted by:	Jim Jagielski Reviewed by: Best of both worlds... Let the world know if we have mmap and/or shmget as well as controlling which to use for scoreboard. This should be a complete patch, so if any docs were skipped, feel free to update 'em
7bbc072 Support users with older versions of the server.
89631bc Submitted by:	Jim Jagielski
cd83501 yay netscape has fixed a bug
b763433 document no-content-length and gif89-expires
80d3927 PR:
83c22ef 	Update the copyright year of all the various HEAD files to 	include 1998.
dddf03b Misc spelling fixes.
417a698 Misc cleanups: 	- cleanup HTML, <e> --> <em> 	- remove bogus security warning about LockFile 	- add warning about possible denial of service attack with 	  LockFile in world writable directory 	- remove security encouragement to use inetd; add warning that 	  inetd isn't well supported.
f03de05 Tweak the 257th byte bug... happens at the 256th byte as well.
7f9ce50 Lars says:
6fe31d6 Add link to Solaris TCP param. tuning page.
265536d In several htdocs/manual pages, the TransferLog directive is still attributed to the mod_log_common module (which is no longer supported as of apache_1.2).
317792c The mod_proxy module proxy_ftp.c has an undocumented 'feature': when the URL is suffixed by ';type=a', then an ASCII transfer is enforced.
dfb1f0f 	Correct some misstatements about the Auth*File directives; 	they're ServerRoot-relative if not absolute.
020887c Change to URL to the mod_rewrite practical solutions, because the software area now really gets removed, but at least the solutions survive in my paperwork area where they make up a new document.
006dfb4 Correct two incorrect examples.  Describe what each example does.
800b356 Note that the CIDR syntaxes are for 1.3 and later.
7fd64ef The port documentation was a little unclear on its overlap with the Listen directive.
7ff54fd More tweaks related to serverroot/logs/etc.
dfe3c56 We talk about a "proper installation" occasionally... and assume folks know how to set the perms on the serverroot.  But I don't think we document it anywhere.  Nowhere that's easily found direct from the "how to install" page.  Document it better, link to it.  Remove the install_1_1 docs. Update a 1.2 reference to 1.3.
7b64dc5 	Correct missing keyword on ScriptAliasMatch example.
d5ad4e1 	Recommend removal of <Limit> containers rather than adding 	methods to them.
0f1dd23 Doc contains an example of an .asis redirection which is a clear candidate for 301 permanent redirect, not 302 temporary redirect. PR: 1485 Submitted by: Carl von Loesch <lynx@net.pages.de>, Lars Eilebrecht
1e31dcc Fix the default Apache path
b87cc5f PR: Obtained from: Submitted by: Reviewed by:
c69ca0c Clean up check_cmd_context stuff.  Fix core documentation for a few directives.
e6bfa48 	Include directive isn't a container..
00aed42 Language tweaks.  Expand on the common reason why you would want to run multiple daemons.
f43c854 addition
30dff41 Correct Typos;
cdda304 Sorry, I added the wrong header/footer files
28e82e0 Sorry, I added the wrong header/footer files
7bd9637 Citing Lars: Hi,
eff7345 Citing Lars: Hi,
d32e26e Minor Documentation Update: broken and mis-typed links, and a reference to a resource which is available only at http://www.apache.org/, not in the user's tree. Reviewed by:Dean Gaudet, Jim Jagielski, Ken Coar
e37c357 Clarify use of textual strings for expiry times.
fda3267 Close them CODE elements
68e8bd2 	Add documentation for alternate mod_expires time syntax.
f2a573e 	Add a "SuppressColumnSorting" option to the IndexOptions list, 	which will keep the column heading from beling links for sorting 	the display.
5ab8a18 PR:
624b9dd 1.3 now exists.  That means this slips even further. PR: Obtained from: Submitted by: Reviewed by:
42f53c0 PR:
8ffd370 	Label the 1.3 documentation as being such in the header and footer. 	Hopefully (!) this will ease some of the confusion about 1.3 	features described therein that people think apply to 1.2..
35cdfd3 PR:
76bd6be Expand on nph- script section; use words "server push" and mention unbuffering in 1.3.
0b80b86 Document that we don't support the referer directive.
38e2480 Document that "RewriteEngine on" is _not_ inherited by vhosts, unlike many other directives.
c2edc05 Set default pathnames -everywhere- to /usr/local/apache
0722046 typo
b9d8582 document MMAP_SEGMENT_SIZE
7a069a7 Document mod_unique_id.html.
4bd6fb3 Bring windows.html doc up-to-date for 1.3b2
8bcfb6e 	{Sigh}  Add the suddenly FAQ about why virtual hosts don't 	work after 1.3b2 upgrades..
73a6b3b Add note about \space not working in Apache
edef088 Put the Email address of who to contact
5b102c7 	Clean up some typos in the proxy documentation, and add a 	dictionary for the directive attributes (status, override, 	et cetera) - part of the directive-documentation-normalisation 	effort, and something I've wanted for a long time.  Updated the 	mod_example page to use the links to the dictionary (as an example ;-).
52fce95 PR:
5efa34a Put <Limit> into its correct alphabetical position.
a76bcb7 Document valid method names in <Limit> statements. Mention that GET also restricts HEAD requests (see PR#1196).
36460b6 update from Lars
04ab676 Incorporate my performance tuning document.  Document a lot more stuff that changed.
580ae29 Make the documentation on the Limit directive shout a little louder about not using it unless you really do only want to limit specific methods. PR: Obtained from: Submitted by: Reviewed by:
9c42aee 	Add a FAQ about Y2K compliance.
2ea381c PR:
cb5bff9 |From Martin.Kraemer@mch.sni.de Mon Sep 15 21:04:46 1997 |Date: Fri, 5 Sep 1997 14:22:32 +0200 (MET DST) |From: Martin Kraemer <Martin.Kraemer@mch.sni.de> |Reply-To: new-httpd@apache.org |To: Apache Mailing List <new-httpd@apache.org> |Subject: [DOC] mod_auth_anon.html corrections | |The mod_auth_anon.html documentation describes the default of |the Anonymous_LogEmail and Anonymous_MustGiveEmail being "off", but in |the code, the default seems to be "on". | |The "Example" section could be improved because when used as-is, the |server returns a [500] server error (configuration error:  couldn't check |user.  No user file?). I added a comment to clarify things.
9fd43ec 	Changes to mod_log_config to allow naming of format strings. 	Format nicknames are defined with "LogFormat fmt nickname", and can 	be used with "LogFormat nickname" and "CustomLog logtarget nickname".
f2a13d8 Add CheckSpelling to list of directives
d6e1e75 Add mod_speling to the list of distributed modules
ee595be Add in mod_speling.
80e2506 Add link to mod_setenvif docs. Add placeholder for mod_unique_id. Put proxy & rewrite into alphabetic order. Note the modules which are not longer part of Apache 1.3 (mod_browser, mod_auth_msql).
45ad5df Change Module line examples into AddModule to reflect the new Configure syntax
af7cbf0 	Strongly note that the standalone FancyIndexing and IndexOptions 	directives override each other.
0adb26e Update the fin_wait_2 page to reflect the current understanding of the issues; remove the suggestion that Apache is buggy, since no bugs have been found in that code.  It now appears most likely that it is just the result of a bad interaction.  The real solution, as always, is still a timeout for FIN_WAIT_2.
7845053 PR:
961a459 	The long-awaited doc update for the conditional SSI enhancements 	(including some HTML cleanup), and some additional items for the 	new-for-1.3 page.
6007d02 	Update the list of directives for BrowserMatch*'s new location, 	add the SetEnvIf* directives, and apply Lars' fix to mod_mime.
930bdc0 	Ta-daah!  The documentation for mod_setenvif, which defines the 	SetEnvIf* and BrowserMatch* directives.  (And in time for 1.3b1, too)
1c2d5e3 PR: #1010 Submitted by:	Lars Eilebrecht <Lars.Eilebrecht@unix-ag.org> Reviewed by:	Brian Behlendorf, with a little surgery
f15ecd0 PR: Submitted by:	Martin Kraemer <Martin.Kraemer@mch.sni.de> Reviewed by:	Brian Behlendorf
4a1afa7 PR:
0b1ab0d PR: Submitted by:	Lars Eilebrecht <Lars.Eilebrecht@unix-ag.org> Reviewed by:	Brian Behlendorf
3ef95a7 PR: Submitted by:	Martin Kraemer <Martin.Kraemer@mch.sni.de>
4bac917 	Update FAQ #35 (where's the dump?) to mention the new-for-1.3 	CoreDumpDirectory directive.
2228b8d Add document explaining how Directory, Location and Files sections are merged. Based on Dean's explanation from PR#586. Link to this doc from the directive descriptions in core.html.
779a530 Attempt to clarify relationship between VirtualHost and Listen/BindAddress/Port.
f076f7a Update sample output from Configure to something more like what it generates now.
bd83b23 Update docs to reflect changes to mod_cern_meta
f8f95b0 Add warning about NT.
e5834c1 Document 'Include'
7f295dd Fix Squent typo. PR: Obtained from: Submitted by: Reviewed by:
d20b6db 	Some typos and other cleanup from Martin the doc-walloper. 	(.htaccess changes reverted to generic htaccess after some 	discussion.)
c48de3b Initial documentation for the new Configure
20afef2 PR:
491dddd 	Work around problem with mod_mime_magic by changing the name of 	the data file manual-index.cgi uses.
3fd9253 directory_walk optimization reducing the core loop from O(N*M) to O(N+M). Plus minor semantic changes.  Plus BSD fnmatch.[ch].
fabd4ab Enhanced and cleaned up the URL rewriting engine for 1.3: First the grouped parts of RewriteRule pattern matches (parenthesis!) can be accessed now via backreferences $1..$9 in RewriteConds test-against strings in addition to RewriteRules subst string. Second the grouped parts of RewriteCond pattern matches (parenthesis!) can be accessed now via backreferences %1..%9 both in following RewriteCond test-against strings and RewriteRules subst string. This provides maximum flexibility through the use of backreferences. Additionally the rewriting engine was cleaned up by putting common code to the new expand_backrefs_inbuffer() function.
d67b8f7 Add a CoreDumpDirectory directive to allow users to specify where Apache should try to core dump.
ae15353 Added link to the CGI spec from NCSA.
b0d099c Typo fixes and update FreeBSD FD_SETSIZE question.  Yes, it is quite complicated as to what works where.
b024a0d Make headerlines consistent between modules.
081bbce Fixed HTML tag which was bad in recent commit.
583d3c4 Let the user use ``RewriteCond %{...} !=""'' instead of ``RewriteCond %{...} !^$'' which is ugly and has bad performance.
a7a182a Bring mod_rewrite documentation up-to-date with recent source upgrade.
5aa06ad Document the AddModuleInfo patch.
fb2e24c mod_access overhaul.  Network/netmask and CIDR syntax.  Critical path speedups.  Forced double-reverse DNS.  Deprecate the "allow from user-agents" syntax.  "HostnameLookups double" support.
ae66c78 	Added item about the CGI/1.1 spec online locations, and some more 	text about the FreeBSD/FD_SETSIZE stuff.  (Marc has more to add 	on that particular topic. but I'd already written this - so he 	gets to correct/update my blither ;-)
85e64c8 	Add ability to sort FancyIndexed directories by the different 	column values, ascending or descending.  Also update the new 	features page with some stuff that got missed.
5f15ef3 - added answer about "missing" REMOTE_USER variable - incorporated 8 answers from the old mod_rewrite FAQ   (step 4 of the mod_rewrite gifting procedure) - adjusted the Netcraft information about number of Apache servers - fixed typos
91716ea Fix HTML mistake
a9fbb13 Change ThreadsPerChild config default from 20 to 50 to match compiled-in default.
a0fdad7 Add docs for mod_isapi
a885f51 RealPlayer update.
051e5fb Add note about Set-Cookies.
16eb9d9 Change release and debug to apacher and apached, to avoid name conflicts with VC++.
612a5b3 Create some docs on Apache for Windows. Note that some of this is tenative, and likely to change soon.
686c58a PR: 785 Submitted by:	Lars Eilebrecht <sfx@unix-ag.org>
5c251c2 A doc update from Martin Kraemer.
ec09b13 Blurb about downgrade-1.0.
ad71dd9 First draft of all the problems we know about and have worked around...
1c34d79 Update note about AIX descriptors.
a2f2679 NoProxy and ProxyDomain directives.
382ec74 Fix poor html formatting of example.  Remove <Limit> from example since it is a bad thing to suggest.
76b8e63 remove bogus : in docs
19558a0 	Add documentation for IndexOptions SuppressHTMLPreamble (and 	alphabetise the options list, too).
5a33d71 PR#862: Apache doesn't implement OnDeny.
f7067b3 PR#861: note the lack of the "optional" keyword in VirtualHost
daea21d Fix IfModule typo. Reviewed by: Submitted by: Obtained from:
02846a1 Minor cleanups.
37eceb3 Doc tweak from Ian.
dd7fd9a Fix mod_dir references.
4c413a6 Automatic indexes moved from mod_dir into mod_autoindex.  The mod_autoindex CVS files are copies of the mod_dir files so that we retain history in both places.
ad12cea 	Add a BrowserMatch for the AppletViewer user-agent that comes 	with JDK 1.0.2.
20e17b7 Enable regex support in mod_alias with AliasMatch, ScriptAliasMatch and RedirectMatch directives.
755e939 The AccessFileName directive can now take more than one file.
3b93e10 Added mod_mime_magic.
87226eb 	More HTML cleanups, retrofit of intentional <XA> tag to a no-op 	<A NAME> (thanks, Marc).  Lots of trailing blanks removed throughout. 	Small addition to the new_features_1_3 page.  Plenty of 	cleanup still to come..
af3a6b9 	Numerous HTML cleanups, largely courtesy of weblint (thanx, 	Marc!).  Also brought core.html into some H2 naming consistency, 	and cleaned up man-template.html.  Much, much more to come..
4307c94 	Correct the BODY tag's colour attributes to be in RGB values 	rather than proper colour-names (which older browsers don't 	understand).
99b3d0a Fix typos.
884fc00 	Numerous HTML cleanups, some minor rewordings and fixes of typos.
23978ca 	Add FAQ about "connection reset by peer" message.
c22ebfd Fix bogus HTML. Reviewed by: Submitted by: Obtained from:
2c97d0f HTML cleanup. Reviewed by: Submitted by: Obtained from:
44be91c HTML cleanups.  weblint is your friend, and it is even right sometimes. Reviewed by: Submitted by: Obtained from:
1abee76 	Add documentation of new syntaxes for UserDir {disable|enable}, and 	a nod in the security_tips for "UserDir disabled root".
0d38433 PR#372: EXTRA_LFLAGS was changed to EXTRA_LDFLAGS (and LFLAGS was changed to LDFLAGS) to avoid complications with lex rules in make files.
67ad3f6 Add docs for LockFile and fix a few typos. Reviewed by: Submitted by: Obtained from:
47db22f Add ListenBacklog directive to control the backlog passed to listen(). Also change the default to 511 for platforms that use an 8-bit datatype to store it.
efe6711 Provide links to descriptors.html.
593f4ef Update bind-8.1 docs in FAQ. Update known_bugs with 1.2.1 relevance. Remove some 192.168.x.x host references in known_bugs. Add note about sunos 4.x and KeepAlive off.
7802d55 	Fix up the Perl example for nph-script detection (PR#789).
903fcb9 Take 1, here's a description of the descriptors problem and solutions. Reviewed by: Submitted by: Obtained from:
b209756 	Removal of the Evil TAB Characters.
d547cd5 	Update mod_dir documentation to include IconHeight and IconWidth 	keywords for the IndexOptions directive.
0426f5e PR#657: apache doesn't recognize <Limit GET, POST>, NCSA does
e6d59dd Maybe help users a bit, I doubt it.  Consider PR#480, PR#599. Reviewed by: Submitted by: Obtained from:
59983d4 merge in Dirk's three new faq additions
fd26bf7 document linux shmget problem
3d85cf1 Submitted by:	Chuck McKenzie <charlesm@cs.wisc.edu>
f21eb24 	Clean up "premature end of headers" FAQ and add additional 	(and more common) cause description.
e89e7d5 	Removed TABs, replacing with spaces as appropriate {sigh}.
6e0bb97 	Removing inappropriate <P></P> container.
851f740 Add missing <P>.
588f1b2 	Added a semi-FAQ about why mod_info doesn't display directive 	values.  Also, lots of general cleanup.
6f57f8f Remove leftover JDK question and fix BrowserMatch string.
400e0c8 SendBufferSize is not valid in a VirtualHost, so make Apache say so.
cd73388 Add a to-fix.
c40d8ec A few corrections and additions.
86e69eb Update the summary part of mod_mime documentation to:   - not state that extensions must be given in a particular order   - mention assigning of handlers and use of info in content-negotiation   - mention effect of 'unknown' extensions
ed69756 Document AddHandler can be used with multiple extensions (like the other Add* directives). Remove <...> around AddHandler, ForceType and SetHandler syntax.
8241134 Remove an invalid compat. note about AddType only taking a single extension which must not have a dot (PR#489)
a7cae06 silly typo.  Ugh.
18089b5 Update suexec docs. Reviewed by: Ken Coar, Randy Terbush Submitted by: Jason Dour
8a14787 	Online docs appearance rework, pass 1 phase 3: module descriptions. 	This is the end of this pass for the online manual.
97829d3 	Online docs appearance rework: pass 1, phase 2 - the 	htdocs/manual/misc directory.  Colour scheme set up and 	page-top stuff centred.
6e5d24a 	Changed colours from mnemonics to #rrggbb syntax, since some 	older browsers (e.g., Mozilla 1.1) don't know the names yet.
7ff22e8 	Documentation appearance rework, pass 1, phase 1: background, 	aligning first H1 and image in the centre.  This is just the 	top-level htdocs/manual directory.  Still to do: subordinate 	directories, format normalisation (to HR or not to HR?).
bff9c87 	Fixed a Perl misteak (used "leave" instead of "last" - too 	much BLISS lately.. ;-).
c449220 	Another typo (missed this one on the first go-round).
494fe55 	Correcting various manual documentation errors and omissions.
16dacad 	Changed prompt on ISINDEX field to say "press ENTER".  Turning 	this into a GET-method form would require parsing I'd rather 	not add right now..
3423d8c 	{sigh} This script was originally designed to be part of the 	distribution.  Since it's now destined to live only at the 	WWW.Apache.Org site, some things need to be hard-coded - 	and remote development makes it a little more difficult to 	get everything right.  This fixes the "home" links in the 	context of WWW.Apache.Org.
1a2c007 	Add attributes defining text colours to make sure text and links 	are visible with our white background; also added the "home" 	link.
1cb3daf 	Correcting typo pointed out to RobH by <djm@va.pubnix.com>.
c1a4931 Updated entry for DEC tuning suggestions.
b2e9132 	Enhanced documentation of variable substitution, and moved out 	the `flow control' section to its own.  (PR#545)
98dc176 	{Sigh}  Forgot the link to the detail page.
779b4de 	Corrected FAQ about Java to reflect the latest edition of 	reality as we know it.
b635c5a Add info on IRIX patches.
ed45f39 	Corrected BrowserMatch settings for JDK 1.0.2 workaround.
e688e16 	Added documentation about use of {} in variable substitution.
6d5bc60 	Another FAQ-to-do.. footers.
bac2732 YATBD
5e3f7a2 Note that mod_status only works in standalone mode, not inetd. Addresses PR#566.
bd14b55 Add info from DeanRMoeller <dmoeller@lucent.com>, PR#466, concerning problems with accept() errors.
4ec7800 Redo 'controlling access to proxy' section, noting that Limit block is required, that Files block is required for versions < 1.2b10, and using all allowable methods in the Limit block.
40cdab1 Make note about machten problems are on 68k only.  Pointed out by Brent Holland.
1315e7c More clarification for PR#521.
ad1aef1 	Added semi-FAQ about Java JDX 1.? and Apache's HTTP/1.1 headers. 	I suspect this one's going to come up a *lot* once 1.2 is 	formally released and a substantial number of those 400,000 	servers out there upgrade..
0748b14 Clarify that the ScriptLog is opened by the child processes so permissions need to be set appropriately.  Perhaps wouldn't hurt to put an error in the error_log if it can't be opened.
1338b76 Another FAQ that should be added...
5ffde69 	Correct for Taz's Perl5 location, and likewise the location of 	the Taz index.
c286083 	New CGI script to do single-neuron searching of the online 	documentation (actually, of a pre-built index of same).
2a471c9 PR#507: TransferLog has no default. %{FOOBAR}e wasn't documented.
9e448f8 Add documentation about :port in virtualhost.  Note the necessity of using _default_:* if the user wants to match all ips on all ports.
03d41e4 	Removing some nasty TAB characters that crept in.
0acd8b2 	Added some references to Apache Wekk articles.
789e1eb 	Add Q&A about logging Referer: and User-Agent: headers.
5f66601 	Add Q&A about "why won't it build with my compiler?"
e1c24f8 	Add FAQ&A about MIDI files.
0e29cb2 	Changed <B>s to <STRONG>s, <I>s to <EM>s, brought most of the lines 	to less than 80 characters, and corrected the note about what 	characters aren't allowed in the path.
90b3300 Still more cleanups.  Thanks to linklint for this round.
12e17e7 Big spelling and HTML cleanup of docs.  Thanks go to weblint and ispell and their authors.
c15678f A few more things that could be added...
94f43a0 Avoid user confusion.
dd4da6a html-o
9f009ea Document the problem of config file errors.
1c76dd1 	Added to-do about MIDI typing (becoming a FAQ!).  Experiments 	indicate that my response to PR#514 *might* do it; if he says 	it does, it goes in here.
459a22b Add question on HPUX core dumps and a todo WRT the Satisfy directive.
9c9ce0e PR#496: clear up the docs a little bit
76fde60 Reviewed by:	Brian Behlendorf Submitted by:	"M. Teterin" <mi@ALDAN.ziplink.net>
aac2efd Clean up Linux configuration by detecting 2.x linux and enabling HAVE_SHMGET, and HAVE_SYS_RESOURCE_H.  Don't touch Linux 1.x systems for fear of various compatibility problems.  Ditch that silly hack LINUX_TWEAK that I wish I hadn't introduced.
8c4d270 Deal with EINTR while processing scoreboard file.  Fix graceful restart for scoreboard files.
428d4b5 Fix bogus URLs.
1329fb9 	Added Q&A concerning access restriction by host/domain name, 	and cleaned up a couple of nit.
0a6a45f General cleanups and modifications to a few things to make them more technically accurate, IMHO.
841269f That </STRONG> is not supposed to be there.
39bbd4c Clarify the function of Port to avoid problems like PR#459 and PR#485.
5aa8cdd Eliminate some user confusion regarding REDIRECT_*.
269abd1 Changed back to use of Directory blocks for access control. Clarified location of proxy source in 1.2. Added note that proxy is HTTP 1.0 compliant.
75969f9 Added note that Unixware 2.1.2 does not require patch ptf3123.
7ce02d4 Point things at the stopping/restarting document.
71c5c9b Document scoreboardfile lameness.
8b57fa8 Document from env=, and the initial states for the deny,allow and allow,deny orders.
8e51f4b Make a note of PR#467, the serialized accept problem.
e152262 	{Argh}  Don't you just hate it when this happens?
e2f116b 	Your basic nicely-formatted (?) list of what's in the manual/misc 	directory.
08e269d This documents graceful restarts, and the caveats associated with them.  The graceful restart code itself isn't committed yet... and so this doc won't be linked to until we commit the graceful restart code.
5979faf document how to avoid scoreboardfile
a8bfc59 	Add a "why doesn't Apache include SSL" Q&A.
6e9e7fa Clarify that the User and Group directives in VirtualHosts only apply to CGIs.
aff16a0 	Added Q&A section on "where's the dump?".
0f0b3cb 	More format cleanup.  Rename JDK link to not be 1.0.2-specific. 	Add internal comments about structure.  Add note about where 	master copy of FAQ can be found.  More to come..
3bb4649 	Added note about JDK 1.1.1 being broken, too.  Changed TABs to 	spaces.  Some CODE versus SAMP cleanup.  Some format cleanup. 	Some mispaced tag cleanup.  Exactly 1024 lines; seems like a 	good time to commit. ;->  More cleanup to follow..
d742f33 Tweak the wording about the JDK 1.0.2 problem slightly.
6c78ea9 Um, let's try that iovec again with the docs in the right part of the FAQ.
71093b2 Marc's suggestion: doc the iovec problems under linux.  Give two workarounds.
d2fec07 	Now *this* is a typo..
d5a61d1 	Update comments and add nph-script Q&A.  (BTW, "connexion" is *not* 	a typo!)
6f08ace typos
b16be3b 	Add Q&A on TCP_NODELAY error message.
31b9bd0 	A tad more cleanup, and addition of the FastCGI Q&A.
83fbd5b Satisfy not allowed in server config contexts (PR#422)
47a26d2 Question about PUT support in Apache.
9f0b377 	Added a bunch of to-do items from questions received by ApacheWeek, 	and added a Q&A about the Java JDK 1.0.2 problem with HTTP/1.1 	headers.
0172d4b In view of lack of response to patching http_core.c to handle proxy: change the access example to use <Files> block instead of <Directory>.
25afc5c 	Cleaned up some <PRE> sections to use <CODE> and <DL> instead; 	Lynx (2.7.1) wasn't indenting properly.
b75843d 	Removed the hand-edited references, now that enlightened ones 	have set my feet upon the path and I, too, can do it automagically. 	Also cleaned up some formatting for consistency, and added explicit 	".html" suffixes to links that were missing them (wouldn't work 	on servers not using negociation/multiviews).
67ff0df Forgot to mention XBitHack as a method of enabling SSI. Update docs for this directive to state it only applies to text/html files.
a6862a4 Provide information on enabling SSI files. Document how to enable SSI using a handler name, and relegate the magic mime types to back-compat. status.
ebe9c51 Fix typos
d982446 Explain Satisfy directive.
e471abc Two cookies questions
3e5eb47 Add missing >
5187591 Fix description of DirectoryIndex to explain that a directory index will only be returned if Options +Indexes is set.
6860be5 Document UnsetEnv. Fix documented syntax of SetEnv.
b1c709d Add ScoreBoardFile, add <..> to IfModule
1945d0b Add missing link targets [Martin.Kraemer@mch.sni.de]. Module is not compiled in by default. Update directive descriptions to use standard manual page format.
1d4eebb Put ClearModuleList in correct place.
b8f5b06 	More cleanup, primarily to get into a format that's equally 	usable as text (e.g., from a newsgroup) and as hypertext. 	Addition of a `references' section, and `footnotes' in a manner 	similar to _Apache Week_'s text format.
9eb29ce 	Correct typo.
0835759 Add note that Apache pre-1.2 ignores last line when final newline is missing. Apparently NCSA does not ignore the final line in this situation.
0781cb8 typo fix
4db4356 Submitted by:	Christian Nybo <chr@mediascience.no>
1cf695e Removed reference to experimental proxy.
c072c6d Add info for building under UnixWare to the 'Compiling and Installing' pages.
5aafb9b Added CacheDirLength and CacheDirLevels. Fixed link for CacheLastModifedFactor.
425a9c8 	Added semi-FAQ about "invalid group ID" during httpd startup. 	Corrected ErrorDocument 401 section to a question.  (This *is* 	a FAQ, after all ;-)
5b3bc6e A few tweaks.
315fe41 replace absurl with rel url
47fdbdb Add another one... ErrorDocument 401.
b1f303c 	Add a cross-link to the directives list from the modules list.
e11fd1f 	Update documentation to include stuff for mod_example.
0a9d9af 	Filled in the missing section about how to enable SSI.
8ec7d55 Expand the section on fd limits a bit.
39e4d64 	Enhanced section on caching of parsed documents to include info 	about XBitHack Full.
6ae4943 	Added section on CGI usage in non-ScriptAliased directories.
620d637 Update the ErrorDocument information to clarify a few things, especially the handling of 401 responses.  The example that was in the docs before would never work!  No wonder people have trouble with it...
38d1483 	One more time at getting remote CVS to send diffs.. are we 	having fun yet? :-(
1d57e28 	Do Rodents have Ridges?  One more attempt to get the diffs 	working..
26ebab9 	Added information about how to set the Content-type for 	module-generated content.
6aff6a7 Just testing whether only rodent's have problems...
45715bd 	Once more, under different circs.
f4ca134 	No-op change to see if CVS diff-ing is fixed yet.. :-(
1238c7a 	Changed <!DOCTYPE> to match other documents, and added 	revision date stuff (for dating when posted to USENET).
81eba82 Enhance the FAQ with info about "I wanna use /etc/passwd for Web authentication", and inadvertent POST restriction by omitting the method from <Limit> blocks.  (Many thanks to Rob H and Marc S for portions of the former.)
50221b7 Latest version of the Apache FAQ.  Not the ultimate, but enough for now, and somewhat improved over what's there.  More to come soon. Reviewed by:	Roy Fielding, Paul Sutton
a7420c8 Correct syntax error in Limit block. This still doesn't fix the problem, though.
58ee2c9 Fix typo in FAQ section on limiting access.
11fcb31 Fix ELF format
d018289 typo fix
ac92822 Add NCSA extended/combined log format example suggested by David Richards <dr@ripco.com>.
b1b4198 pr#190: document expense of identitycheck Reviewed by: Submitted by: Obtained from:
b63c625 Bug reporting changes to direct people to the GNATS system.
7ea56cb Spoon! Reviewed by: Submitted by: Obtained from:
a4f009f Add documentation for DNS issues (reliability and security), and try to explain the virtual host matching process.
eb20d81 Document ScoreBoardfile.  Note that PidFile is subject to security concerns as well. Reviewed by: Submitted by: Obtained from:
bc63d9c Typo.
dc7486d Add security notes about protecting /, and avoiding "UserDir ./".
db4b3e4 fix a thinko
1413f48 Added table entry placeholder for new header_parser callback in all of the distributed modules.
0a1b665 Typo.
6907d90 Clarify that mod_info uses startup-config and not running-config and note that mod_info and mod_status can be enabled from things like .htaccess files.
1d6eae8 Fix typos.
ada4999 Add a reasonably often used UserDir example that can be non-intuitive, especially since 1.1 needs the trailing slash.
d1d37fb spelling
b152920 Teeny weeny typo.
d3cf620 Add documentation for nokeepalive and force-response-1.0.
8e8309b Fix typo; add section about SOCKS 4.2/Solaris problems.
c9a6236 Add backreference to format for common log module to make it easier to find.
4e07edc Expanded the compile and install documentation. Added description of starting and stopping httpd
41a09ff Fix documentation; HostNameLookups and IdentityCheck can not be used in htaccess files and RFC931 is now RFC1413.
9322941 Reduce default timeout to 300 seconds all around.  Not reduced further because there are still likely some odd snippets of code that don't properly reset the timer.
054dc16 Fix spelling of 'authorative' to 'authoritative' and typo in mod_log_config.
b5b688e Update systems w/FIN_WAIT_2 timeout to reflect info I have received.
5aabd54 Add example with quoting that is not obvious at first.
ec51a15 Add documentation for mod_expires.
b1000e1 typo.
903f596 Fix docs typos.
e050222 Reviewed by:	Brian Behlendorf Submitted by:	"Ralf S. Engelschall" <rse@engelschall.com>
3a03f37 These two directives don't work in .htaccess currently.
b8ec47a Reviewed by:	Brian Behlendorf Submitted by:	daniel@compass-da.com
7fdd50d Reviewed by:	Brian Behlendorf Submitted by:	Nick Maclaren <nmm1@cus.cam.ac.uk>
d7c1caa Reviewed by:	Brian Behlendorf Submitted by:	Dean Gaudet
ec84f13 Reviewed by:	Marc Slemko Submitted by:	Dean Gaudet
cf930bd Fixed typos, broken links. Submitted by: Ken "the rodent of unusual size" <coar@decus.org>
5ea9107 Adjusted some of the explanations of the FIN_WAIT_2 problems to accurately reflect the current status, reasons why it occurs, and what client authors should be doing.  Also reformatted my mail message appendix so that it is applicable to a non-Apache audience.
b1e2691 Just caught my eye...
1878eaa Typos and other minor mistakes
960c197 Modify the FIN_WAIT_2 docs page to change the info on Solaris (based on information from Mukesh Kacker <mukesh.kacker@eng.sun.com>) and add info on HP-UX (based on information from Rick Jones <raj@cup.hp.com>).
9ec927d Add more information on the FIN_WAIT_2 problem.
37d7acf Reviewed by:	Brian B. Submitted by:	atlanta <mukul@Eng.Sun.COM>
88d99b4 Missing number pointed out by Mark Slemko.
b29d877 Update documentation for new KeepAlive syntax.
d0d0b0b Removed mention of FastCGI module, now that it's been removed.
bdfc10a Fix type "perm" --> "permanent".  Reported by dan.anderson@sierraclub.org
280b6e2 Cleanups, looks like a placeholder was forgotten.  Also, lines really shouldn't be more than 75 characters long, unless they need to be.
19fc9c8 Reviewed by:	Rob Hartill, Brian Behlendorf Submitted by:	David J MacKenzie <djm@va.pubnix.com>
295cd46 Add text about possible problems with ScriptLog. Also fix a spelling error.
ac087e5 Reviewed by:	Brian Behlendorf Submitted by:	John Line <webadm@info.cam.ac.uk>
c091095 Reviewed by:	Chuck Murcko, Brian Behlendorf Submitted by:	Marc Slemko
df7c9f8 Remove erroneous bit (formerly correct).
8451d01 Proxy module documentation update. Add ProxyBlock, expand NoCache and config sections.
fa03a37 Update Copyright dates.
2c9096d Add docs for HostNameLookups.
7dc4133 Update suEXEC docs to reflect recent changes.
b28c1b8 Make the path to Perl5 agree with taz.
d61de2b clanups for proxy location & protocols.
f65a674 Add reference to FIN_WAIT_2 behavior, and pointer to patch.
91e4eaf Change emphasis to agree with other docs.
76cd410 Fix misspelled link to common config topics.
d6ea184 Add additional doc for the NoCache directive.
a640d9b Update mod_proxy docs, add common topics section.
0b7d74f Update docs to reflect addition of Authoritative directive. Submitted by:	Dirk vanGulik
d9c6342 another typo/fixup.
93eb06e Small typos are the best kind!
a0f1539 Reviewed by:	Brian Behlendorf Submitted by:	John Line, WWW server manager <webadm@info.cam.ac.uk>
371a298 Reviewed by:	Brian Behlendorf Submitted by:	Martin Kraemer
9f12889 Clarify meaning of Timeout.
e71612f Reviewed by:	Brian Behlendorf Submitted by:	James Cloos
5b450d9 Expand documentation of content negotiation for Apache 1.2 including HTTP/1.1 stuff. Document the algorithm apache uses to choose a variant.
5d5ff2d Document the change in SCRIPT_NAME/PATH_INFO behavior, and the addition of FILEPATH_INFO.
519eaab More missing directives.
6b1229e Add link for missing HostNameLookups directive.
1854018 Reviewed by:	Brian Behlendorf Submitted by:	Martin Kraemer
86589df oops, there was a mention of an obsoleted directive.  Fixed.
3e6a5f4 various link surgery
e77d21f Submitted by:	suggested by Martin Kraemer <Martin.Kraemer@mch.sni.de>
e95fec6 Obtained from:  Rob Hartill,  with some stuff by Brian Behlendorf
a5ca41e Reviewed by:	Brian Behlendorf Obtained from:  Martin.Kraemer@mch.sni.de
a3b4087 Obtained from: based on comments from John Line (webadm@info.cam.ac.uk)
7ff808f Fix some typos. Make some clarifications in mod_usertrack.html (and put the directives in alphabetical order).
9a238b5 Updated last broken link in core.html, added a TODO file to help organize future work.
62b2d31 Yet another small change.
01e3f84 Miscellanous link problems reported by users, fixed.
b89fa01 Reviewed by: Submitted by: Obtained from:
83bdab5 Fix errors in directive names, and add comment about default = off.
567605a Submitted by:	Ralf Engelschall
9807c7d Another error fixed.
62c4bb2 Fixed two broken links.
5c09d4b Spelling corrections
b8b3e14 Crikey, how did this one slip by for so long?
488df6d Documentation for AddModule and ClearModuleList as supplied by Tom Tromey in his original patch. Submitted by:	Tom Tromey
31d54b5 Compatibility reported in group file syntax
1a906e9 Minor link and date updating.
37c39af Obtained from:  Cris Perdue <perdue@roguewave.com>
57a4523 Asthetics
c27ef18 More doc updates for core
94e2e08 Add missing directives
046b351 First of cut of suexec docs
2e914c9 Correct links to suexec.html
5e0a077 Relocated missing file.
b2adf7a First step to adding docs for SUEXEC. Relocate a missing file, etc.
fbef2d9 Enhance mod_browser documentation.
a9abf2d Added docs for RLimit directives.
741ec43 Fix compat notes, and make the UserDir docs to be (a) correct, and (b) to use more "friendly" expamples (hah).
5189bf1 Fix links in release notes. Also invalidate links to non-existent files, add "[Documentation to be written]" tag to them, for clarity.
8147440 Add expand.pl Perl script to expand out SSI references in the manual, so the end user doesn't need to have them turned on for .html files.
0a31e3f Fix various typos. Put directives in alphabetic order. Put <hr>'s between directives. Remove documentation about %s in ErrorDocument ". Update default MaxClients to 256.
d369777 Document Options +/- stuff. Remove duplicate what's new section about mod_headers
0cd2504 Update *_client_block documentation to match Roy's changes.
fc7588c Update Directory/Location/Files docs.
c1a02e3 Some cleanup (the directives go in ALPHABETICAL ORDER, please), plus adding of some docs that Paul Sutton sent to the list on October 10th.
f3739f5 Add docs for mod_rewrite
3f25760 Added text from Howard Fear on new functionality in 1.2's SSI.
5c93e24 Document the "Redirect [ temp | permanent | seeother | gone ] ..." format of Redirect directive.
1ce76e2 Replace magic mime type with handler name Add notes to CacheNegotiatedDocs and LanguagePriority about HTTP/1.1
843186b Document the Common Log Format Document the new % directives (p, P, T, {}n) Explain how to use multiple log files w/vhosts Expand CustomLog definition Add compat. note about CookieLog
115cb1e Add docs for files/ifmodule/sendbuffersize
aa01d70 missed two
38c5bac list undocumented core directives
8686327 Add Script* directives
a43d108 Add redirecttemp/perm directives
e8cfcaa Update mod_log_config to reflect standard status and new directive
e1bfbe4 Fix links to core.html
12ee093 Update small things in FAQ
da9bc33 fix typo
ce25d74 Link to mod_headers documentation from lists of modules and directives
7045561 Add documentation for the new headers module (mod_headers)
babb438 Add new httpd options, change inetd wording, fix links to module files
0f951f4 Change installation documentation to 1.2's way of doing it but keep link to the old stuff for people not using the beta
43e2e45 Add more missing modules that are in 1.2
345db77 Add missing and changed modules
3448d5d Another massive sweep, adding SSI header/footer combos.
7f6ff2b Moved "directives" to modules subdir.
3af317e Added headers/footers for these files.  Fixed some typos.  Started removing old latex stuff.
7bea48f Added SSI headers and footers to all documents.  HTML-ized the vif-info doc.
743ffa0 Added SSI headers and footers to each level.
a12e8b3 Images for headers and footers.
65692a1 Realized "misc" was better than "info" to describe this subdir.  Yeah, I know, I apologize.
a4fa27a Moved these files back, as they are related to day to day operations.
4701b62 Moved a few more files into info/.
7f251c4 Added gunk from old "auth_dbm.html" describing some implementation issues.  This so we can nuke auth_dbm.html, which really doesn't have a home... also fixed some minor typos.
359ae80 Moved core.html and modules.html to appropriate places in mod/
b2ab672 Moving files to mod/
2ada593 New manual setup. This is the current docs for all versions of the server merged into a single manual.
71aa134 Added a test index.html file and an image to a default htdocs directory to ease new user installations.
db68a0c New repository initialized by cvs2svn.
